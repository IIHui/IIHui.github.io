<search>
    
     <entry>
        <title>Hugo Next ä¸»é¢˜</title>
        <url>https://iihui.github.io/post/hugo-next/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>hugo</tag><tag>next</tag>
        </tags>
        <content type="html">  ä»å…°é™µå­å¤„ä¸‹è½½äº†Nextä¸»é¢˜ï¼Œä¿®æ”¹äº†ä¸»é¢˜ä¸‹é¢çš„config.tomlé…ç½®æ–‡ä»¶(é…ç½®æ–‡ä»¶çš„è·¯å¾„å¦‚ä¸‹å›¾æ‰€ç¤º)ã€‚ä½†å‘ç°æœ‰å¾ˆå¤šåœ°æ–¹è¿˜æ˜¯éœ€è¦ä¿®æ”¹æ‰èƒ½æ»¡è¶³è‡ªå·±çš„éœ€æ±‚ï¼Œå› ä¸ºå¯¹å‰ç«¯äº†è§£è¾ƒå°‘ï¼Œæ•…ä»¥æ­¤ä¸ºè®°ã€‚
 ä»£ç é«˜äº®æ”¯æŒ æ’å…¥Golangã€Swiftå’ŒOCä»£ç æ®µæ—¶å‘ç°å¹¶ä¸èƒ½æ­£å¸¸é«˜äº®ï¼ŒæŸ¥èµ„æ–™å‘ç°æ˜¯Nextä¸»é¢˜é»˜è®¤ä¸æ”¯æŒè¿™å‡ ç§è¯­è¨€çš„è¯­æ³•é«˜äº®ï¼Œå› æ­¤éœ€è¦åœ¨~/Desktop/mweb/themes/next/layouts/partialsç›®å½•ä¸‹head.htmlä¸­çš„&amp;lt;/head&amp;gt;å‰æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š
&amp;lt;!-- add by cxh --&amp;gt; &amp;lt;link href=&amp;#34;https://cdn.bootcss.com/highlight.js/9.12.0/styles/monokai-sublime.min.css&amp;#34; rel=&amp;#34;stylesheet&amp;#34;&amp;gt; &amp;lt;script src=&amp;#34;https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js&amp;#34;&amp;gt;&amp;lt;/script&amp;gt; &amp;lt;script src=&amp;#34;https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/go.min.js&amp;#34;&amp;gt;&amp;lt;/script&amp;gt; &amp;lt;script src=&amp;#34;https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/swift.min.js&amp;#34;&amp;gt;&amp;lt;/script&amp;gt; &amp;lt;script src=&amp;#34;https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js&amp;#34;&amp;gt;&amp;lt;/script&amp;gt; &amp;lt;script src=&amp;#34;https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/kotlin.min.js&amp;#34;&amp;gt;&amp;lt;/script&amp;gt; &amp;lt;script&amp;gt;hljs.initHighlightingOnLoad();&amp;lt;/script&amp;gt; æ·»åŠ åº•éƒ¨å£°æ˜ é»˜è®¤æƒ…å†µä¸‹åº•éƒ¨çš„åˆ›ä½œå…±äº«ä»¥åŠå¾®ä¿¡æ‰“èµç æ˜¯æ²¡æœ‰çš„ï¼Œä¸ºäº†æ˜¾ç¤ºï¼Œé¦–å…ˆå¿…é¡»ä¿®æ”¹widgetä¸‹çš„weixin.htmlï¼š
&amp;lt;div class=&amp;#34;post-nav&amp;#34;&amp;gt; &amp;lt;div style=&amp;#34;border: 1px dashed #e0e0e0; padding: 10px 10px 10px 10px; background-color: #fffeee; background-repeat: no-repeat; background-attachment: scroll; background-position: 1% 50%; -moz-background-size: auto auto; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;&amp;#34;&amp;gt; &amp;lt;div style=&amp;#34;float:left;margin-top:0px;&amp;#34;&amp;gt; &amp;lt;img src=&amp;#34;https://i.loli.net/2018/12/16/5c15cbd7f2b61.jpg&amp;#34; width=&amp;#34;128px&amp;#34; height=&amp;#34;128px&amp;#34;/&amp;gt; &amp;lt;div style=&amp;#34;text-align:center;&amp;#34;&amp;gt;è°¢è°¢æ”¯æŒ!&amp;lt;/div&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;div&amp;gt; &amp;lt;p style=&amp;#34;margin-top:10px;&amp;#34;&amp;gt; æ ‡é¢˜ï¼š{{ .Title }} &amp;lt;br /&amp;gt;ä½œè€…ï¼šé˜¿å‘†&amp;lt;a target=&amp;#34;_blank&amp;#34; href=&amp;#34;/&amp;#34;&amp;gt;{{ .Site.Author.name }}&amp;lt;/a&amp;gt; &amp;lt;!-- &amp;lt;br /&amp;gt;å…³æ³¨ï¼šandy_SHui --&amp;gt; &amp;lt;br /&amp;gt;åœ°å€ï¼š{{ .Permalink }} &amp;lt;br /&amp;gt;å£°æ˜ï¼šè‡ªç”±è½¬è½½-éå•†ç”¨-ä¿æŒç½²åï¼ˆåˆ›ä½œå…±äº«3.0è®¸å¯è¯ï¼‰ &amp;lt;/p&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;div class=&amp;#34;clear&amp;#34;&amp;gt;&amp;lt;/div&amp;gt; &amp;lt;/div&amp;gt; ç„¶ååœ¨single.htmlä¸­æ·»åŠ  {{ partial &amp;quot;widgets/weixin.html&amp;quot; .}}ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
ç»è¿‡ä¸Šé¢çš„ä¸¤æ­¥éª¤ï¼Œå°±å¯ä»¥å¾—åˆ°å¦‚ä¸‹æ•ˆæœï¼š
åˆ é™¤æ–‡ç« åˆ—è¡¨ä¹‹é—´çš„æ¨ªçº¿ Nextä¸»é¢˜é»˜è®¤é¦–é¡µæ–‡ç« åˆ—è¡¨ä¹‹é—´æœ‰æ¡æ¨ªçº¿ï¼Œçœ‹ç€è§‰å¾—æŒºåˆ«æ‰­çš„ï¼Œæ‰¾äº†ä¸€ä¸‹èµ„æ–™ï¼Œå‘ç°å¯ä»¥åœ¨/static/css/main.cssæ–‡ä»¶ä¸­å°†.posts-expand .post-eofä¸­çš„heightè®¾ä¸º0ï¼Œå°±å¯ä»¥å°†å…¶éšè—ï¼š
.posts-expand .post-eof { display: block; margin: 50px auto 10px; width: 100%; height: 0px; background: #ccc; text-align: center; } ä¿®æ”¹æ–‡ç« çš„ä¿¡æ¯ é»˜è®¤æ–‡ç« çš„ä¿¡æ¯å±•ç¤ºå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ä½†æ˜¯æˆ‘æƒ³æ”¹æˆä¸‹é¢è¿™æ ·ï¼š
é¦–å…ˆåœ¨zh.yamlä¸­åšå¦‚ä¸‹ä¿®æ”¹ï¼š
- id: Time translation: åˆ›å»º - id: TimeUpdated translation: æ›´æ–° - id: View translation: å­—æ•° - id: ReadMore translation: é˜…è¯»å…¨æ–‡ - id: ViewTime translation: æ—¶é•¿ - id: ReadingTime translation: &amp;#34;{{ .ReadingTime }} åˆ†é’Ÿ&amp;#34; - id: NumberOfText translation: &amp;#34;{{ .WordCount }}å­—&amp;#34; ç„¶ååœ¨readtime.htmlä¸­åšå¦‚ä¸‹ä¿®æ”¹ï¼š
&amp;lt;span&amp;gt; &amp;amp;nbsp; | &amp;amp;nbsp; &amp;lt;span class=&amp;#34;post-meta-item-icon&amp;#34;&amp;gt; &amp;lt;i class=&amp;#34;fa fa-file-word-o&amp;#34;&amp;gt;&amp;lt;/i&amp;gt; &amp;lt;/span&amp;gt; &amp;lt;span class=&amp;#34;post-meta-item-text&amp;#34;&amp;gt;{{ i18n &amp;#34;View&amp;#34; }}{{ i18n &amp;#34;Colon&amp;#34;}}&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;#34;leancloud-visitors-count&amp;#34;&amp;gt;{{ i18n &amp;#34;ReadingCount&amp;#34; .}}&amp;lt;/span&amp;gt; &amp;amp;nbsp; | &amp;amp;nbsp; &amp;lt;span class=&amp;#34;post-meta-item-icon&amp;#34;&amp;gt; &amp;lt;i class=&amp;#34;fa fa-coffee&amp;#34;&amp;gt;&amp;lt;/i&amp;gt; &amp;lt;/span&amp;gt; &amp;lt;span class=&amp;#34;post-meta-item-text&amp;#34;&amp;gt;{{ i18n &amp;#34;ViewTime&amp;#34; }}{{ i18n &amp;#34;Colon&amp;#34;}}&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;#34;leancloud-visitors-count&amp;#34;&amp;gt;{{ i18n &amp;#34;ReadingTime&amp;#34; .}}&amp;lt;/span&amp;gt; &amp;lt;/span&amp;gt; ä¿®æ”¹å·¦ä¾§èœå•æ çš„é¡ºåº è°ƒæ•´[[Menu.Main]]ä¸‹çš„æƒé‡å€¼weightå°±å¯ä»¥ä¿®æ”¹å·¦ä¾§èœå•æ çš„é¡ºåºï¼š
[[Menu.Main]] Name = &amp;#34;é¦–é¡µ&amp;#34; Pre = &amp;#34;home&amp;#34; URL = &amp;#34;/&amp;#34; Weight = 1 [[Menu.Main]] Name = &amp;#34;æ ‡ç­¾&amp;#34; Pre = &amp;#34;tag&amp;#34; URL = &amp;#34;/tags/&amp;#34; Weight = 2 [[Menu.Main]] Name = &amp;#34;å½’æ¡£&amp;#34; Pre = &amp;#34;archive&amp;#34; URL = &amp;#34;/post/&amp;#34; Weight = 3 [[Menu.Main]] Name = &amp;#34;ç¾é£Ÿ&amp;#34; Pre = &amp;#34;fire&amp;#34; #tint URL = &amp;#34;/categories/ç¾é£Ÿ/&amp;#34; Weight = 4 [[Menu.Main]] Name = &amp;#34;åæœŸ&amp;#34; Pre = &amp;#34;edit&amp;#34; URL = &amp;#34;/categories/åæœŸ/&amp;#34; Weight = 5 [[Menu.Main]] Name = &amp;#34;æ—…è¡Œ&amp;#34; Pre = &amp;#34;leaf&amp;#34; URL = &amp;#34;/categories/æ—…è¡Œ/&amp;#34; Weight = 6 [[Menu.Main]] Name = &amp;#34;å…³äº&amp;#34; Pre = &amp;#34;user&amp;#34; URL = &amp;#34;/about/&amp;#34; Weight = 7 æ–‡ç« å±•ç¤ºç›®å½• Hugoå±•ç¤ºç›®å½•éœ€è¦åœ¨æ–‡ç« å¼€å¤´æ·»åŠ toc = trueï¼š
--- title: Hugo next ä¸»é¢˜é—®é¢˜ date: 2020-02-07 11:27:41 tags: [hugo,tool] categories: [code] toc: true --- é¦–é¡µå±•ç¤ºæ–‡ç« æ•°ç›®è®¾ç½® é¦–é¡µå±•ç¤ºçš„æ–‡ç« æ•°ç›®å¯ä»¥åœ¨themes/next/config.tomlä¸­è®¾ç½®Paginateå­—æ®µï¼š
é¦–é¡µæ‘˜è¦å­—æ•°è®¾ç½® é¦–é¡µæ‘˜è¦çš„å­—æ•°è®¾ç½®å¿…é¡»åœ¨åŒthemesåŒçº§çš„config.tomlä¸­è®¾ç½®ï¼š
summaryLength = 100 #æ”¾åœ¨åŒthemesåŒçº§çš„config.tomlä¸Šæ‰æœ‰æ•ˆ æ–‡ç« ç½®é¡¶è®¾ç½® æƒ³è¦æŠŠæ–‡ç« ç½®é¡¶ï¼Œéœ€è¦åœ¨æ–‡ç« å¤´éƒ¨è®¾ç½®weight,å¦‚ä¸‹æ‰€ç¤ºï¼š
--- title: é™ˆå°å¨ä½œå“é›† date: 2020-02-03 13:28:05 tags: [ç¾é£Ÿ] categories: [ç¾é£Ÿ] weight: 1 toc: true --- æ•ˆæœå¦‚ä¸‹å›¾ï¼š
è®¾ç½®ä»H1å¼€å§‹æ˜¾ç¤ºæ–‡ç« ç›®å½• ä¸çŸ¥é“ä»ä»€ä¹ˆæ—¶å€™å¼€å§‹Hugoä»h2ç”Ÿæˆtocï¼Œä¸ºäº†è®¾ç½®ä»h1å¼€å§‹ç”Ÿæˆtocï¼Œéœ€è¦è®¾ç½®å…¨å±€çš„config.toml(å³è·ŸthemesåŒçº§çš„config.toml)ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
[markup] [markup.tableOfContents] endLevel = 4 startLevel = 1  ä½¿ç”¨KaTexæ¸²æŸ“å…¬å¼ å› ä¸ºMarkdownä¸­çš„ä¸‹åˆ’çº¿å’Œlatexå…¬å¼é‡Œçš„ä¸‹åˆ’çº¿å†²çªï¼Œå¯¼è‡´Hugoä¸­latexå…¬å¼é‡Œçš„ä¸‹æ ‡æ€»æ˜¯æ¸²æŸ“ä¸å‡ºæ¥ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œçœ‹ç€å¾ˆä¸èˆ’æœï¼š
ä½¿ç”¨Katexæ¥æ¸²æŸ“å…¬å¼å¯ä»¥è¾¾åˆ°æ­£å¸¸çš„æ•ˆæœï¼š
é¦–å…ˆè¿›åˆ°ä¸»é¢˜ç›®å½•ä¸‹çš„layouts/partialsç›®å½•ï¼Œæ–°å»ºä¸€ä¸ªåä¸ºkatex.htmlæ–‡ä»¶ï¼š
katex.htmlæ–‡ä»¶çš„å†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼š
&amp;lt;!DOCTYPE html&amp;gt; &amp;lt;html lang=&amp;#34;en&amp;#34;&amp;gt; &amp;lt;!-- CSS File --&amp;gt; &amp;lt;head&amp;gt; &amp;lt;meta charset=&amp;#34;UTF-8&amp;#34;&amp;gt; &amp;lt;link rel=&amp;#34;stylesheet&amp;#34; href=&amp;#34;https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/katex.min.css&amp;#34; integrity=&amp;#34;sha384-D&#43;9gmBxUQogRLqvARvNLmA9hS2x//eK1FhVb9PiU86gmcrBrJAQT8okdJ4LMp2uv&amp;#34; crossorigin=&amp;#34;anonymous&amp;#34;&amp;gt; &amp;lt;!-- JS Fle --&amp;gt; &amp;lt;script defer src=&amp;#34;https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/katex.min.js&amp;#34; integrity=&amp;#34;sha384-483A6DwYfKeDa0Q52fJmxFXkcPCFfnXMoXblOkJ4JcA8zATN6Tm78UNL72AKk&#43;0O&amp;#34; crossorigin=&amp;#34;anonymous&amp;#34;&amp;gt;&amp;lt;/script&amp;gt; &amp;lt;/head&amp;gt; &amp;lt;body&amp;gt; &amp;lt;/body&amp;gt; &amp;lt;/html&amp;gt; ç„¶ååœ¨layouts/partialsç›®å½•ä¸‹çš„header.htmlä¸‹æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š
{{ if .Params.katex}}{{ partial &amp;#34;katex.html&amp;#34; . }}{{ end }} æœ€ååœ¨éœ€è¦æ¸²æŸ“å…¬å¼çš„æ–‡ç« å¤´éƒ¨ï¼Œæ·»åŠ katex: trueï¼š
--- title: çº¿æ€§è¡¨ date: 2018-04-25T20:52:42&#43;08:00 tags: [ç®—æ³•] categories: [ç®—æ³•] toc: true katex: true --- å‚è€ƒèµ„æ–™
</content>
    </entry>
    
     <entry>
        <title>Ruby åŸºç¡€</title>
        <url>https://iihui.github.io/post/ruby-base/</url>
        <categories>
          <category>ruby</category>
        </categories>
        <tags>
          <tag>ruby</tag>
        </tags>
        <content type="html">  æœ€è¿‘åšç»„ä»¶çš„æºç å’ŒäºŒè¿›åˆ¶åˆ‡æ¢æ—¶é‡åˆ°ä¸€äº›é—®é¢˜ï¼Œåœ¨æŸ¥èµ„æ–™æ—¶å‘ç°äº†cocoapods-imy-binè¿™ä¸ªæ’ä»¶ï¼Œæ‰“ç®—ä»¥è¿™ä¸ªæ’ä»¶ä¸ºåŸºç¡€è¿›è¡Œæ”¹é€ ï¼Œå†™ä¸€ä¸ªé€‚åˆè‡ªå·±ä¸šåŠ¡åœºæ™¯çš„æ’ä»¶ã€‚ä½†ä¹‹å‰æœªæ¥è§¦rubyå’Œcocoapodsæ’ä»¶å¼€å‘ï¼Œè¿™ç¯‡æ–‡ç« æ˜¯ä¸€ç‚¹å­¦ä¹ ç¬”è®°ï¼Œæ–¹ä¾¿åç»­æŸ¥é˜…ã€‚
 è°ƒè¯•ç¯å¢ƒ åœ¨Macä¸Šä½¿ç”¨RubyMineè¿›è¡Œè°ƒè¯•rubyç¨‹åºå‰éœ€è¦å…ˆå®‰è£…debaseå’Œruby-debug-ideã€‚æŒ‰ç…§æç¤ºå®‰è£…æ—¶ä¸€ç›´å¤±è´¥ï¼Œæç¤ºå¦‚ä¸‹æŠ¥é”™ä¿¡æ¯ï¼š
Failed to Install Gems. Following gems were not installed: /Applications/RubyMine.app/Contents/plugins/ruby/rb/gems/debase-2.3.2.gem: Error installing debase-2.3.2.gem: ERROR: Failed to build gem native extension. current directory: /Users/hui/.gem/ruby/2.6.0/gems/debase-2.3.2/exto /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/bin/ruby -I /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0 -r ./siteconf20210116-5397-1jtpnju.rb extconf.rb /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/universal-darwin20/rbconfig.rb:229: warning: Insecure world writable dir /usr/local/opt in PATH, mode 040777 checking for vm_core.h... no checking for vm_core.h... no ************************************************************************** No source for ruby-2.6.3-p62 (revision 67580) provided with debase-ruby_core_source gem. Falling back to ruby-2.6.0-p0. ************************************************************************** chec... (show balloon) æŸ¥é˜…èµ„æ–™ï¼Œå‘ç°è§£å†³ä¸Šé¢æŠ¥é”™é—®é¢˜æœ‰ä¸¤ç§æ–¹æ¡ˆï¼Œä½†æœ¬è´¨ä¸Šéƒ½æ˜¯å®‰è£…éš”ç¦»çš„é«˜ç‰ˆæœ¬rubyï¼Œç„¶åå†åœ¨RubyMineä¸­å®‰è£…å¯¹åº”ç‰ˆæœ¬çš„debaseä»¥åŠruby-debug-ideã€‚
Homebrew ç¬¬ä¸€ç§æ–¹å¼æ˜¯ä½¿ç”¨Homebrewå®‰è£…é«˜ç‰ˆæœ¬rubyï¼Œå³ç”¨å‘½ä»¤brew install rubyã€‚å¦‚æœå®‰è£…è¿‡ç¨‹ä¸­æœ‰å¦‚ä¸‹æ‰€ç¤ºçš„æŠ¥é”™ä¿¡æ¯ï¼š
Error: Could not find an SDK that supports macOS 11.0. You may have have an outdated or incompatible CLT. Homebrew found the following SDKs in the CLT install: 10.14 10.15 Please update CLT or uninstall it if no updates are available. éœ€è¦å…ˆæ›´æ–°homebrewï¼Œå³ç”¨brew updateå‘½ä»¤ã€‚ç„¶åå†ç”¨brew install rubyæˆ–è€…brew upgrade rubyå‘½ä»¤æ›´æ–°rubyï¼Œæ¥ç€åœ¨RubyMineè®¾ç½®é‡Œçš„Ruby SDK and Gemsä¸­æ·»åŠ æ–°å®‰è£…çš„ruby ï¼š
é€‰æ‹©New localï¼ŒæŠŠæ–°ç‰ˆæœ¬rubyã€Œç›®å½•ä¸º/usr/local/Cellar/ruby/3.0.0_1/bin/rubyã€åŠ åˆ°Ruby SDK and Gemsä¸­ã€‚ç„¶ååœ¨è°ƒè¯•å‰æ›´æ”¹é…ç½®ï¼Œé€‰æ‹©æ–°å®‰è£…çš„rubyï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
å‚è€ƒèµ„æ–™
RVM å¦ä¸€ç§æ–¹æ¡ˆæ˜¯åˆ©ç”¨rvmå®‰è£…é«˜ç‰ˆæœ¬çš„rubyï¼Œå³å…ˆç”¨curl -sSL https://get.rvm.io | bash -s stableå‘½ä»¤å®‰è£…rvmï¼Œå¦‚æœçœ‹åˆ°å¦‚ä¸‹ä¿¡æ¯ï¼Œè¡¨æ˜å®‰è£…å·²ç»æˆåŠŸï¼š
Adding rvm PATH line to /Users/hui/.profile /Users/hui/.mkshrc /Users/hui/.bashrc /Users/hui/.zshrc. Adding rvm loading line to /Users/hui/.profile /Users/hui/.bash_profile /Users/hui/.zlogin. Installation of RVM in /Users/hui/.rvm/ is almost complete: * To start using RVM you need to run `source /Users/hui/.rvm/scripts/rvm` in all your open shell windows, in rare cases you need to reopen all shell windows. Thanks for installing RVM ğŸ™ Please consider donating to our open collective to help us maintain RVM. ğŸ‘‰ Donate: https://opencollective.com/rvm/donate å¦‚æœåœ¨å®‰è£…è¿‡ç¨‹ä¸­å‡ºç°curl: (7) Failed to connect to raw.githubusercontent.com port 443: Connection refusedè¿™æ ·çš„é”™è¯¯ä¿¡æ¯ï¼Œåˆ™è¯´æ˜DNSè§£æè¢«æ±¡æŸ“ï¼Œå¯¼è‡´DNSè§£æè¿‡ç¨‹æ— æ³•é€šè¿‡åŸŸåå–å¾—æ­£ç¡®çš„IPåœ°å€ã€‚
è¿™å°±éœ€è¦å…ˆåˆ°ipaddressä¸ŠæŸ¥è¯¢raw.githubusercontent.comå¯¹åº”çš„IPåœ°å€ã€‚ç„¶åå€ŸåŠ©SwitchHostsä¿®æ”¹hostæ–‡ä»¶ä¸­raw.githubusercontent.comå¯¹åº”çš„IPåœ°å€ï¼Œä½¿å¾—è¯·æ±‚raw.githubusercontent.comæ—¶ï¼Œç›´æ¥å»è¯·æ±‚ç›¸åº”çš„IPåœ°å€ï¼Œè€Œä¸å†èµ°DNSè§£æè¿‡ç¨‹ã€‚å…·ä½“æ“ä½œçœ‹è¿™é‡Œã€‚
æ¥ç€æ ¹æ®æç¤ºï¼Œä½¿ç”¨source ~/.rvm/scripts/rvmå‘½ä»¤ã€Œå…·ä½“è·¯å¾„æ ¹æ®æç¤ºã€å¯ç”¨rvmã€‚ç„¶åä½¿ç”¨rvm install &amp;quot;ruby-2.7.2&amp;quot;å‘½ä»¤å®‰è£…é«˜ç‰ˆæœ¬rubyã€‚
å®‰è£…æˆåŠŸåï¼Œä½¿ç”¨rvm use 2.7.2å‘½ä»¤å¯ç”¨æ–°å®‰è£…çš„rubyã€‚å› ä¸ºï¼Œç”¨gemå®‰è£…çš„å·¥å…·éƒ½å¤„äºgemçš„ç®¡ç†ä¹‹ä¸‹ï¼Œè€Œgemæ˜¯rubyæ ‡å‡†åº“çš„ä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥åˆ‡æ¢äº†rubyç‰ˆæœ¬ä¹‹åï¼Œå¯¹åº”çš„gemä¹Ÿå°±éšä¹‹åˆ‡æ¢äº†ã€‚é‚£ä¹ˆä¹‹å‰ä½¿ç”¨gemå®‰è£…çš„åŒ…ï¼Œä¾‹å¦‚cocoapods,xcprettyç­‰éƒ½ä¼šéšä¹‹åˆ‡æ¢ï¼Œæ‰€ä»¥ä¹‹å‰å®‰è£…çš„å·¥å…·éƒ½éœ€è¦é‡æ–°å®‰è£…ã€‚
æ¥ç€åœ¨RubyMineä¸­æ·»åŠ ruby 2.7.2ï¼Œè·¯å¾„ä¸º~/.rvm/rubies/ruby-2.7.2/bin/rubyï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
æ¥ç€ï¼Œç‚¹å‡»è°ƒè¯•æŒ‰é’®ï¼ŒæŒ‰ç…§æç¤ºå®‰è£…debaseå’Œruby-debug-ideï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼Œç­‰å¾…å®‰è£…å®Œæ¯•ï¼Œå°±å¯ä»¥æ‰“æ–­ç‚¹è°ƒè¯•rubyç¨‹åºäº†ï¼š
å‚è€ƒèµ„æ–™
æ’ä»¶è°ƒè¯• å‡†å¤‡æºç  ä¸ºäº†è°ƒè¯•cocopodså’Œcocoapods-imy-binæ’ä»¶ï¼Œé¦–å…ˆéœ€è¦ä¸‹è½½ç›¸åº”çš„æºç ã€‚å…ˆåˆ›å»ºä¸€ä¸ªç›®å½•bundleã€Œåå­—å¯ä»¥éšæ„ã€ï¼Œç„¶ååœ¨è¯¥ç›®å½•ä¸‹ä½¿ç”¨ä¸‹é¢å‘½ä»¤è·å–CocoaPodsä»“åº“ä¸­tagä¸º1.10.1ç‰ˆæœ¬çš„æºç ï¼š
git clone -b 1.10.1 https://github.com/CocoaPods/CocoaPods.git æ¥ç€åœ¨ç›¸åŒç›®å½•ä¸‹ï¼Œä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤è·å–cocoapods-imy-binæ’ä»¶tagä¸º0.3.1.3çš„æºç ï¼š
git clone -b 0.3.1.3 https://github.com/MeetYouDevs/cocoapods-imy-bin.git æ¥ç€åœ¨åŒçº§ç›®ä¸‹åˆ›å»ºGemfileæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹æ‰€ç¤ºã€‚åœ¨Gemfileæ–‡ä»¶ä¸­ï¼Œsourceæ˜¯ä¸‹è½½çš„æºï¼Œgem xxxé»˜è®¤æ˜¯ä»æºä»“åº“ä¸‹è½½ï¼Œå½“æŒ‡å®špathè¡¨ç¤ºæŒ‡å‘æœ¬åœ°æºç ï¼š
source &amp;#39;https://rubygems.org&amp;#39; gem &amp;#39;cocoapods&amp;#39; , :path =&amp;gt; &amp;#34;./CocoaPods&amp;#34; gem &amp;#39;cocoapods-imy-bin&amp;#39; , :path =&amp;gt; &amp;#34;./cocoapods-imy-bin&amp;#34; group :debug do gem &amp;#39;ruby-debug-ide&amp;#39; gem &amp;#39;debase&amp;#39; end å®‰è£…ä¾èµ– åœ¨è°ƒè¯•æŸä¸ªgemåº“çš„æ—¶å€™ï¼Œä¸ºäº†ä¸å½±å“å·²ç»å®‰è£…çš„ä¾èµ–ï¼Œåœ¨å®‰è£…ä¾èµ–çš„æ—¶å€™ï¼Œæœ€å¥½æ˜¯å®‰è£…åˆ°å½“å‰æ–‡ä»¶å¤¹ä¸‹çš„æ‰§è¡Œç›®å½•ä¸­ã€‚å¯¹äºrubyçš„ä¾èµ–åŒ…ç®¡ç†å·¥å…·bundleï¼Œå¦‚æœé…ç½®äº†configæ–‡ä»¶ï¼Œå°±å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­å£°æ˜å®‰è£…ç›®å½•ã€‚å› æ­¤ï¼Œåœ¨åŒçº§ä¸‹åˆ›å»º.bundleç›®å½•ï¼Œå†åœ¨.bundleç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶configï¼Œå†…å®¹å¦‚ä¸‹ï¼š
BUNDLE_PATH: &amp;#34;vendor/bundle&amp;#34; æœ€åå›åˆ°Gemfileæ‰€åœ¨ç›®å½•ï¼Œæ‰§è¡Œbundle installï¼Œå°†ä¼šæŠŠGemfileæ–‡ä»¶ä¸­æ‰€å£°æ˜çš„ä¾èµ–å®‰è£…åˆ°vendor/bundleç›®å½•ä¸‹ã€‚
å‚è€ƒèµ„æ–™
å¼€å§‹è°ƒè¯• ä½¿ç”¨RubyMineæ‰“å¼€Gemfileæ‰€åœ¨çš„çˆ¶ç›®å½•bundleã€‚ç„¶åç‚¹å‡»æ·»åŠ é…ç½®ï¼Œåœ¨Gem nameä¸­è¾“å…¥cocoapods-imy-binï¼Œåœ¨Executable nameä¸­è¾“å…¥podï¼Œåœ¨Argumentsä¸­è¾“å…¥bin initã€‚æ¥ç€ï¼Œå†åœ¨bundleç›®å½•ä¸‹åˆ›å»ºdemoç›®å½•ï¼Œç„¶ååœ¨demoåˆ›å»ºPodfileï¼Œæ¥ç€åœ¨Working directoryä¸­é€‰æ‹©demoç›®å½•ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
å¦‚æœåœ¨è°ƒè¯•çš„æ—¶å€™ï¼Œé‡åˆ°å¦‚ä¸‹ç±»ä¼¼çš„æŠ¥é”™ä¿¡æ¯ï¼Œåˆ™è¯´æ˜éœ€è¦é‡æ–°å®‰è£…å¯¹åº”çš„ä¾èµ–ï¼Œä½¿ç”¨gem install xxxå®‰è£…å³å¯ã€‚
Uncaught exception: can&amp;#39;t find gem cocoapods (&amp;gt;= 0.a) with executable pod å‚è€ƒèµ„æ–™ å‚è€ƒèµ„æ–™ å‚è€ƒèµ„æ–™
åˆ›å»ºæ–°æ’ä»¶ å‚è€ƒèµ„æ–™ å‚è€ƒèµ„æ–™
åŸºç¡€çŸ¥è¯† ç®€ä»‹ æ‰€æœ‰çš„Rubyæ–‡ä»¶æ‰©å±•åéƒ½æ˜¯.rbã€‚åœ¨rubyä»£ç ä¸­ï¼Œç©ºç™½å­—ç¬¦ä¸€èˆ¬éƒ½ä¼šè¢«å¿½ç•¥ï¼Œè€Œå­—ç¬¦ä¸²ä¸­çš„ç©ºç™½å­—ç¬¦ä¸ä¼šè¢«å¿½ç•¥ã€‚
Rubyé»˜è®¤ä½¿ç”¨ASCIIæ¥è¯»æºç ï¼Œå¦‚æœåœ¨ä»£ç ä¸­ç›´æ¥ä½¿ç”¨ä¸­æ–‡ä¼šæŠ¥é”™ï¼Œéœ€è¦åœ¨æ–‡ä»¶å¼€å¤´åŠ å…¥# -*- coding: UTF-8 -*-ã€‚
åœ¨Rubyä¸­å•è¡Œæ³¨é‡Šä»¥#å¼€å¤´ï¼Œç›´åˆ°è¯¥è¡Œç»“æŸã€‚å¤šè¡Œæ³¨é‡Šä»¥=beginå¼€å¤´ï¼Œä»¥=endç»“æŸï¼š
=begin è¿™æ˜¯ä¸€ä¸ªå¤šè¡Œæ³¨é‡Šã€‚ å¯æ‰©å±•è‡³ä»»æ„æ•°é‡çš„è¡Œã€‚ ä½† =begin å’Œ =end åªèƒ½å‡ºç°åœ¨ç¬¬ä¸€è¡Œå’Œæœ€åä¸€è¡Œã€‚ =end # å•è¡Œæ³¨é‡Š å˜é‡ åœ¨Rubyä¸­ï¼Œå˜é‡ä¸éœ€è¦æå‰å£°æ˜ï¼Œä¸ºå˜é‡èµ‹åˆå€¼æ—¶ä¼šè‡ªåŠ¨åˆ›å»ºã€‚ä¾‹å¦‚ï¼Œa = 300 ä¼šåˆ›å»ºä¸€ä¸ªåä¸ºaçš„å˜é‡ï¼Œå¹¶å°†300å­˜å‚¨åœ¨è¯¥å˜é‡ä¸­ã€‚
Rubyå˜é‡å¯ä»¥å®¹çº³ä»»ä½•ç±»å‹çš„æ•°æ®ï¼Œç”šè‡³å¯ä»¥å¯¹ä¸€ä¸ªå·²ç»å®šä¹‰çš„å˜é‡ï¼Œæ›´æ”¹å…¶æ•°æ®ç±»å‹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
b = &amp;#34;test&amp;#34; puts b b = 233 puts b å‘½å Rubyä¸­å˜é‡åçš„é£æ ¼åå¥½ï¼šä½¿ç”¨å°å†™å­—æ¯ï¼Œä»¥ä¸‹åˆ’çº¿è¿æ¥ï¼Œä¸ä½¿ç”¨ç¼©å†™ï¼Œä¸ä»¥æ•°å­—å¼€å¤´ï¼Œä»¥å†…å®¹çš„å«ä¹‰å‘½åã€‚
ä½œç”¨åŸŸ å‚è€ƒèµ„æ–™
å­—ç¬¦ä¸² Rubyä¸­å­—ç¬¦ä¸²åˆ†ä¸ºå•å¼•å·å’ŒåŒå¼•å·å­—ç¬¦ä¸²ï¼ŒåŒºåˆ«åœ¨äºåŒå¼•å·å­—ç¬¦ä¸²èƒ½å¤Ÿæ”¯æŒæ›´å¤šçš„è½¬ä¹‰å­—ç¬¦ã€‚å³åœ¨åŒå¼•å·æ‹¬èµ·æ¥çš„å­—ç¬¦ä¸²ä¸­ï¼Œè½¬ä¹‰å­—ç¬¦ä¼šè¢«è§£æã€‚è€Œåœ¨å•å¼•å·æ‹¬èµ·æ¥çš„å­—ç¬¦ä¸²ä¸­ï¼Œè½¬ä¹‰å­—ç¬¦å¤šæ•°ä¸ä¼šè¢«è§£æï¼ŒåŸºæœ¬æŒ‰ç…§åŸæ ·è¾“å‡ºã€‚
å•å¼•å· å¦‚æœéœ€è¦åœ¨å•å¼•å·å­—ç¬¦ä¸²ä¸­ä½¿ç”¨å•å¼•å·ï¼Œå¿…é¡»ä½¿ç”¨è½¬ä¹‰å­—ç¬¦ï¼Œä¾‹å¦‚&#39;Won\&#39;t you read O\&#39;Reilly\&#39;s book?&#39;
Rubyä¸­è¿˜æ”¯æŒä¸€ç§é‡‡ç”¨%qæ¥å¼•å¯¼çš„å­—ç¬¦ä¸²ï¼ˆå•å¼•å·å¼•ç”¨è§„åˆ™ï¼‰ï¼Œåé¢ç´§è·Ÿ !,{,[,|,&amp;lt;çš„å¼€å§‹å®šç•Œç¬¦ï¼Œæœ€åä»¥!,},],|,&amp;gt;ç»“å°¾çš„å®šç•Œç¬¦ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
puts %q! test ! puts %q{ test } puts %q[ test ] puts %q| test | puts %q&amp;lt; test &amp;gt; åŒå¼•å· åœ¨åŒå¼•å·æ‹¬èµ·æ¥çš„å­—ç¬¦ä¸²ä¸­ï¼Œè½¬ä¹‰å­—ç¬¦ä¼šè¢«è§£æã€‚è€Œåœ¨å•å¼•å·æ‹¬èµ·æ¥çš„å­—ç¬¦ä¸²ä¸­ï¼Œè½¬ä¹‰å­—ç¬¦å¤šæ•°ä¸ä¼šè¢«è§£æï¼ŒåŸºæœ¬æŒ‰ç…§åŸæ ·è¾“å‡ºã€‚
Rubyä¸­è¿˜æ”¯æŒä¸€ç§é‡‡ç”¨%Qæ¥å¼•å¯¼çš„å­—ç¬¦ä¸²ï¼ˆåŒå¼•å·å¼•ç”¨è§„åˆ™ï¼‰ï¼Œåé¢ç´§è·Ÿ !,{,[,|çš„å¼€å§‹å®šç•Œç¬¦ï¼Œæœ€åä»¥!,},],|ç»“å°¾çš„å®šç•Œç¬¦ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
name = &amp;#34;hello&amp;#34; puts %Q! test #{name} ! puts %Q{ test #{name}} puts %Q[ test #{name}] puts %Q| test #{name} | puts %Q&amp;lt; test #{name}&amp;gt; heredoc å‚è€ƒèµ„æ–™
è¿ç®—ç¬¦  &amp;lt;= åˆ¤æ–­å·¦æ“ä½œæ•°çš„å€¼æ˜¯å¦å°äºæˆ–è€…ç­‰äºå³æ“ä½œæ•°çš„å€¼ï¼Œå¦‚æœæ˜¯åˆ™æ¡ä»¶ä¸ºçœŸã€‚ &amp;gt;= åˆ¤æ–­å·¦æ“ä½œæ•°çš„å€¼æ˜¯å¦å¤§äºæˆ–è€…ç­‰äºå³æ“ä½œæ•°çš„å€¼ï¼Œå¦‚æœæ˜¯åˆ™æ¡ä»¶ä¸ºçœŸã€‚ &amp;lt;=&amp;gt; è”åˆæ¯”è¾ƒç¬¦ï¼Œå¦‚æœå·¦è¾¹æ“ä½œæ•°ç­‰äºå³è¾¹æ“åšæ•°ï¼Œåˆ™è¿”å›0ï¼Œå¦‚æœå·¦è¾¹æ“ä½œæ•°å¤§äºå³è¾¹æ“ä½œæ•°ï¼Œåˆ™è¿”å›1ï¼Œå¦åˆ™è¿”å›-1ã€‚ and ä¸ &amp;amp;&amp;amp; å‡ä¸ºå’Œï¼ŒåŒºåˆ«æ˜¯andä¼˜å…ˆçº§æ¯”&amp;amp;&amp;amp;ä½ã€‚ or ä¸ ||å‡ä¸ºæˆ–ï¼ŒåŒºåˆ«æ˜¯å‰è€…çš„ä¼˜å…ˆçº§ä½äºåè€…ã€‚ not ä¸ !å‡ä¸ºéï¼ŒåŒºåˆ«æ˜¯å‰è€…çš„ä¼˜å…ˆçº§ä½äºåè€…ã€‚ &amp;amp;&amp;amp;çš„è¿ç®—æ³•åˆ™æ˜¯å·¦è¾¹ä¸ºfalseæˆ–è€…nilæ—¶ï¼Œç›´æ¥è¿”å›falseæˆ–nilï¼Œå³è¾¹å°†ä¸ä¼šè¢«è¿ç®—ï¼›å¦åˆ™è¿”å›å³è¾¹çš„å¯¹è±¡ã€‚ ||çš„è¿ç®—æ³•åˆ™æ˜¯å·¦è¾¹ä¸ºfalseæˆ–è€…nilæ—¶ï¼Œè¿”å›å³è¾¹çš„å¯¹è±¡ï¼›å¦åˆ™è¿”å›å·¦è¾¹çš„å¯¹è±¡ï¼Œå³è¾¹å°†ä¸ä¼šè¢«è¿ç®—ã€‚  def current_user @current_user ||= session[:user_id] &amp;amp;&amp;amp; User.find(session[:user_id]) end def current_user if @current_user return @current_user else if session[:user_id] @current_user = User.find(session[:user_id]) else @current_user = nil end return @current_user end end å‚è€ƒèµ„æ–™ å‚è€ƒèµ„æ–™
è·³å‡ºä½œç”¨åŸŸ å‚è€ƒèµ„æ–™
æ¨¡å—  æ¨¡å—å®šä¹‰äº†ä¸€ä¸ªå‘½åç©ºé—´ï¼Œç›¸å½“äºä¸€ä¸ªæ²™ç›’ï¼ŒæŠŠæ–¹æ³•ã€ç±»å’Œå¸¸é‡ç»„åˆåœ¨ä¸€èµ·ï¼Œåœ¨é‡Œé¢çš„æ–¹æ³•ï¼Œå¸¸é‡ï¼Œç±»éƒ½ä¸ä¼šä¸å…¶ä»–åœ°æ–¹çš„å¸¸é‡å†²çªã€‚
 æ¨¡å—ä¸­å¸¸é‡çš„å‘½åå’Œç±»å¸¸é‡å‘½åç›¸ä¼¼ï¼Œä»¥å¤§å†™å­—æ¯å¼€å¤´ã€‚å¯ä»¥ä½¿ç”¨æ¨¡å—åç§°å’Œä¸¤ä¸ªå†’å·æ¥å¼•ç”¨ä¸€ä¸ªå¸¸é‡ã€‚
require requireç±»ä¼¼äºC&#43;&#43;ä¸­çš„includeæˆ–è€…Javaä¸­çš„importè¯­å¥ã€‚å¦‚æœç¨‹åºä¸­æƒ³ä½¿ç”¨å·²ç»å®šä¹‰çš„æ¨¡å—ï¼Œå¯ä»¥ä½¿ç”¨require filenameæ¥å¼•ç”¨ã€‚
æ•°ç»„ åœ¨Rubyä¸­ï¼Œç´¢å¼•ä¸º-1è¡¨ç¤ºæ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œ-2è¡¨ç¤ºå€’æ•°ç¬¬äºŒä¸ªå…ƒç´ ï¼Œä¾æ¬¡ç±»æ¨ã€‚æ•°ç»„ä¸éœ€è¦æŒ‡å®šå¤§å°ï¼Œå½“å‘æ•°ç»„æ·»åŠ å…ƒç´ æ—¶ï¼ŒRubyæ•°ç»„ä¼šè‡ªåŠ¨å¢é•¿ã€‚å¯¹äºæ•°ç»„å¯ä»¥ä½¿ç”¨countæˆ–sizeæˆ–lengthå¾—åˆ°æ•°ç»„é•¿åº¦ã€‚
names = Array.new(20) puts names.count, names.length names = Array.new(4,&amp;#34;test&amp;#34;) puts &amp;#34;#{names}&amp;#34; nums = Array.new(10) { |e| e = e * 2 } puts &amp;#34;#{nums}&amp;#34; nums = Array(0..9) puts &amp;#34;#{nums}&amp;#34; nums = Array[11,23,45] puts &amp;#34;#{nums}&amp;#34; nums = Array.[](88,99,1120,89,457,783) puts &amp;#34;#{nums}&amp;#34; nums = Array.new nums.append(56) puts &amp;#34;#{nums}&amp;#34; å“ˆå¸Œ Rubyä¸­çš„å“ˆå¸Œç±»ä¼¼äºå…¶ä»–è¯­è¨€ä¸­çš„å­—å…¸ã€‚å¯ä»¥ä½¿ç”¨newæ¥åˆ›å»ºå¸¦é»˜è®¤å€¼çš„å“ˆå¸Œï¼Œå½“è®¿é—®æœ‰é»˜è®¤å€¼çš„å“ˆå¸Œä¸­çš„é”®æ—¶ï¼Œå¦‚æœé”®æˆ–å€¼ä¸å­˜åœ¨æ—¶ï¼Œå°†è¿”å›é»˜è®¤å€¼ã€‚æ²¡æœ‰é»˜è®¤å€¼çš„å“ˆå¸Œï¼Œè®¿é—®çš„é”®æˆ–å€¼ä¸å­˜åœ¨æ—¶ï¼Œå°†è¿”å›nilã€‚
months = Hash.new(&amp;#34;month&amp;#34;) puts months[&amp;#34;test&amp;#34;] months = Hash.new &amp;#34;Test&amp;#34; puts months[&amp;#34;name&amp;#34;] åœ¨Rubyä¸­å¯ä»¥ä»»ä½•å¯¹è±¡ä½œä¸ºé”®æˆ–è€…å€¼ï¼Œç”šè‡³å¯ä»¥ä½¿ç”¨æ•°ç»„ï¼š
hash = Hash[&amp;#34;a&amp;#34; =&amp;gt; 12, &amp;#34;b&amp;#34; =&amp;gt; &amp;#34;test&amp;#34;] puts &amp;#34;#{hash[&amp;#39;a&amp;#39;]}#{hash[&amp;#39;b&amp;#39;]}&amp;#34; #12 test hash[[1,&amp;#34;josn&amp;#34;]] = &amp;#34;json&amp;#34; puts hash #{&amp;#34;a&amp;#34;=&amp;gt;12, &amp;#34;b&amp;#34;=&amp;gt;&amp;#34;test&amp;#34;, [1, &amp;#34;josn&amp;#34;]=&amp;gt;&amp;#34;json&amp;#34;} ç±» attr_accessorå‚è€ƒ å‚è€ƒèµ„æ–™
 å‚è€ƒèµ„æ–™ å‚è€ƒèµ„æ–™
</content>
    </entry>
    
     <entry>
        <title>å±æ€§åŒ…è£…</title>
        <url>https://iihui.github.io/post/ios-propertywrapper/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html">  å±æ€§åŒ…è£…å™¨@propertyWrapperçš„ä½œç”¨å¯¹è±¡æ˜¯å±æ€§ã€‚å®ƒçš„æ€æƒ³æ˜¯åªå¯ä»¥é€šè¿‡wrappedValueçš„get setæ–¹æ³•æ¥è®¿é—®å±æ€§ï¼Œè¿™æ ·å°±å¯ä»¥é€šè¿‡get setæ¥å¯¹å±æ€§è¿›è¡ŒåŒ…è£…ã€‚
 ä½¿ç”¨ å±æ€§åŒ…è£…å™¨propertyWrapperæ˜¯Swift 5.1å¼•å…¥ï¼Œä½¿ç”¨æ—¶å¿…é¡»æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶ã€‚ç¬¬ä¸€ï¼Œå¿…é¡»ä½¿ç”¨å±æ€§@propertyWrapperã€‚ç¬¬äºŒï¼Œå¿…é¡»å…·æœ‰wrapppedValueå±æ€§ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªæœ€ç®€å•çš„å±æ€§åŒ…è£…å™¨ï¼š
@propertyWrapper struct Wrapper&amp;lt;T&amp;gt; { var wrappedValue: T } struct TestWrapper { @Wrapper var x: Int @Wrapper var y = 12 @Wrapper(wrappedValue: 34) var z } func test() { let test1 = TestWrapper(x: 100) print(test1.x, test1.y, test1.z) let test2 = TestWrapper(x: 34, y: 45, z: Wrapper(wrappedValue: 89)) print(test2.x,test2.y,test2.z) } åœ¨å±æ€§åŒ…è£…å™¨ä¸­ï¼Œå¯ä»¥æä¾›é¢å¤–çš„åŠŸèƒ½ï¼Œæ­¤æ—¶å¯ä»¥é€šè¿‡åœ¨å˜é‡åå‰åŠ ä¸‹åˆ’çº¿æ¥è®¿é—®åŒ…è£…å™¨ç±»å‹ï¼š
@propertyWrapper struct Wrapper&amp;lt;T&amp;gt; { var wrappedValue: T func foo(){ print(&amp;#34;foo&amp;#34;) } } struct TestWrapper { @Wrapper var x: Int @Wrapper var y = 12 @Wrapper(wrappedValue: 34) var z func foo(){ _x.foo() } } func test() { let test1 = TestWrapper(x: 100) print(test1.x, test1.y, test1.z) let test2 = TestWrapper(x: 34, y: 45, z: Wrapper(wrappedValue: 89)) print(test2.x,test2.y,test2.z) test1.foo() test2.foo() } ä¸Šé¢çš„_xæ˜¯åŒ…è£…å™¨çš„å®ä¾‹ï¼Œä»å¤–éƒ¨ä½¿ç”¨å®ƒä¼šäº§ç”Ÿç¼–è¯‘é”™è¯¯ï¼Œå› ä¸ºå®ƒé»˜è®¤æ˜¯privateè®¿é—®çº§åˆ«ã€‚å¯ä»¥å®šä¹‰projectionå±æ€§ï¼Œå› ä¸ºä½¿ç”¨projectedValueæ—¶æ²¡æœ‰é™åˆ¶ï¼š
@propertyWrapper struct Wrapper&amp;lt;T&amp;gt; { var wrappedValue: T var projectedValue: Wrapper&amp;lt;T&amp;gt; { return self } func foo(){ print(&amp;#34;foo&amp;#34;) } } struct TestWrapper { @Wrapper var x: Int @Wrapper var y = 12 @Wrapper(wrappedValue: 34) var z func foo(){ _x.foo() $x.foo() //ä¸èƒ½ä½¿ç”¨x.foo() print(x,_x,$x) //ä¸‰ç§æ–¹å¼è®¿é—®åŒ…è£…å™¨ } } func test() { let test1 = TestWrapper(x: 100) print(test1.x, test1.y, test1.z) let test2 = TestWrapper(x: 34, y: 45, z: Wrapper(wrappedValue: 89)) print(test2.x,test2.y,test2.z) test1.foo() test2.foo() test1.$x.foo() test2.$x.foo() } é‡å¤ ä½¿ç”¨@propertyWrapperå¯ä»¥å‡å°‘é‡å¤ä»£ç ã€‚æˆ‘ä»¬é€šå¸¸ä½¿ç”¨UserDefaultsæ¥ä¿å­˜å¼•å¯¼é¡µæ˜¯å¦å·²ç»æ˜¾ç¤ºè¿‡ï¼Œå¦‚æœæ²¡æœ‰@propertyWrapperæ—¶ï¼Œä¸€èˆ¬ä½¿ç”¨å¦‚ä¸‹æ‰€ç¤ºä»£ç ï¼š
extension UserDefaults { public enum Keys { static let hasDisplayedGuideView = &amp;#34;has_Displayed_guide_view&amp;#34; } var hasDisplayedGuideView: Bool { get { return bool(forKey: Keys.hasDisplayedGuideView) } set { set(newValue, forKey: Keys.hasDisplayedGuideView) } } } func showGuide() { let hasDisplayed = UserDefaults.standard.hasDisplayedGuideView if hasDisplayed { // æ˜¾ç¤ºå¼•å¯¼é¡µ UserDefaults.standard.hasDisplayedGuideView = false } } å¦‚æœéœ€è¦å†æ·»åŠ å¦ä¸€ä¸ªå¼•å¯¼é¡µï¼Œåˆ™éœ€è¦é‡å¤ä¸Šé¢çš„ä»£ç ã€‚å¦‚æœä½¿ç”¨@propertyWrapperï¼Œå¯ä»¥å‡å°‘ä¸Šé¢çš„é‡å¤ä»£ç ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
@propertyWrapper struct UserDefault&amp;lt;T&amp;gt; { let key: String let defaultValue: T init(key: String, defaultValue: T) { self.key = key self.defaultValue = defaultValue } var wrappedValue: T { get { return UserDefaults.standard.object(forKey: key) as? T ?? defaultValue } set { UserDefaults.standard.set(newValue, forKey: key) } } } enum UserDefaultConfig { @UserDefault(key: &amp;#34;speech_guide&amp;#34;, defaultValue: false) static var speechGuide: Bool @UserDefault(key: &amp;#34;note_guide&amp;#34;, defaultValue: false) static var noteGuide: Bool } func testGuide() { UserDefaultConfig.speechGuide = false UserDefaultConfig.noteGuide = true } Codeable /// for codable @available(swift 5.1) @propertyWrapper struct UserDefaultJsonWrapper&amp;lt;T: Codable&amp;gt; { var key: String var defaultValue: T! var wrappedValue: T { get { guard let jsonString = UserDefaults.standard.string(forKey: key) else { return defaultValue } guard let jsonData = jsonString.data(using: .utf8) else { return defaultValue } guard let value = try? JSONDecoder().decode(T.self, from: jsonData) else { return defaultValue } return value } set { let encoder = JSONEncoder() guard let jsonData = try? encoder.encode(newValue) else { return } let jsonString = String(bytes: jsonData, encoding: .utf8) UserDefaults.standard.set(jsonString, forKey: key) } } init(key: String, defaultValue: T! = nil) { self.key = key self.defaultValue = defaultValue } } åŸå­å±æ€§ é™æ€ç¼“å­˜ç±»ç›¸å…³å˜é‡ï¼ˆç±»å˜é‡æˆ–è€…ç»“æ„ä½“ä¸­å«æœ‰ç±»å˜é‡ï¼‰ï¼Œæ•°ç»„ï¼Œå­—å…¸å‡æ˜¯å¤šçº¿ç¨‹ä¸å®‰å…¨çš„ï¼Œä¸ºäº†è§£å†³çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œå¯ä»¥åˆ©ç”¨Swiftæä¾›çš„propertyWrapperæ¥åŒ…è£¹ä»£ç ï¼Œå®šä¹‰åŸå­å±æ€§ï¼š
@propertyWrapper public struct Atomic&amp;lt;Value&amp;gt; { private var value: Value private var lock: os_unfair_lock //è‡ªæ—‹é” public init(wrappedValue value: Value) { self.value = value lock = os_unfair_lock.init() } public var wrappedValue: Value { mutating get { return read() } set { write(newValue: newValue) } } mutating func read() -&amp;gt; Value { os_unfair_lock_lock(&amp;amp;self.lock) defer { os_unfair_lock_unlock(&amp;amp;self.lock) } return value } mutating func write(newValue: Value) { os_unfair_lock_lock(&amp;amp;self.lock) defer { os_unfair_lock_unlock(&amp;amp;self.lock) } value = newValue } } å‚è€ƒèµ„æ–™
æµ‹è¯• static func testDemo(){ let group = DispatchGroup() let models:[MoConfigItemModel] = [MoConfigItemModel(),MoConfigItemModel()] for _ in 0..&amp;lt;2000 { let delaySet = TimeInterval(arc4random() % 10); group.enter() DispatchQueue.global().asyncAfter(deadline: .now() &#43; delaySet) { self.desktopConfigItems = models group.leave() } let delaySetNil = TimeInterval(arc4random() % 10); group.enter() DispatchQueue.global().asyncAfter(deadline: .now() &#43; delaySetNil) { self.desktopConfigItems.append(MoConfigItemModel()) group.leave() } let delayGet = TimeInterval(arc4random() % 10) group.enter() DispatchQueue.global().asyncAfter(deadline: .now() &#43; delayGet) { let _ = self.allConfigItems group.leave() } } let success = group.wait(timeout: .now() &#43; 12) if success == .success { print(&amp;#34;test&amp;#34;) } }  </content>
    </entry>
    
     <entry>
        <title>KSCrash</title>
        <url>https://iihui.github.io/post/ios-kscrash/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html">  KSCrashæ˜¯iOSçŸ¥åçš„crashæ”¶é›†æ¡†æ¶ã€‚æ€»å…±åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼ŒCrash Recordingï¼ŒCrash Reportingä»¥åŠInstallationã€‚å…¶ä¸­Installationç”¨æ¥å¯åŠ¨KSCrashï¼Œå¹¶ä¸”æŒ‡å®šCrashæ”¶é›†çš„æ–¹å¼ã€‚Crashæ”¶é›†æ–¹å¼åŒ…æ‹¬ï¼šé‚®ä»¶KSCrashInstallationEmailï¼Œå‘è‡ªå®šä¹‰æœåŠ¡å™¨å‘é€KSCrashInstallationStandardï¼Œéšå¼æ”¶é›†KSCrashInstallationHockeyå’ŒKSCrashInstallationQuincyï¼Œåœ¨æ§åˆ¶å°è¾“å‡ºå´©æºƒæ—¥å¿—KSCrashInstallationConsoleã€Œä¸»è¦ç”¨äºæµ‹è¯•ã€ã€‚
 é‚®ä»¶å‘é€å´©æºƒæ—¥å¿— import KSCrash class CrashReporterService { static var shared = CrashReporterService() private let emailAddress = &amp;#34;xiaohui.sysu@qq.com&amp;#34; func startCrashReport() { let installation = KSCrashInstallationEmail.sharedInstance() installation?.recipients = [emailAddress] installation?.subject = &amp;#34;Crash Report&amp;#34; installation?.message = &amp;#34;This is a crash report&amp;#34; installation?.filenameFmt = &amp;#34;crash-report-%d.crash.gz&amp;#34; installation?.reportStyle = KSCrashEmailReportStyleApple // KSCrash.sharedInstance()?.deleteBehaviorAfterSendAll = KSCDeleteOnSucess installation?.addConditionalAlert(withTitle: &amp;#34;Crash Detected&amp;#34;, message: &amp;#34;The app crashed last time it was launched. Send a crash report?&amp;#34;, yesAnswer: &amp;#34;Sure!&amp;#34;, noAnswer: &amp;#34;No thanks&amp;#34;) installation?.install() installation?.sendAllReports { (reports, completed, error) -&amp;gt; Void in if completed, let count = reports?.count { print(&amp;#34;Sent \(count)reports&amp;#34;) } else if let msg = error?.localizedDescription { print(&amp;#34;Failed to send reports: \(msg)&amp;#34;) } } } } å‚è€ƒèµ„æ–™ å‚è€ƒèµ„æ–™
</content>
    </entry>
    
     <entry>
        <title>UISceneä¸èƒ½ä½¿ç”¨UIAlertView</title>
        <url>https://iihui.github.io/post/ios-uiscene/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html">  ä»Šå¤©æµ‹è¯•KSCrashæ—¶ä½¿ç”¨XCode 12.3æ–°å»ºäº†ä¸€ä¸ªå·¥ç¨‹ï¼Œå†™äº†æµ‹è¯•ä»£ç ä¹‹åæŠ¥UIAlertView is deprecated and unavailable for UIScene based applications, please use UIAlertControlleré”™è¯¯ï¼Œç„¶åå‚ç…§stackoverä¸Šçš„å›ç­”ï¼Œè§£å†³äº†æŠ¥é”™é—®é¢˜ã€‚
 ç¬¬ä¸€æ­¥ è§£å†³è¿™ä¸ªé—®é¢˜çš„æ ¸å¿ƒå°±æ˜¯è¦åˆ é™¤UISceneç›¸å…³çš„ä¿¡æ¯ï¼Œä¸»è¦åˆ†ä¸ºå››æ­¥ã€‚é¦–å…ˆåˆ é™¤å·¥ç¨‹ä¸­çš„SceneDelegate.swiftæ–‡ä»¶ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
ç¬¬äºŒæ­¥ ç„¶ååœ¨AppDelegate.swiftä¸­åˆ é™¤UISceneä¸­ç›¸å…³çš„ä»£ç ï¼Œå³åˆ é™¤ä¸‹é¢ä¸¤ä¸ªå‡½æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
func application(_ application: UIApplication, configurationForConnecting connectingSceneSession: UISceneSession, options: UIScene.ConnectionOptions) -&amp;gt; UISceneConfiguration { // Called when a new scene session is being created. // Use this method to select a configuration to create the new scene with. return UISceneConfiguration(name: &amp;#34;Default Configuration&amp;#34;, sessionRole: connectingSceneSession.role) } func application(_ application: UIApplication, didDiscardSceneSessions sceneSessions: Set&amp;lt;UISceneSession&amp;gt;) { // Called when the user discards a scene session. // If any sessions were discarded while the application was not running, this will be called shortly after application:didFinishLaunchingWithOptions. // Use this method to release any resources that were specific to the discarded scenes, as they will not return. } ç¬¬ä¸‰æ­¥ æ¥ç€åœ¨AppDelegate.swiftä¸­æ·»åŠ var window: UIWindow?ï¼Œä¹Ÿå°±è¡¥å›åŸæœ¬åœ¨SceneDelegate.swiftä¸­çš„var window: UIWindow?ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
ç¬¬å››æ­¥ æœ€ååœ¨Info.plistæ–‡ä»¶ä¸­åˆ é™¤Application Scene Manifestè¿™ä¸€é¡¹ï¼Œç„¶åæ¸…é™¤å·¥ç¨‹çš„ç¼“å­˜ï¼Œå†ç¼–è¯‘å°±ä¸ä¼šæŠ¥é”™ï¼š
 </content>
    </entry>
    
     <entry>
        <title>Shell å¸¸ç”¨å‘½ä»¤</title>
        <url>https://iihui.github.io/post/shell-base/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html">  æœ¬æ–‡è®°å½•å·¥ä½œä¸­ç”¨çš„shellå‘½ä»¤ï¼Œä»¥ä¾¿ä¸‹æ¬¡ä½¿ç”¨çš„æ—¶å€™æŸ¥é˜…ã€‚
 è½¯é“¾æ¥ åˆ›å»º ln ~/.cocoapods/repos-art/CocoaPods-cmb ~/.cocoapods/repos åˆ é™¤ unlink cocoaPods-github </content>
    </entry>
    
     <entry>
        <title>Python åŸºç¡€</title>
        <url>https://iihui.github.io/post/python-base/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html"> å­—ç¬¦ä¸² åœ¨pythonä¸­ï¼Œç”¨å¼•å·æ‹¬èµ·æ¥çš„éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œå…¶ä¸­çš„å¼•å·å¯ä»¥æ˜¯å•å¼•å·ï¼Œä¹Ÿå¯ä»¥æ˜¯åŒå¼•å·ã€‚å¯¹äºå­—ç¬¦ä¸²ï¼Œtitle()å‡½æ•°ä»¥é¦–å­—æ¯å¤§å†™çš„æ–¹å¼æ˜¾ç¤ºæ¯ä¸ªå•è¯ï¼›upper()å‡½æ•°å°†å­—ç¬¦ä¸²å…¨éƒ¨è½¬ä¸ºå¤§å†™ï¼›lower()å‡½æ•°å°†å­—ç¬¦ä¸²å…¨éƒ¨è½¬ä¸ºå°å†™ã€‚
lstrip()å‡½æ•°åˆ é™¤å­—ç¬¦ä¸²å‰é¢çš„ç©ºç™½ç¬¦ï¼›rstrip()å‡½æ•°åˆ é™¤å­—ç¬¦ä¸²æœ€åçš„ç©ºç™½ç¬¦ï¼›strip()å‡½æ•°åˆ é™¤å­—ç¬¦ä¸²å¼€å¤´å’Œç»“å°¾çš„ç©ºç™½ç¬¦ã€‚
printè¯­å¥ åœ¨python2ä¸­printä¸æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè€Œåœ¨python 3ä¸­å®ƒæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå› æ­¤æ‹¬å·å¿…ä¸å¯å°‘ã€‚åœ¨python2ä¸­å¯ä»¥æŠŠå˜é‡ç”¨æ‹¬å·æ‹¬èµ·æ¥ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥åƒpython3ä¸€æ ·ä½¿ç”¨print()ï¼Œä½†ä¸python3çš„å‡½æ•°è°ƒç”¨å®Œå…¨ä¸ä¸€æ ·ã€‚åœ¨Python3ä¸­èƒ½ä½¿ç”¨help(print)æ¥æŸ¥çœ‹æ–‡æ¡£ï¼Œåœ¨Python2ä¸­ä¸è¡Œã€‚æ­¤å¤–ï¼Œåœ¨Python3ä¸­ä½¿ç”¨printèƒ½æ›´æ–¹ä¾¿çš„é‡å®šå‘ï¼Œè€ŒPython2ä¸­è¦ä½¿ç”¨ç±»ä¼¼C&#43;&#43;é£æ ¼çš„é‡å®šå‘ï¼š
with open(&amp;#39;print.txt&amp;#39;, &amp;#39;w&amp;#39;) as f: print(&amp;#39;hello, python!&amp;#39;, file = f) with open(&amp;#39;print.txt&amp;#39;, &amp;#39;w&amp;#39;) as f: print &amp;gt;&amp;gt; f, &amp;#39;hello, python!&amp;#39; å‚è€ƒèµ„æ–™ã€‚
åˆ—è¡¨ åˆ—è¡¨ç”±ä¸€ç³»åˆ—æŒ‰ç‰¹å®šé¡ºåºæ’åˆ—çš„å…ƒç´ ç»„æˆï¼Œåœ¨Pythonä¸­ï¼Œç”¨æ–¹æ‹¬å·[]æ¥è¡¨ç¤ºåˆ—è¡¨ï¼Œå¹¶ç”¨é€—å·æ¥åˆ†éš”å…¶ä¸­çš„å…ƒç´ ã€‚
è´Ÿæ•°ç´¢å¼• Pythonä¸­é€šè¿‡å°†ç´¢å¼•æŒ‡å®šä¸º-1ï¼Œå¯è®©Pythonè¿”å›æœ€åä¸€ä¸ªåˆ—è¡¨å…ƒç´ ï¼Œè¿™ç§æ–¹å¼ä¹Ÿé€‚ç”¨äºå…¶ä»–è´Ÿæ•°ç´¢å¼•ã€‚ä¾‹å¦‚ï¼Œç´¢å¼•-2è¿”å›å€’æ•°ç¬¬äºŒä¸ªåˆ—è¡¨å…ƒç´ ï¼Œ ç´¢å¼•-3è¿”å›å€’æ•°ç¬¬ä¸‰ä¸ªåˆ—è¡¨å…ƒç´ ï¼Œä»¥æ­¤ç±»æ¨ã€‚
å¢åˆ æ”¹ åœ¨åˆ—è¡¨æœ«å°¾æ·»åŠ å…ƒç´ ä½¿ç”¨appendå‡½æ•°ï¼Œå¦‚æœè¦åœ¨æŒ‡å®šä½ç½®æ’å…¥å…ƒç´ å¯ä»¥ä½¿ç”¨insertå‡½æ•°ã€‚ä¾‹å¦‚motorcycles.insert(0, &#39;ducati&#39;)æ˜¯åœ¨ç´¢å¼•0å¤„æ·»åŠ å…ƒç´ ã€‚
motorcycles.append(&amp;#39;test&amp;#39;) motorcycles.insert(0, &amp;#39;ducati&amp;#39;) å¦‚æœçŸ¥é“è¦åˆ é™¤å…ƒç´ åœ¨åˆ—è¡¨ä¸­çš„ä½ç½®ï¼Œå¯ä»¥ä½¿ç”¨deleteå‡½æ•°ï¼Œä¾‹å¦‚del motorcycles[0]å¯ä»¥åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚
å¦‚æœæƒ³è¦åˆ é™¤å…ƒç´ å¹¶è·å–å®ƒçš„å€¼å¯ä»¥ä½¿ç”¨popå‡½æ•°ã€‚ä¸å¸¦å‚æ•°çš„pop()å‡½æ•°å¯åˆ é™¤åˆ—è¡¨æœ«å°¾çš„å…ƒç´ ï¼Œå¹¶èƒ½è¿”å›æœ€åä¸€ä¸ªå…ƒç´ çš„å€¼ã€‚å¦‚æœè¦åˆ é™¤åˆ—è¡¨ä¸­å›½å‘¢ä»»ä½•ä½ç½®çš„å…ƒç´ ï¼Œå¯ä»¥åœ¨æ‹¬å·ä¸­æŒ‡å®šè¦åˆ é™¤å…ƒç´ çš„ç´¢å¼•ã€‚
last_owned = motorcycles.pop() print(&amp;#34;The last motorcycle I owned was a &amp;#34; &#43; last_owned.title() &#43; &amp;#34;.&amp;#34;) first_owned = motorcycles.pop(0) print(&amp;#39;The first motorcycle I owned was a &amp;#39; &#43; first_owned.title() &#43; &amp;#39;.&amp;#39;) å¦‚æœä¸çŸ¥é“è¦åˆ é™¤å…ƒç´ åœ¨åˆ—è¡¨ä¸­çš„ç´¢å¼•ï¼Œå¯ä»¥ä½¿ç”¨removeå‡½æ•°ï¼Œä½†æ˜¯å®ƒåªä¼šåˆ é™¤ç¬¬ä¸€ä¸ªæŒ‡å®šçš„å€¼ï¼Œå¦‚æœè¦åˆ é™¤å…¨éƒ¨å…ƒç´ ï¼Œéœ€è¦å€ŸåŠ©forå¾ªç¯ã€‚
å¦‚æœè¦æ”¹å˜åˆ—è¡¨çš„å€¼ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨èµ‹å€¼çš„æ–¹æ³•ï¼Œå¦‚motorcycles[0] = &#39;test&#39;ã€‚æ–¹æ³•sortæ°¸ä¹…æ€§çš„ä¿®æ”¹äº†åˆ—è¡¨å…ƒç´ çš„é¡ºåºã€‚å¦‚æœæƒ³è¦ä¸´æ—¶æ’åºå¯ä»¥ä½¿ç”¨sortedå‡½æ•°ã€‚æ–¹æ³•reverseä¹Ÿæ˜¯æ°¸ä¹…åœ°ä¿®æ”¹åˆ—è¡¨å…ƒç´ çš„é¡ºåºã€‚
ç»„ç»‡åˆ—è¡¨ æ’åº å‡½æ•°sortä¼šæ°¸ä¹…æ€§åœ°ä¿®æ”¹åˆ—è¡¨å…ƒç´ çš„æ’åˆ—é¡ºåºã€‚å¦‚æœè¦ä¿ç•™åˆ—è¡¨å…ƒç´ åŸæ¥çš„æ’åˆ—é¡ºåºï¼ŒåŒæ—¶ä»¥ç‰¹å®šçš„é¡ºåºå‘ˆç°å®ƒä»¬ï¼Œå¯ä»¥ä½¿ç”¨sortedå‡½æ•°ã€‚
lists = [&amp;#34;test&amp;#34;, &amp;#34;wan&amp;#34;, &amp;#34;deng&amp;#34;] print(sorted(lists, reverse=True)) é•¿åº¦ å‡½æ•°lenå¯ä»¥è·å–åˆ—è¡¨çš„é•¿åº¦ã€‚è®¿é—®åˆ—è¡¨æœ€åä¸€ä¸ªå…ƒç´ æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ç´¢å¼•-1ï¼Œä½†å½“åˆ—è¡¨ä¸ºç©ºæ—¶ï¼Œè¿™ç§è®¿é—®æœ€åä¸€ä¸ªå…ƒç´ çš„æ–¹å¼ä¼šå¯¼è‡´é”™è¯¯ã€‚å› æ­¤å¯ä»¥å…ˆä½¿ç”¨å‡½æ•°lenæ¥ç¡®å®šåˆ—è¡¨é•¿åº¦ã€‚
range ä½¿ç”¨å‡½æ•°rangeå¯ä»¥ç”ŸæˆåŠå¼€åŠé—­åŒºé—´çš„æ•°å­—ã€‚ä¾‹å¦‚range(1,5)ç­‰åŒäºæ•°å­¦ä¸Šçš„[1,5)ã€‚ä½¿ç”¨rangeå‡½æ•°æ—¶ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šæ­¥é•¿ã€‚å¯ä½¿ç”¨å‡½æ•°list()å°†range()çš„ç»“æœç›´æ¥è½¬æ¢ä¸ºåˆ—è¡¨ã€‚
for value in range(1,5): print(value) even_numbers = list(range(2,11,2)) print(even_numbers) åˆ‡ç‰‡ å¦‚æœè¦åˆ›å»ºåˆ‡ç‰‡ï¼Œå°±éœ€è¦æŒ‡å®šç¬¬ä¸€ä¸ªå…ƒç´ å’Œæœ€åä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•åŒºé—´ã€‚åœ¨åˆ‡ç‰‡ä¸­ï¼Œç´¢å¼•åŒºé—´ä¹Ÿæ˜¯åŠé—­åŠå¼€çš„ã€‚å¦‚æœåˆ‡ç‰‡åŒºé—´æ²¡æœ‰æŒ‡å®šç¬¬ä¸€ä¸ªç´¢å¼•ï¼Œåˆ™é»˜è®¤ä»åˆ—è¡¨å¼€å¤´å¼€å§‹ï¼›ç±»ä¼¼çš„ï¼Œå¦‚æœåˆ‡ç‰‡åŒºé—´æ²¡æœ‰æŒ‡å®šæœ€åä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ï¼Œåˆ™åˆ‡ç‰‡ç»ˆæ­¢äºåˆ—è¡¨æœ«å°¾:
players = [&amp;#39;charles&amp;#39;, &amp;#39;martina&amp;#39;, &amp;#39;michael&amp;#39;, &amp;#39;florence&amp;#39;, &amp;#39;eli&amp;#39;] print(players[0:3]) //[&amp;#39;charles&amp;#39;, &amp;#39;martina&amp;#39;, &amp;#39;michael&amp;#39;] print(players[1:4]) //[&amp;#39;martina&amp;#39;, &amp;#39;michael&amp;#39;, &amp;#39;florence&amp;#39;] print(players[:3]) //[&amp;#39;charles&amp;#39;, &amp;#39;martina&amp;#39;, &amp;#39;michael&amp;#39;] print(players[2:]) //[&amp;#39;michael&amp;#39;, &amp;#39;florence&amp;#39;, &amp;#39;eli&amp;#39;] è´Ÿæ•°ç´¢å¼•è¿”å›ç¦»åˆ—è¡¨æœ«å°¾ç›¸åº”è·ç¦»çš„å…ƒç´ ï¼Œå› æ­¤å¯ä»¥è¾“å‡ºåˆ—è¡¨æœ«å°¾çš„ä»»ä½•åˆ‡ç‰‡ã€‚ä¾‹å¦‚ï¼Œè¦è¾“å‡ºåå•ä¸Šçš„æœ€åçš„ä¸‰åé˜Ÿå‘˜ï¼Œå¯ä»¥ä½¿ç”¨è´Ÿæ•°ç´¢å¼•åˆ‡ç‰‡ï¼š
print(players[-3:]) //[&amp;#39;michael&amp;#39;, &amp;#39;florence&amp;#39;, &amp;#39;eli&amp;#39;] éå†åˆ‡ç‰‡ è‹¥è¦éå†åˆ—è¡¨çš„éƒ¨åˆ†å…ƒç´ ï¼Œå¯ä»¥å€ŸåŠ©åˆ‡ç‰‡å’Œå¾ªç¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
for player in players[-3:]: print(player) å¤åˆ¶åˆ—è¡¨ å¦‚æœè¦å¤åˆ¶åˆ—è¡¨ï¼Œå¯åˆ›å»ºä¸€ä¸ªåŒ…å«æ•´ä¸ªåˆ—è¡¨çš„åˆ‡ç‰‡ï¼Œæ–¹æ³•æ˜¯åŒæ—¶çœç•¥å¼€å§‹ç´¢å¼•å’Œç»ˆæ­¢ç´¢å¼•([:])ã€‚è¿™è®©Pythonåˆ›å»ºä¸€ä¸ªå§‹äºç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œç»ˆæ­¢äºæœ€åä¸€ä¸ªå…ƒç´ çš„åˆ‡ç‰‡ï¼Œå³å¤åˆ¶æ•´ä¸ªåˆ—è¡¨ï¼š
players = [&amp;#39;charles&amp;#39;, &amp;#39;martina&amp;#39;, &amp;#39;michael&amp;#39;, &amp;#39;florence&amp;#39;, &amp;#39;eli&amp;#39;] test_players = players[:] test_players.append(&amp;#34;test&amp;#34;) print players //[&amp;#39;charles&amp;#39;, &amp;#39;martina&amp;#39;, &amp;#39;michael&amp;#39;, &amp;#39;florence&amp;#39;, &amp;#39;eli&amp;#39;] print test_players //[&amp;#39;charles&amp;#39;, &amp;#39;martina&amp;#39;, &amp;#39;michael&amp;#39;, &amp;#39;florence&amp;#39;, &amp;#39;eli&amp;#39;, &amp;#39;test&amp;#39;] å¦‚æœç›´æ¥ä½¿ç”¨åˆ—è¡¨èµ‹å€¼ï¼Œä¸èƒ½å¾—åˆ°ä¸¤ä¸ªåˆ—è¡¨ï¼Œè€Œæ˜¯ä¸¤ä¸ªå˜é‡æŒ‡å‘åŒä¸€ä¸ªåˆ—è¡¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
players = [&amp;#39;charles&amp;#39;, &amp;#39;martina&amp;#39;, &amp;#39;michael&amp;#39;, &amp;#39;florence&amp;#39;, &amp;#39;eli&amp;#39;] mo_players = players mo_players.append(&amp;#34;name&amp;#34;) print players //[&amp;#39;charles&amp;#39;, &amp;#39;martina&amp;#39;, &amp;#39;michael&amp;#39;, &amp;#39;florence&amp;#39;, &amp;#39;eli&amp;#39;, &amp;#39;name&amp;#39;] print mo_players //[&amp;#39;charles&amp;#39;, &amp;#39;martina&amp;#39;, &amp;#39;michael&amp;#39;, &amp;#39;florence&amp;#39;, &amp;#39;eli&amp;#39;, &amp;#39;name&amp;#39;] å…ƒç»„ åˆ—è¡¨é€‚åˆç”¨äºå­˜å‚¨åœ¨ç¨‹åºè¿è¡ŒæœŸé—´å¯èƒ½å˜åŒ–çš„æ•°æ®é›†ï¼Œå¯¹äºä¸å¯å˜çš„æ•°æ®é›†åˆï¼ŒPythonä¸­ç§°ä¸ºå…ƒç»„ï¼Œä½¿ç”¨åœ†æ‹¬å·è€Œä¸æ˜¯æ–¹æ‹¬å·æ¥æ ‡è¯†ã€‚
dimensions = (200, 50) //dimensions[0] = 34 //ç¼–è¯‘æŠ¥é”™ å…ƒç»„å˜é‡ è™½ç„¶ä¸èƒ½ä¿®æ”¹å…ƒç»„ä¸­å…ƒç´ çš„å€¼ï¼Œä½†å¯ä»¥ç»™å‚¨å­˜å…ƒç»„çš„å˜é‡èµ‹å€¼ã€‚å› æ­¤ï¼Œå¦‚æœè¦ä¿®æ”¹å…ƒç»„çš„å°ºå¯¸ï¼Œå¯é‡æ–°å®šä¹‰æ•´ä¸ªå…ƒç»„ã€‚
dimensions = (200, 50) dimensions = (300, 400, 100) //å¯ä»¥æ•´ä½“æ”¹å˜å…ƒç»„ if åœ¨Pythonä¸­ï¼Œifè¯­å¥åŒ…æ‹¬å•ç‹¬çš„ifè¯­å¥ï¼Œif-elseè¯­å¥ã€è¿˜æœ‰if-elif-elseè¯­å¥ï¼Œä½†å¹¶ä¸è¦æ±‚if-elifç»“æ„åé¢å¿…é¡»æœ‰elseä»£ç å—ã€‚
å­—å…¸ åœ¨Pythonä¸­å­—å…¸ç”¨èŠ±æ‹¬å·{}ä¸­çš„é”®å€¼å¯¹è¡¨ç¤ºã€‚å­—å…¸æ˜¯ä¸€ç§åŠ¨æ€ç»“æ„ï¼Œå¯éšæ—¶åœ¨å…¶ä¸­æ·»åŠ é”®å€¼å¯¹ï¼Œå¦‚æœè¦æ·»åŠ é”®å€¼å¯¹ï¼Œå¯ä¾æ¬¡æŒ‡å®šå­—å…¸åï¼Œç”¨æ–¹æ‹¬å·æ‹¬èµ·æ¥çš„é”®å€¼å…³è”çš„å€¼ã€‚
test_dict = {&amp;#34;key&amp;#34;: 12, &amp;#34;key1&amp;#34;: &amp;#34;test&amp;#34;} print test_dict[&amp;#34;key&amp;#34;] print test_dict[&amp;#34;key1&amp;#34;] test_dict[&amp;#34;key2&amp;#34;] = 23 print test_dict //{&amp;#39;key2&amp;#39;: 23, &amp;#39;key1&amp;#39;: &amp;#39;test&amp;#39;, &amp;#39;key&amp;#39;: 12} åˆ é™¤é”®å€¼å¯¹ å¯¹äºå­—å…¸ä¸­ä¸éœ€è¦çš„ä¿¡æ¯ï¼Œå¯ä½¿ç”¨delè¯­å¥å°†ç›¸åº”çš„é”®å€¼å¯¹å½»åº•åˆ é™¤ã€‚ä½¿ç”¨delè¯­å¥æ—¶ï¼Œå¿…é¡»æŒ‡å®šå­—å…¸åå’Œè¦åˆ é™¤çš„é”®ã€‚
test_dict = {&amp;#34;key&amp;#34;: 12, &amp;#34;key1&amp;#34;: &amp;#34;test&amp;#34;} print test_dict[&amp;#34;key&amp;#34;] print test_dict[&amp;#34;key1&amp;#34;] test_dict[&amp;#34;key2&amp;#34;] = 23 print test_dict del test_dict[&amp;#34;key&amp;#34;] //{&amp;#39;key2&amp;#39;: 23, &amp;#39;key1&amp;#39;: &amp;#39;test&amp;#39;, &amp;#39;key&amp;#39;: 12} print test_dict //{&amp;#39;key2&amp;#39;: 23, &amp;#39;key1&amp;#39;: &amp;#39;test&amp;#39;} éå†å­—å…¸ å¯¹äºå­—å…¸ï¼Œæ—¢å¯ä»¥åªéå†é”®ï¼Œä¹Ÿå¯ä»¥åªéå†å€¼ï¼Œæˆ–è€…åŒæ—¶éå†é”®å€¼å¯¹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
for key in test_dict.keys(): print key for value in test_dict.values(): print value for key, value in test_dict.items(): print key, value for key in sorted(test_dict.keys()): print key å‡½æ•° åœ¨Pythonä¸­ï¼Œå‡½æ•°æ˜¯ä½¿ç”¨defå…³é”®å­—å®šä¹‰çš„ã€‚è°ƒç”¨å‡½æ•°æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä½ç½®å®å‚ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å…³é”®å­—å®å‚ã€‚ä¸€ä¸ªå‡½æ•°å…¨éƒ¨ä½¿ç”¨å…³é”®å­—å®å‚è°ƒç”¨æ—¶ï¼Œå…³é”®å­—çš„ä½ç½®å¯ä»¥ä¸æŒ‰é¡ºåºæ¥æŒ‡å®šã€‚
def print_message(msg): print msg print_message(&amp;#34;test&amp;#34;) print_message(msg=&amp;#34;hello&amp;#34;) é»˜è®¤å€¼ ç¼–å†™å‡½æ•°æ—¶ï¼Œå¯ä»¥ç»™æ¯ä¸ªå½¢å‚æŒ‡å®šé»˜è®¤å€¼ã€‚åœ¨è°ƒç”¨å‡½æ•°æ—¶å¦‚æœæ²¡æœ‰ç»™å½¢å‚æŒ‡å®šå®å‚ï¼Œåˆ™å°†ä½¿ç”¨é»˜è®¤å‚æ•°ã€‚
def print_test(name=&amp;#39;ty&amp;#39;): print name print_test() //ty è¿”å›å€¼ åœ¨å‡½æ•°ä¸­ï¼Œå¯ä»¥ä½¿ç”¨returnè¯­å¥å°†å€¼è¿”å›åˆ°è°ƒç”¨å‡½æ•°çš„ä»£ç è¡Œï¼Œæ—¢å¯ä»¥è¿”å›ä¸€ä¸ªä¹Ÿå¯ä»¥è¿”å›ä¸€ç»„å€¼ã€‚å‡½æ•°å¯ä»¥è¿”å›ä»»ä½•ç±»å‹çš„å€¼ï¼ŒåŒ…æ‹¬åˆ—è¡¨å’Œå­—å…¸ç­‰è¾ƒå¤æ‚çš„æ•°æ®ç»“æ„ï¼š
def return_test(name): return name print(return_test(&amp;#34;Hello&amp;#34;)) //hello åˆ—è¡¨å‚æ•° å°†åˆ—è¡¨ä¼ é€’ç»™å‡½æ•°åï¼Œå‡½æ•°å°±å¯ä»¥å¯¹è¿™ä¸ªåˆ—è¡¨è¿›è¡Œä¿®æ”¹ã€‚åœ¨å‡½æ•°ä¸­å¯¹è¿™ä¸ªåˆ—è¡¨æ‰€åšçš„ä»»ä½•ä¿®æ”¹éƒ½æ˜¯æ°¸ä¹…æ€§çš„ã€Œä¸C&#43;&#43;çš„æŒ‡é’ˆå‚æ•°ç›¸ä¼¼ã€ã€‚å¦‚æœéœ€è¦ç¦æ­¢å‡½æ•°ä¿®æ”¹åˆ—è¡¨ï¼Œåˆ™å¯å‘å‡½æ•°ä¼ é€’åˆ—è¡¨çš„å‰¯æœ¬ï¼Œå³åˆ‡ç‰‡[:]ã€‚
ä»»æ„æ•°é‡çš„å®å‚ åœ¨ä¸‹é¢å®šä¹‰çš„å‡½æ•°ä¸­ï¼Œå½¢å‚åä¸­çš„*è®©Pythonåˆ›å»ºä¸€ä¸ªåä¸ºtoppingsçš„ç©ºå…ƒç»„ï¼Œå¹¶å°†æ”¶åˆ°çš„æ‰€æœ‰å€¼éƒ½å°è£…åˆ°è¿™ä¸ªå…ƒç»„ï¼ˆå…ƒç´ ç±»å‹ç›¸åŒï¼‰ä¸­ï¼š
def make_pizza(*toppings): print toppings make_pizza(&amp;#39;test&amp;#39;, 12) # (&amp;#39;test&amp;#39;, 12) å¦‚æœè¦è®©å‡½æ•°æ¥å—ä¸åŒç±»å‹çš„å®å‚ï¼Œå¿…é¡»åœ¨å‡½æ•°å®šä¹‰ä¸­å°†æ¥å—ä»»æ„æ•°é‡å®å‚æ”¾åœ¨æœ€åã€‚pythonå…ˆåŒ¹é…ä½ç½®å®å‚å’Œå…³é”®å­—å®å‚ï¼Œå†å°†ä½™ä¸‹çš„å®å‚éƒ½æ”¶é›†åˆ°æœ€åä¸€ä¸ªå½¢å‚ä¸­ã€‚
def make_pizza(size, *toppings): &amp;#34;&amp;#34;&amp;#34;æ¦‚è¿°è¦åˆ¶ä½œçš„æ¯”è¨&amp;#34;&amp;#34;&amp;#34; print(&amp;#34;\nMaking a &amp;#34; &#43; str(size) &#43; &amp;#34;-inch pizza with the following toppings:&amp;#34;) for topping in toppings: print(&amp;#34;- &amp;#34; &#43; topping) make_pizza(16, &amp;#39;pepperoni&amp;#39;) make_pizza(12, &amp;#39;mushrooms&amp;#39;, &amp;#39;green peppers&amp;#39;, &amp;#39;extra cheese&amp;#39;) æœ‰æ—¶å€™ï¼Œéœ€è¦æ¥å—ä»»æ„æ•°é‡ä¸åŒç±»å‹å®å‚ï¼Œä½†é¢„å…ˆä¸çŸ¥é“ä¼ é€’ç»™å‡½æ•°çš„ä¼šæ˜¯ä»€ä¹ˆæ ·çš„ä¿¡æ¯ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯å°†å‡½æ•°ç¼–å†™æˆèƒ½å¤Ÿæ¥å—ä»»æ„æ•°é‡çš„é”®å€¼å¯¹â€”â€”è°ƒç”¨è¯­å¥æä¾›å¤šå°‘å°±æ¥å—å¤šå°‘ã€‚
def build_profile(first, last, **user_info): &amp;#34;&amp;#34;&amp;#34;åˆ›å»ºä¸€ä¸ªå­—å…¸ï¼Œå…¶ä¸­åŒ…å«æˆ‘ä»¬çŸ¥é“çš„æœ‰å…³ç”¨æˆ·çš„ä¸€åˆ‡&amp;#34;&amp;#34;&amp;#34; profile = {} profile[&amp;#39;first_name&amp;#39;]=first profile[&amp;#39;last_name&amp;#39;] = last for key, value in user_info.items(): profile[key] = value return profile user_profile = build_profile(&amp;#39;albert&amp;#39;, &amp;#39;einstein&amp;#39;, location=&amp;#39;princeton&amp;#39;, field=&amp;#39;physics&amp;#39;) print(user_profile) å¯¼å…¥å‡½æ•° è¦è®©å‡½æ•°æ˜¯å¯å¯¼å…¥çš„ï¼Œå…ˆå¾—åˆ›å»ºæ¨¡å—ã€‚æ¨¡å—æ˜¯æ‰©å±•åä¸º.pyçš„æ–‡ä»¶ï¼ŒåŒ…å«è¦å¯¼å…¥åˆ°ç¨‹åºä¸­çš„ä»£ç ã€‚ä¾‹å¦‚ï¼Œç°åœ¨æœ‰ä¸€ä¸ªåä¸ºtest.pyçš„æ–‡ä»¶ï¼Œå¦‚æœè¦ä½¿ç”¨å…¶ä¸­çš„å‡½æ•°ï¼Œåˆ™åœ¨éœ€è¦ä½¿ç”¨çš„æ–‡ä»¶ä¸­import test ï¼Œç„¶åä½¿ç”¨ç±»ä¼¼test.test()è°ƒç”¨å‡½æ•°å³å¯ã€‚
å¦‚æœåªéœ€è¦å¯¼å…¥ç‰¹å®šçš„å‡½æ•°ï¼Œåˆ™ä½¿ç”¨from module_name import func_name_0, function_1, function_2è¿™ç§æ–¹å¼å¯¼å…¥ï¼Œè¿™ç§æ–¹å¼å¯¼å…¥å‡½æ•°ä¹‹ååˆ™ä¸éœ€è¦åŠ moduleå‰ç¼€æ¥è°ƒç”¨äº†ã€‚
å¦‚æœè¦å¯¼å…¥çš„å‡½æ•°çš„åç§°å¯èƒ½å’Œå½“å‰æ–‡ä»¶ä¸­å‡½æ•°å†²çªï¼Œåˆ™å¯ä»¥å°†å‡½æ•°æŒ‡å®šåˆ«åfrom module_name import func_name as other_nameã€‚
å¦‚æœè¦å¯¼å…¥æ¨¡å—ä¸­çš„æ‰€æœ‰å‡½æ•°ï¼Œåˆ™å¯ä»¥ä½¿ç”¨from module_name import *ã€‚
 </content>
    </entry>
    
     <entry>
        <title>Swift Tips</title>
        <url>https://iihui.github.io/post/swift-tips/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html"> æŸ¯é‡ŒåŒ– æŸ¯é‡ŒåŒ–(curry)ï¼šæŠŠæ¥å—å¤šä¸ªå‚æ•°çš„å‡½æ•°å˜æ¢æˆæ¥å—ä¸€ä¸ªå•ä¸€å‚æ•°ï¼ˆæœ€åˆå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼‰çš„å‡½æ•°ï¼Œå¹¶ä¸”è¿”å›æ¥å—ä½™ä¸‹å‚æ•°è€Œä¸”è¿”å›ç»“æœçš„æ–°å‡½æ•°ã€‚
func addTo(_ adder: Int) -&amp;gt; (Int) -&amp;gt; Int { return { num in return num &#43; adder } } let addTwo = addTo(2) // addTwo: Int -&amp;gt; Int let result = addTwo(6) // result = 8 æŸ¯â¾¥åŒ–æ˜¯â¼€ç§é‡äº§ç›¸ä¼¼â½…æ³•çš„å¥½åŠæ³•ï¼Œå¯ä»¥é€šè¿‡æŸ¯â¾¥åŒ–â¼€ä¸ªâ½…æ³•æ¨¡æ¿æ¥é¿å…å†™å‡ºå¾ˆå¤šé‡å¤ä»£ç ,ä¹Ÿæ–¹ä¾¿ä»Šåçš„ç»´æŠ¤ï¼š
func greaterThan(_ comparer: Int) -&amp;gt; (Int) -&amp;gt; Bool { return { $0 &amp;gt; comparer } } let greaterThan10 = greaterThan(10); greaterThan10(13) // =&amp;gt; true greaterThan10(9) // =&amp;gt; false  target-action åœ¨swiftä¸­selectoråªèƒ½ä½¿ç”¨å­—ç¬¦ä¸²ç”Ÿæˆï¼Œè¿™é¢ä¸´ä¸€ä¸ªå¾ˆä¸¥é‡çš„é—®é¢˜ï¼Œå°±æ˜¯éš¾ä»¥é‡æ„ï¼Œå¹¶ä¸”æ— æ³•ç¼–è¯‘æœŸé—´è¿›è¡Œæ£€æŸ¥ã€‚ä½†target-actionâ¼œæ˜¯ Cocoaä¸­å¦‚æ­¤é‡è¦çš„â¼€ç§è®¾è®¡æ¨¡å¼ï¼Œâ½†è®ºå¦‚ä½•æˆ‘ä»¬éƒ½æƒ³å®‰å…¨åœ°ä½¿â½¤çš„è¯ï¼Œåº”è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿâ¼€ç§å¯èƒ½çš„è§£å†³â½…å¼å°±æ˜¯åˆ©â½¤â½…æ³•çš„æŸ¯â¾¥åŒ–ã€‚
protocol TargetAction { func performAction() } struct TargetActionWrapper&amp;lt;T: AnyObject&amp;gt;: TargetAction { weak var target: T? let action: (T) -&amp;gt; () -&amp;gt; () func performAction() -&amp;gt; () { if let t = target { action(t)() } } } enum ControlEvent { case TouchUpInside case ValueChanged // ... } class Control { var actions = [ControlEvent: TargetAction]() func setTarget&amp;lt;T: AnyObject&amp;gt;(target: T, action: @escaping (T) -&amp;gt; () -&amp;gt; (), controlEvent: ControlEvent) { actions[controlEvent] = TargetActionWrapper(target: target, action: action) } func removeTargetForControlEvent(controlEvent: ControlEvent) { actions[controlEvent] = nil } func performActionForControlEvent(controlEvent: ControlEvent) { actions[controlEvent]?.performAction() } } protocol Swiftä¸­çš„protocolä¸ä»…å¯ä»¥è¢«classç±»å‹å®ç°ï¼Œä¹Ÿå¯ä»¥è¢«structå’Œenumæ˜¯å®ç°ã€‚mutatingå…³é”®å­—ä¿®é¥°æ–¹æ³•æ˜¯ä¸ºäº†èƒ½åœ¨è¯¥æ–¹æ³•ä¸­ä¿®æ”¹structæˆ–æ˜¯enumçš„å˜é‡ï¼Œå¦‚æœå¦‚æœæ²¡åœ¨åè®®â½…æ³•â¾¥å†™mutatingçš„è¯ï¼Œåˆ«â¼ˆå¦‚æœâ½¤structæˆ–è€…enumæ¥å®ç°è¿™ä¸ªåè®®çš„è¯ï¼Œå°±ä¸èƒ½åœ¨â½…æ³•â¾¥æ”¹å˜â¾ƒâ¼°çš„å˜é‡äº†ã€‚å› æ­¤ï¼Œåœ¨å®šä¹‰åè®®æ—¶éœ€è¦å¤šè€ƒè™‘æ˜¯å¦é€‚ç”¨mutatingæ¥ä¿®é¥°æ–¹æ³•ã€‚
public protocol Vehicle { mutating func changeColor() } åœ¨ä½¿ç”¨classæ¥å®ç°å¸¦æœ‰mutatingçš„æ–¹æ³•çš„åè®®æ—¶ï¼Œå…·ä½“å®ç°çš„å‰é¢æ˜¯ä¸éœ€è¦åŠ mutatingä¿®é¥°çš„ï¼Œå› ä¸ºclasså¯ä»¥éšæ„ä¿®æ”¹è‡ªå·±çš„æˆå‘˜å˜é‡ã€‚æ‰€ä»¥è¯´åœ¨åè®®é‡Œmutatingä¿®é¥°æ–¹æ³•ï¼Œå¯¹äºclassçš„å®ç°æ˜¯å®Œå…¨é€æ˜ï¼Œå¯ä»¥å½“ä½œä¸å­˜åœ¨çš„ã€‚
Sequence Swiftä¸­çš„for ... inå¯ä»¥ç”¨åœ¨æ‰€æœ‰å®ç°äº†Sequenceåè®®çš„ç±»å‹ä¸Šï¼Œè€Œä¸ºäº†å®ç°Sequenceåè®®ï¼Œé¦–å…ˆéœ€è¦å®ç°IteratorProtocolåè®®ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªåå‘è¿­ä»£å™¨çš„ä¾‹å­ï¼š
class ReverseIterator&amp;lt;T&amp;gt;: IteratorProtocol { typealias Element = T var array: [Element] var currentIndex = 0 init(array: [Element]) { self.array = array self.currentIndex = array.count - 1 } func next() -&amp;gt; Element? { if currentIndex &amp;lt; 0 { return nil } else { let element = array[currentIndex] currentIndex -= 1 return element } } } æ¥ç€ä½¿ç”¨ReverseIteratorè¿­ä»£å™¨æ¥åˆ›å»ºä¸€ä¸ªå®ç°Sequenceåè®®çš„åå‘ReverseSequenceï¼Œä»£ç å¦‚ä¸‹ï¼š
struct ReverseSequence&amp;lt;T&amp;gt;: Sequence { var array: [T] init(array: [T]) { self.array = array } typealias Iterator = ReverseIterator&amp;lt;T&amp;gt; func makeIterator() -&amp;gt; ReverseIterator&amp;lt;T&amp;gt; { return ReverseIterator(array: self.array) } } func test() { let arr = [0, 1, 2, 3, 4] // å¯¹ Sequence å¯ä»¥ä½¿â½¤ for...in æ¥å¾ªç¯è®¿é—® for i in ReverseSequence(array: arr) { print(&amp;#34;Index \(i)is \(arr[i])&amp;#34;) } } å¤šå…ƒç»„ åœ¨Swiftä¸­ä½¿ç”¨å¤šå…ƒç»„å¯ä»¥è½»æ¾çš„äº¤æ¢ä¸¤ä¸ªå€¼ï¼Œè€Œä¸éœ€è¦é¢å¤–çš„äº¤æ¢ç©ºé—´ï¼š
func swap&amp;lt;T&amp;gt;(a: inout T, b: inout T) { (a,b) = (b,a) } autoclosure @autoclosureæŠŠä¸€å¥è¡¨è¾¾å¼è‡ªåŠ¨åœ°å°è£…æˆä¸€ä¸ªé—­åŒ…closureã€‚ä½†æ˜¯ï¼Œ@autoclosureå¹¶ä¸æ”¯æŒå¸¦æœ‰è¾“å…¥å‚æ•°çš„å†™æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´åªæœ‰å½¢å¦‚()-&amp;gt;Tçš„å‚æ•°æ‰èƒ½ä½¿ç”¨æ­¤ç‰¹æ€§è¿›è¡Œç®€åŒ–ã€‚
func testAutoClosure(predicate:@autoclosure ()-&amp;gt;Bool) { if predicate() { print(&amp;#34;true&amp;#34;) }else{ print(&amp;#34;false&amp;#34;) } } testAutoClosure(predicate: 2&amp;gt;1) // true åœ¨testAutoClosure(predicate: 2&amp;gt;1)ä¸­ï¼ŒSwiftä¼šæŠŠ2&amp;gt;1è¿™ä¸ªè¡¨è¾¾å¼è‡ªåŠ¨è½¬æ¢ä¸º() -&amp;gt; Boolã€‚æ“ä½œç¬¦??ã€&amp;amp;&amp;amp;ã€||ä¹Ÿä¸­ç”¨åˆ°äº†autoclosureï¼š
public func ?? &amp;lt;T&amp;gt;(optional: T?, defaultValue: @autoclosure () throws -&amp;gt; T) rethrows -&amp;gt; T public func ?? &amp;lt;T&amp;gt;(optional: T?, defaultValue: @autoclosure () throws -&amp;gt; T?) rethrows -&amp;gt; T? public static func &amp;amp;&amp;amp; (lhs: Bool, rhs: @autoclosure () throws -&amp;gt; Bool) rethrows -&amp;gt; Bool public static func || (lhs: Bool, rhs: @autoclosure () throws -&amp;gt; Bool) rethrows -&amp;gt; Bool @escaping æ¥å—@escapingçš„é—­åŒ…ï¼Œå› ä¸ºè¦ç¡®ä¿é—­åŒ…å†…çš„æˆå‘˜ä¾ç„¶æœ‰æ•ˆï¼Œå¦‚æœé—­åŒ…å†…å¼•å‡ºäº†selfåŠå…¶æˆå‘˜çš„è¯ï¼ŒSwiftå°†å¼ºåˆ¶æ˜ç¡®çš„å†™å‡ºselfã€‚
å¦‚æœåœ¨åè®®æˆ–è€…çˆ¶ç±»ä¸­å®šä¹‰äº†ä¸€ä¸ªæ¥å—@escapingä¸ºå‚æ•°çš„æ–¹æ³•ï¼Œé‚£ä¹ˆåœ¨å®ç°åè®®å’Œç±»å‹æˆ–è€…æ˜¯è¿™ä¸ªçˆ¶ç±»çš„å­ç±»ï¼Œå¯¹åº”çš„æ–¹æ³•ä¹Ÿå¿…é¡»å£°æ˜ä¸º@escapingï¼Œå¦åˆ™ä¸¤ä¸ªæ–¹æ³•ä¼šè¢«è®¤ä¸ºæ‹¥æœ‰ä¸åŒçš„å‡½æ•°ç­¾åã€‚
Optional Chaining Optional Chainingéšæ—¶éƒ½å¯èƒ½è¿”å›nilçš„ï¼Œæ‰€ä»¥ä½¿ç”¨Optional Chainingæ‰€å¾—åˆ°çš„ä¸œè¥¿å…¶å®éƒ½æ˜¯Optionalã€‚
typealias typealiasæ˜¯ç”¨æ¥ä¸ºå·²ç»å­˜åœ¨çš„ç±»å‹é‡æ–°å®šä¹‰åå­—çš„ï¼Œé€šè¿‡é‡å‘½åï¼Œå¯ä»¥ä½¿ä»£ç å˜å¾—æ›´æ¸…æ™°ã€‚ä½¿ç”¨typealiaså…³é”®å­—å°±åƒä½¿ç”¨æ™®é€šçš„èµ‹å€¼è¯­å¥ä¸€æ ·ï¼Œå¯ä»¥å°†æŸä¸ªå·²ç»å­˜åœ¨çš„ç±»å‹èµ‹å€¼ä¸ºæ–°åå­—ã€‚
typealias Location = CGPoint typealias Distance = Double func distance(from location: Location, to anotherLocation: Location) -&amp;gt; Distance { let dx = Distance(location.x - anotherLocation.x) let dy = Distance(location.y - anotherLocation.y) return sqrt(dx * dx &#43; dy * dy) } let origin: Location = Location(x: 0, y: 0) let point: Location = Location(x: 1, y: 1) let d: Distance = distance(from: origin, to: point) åœ¨æ¶‰åŠåˆ°æ³›å‹æ—¶ï¼Œæƒ…å†µå°±ç¨å¾®ä¸å¤ªâ¼€æ ·ã€‚â¾¸å…ˆï¼Œtypealiasæ˜¯å•â¼€çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä½ å¿…é¡»æŒ‡å®šå°†æŸä¸ªç‰¹å®šçš„ç±»å‹é€šè¿‡typealiasèµ‹å€¼ä¸ºæ–°åå­—ï¼Œâ½½ä¸èƒ½å°†æ•´ä¸ªæ³›å‹ç±»å‹è¿›â¾é‡å‘½åã€‚ä¸‹â¾¯è¿™æ ·çš„å‘½åéƒ½æ˜¯â½†æ³•é€šè¿‡ç¼–è¯‘çš„ã€‚
class Person&amp;lt;T&amp;gt; {} typealias Worker = Person typealias Worker = Person&amp;lt;T&amp;gt; åœ¨åˆ«åä¸­ä¹Ÿå¼•å…¥æ³›å‹ï¼Œæ˜¯å¯ä»¥çš„ï¼š
// This is OK typealias Worker&amp;lt;T&amp;gt; = Person&amp;lt;T&amp;gt; å½“æ³›å‹ç±»å‹ç¡®å®šæ€§å¾—åˆ°ä¿è¯åï¼Œæ˜¾ç„¶åˆ«åä¹Ÿæ˜¯å¯ä»¥ä½¿ç”¨çš„ï¼š
class Person&amp;lt;T&amp;gt; {} typealias WorkId = String typealias Worker = Person&amp;lt;WorkId&amp;gt; å¦â¼€ä¸ªä½¿â½¤åœºæ™¯æ˜¯æŸä¸ªç±»å‹åŒæ—¶å®ç°å¤šä¸ªåè®®çš„ç»„åˆæ—¶ã€‚æˆ‘ä»¬å¯ä»¥ä½¿â½¤ åç»™å®ƒä»¬â¼€ä¸ªæ–°çš„æ›´ç¬¦åˆä¸Šä¸‹â½‚çš„åå­—ï¼Œæ¥å¢å¼ºä»£ç å¯è¯»æ€§ï¼š
protocol Cat { ... } protocol Dog { ... } typealias Pat = Cat &amp;amp; Dog åˆå§‹åŒ–æ–¹æ³•é¡ºåº Swiftçš„åˆå§‹åŒ–æ–¹æ³•éœ€è¦ä¿è¯ç±»å‹çš„æ‰€æœ‰å±æ€§éƒ½è¢«åˆå§‹åŒ–ï¼Œå› æ­¤åœ¨å­ç±»ä¸­ï¼Œéœ€è¦ä¿è¯å½“å‰å­ç±»å®ä¾‹çš„æˆå‘˜åˆå§‹åŒ–å®Œæˆåæ‰èƒ½è°ƒç”¨çˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³•ã€‚
class Cat { var name: String init() { name = &amp;#34;cat&amp;#34; } } class Tiger: Cat { let power: Int override init() { power = 10. //å…ˆåˆå§‹åŒ–å­ç±»çš„æˆå‘˜å˜é‡ super.init() //å†åˆå§‹åŒ–çˆ¶ç±»çš„æˆå‘˜ name = &amp;#34;tiger&amp;#34; //æœ€åä¿®æ”¹çˆ¶ç±»çš„æˆå‘˜å˜é‡ } } ä¸€èˆ¬æ¥è¯´ï¼Œå­ç±»çš„åˆå§‹åŒ–é¡ºåºåˆ†ä¸ºä»¥ä¸‹ä¸‰æ­¥ï¼š
 è®¾ç½®å­ç±»è‡ªå·±éœ€è¦åˆå§‹åŒ–çš„å‚æ•°power=10 è°ƒç”¨çˆ¶ç±»ç›¸åº”çš„åˆå§‹åŒ–æ–¹æ³•super.init å¯¹çˆ¶ç±»ä¸­éœ€è¦æ”¹å˜çš„æˆå‘˜è¿›è¡Œè®¾å®šname=tiger  å…¶ä¸­ç¬¬ä¸‰æ­¥æ˜¯æ ¹æ®å…·ä½“æƒ…å†µå†³å®šçš„ï¼Œå¦‚æœå­ç±»ä¸­ä¸éœ€è¦å¯¹çˆ¶ç±»çš„æˆå‘˜åšå‡ºæ”¹å˜çš„è¯ï¼Œå°±ä¸å­˜åœ¨ç¬¬ä¸‰æ­¥ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒSwiftä¼šè‡ªåŠ¨å¯¹çˆ¶ç±»çš„initæ–¹æ³•è¿›è¡Œè°ƒç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´ç¬¬äºŒæ­¥çš„super.initä¹Ÿæ˜¯å¯ä»¥ä¸å†™ï¼š
class Cat { var name: String init() { name = &amp;#34;cat&amp;#34; } } class Tiger: Cat { let power: Int override init() { power = 10 } } defaultå‚æ•° åœ¨Swiftä¸­é»˜è®¤å‚æ•°é™åˆ¶è¾ƒå°‘ï¼Œå¯ä»¥ä¸æ”¾åœ¨æœ€åï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼Œä¸¤ç§å†™æ³•éƒ½æ˜¯å¯ä»¥çš„ï¼š
func sayHello1(str1: String = &amp;#34;Hello&amp;#34;, str2: String, str3: String) { print(str1 &#43; str2 &#43; str3) } func sayHello2(str1: String, str2: String, str3: String = &amp;#34;World&amp;#34;) { print(str1 &#43; str2 &#43; str3) }  å¯å˜å‚æ•° åœ¨Swiftä¸­å†™ä¸€ä¸ªå¯å˜å‚æ•°åªéœ€è¦åœ¨å£°æ˜å‚æ•°æ—¶åœ¨ç±»å‹åé¢åŠ ä¸Š...å°±å¯ä»¥äº†ã€‚å…¶ä»–è¯­è¨€å› ä¸ºç¼–è¯‘å™¨å’Œè¯­è¨€è‡ªèº«è¯­æ³•é™åˆ¶ï¼Œåœ¨ä½¿ç”¨å¯å˜å‚æ•°æ—¶ï¼Œå¾€å¾€å¯å˜å‚æ•°åªèƒ½ä½œä¸ºæ–¹æ³•ä¸­æœ€åä¸€ä¸ªå‚æ•°æ¥ä½¿ç”¨ã€‚è€Œä¸èƒ½å…ˆå£°æ˜ä¸€ä¸ªå¯å˜å‚æ•°ã€‚
fun sum(input:Int ...) -&amp;gt; Int { return input.reduce(0,&#43;) } æ­£åˆ™è¡¨è¾¾å¼ Swiftè¿˜æ²¡æœ‰åœ¨è¯­è¨€å±‚é¢ä¸Šæ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ï¼Œåœ¨Cocoaä¸­ä½¿ç”¨NSRegularExpressionæ¥åšæ­£åˆ™è¡¨è¾¾ï¼Œæ‰€ä»¥åœ¨Swiftä¸­å¯ä»¥å¯¹å…¶è¿›è¡Œå°è£…ï¼š
struct RegexHelper { let regex: NSRegularExpression init(_ pattern: String) throws { try regex = NSRegularExpression(pattern: pattern, options: .caseInsensitive) } func match(_ input: String) -&amp;gt; Bool { let matches = regex.matches(in: input, options: [], range: NSMakeRange(0, input.utf16.count)) return matches.count &amp;gt; 0 } } let mailPattern = &amp;#34;^([a-z0-9_\\.-]&#43;)@([\\da-z\\.-]&#43;)\\.([a-z\\.]{2,6})$&amp;#34; let matcher: RegexHelper do { matcher = try RegexHelper(mailPattern) let maybeMailAddress = &amp;#34;onev@onevcat.com&amp;#34; if matcher.match(maybeMailAddress) { print(&amp;#34;æœ‰æ•ˆçš„é‚®ç®±åœ°å€&amp;#34;) } }catch { print(error.localizedDescription) } æ¥ç€å°è£…=ï½è¿ç®—ç¬¦ï¼Œå°±å¯ä»¥åƒå…¶ä»–è¯­è¨€ä¸€æ ·ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼äº†ï¼š
precedencegroup MatchPrecedence { associativity: none higherThan: DefaultPrecedence } infix operator =~: MatchPrecedence func =~(lhs: String, rhs: String) -&amp;gt; Bool { do { return try RegexHelper(rhs).match(lhs) } catch { print(error.localizedDescription) return false } } if &amp;#34;xxx@test.com&amp;#34; =~ &amp;#34;^([a-z0-9_\\.-]&#43;)@([\\da-z\\.-]&#43;)\\.([a-z\\.]{2,6})$&amp;#34; { print(&amp;#34;æœ‰æ•ˆçš„é‚®ç®±åœ°å€&amp;#34;) } æ¨¡å¼åŒ¹é… Swiftä¸­æ²¡æœ‰å†…ç½®æ­£åˆ™è¡¨è¾¾å¼ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªå’Œæ­£åˆ™è¡¨è¾¾å¼ç±»ä¼¼çš„ç‰¹æ€§â€”â€”æ¨¡å¼åŒ¹é…ã€‚ä»æ¦‚å¿µä¸Šæ¥è¯´ï¼Œæ­£åˆ™åŒ¹é…åªæ˜¯æ¨¡å¼åŒ¹é…çš„ä¸€ä¸ªå­é›†ã€‚
åè®®å’Œç±»æ–¹æ³•ä¸­çš„Self åœ¨å®šä¹‰ä¸€äº›åè®®æ—¶ï¼Œé¦–å­—æ¯å¤§å†™çš„Selfå‡ºç°åœ¨ç±»å‹çš„ä½ç½®ä¸Šã€‚åœ¨ä¸‹é¢IntervalTypeåè®®ä¸­ï¼Œå®šä¹‰äº†ä¸€ä¸ªæ–¹æ³•ï¼Œæ¥å—å®ç°è¯¥åè®®çš„è‡ªèº«ç±»å‹ï¼Œå¹¶è¿”å›ä¸€ä¸ªåŒæ ·çš„ç±»å‹ï¼š
protocol IntervalType { /// Return `rhs` clamped to `self`. The bounds of the result, even  /// if it is empty, are always within the bounds of `self` func clamp(intervalToClamp: Self) -&amp;gt; Self } è¿™ä¹ˆå®šä¹‰æ˜¯å› ä¸ºåè®®æœ¬èº«æ²¡æœ‰è‡ªå·±çš„ä¸Šä¸‹æ–‡ç±»å‹çš„ä¿¡æ¯ï¼Œåœ¨å£°æ˜åè®®çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¹¶ä¸çŸ¥é“æœ€åç©¶ç«Ÿä¼šæ˜¯ä»€ä¹ˆæ ·çš„ç±»å‹æ¥å®ç°è¿™ä¸ªåè®®ã€‚
Reflection å’Œ Mirror  åå°„æ˜¯ä¸€ç§åœ¨è¿è¡Œæ—¶æ£€æµ‹ã€è®¿é—®æˆ–è€…ä¿®æ”¹ç±»å‹çš„è¡Œä¸ºç‰¹æ€§ã€‚ä¸€èˆ¬çš„é™æ€è¯­è¨€ç±»å‹çš„ç»“æ„å’Œæ–¹æ³•çš„è°ƒç”¨ç­‰éƒ½éœ€è¦åœ¨ç¼–è¯‘æ—¶å†³å®šã€‚
 Selector @selectoræ˜¯OCæ—¶ä»£çš„ä¸€ä¸ªå…³é”®è¯ï¼Œå¯ä»¥å°†ä¸€ä¸ªæ–¹æ³•è½¬æ¢å¹¶èµ‹å€¼ç»™ä¸€ä¸ªSELç±»å‹ï¼Œå®ƒçš„è¡¨ç°ç±»ä¼¼ä¸€ä¸ªåŠ¨æ€çš„å‡½æ•°æŒ‡é’ˆã€‚
-(void) callMe { //... } -(void) callMeWithParam:(id)obj { //... } SEL someMethod = @selector(callMe); SEL anotherMethod = @selector(callMeWithParam:); // æˆ–è€…ä¹Ÿå¯ä»¥ä½¿â½¤ NSSelectorFromString  // SEL someMethod = NSSelectorFromString(@&amp;#34;callMe&amp;#34;);  // SEL anotherMethod = NSSelectorFromString(@&amp;#34;callMeWithParam:&amp;#34;); åœ¨Swiftä¸­æ²¡æœ‰@selectoräº†ï¼Œå–è€Œä»£ä¹‹æ˜¯ä»#selectoræ¥æš´éœ²ç»™OCçš„ä»£ç ä¸­è·å–ä¸€ä¸ªselectorã€‚
@objc func callMe() { //... } @objc func callMeWithParam(obj: AnyObject!) { //... } let someMethod = #selector(callMe) let anotherMethod = #selector(callMeWithParam(obj:)) selectorå…¶å®æ˜¯OCè¿è¡Œçš„æ¦‚å¿µï¼Œåœ¨Swift 4ä¸­ï¼Œé»˜è®¤æƒ…å†µä¸‹æ‰€æœ‰çš„Swiftæ–¹æ³•åœ¨OCä¸­æ˜¯ä¸å¯è§çš„ï¼Œæ‰€ä»¥éœ€è¦åœ¨è¿™ç±»æ–¹æ³•åŠ ä¸Š@objcå…³é”®å­—ï¼Œå°†è¿™ä¸ªæ–¹æ³•æš´éœ²ç»™OCï¼Œæ‰èƒ½è¿›è¡Œä½¿ç”¨ã€‚
ç¼–è¯‘æ ‡è®° å¯ä»¥ä½¿ç”¨Mark:è¿™æ ·çš„æ ‡è®°ï¼ŒXcodeå°†åœ¨ä»£ç ä¸­å¯»æ‰¾è¿™æ ·çš„æ ‡è®°ï¼Œç„¶åä»¥ç²—ä½“æ ‡ç­¾çš„å½¢å¼å°†åç§°æ˜¾ç¤ºåœ¨å¯¼èˆªæ ä¸­ã€‚è¿˜å¯ä»¥åœ¨å†’å·çš„åâ¾¯åŠ â¼€ä¸ªæ¨ªæ  å¼€å„ä¸ªéƒ¨åˆ†ï¼Œä¼šæ˜¾å¾—æ›´åŠ æ¸…æ™°ï¼š
as asæ˜¯åœ¨ç¼–è¯‘æœŸé—´æ‰§è¡Œçš„ï¼Œas?å’Œas!æ˜¯åœ¨è¿è¡Œæ—¶æ‰§è¡Œçš„ã€‚æ‰§è¡Œä¸‹é¢çš„ä»£ç ä¼šå´©æºƒï¼Œæ˜¯å› ä¸ºas?å’Œas!æ˜¯åœ¨è¿è¡Œæ—¶æ‰§è¡Œï¼Œè¿è¡Œæ—¶4å·²ç»å…ˆèµ‹å€¼ä¸ºIntç±»å‹ï¼Œç„¶åå¼ºåˆ¶è½¬æ¢ä¸ºDoubleæ—¶å¤±è´¥ã€‚
print(4 as Double) // print 4.0 print(4 as! Double) // crash  </content>
    </entry>
    
     <entry>
        <title>Kotlin åŸºç¡€</title>
        <url>https://iihui.github.io/post/kotlin-base/</url>
        <categories>
          <category>kotlin</category>
        </categories>
        <tags>
          <tag>kotlin</tag>
        </tags>
        <content type="html"> å˜é‡å’Œå‡½æ•° å¸¸é‡ Kotlinä¸­ä½¿ç”¨valæ¥å£°æ˜å¸¸é‡ã€Œvalæ˜¯valueçš„ç¼©å†™ã€ï¼Œvalå£°æ˜çš„å¸¸é‡ä¸å¯ä»¥å†é‡æ–°èµ‹å€¼ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚valå¯¹åº”Javaä¸­çš„finalã€‚
val str = &amp;#34;Hello world&amp;#34; å˜é‡ Kotlinä¸­ä½¿ç”¨varæ¥å£°æ˜å˜é‡ã€Œvaræ˜¯variableçš„ç¼©å†™ã€ï¼Œvarå£°æ˜çš„å˜é‡å¯ä»¥é‡æ–°èµ‹å€¼ã€‚varå£°æ˜çš„å˜é‡å¯¹åº”Javaä¸­çš„finalå˜é‡ã€‚
var test = &amp;#34;ch&amp;#34; println(test) test = &amp;#34;ccc&amp;#34; println(test) å‡½æ•° åœ¨Kotlinä¸­funç”¨äºå®šä¹‰å‡½æ•°ï¼Œä¾‹å¦‚fun methodName(param1:Int, param2:Int):Intå®šä¹‰ä¸€ä¸ªåä¸ºmethodNameï¼Œæ¥å—ä¸¤ä¸ªIntç±»å‹çš„å‚æ•°ï¼Œè¿”å›Intçš„å‡½æ•°ã€‚
fun largeNumber1(param1:Int,param2:Int):Int { return max(param1,param2) } fun largeNumber2(param1:Int,param2:Int):Int = max(param1,param2) fun largeNumber3(param1:Int,param2:Int) = max(param1,param2) æ¡ä»¶è¯­å¥ ifè¯­å¥ Kotlinä¸­çš„ifç›¸æ¯”äºJavaä¸­æœ‰ä¸€ä¸ªé¢å¤–åŠŸèƒ½ï¼Œå®ƒæ˜¯å¯ä»¥æœ‰è¿”å›å€¼çš„ï¼Œè¿”å›å€¼æ˜¯ifè¯­å¥æ¯ä¸€ä¸ªæ¡ä»¶ä¸­æœ€åä¸€è¡Œä»£ç çš„è¿”å›å€¼ã€‚
fun largeNumber4(num1: Int, num2: Int): Int { val value = if (num1 &amp;gt; num2) { num1 } else { num2 } return value } fun largeNumber5(num1: Int, num2: Int): Int { return if (num1 &amp;gt; num2) { num1 } else { num2 } } fun largeNumber6(num1: Int, num2: Int): Int = if (num1 &amp;gt; num2) { num1 } else { num2 } fun largerNumber7(num1: Int, num2: Int) = if (num1 &amp;gt; num2) { num1 } else { num2 } when Kotlinä¸åŒ…å«ä¸‰å…ƒè¿ç®—ç¬¦ï¼Œæ›´åŠ å€¾å‘äºä½¿ç”¨æ¡ä»¶è¡¨è¾¾å¼ï¼Œéšç€if-elseçš„å¤æ‚æ€§å¢åŠ ï¼Œå¯ä»¥ä½¿ç”¨whenè¡¨è¾¾å¼ã€‚Kotlinä¸­çš„whenè¡¨è¾¾å¼ä¸­æ¯ä¸ªåˆ†æ”¯ç”±ä¸€ä¸ªæ¡ä»¶ï¼Œä¸€ä¸ªç®­å¤´å’Œä¸€ä¸ªç»“æœè¡¨ç¤ºï¼Œå¦‚æœç®­å¤´å·¦ä¾§çš„æ¡ä»¶æ±‚å€¼ä¸ºtrueï¼Œåˆ™ä¼šè¿”å›å³ä¾§è¡¨è¾¾å¼çš„å€¼ã€‚
ä¼ å…¥å‚æ•° æ ‡å‡†çš„whenè¯­å¥ä½¿ç”¨æ˜¯ä¼ å…¥å‚æ•°ã€‚whenè¯­å¥å’Œifè¯­å¥ä¸€æ ·ï¼Œä¹Ÿæ˜¯å¯ä»¥æœ‰è¿”å›å€¼ï¼Œå› æ­¤ä¾ç„¶å¯ä»¥ä½¿ç”¨å•è¡Œä»£ç å‡½æ•°è¯­æ³•ç³–ã€‚
fun checkNumber(num: Number) { when (num) { is Int -&amp;gt; println(&amp;#34;number is Int&amp;#34;) is Double -&amp;gt; println(&amp;#34;number is Double&amp;#34;) else -&amp;gt; println(&amp;#34;number not support&amp;#34;) } } when { count == 43 -&amp;gt; println(&amp;#34;43&amp;#34;) tt == &amp;#34;name&amp;#34; -&amp;gt; println(&amp;#34;name&amp;#34;) str1 == &amp;#34;test&amp;#34; -&amp;gt; println(str1) } val count = 43 var str1 = when (count) { 42 -&amp;gt; &amp;#34;chen&amp;#34; 56 -&amp;gt; &amp;#34;cchen&amp;#34; else -&amp;gt; &amp;#34;test&amp;#34; } fun getValue(colorEnum: ColorEnum) = when(colorEnum){ ColorEnum.RED -&amp;gt; 1; ColorEnum.BLUE -&amp;gt; 2; ColorEnum.GREEN -&amp;gt; 3; } ä¸ä¼ å‚æ•° å¯ä»¥ä¸åœ¨whenè¯­å¥ä¸­ä¼ å…¥å‚æ•°ã€‚è¿™ç§ç”¨æ³•æ˜¯å°†åˆ¤æ–­çš„è¡¨è¾¾å¼å®Œæ•´åœ°å†™åœ¨whençš„ç»“æ„ä½“ä¸­ï¼Œå¯¹äºå…¶ä»–çš„ä¸€äº›æƒ…å†µå¾ˆæœ‰ç”¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
fun getScore1(name: String) = when { name == &amp;#34;Tom&amp;#34; -&amp;gt; 86 name == &amp;#34;Jim&amp;#34; -&amp;gt; 77 name == &amp;#34;Jack&amp;#34; -&amp;gt; 90 else -&amp;gt; 0 } fun getScore2(name: String) = when { name.startsWith(&amp;#34;test&amp;#34;) -&amp;gt; 89 name == &amp;#34;Jack&amp;#34; -&amp;gt; 90 else -&amp;gt; 4589 } å¾ªç¯è¯­å¥ Kotlinåœ¨foråœ¨å¾ªç¯æ–¹é¢åšäº†å¾ˆå¤§å¹…åº¦çš„ä¿®æ”¹ï¼Œç›´æ¥èˆå¼ƒäº†Javaä¸­çš„for-iï¼Œè€Œåœ¨Javaä¸­çš„å¦ä¸€ç§for-eachå¾ªç¯åˆ™è¢«Kotlinè¿›è¡Œå¤§å¹…åº¦çš„åŠ å¼ºï¼Œå˜æˆäº†for-inå¾ªç¯ã€‚
åŒºé—´ Kotlinä¸­çš„åŒºé—´æœ‰å·¦é—­å³é—­ï¼Œå·¦é—­å³å¼€ã€‚å·¦å³åŒé—­åŒºé—´ä½¿ç”¨..æ¥å®šä¹‰ï¼Œè€Œå·¦é—­å³å¼€ä½¿ç”¨untilæ¥å®šä¹‰ã€‚è¿™ä¸¤ä¸ªå…³é”®å­—å®šä¹‰çš„åŒºé—´éƒ½å¿…é¡»å·¦ç«¯å°äºå³ç«¯åŒºé—´ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸¤ç§å…³é”®å­—åˆ›å»ºçš„éƒ½æ˜¯å‡åºåŒºé—´ã€‚
å‡åºåŒºé—´ fun forTest1() { for (i in 0..100) { println(i) } } fun forTest2() { for (i in 0 until 100) { println(i) } } ç”±..å’Œuntilå®šä¹‰çš„å‡åºåŒºé—´ï¼Œé»˜è®¤æ­¥é•¿éƒ½æ˜¯1ï¼Œå¦‚æœæƒ³è¦æ›´æ”¹æ­¥é•¿å°±éœ€è¦ä½¿ç”¨stepå…³é”®å­—ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
fun forTest3() { for (i in 0..100 step 6) { println(i) } } fun forTest4() { for (i in 0 until 100 step 6) { println(i) } } é™åºåŒºé—´ å¦‚æœè¦ä½¿ç”¨é™åºåŒºé—´ï¼Œéœ€è¦ä½¿ç”¨downToå…³é”®å­—ï¼Œç”±downToå®šä¹‰çš„åŒºé—´æ˜¯ä¹Ÿæ˜¯å·¦é—­å³é—­çš„ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨stepå…³é”®å­—è®¾ç½®æ­¥é•¿ã€‚
fun forTest5() { for (i in 10 downTo 1) { println(i) } } fun forTest6() { for (i in 10 downTo 1 step 4) { println(i) } } ç±»ä¸å¯¹è±¡ åœ¨Kotlinä¸­ä»»ä½•ä¸€ä¸ªéæŠ½è±¡ç±»é»˜è®¤éƒ½æ˜¯ä¸å¯ä»¥è¢«ç»§æ‰¿çš„ï¼Œç›¸å½“äºJavaä¸­ç»™ç±»å£°æ˜äº†finalå…³é”®å­—ã€‚å¦‚æœè¦æƒ³ä¸€ä¸ªéæŠ½è±¡ç±»å¯ä»¥è¢«ç»§æ‰¿ï¼Œå°±è¦åœ¨å…¶å‰æ·»åŠ openå…³é”®å­—ã€‚
æ„é€ å‡½æ•° ä¸»æ„é€ å‡½æ•° æ„é€ å‡½æ•°åˆ†ä¸ºäº†ä¸¤ç§ï¼Œä¸€ç§æ˜¯ä¸»æ„é€ å‡½æ•°ï¼Œå¦ä¸€ç§æ˜¯æ¬¡æ„é€ å‡½æ•°ã€‚æ¯ä¸ªç±»é»˜è®¤éƒ½ä¼šæœ‰ä¸€ä¸ªä¸å¸¦å‚æ•°çš„ä¸»æ„é€ å‡½æ•°ã€‚ä¸»æ„é€ å‡½æ•°çš„ç‰¹ç‚¹æ˜¯æ²¡æœ‰å‡½æ•°ä½“ï¼Œç›´æ¥å®šä¹‰åœ¨ç±»åçš„åé¢å³å¯ï¼š
open class Person { var name = &amp;#34;&amp;#34; var age = 0 fun eat() { println(name &#43; &amp;#34; is eating. He is &amp;#34; &#43; age &#43; &amp;#34;years old.&amp;#34;) } } class Student : Person() { var sno = &amp;#34;&amp;#34; var grade = 0 init { println(sno) println(grade) } } ä¸»æ„é€ å‡½æ•°æ²¡æœ‰å‡½æ•°ä½“ï¼Œå¦‚æœæƒ³è¦åœ¨ä¸»æ„é€ å‡½æ•°ä¸­ç¼–å†™ä¸€äº›é€»è¾‘ï¼Œåˆ™å¯ä»¥å†™åœ¨initç»“æ„ä½“ä¸­ã€‚ä¸»æ„é€ å‡½æ•°å£°æ˜ä¸ºvalæˆ–è€…varçš„å‚æ•°å°†è‡ªåŠ¨æˆä¸ºè¯¥ç±»çš„å­—æ®µã€‚
open class Person(val name: String, val age: Int) { // } class Student(val sno: String, val grade: Int, name: String, age: Int) : Person(name, age) { // } æ¬¡æ„é€ å‡½æ•° ä»»ä½•ä¸€ä¸ªç±»åªèƒ½(è‡³å¤š)æœ‰ä¸€ä¸ªä¸»æ„é€ å‡½æ•°ï¼Œä½†æ˜¯å¯ä»¥æœ‰å¤šä¸ªæ¬¡æ„é€ å‡½æ•°ã€‚æ¬¡æ„é€ å‡½æ•°ä¹Ÿå¯ä»¥ç”¨äºå®ä¾‹åŒ–ä¸€ä¸ªç±»ã€‚æ¬¡æ„é€ å‡½æ•°æ˜¯é€šè¿‡constructorå…³é”®å­—æ¥å®šä¹‰ï¼Œæ¬¡æ„é€ å‡½æ•°æ˜¯æœ‰å‡½æ•°ä½“çš„ï¼Œå¯ä»¥é€šè¿‡thiså…³é”®å­—æ¥è°ƒç”¨ä¸»æ„é€ å‡½æ•°ã€‚
class Student(val sno: String, val grade: Int, name: String, age: Int) : Person(name, age) { constructor(name: String, age: Int) : this(&amp;#34;&amp;#34;, 0, name, age) { //  } constructor() : this(&amp;#34;&amp;#34;, 0) { //  } } å½“ä¸€ä¸ªç±»æ²¡æœ‰æ˜¾å¼åœ°å®šä¹‰ä¸»æ„é€ å‡½æ•°ä¸”å®šä¹‰äº†æ¬¡æ„é€ å‡½æ•°æ—¶ï¼Œå®ƒå°±æ˜¯æ²¡æœ‰ä¸»æ„é€ å‡½æ•°çš„ã€‚å› ä¸ºæ²¡æœ‰ä¸»æ„é€ å‡½æ•°ï¼Œæ¬¡æ„é€ å‡½æ•°åªèƒ½ç›´æ¥è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼š
class Student : Person { constructor(name: String, age: Int) : super(name, age) } æ¥å£ åœ¨Javaä¸­ï¼Œä»»ä½•ä¸€ä¸ªç±»æœ€å¤šåªèƒ½ç»§æ‰¿ä¸€ä¸ªçˆ¶ç±»ï¼Œä½†å¯ä»¥å®ç°ä»»æ„å¤šæ¥å£ï¼ŒKotlinä¹Ÿæ˜¯ã€‚Javaä¸­ç»§æ‰¿ä½¿ç”¨çš„å…³é”®å­—ä¸ºextendsï¼Œå®ç°æ¥å£ä½¿ç”¨çš„å…³é”®å­—ä¸ºimplementsï¼Œè€ŒKotlinä¸­ç»Ÿä¸€ä½¿ç”¨å†’å·ï¼Œä¸­é—´ç”¨é€—å·è¿›è¡Œåˆ†éš”ã€‚Kotlinä¸­ä½¿ç”¨overrideå…³é”®å­—æ¥é‡å†™çˆ¶ç±»æˆ–è€…å®ç°æ¥å£ä¸­çš„å‡½æ•°ã€‚
interface Study { fun readBooks() fun doHomework() } class Student(val sno: String, val grade: Int, name: String, age: Int) : Person(name, age), Study { constructor(name: String, age: Int) : this(&amp;#34;&amp;#34;, 0, name, age) { //  } constructor() : this(&amp;#34;&amp;#34;, 0) { //  } override fun readBooks() { println(&amp;#34;$name is reading&amp;#34;) } override fun doHomework() { println(&amp;#34;$name is doing homework.&amp;#34;) } } å‚è€ƒ
</content>
    </entry>
    
     <entry>
        <title>Moyaä½¿ç”¨</title>
        <url>https://iihui.github.io/post/ios-moya/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html">  Moyaæ˜¯å¯¹Alamofireçš„å†æ¬¡å°è£…ï¼Œç”¨äºç®¡ç†ç½‘ç»œè¯·æ±‚ã€‚
 åŸºæœ¬æ­¥éª¤ å£°æ˜enumå¯¹è¯·æ±‚è¿›è¡Œåˆ†ç±» enum LCYApi { case login(name: String, password: String) } å®ç°TargetTypeåè®® TargetTypeåè®®å®šä¹‰äº†å„ä¸ªè¯·æ±‚çš„urlï¼Œå‚æ•°å’Œheaderç­‰ä¿¡æ¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
extension LCYApi: TargetType { var baseURL: URL { return NSURL.init(string: &amp;#34;http://test.com&amp;#34;)! as URL } var path: String { switch self { case .login: return &amp;#34;/login&amp;#34; } } var method: Method { return .post } //è¿™ä¸ªæ˜¯åšå•å…ƒæµ‹è¯•æ¨¡æ‹Ÿçš„æ•°æ®ï¼Œå¿…é¡»è¦å®ç°ï¼Œåªåœ¨å•å…ƒæµ‹è¯•æ–‡ä»¶ä¸­æœ‰ä½œç”¨ var sampleData: Data { return &amp;#34;&amp;#34;.data(using: String.Encoding.utf8)! } var task: Task { var parmeters: [String : Any] = [:] switch self { case .login(let name, let password): parmeters[&amp;#34;name&amp;#34;] = name parameters[&amp;#34;password&amp;#34;] = password } return .requestParameters(parameters: parmeters, encoding: URLEncoding.default) } //åœ¨è¯·æ±‚å¤´å†…æ·»åŠ å…¬å…±è¯·æ±‚å‚æ•°ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è‡ªå®šä¹‰closureè¿”å›endpointï¼Œåœ¨providerä¸­æ·»åŠ  var headers: [String : String]? { return [&amp;#34;Content-type&amp;#34;: &amp;#34;application/json&amp;#34;] } } å®šä¹‰Providerå¯¹è±¡ åœ¨Moyaä¸­ï¼Œæ˜¯ä½¿ç”¨Providerå¯¹è±¡å‘èµ·ç½‘ç»œè¯·æ±‚çš„ï¼Œå› æ­¤åœ¨ç½‘ç»œè¯·æ±‚ä¹‹å‰éœ€è¦å°†Providerå¯¹è±¡å…ˆåˆ›å»ºå¥½ã€‚Moyaä¸­Providerå¯¹è±¡åœ¨é”€æ¯çš„æ—¶å€™ä¼šå–æ¶ˆç½‘ç»œè¯·æ±‚ï¼Œä¸ºäº†å¾—åˆ°æ­£ç¡®çš„ç»“æœï¼Œå¿…é¡»ä¿è¯åœ¨ç½‘ç»œè¯·æ±‚æ—¶Providerå¯¹è±¡ä¸ä¼šè¢«é‡Šæ”¾ã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œå¯ä»¥å°†Providerå®ä¾‹è®¾ç½®ä¸ºç±»æˆå‘˜å˜é‡ï¼Œæˆ–è€…sharedå®ä¾‹ã€‚
let ApiProvider = MoyaProvider&amp;lt;LCYApi&amp;gt;() å‘èµ·ç½‘ç»œè¯·æ±‚ ApiProvider.request(LCYApi.login(name: &amp;#34;name&amp;#34;, password: &amp;#34;password&amp;#34;)) { result in switch result { case let .success(response): let data = response.data let statusCode = response.statusCode break case let .failure(error): break } } å‚è€ƒèµ„æ–™
</content>
    </entry>
    
     <entry>
        <title>PromiseKitä½¿ç”¨</title>
        <url>https://iihui.github.io/post/ios-promisekit/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html">  PromiseKitæ˜¯ç®€åŒ–å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§éå¿…è¦æ–¹å¼ï¼Œä½¿ç”¨å®ƒå¯ä»¥æé«˜ä»£ç çš„å¯è¯»æ€§å’Œç»´æŠ¤æ€§ï¼Œè®©ä»£ç æ›´åŠ ä¼˜é›…ï¼Œä¸»è¦ç”¨äºè§£å†³ã€Œå›è°ƒåœ°ç‹±ã€é—®é¢˜ã€‚
 å›è°ƒåœ°ç‹± ä¸ºäº†ä¿è¯å¼‚æ­¥ä»£ç æŒ‰é¡ºåºæ‰§è¡Œï¼Œé€šå¸¸å°†å¼‚æ­¥ä»£ç åµŒå¥—åœ¨å›è°ƒå‡½æ•°ä¸­ã€‚å¦‚æœå¼‚æ­¥æ–¹æ³•è¿‡å¤šï¼Œå°±ä¼šäº§ç”Ÿè¿‡å¤šçš„å›è°ƒï¼Œä½¿å¾—ä»£ç ä¸æ¸…æ™°ï¼Œéš¾ä»¥ç»´æŠ¤ã€‚å³äº§ç”Ÿæ‰€è°“çš„å›è°ƒåœ°ç‹±callback hellé—®é¢˜ã€‚ä¸‹é¢çš„fetchJSONä¸­ï¼Œäº§ç”Ÿäº†3æ¬¡å›è°ƒï¼Œå¯¼è‡´ä»£ç çœ‹èµ·æ¥æ¯”è¾ƒè´¹åŠ²ï¼Œå¯è¯»æ€§æ¯”è¾ƒå·®ï¼š
fetchJSON(fromURL: &amp;#34;someURL&amp;#34;) { response, results, error in switch response { case .success: fetchUserData(for: results) { response, results, error in switch response { case .success: loginUser(user: results) { response, _, error in switch response { case .success: // finally all of the callbacks are finished print(&amp;#34;Handle logic here&amp;#34;) case .fail: print(error) } } case .fail: print(error) } } case .fail: print(error) } } promiseè®¾è®¡æ¨¡å¼ promiseè®¾è®¡æ¨¡å¼ï¼Œå€Ÿç”¨ç”Ÿæ´»ä¸­çš„ã€Œæ‰¿è¯ºã€ä¸€è¯æ¥æè¿°å¼‚æ­¥ç¼–ç¨‹ä¸­çš„å›è°ƒæ¨¡å‹ã€‚ã€Œæ‰¿è¯ºã€æ˜¯ä¸€ç§å¯¹æœªæ¥çš„æœŸè®¸ï¼Œå®ƒæœ‰ä»¥ä¸‹ä¸¤ä¸ªç‰¹ç‚¹ï¼š
  æè¿°æœªæ¥çš„ä¸€ç§çŠ¶æ€æˆ–åŠ¨ä½œã€‚
  æ‰¿è¯ºå…·æœ‰ä¸ç¡®å®šæ€§ï¼Œå¯ä»¥è¢«å…‘ç°fullfillï¼Œä¹Ÿå¯èƒ½è¢«æ‹’ç»rejectedã€‚
  å¦‚æœéœ€è¦ç¼–å†™ä¸€ä¸ªæ–¹æ³•ä»ç½‘ç»œè·å–å›¾ç‰‡ï¼Œå› ä¸ºç½‘ç»œæ“ä½œä¸€èˆ¬éƒ½æ˜¯å¼‚æ­¥çš„ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨æ‰¿è¯ºæ¨¡å¼å®ç°è¿™ä¸ªæ–¹æ³•ã€‚é¦–å…ˆå®šä¹‰ä¸€ä¸ªè¿”å›æ‰¿è¯ºå¯¹è±¡çš„æ–¹æ³•ï¼Œå®ƒä¸ç›´æ¥è¿”å› Imageï¼Œåªæœ‰å½“è¯·æ±‚åˆ°éœ€è¦çš„å›¾ç‰‡æ—¶ï¼Œè¿™ä¸ªæ‰¿è¯ºæ‰ä¼šå…‘ç°ï¼Œç„¶åå°†Imageä¼ é€’åˆ°æ‰¿è¯ºå¯¹è±¡ä¸­ï¼Œå¦åˆ™æ‰¿è¯ºè¢«æ‹’ç»ï¼ˆç½‘ç»œé”™è¯¯æˆ–è€…å›¾ç‰‡ä¸å­˜åœ¨ï¼‰ã€‚
æ— è®ºå…‘ç°è¿˜æ˜¯æ‹’ç»ï¼Œè¿™ä¸ªæ‰¿è¯ºå¯¹è±¡éƒ½ä¼šæ ‡è®°ä¸ºå·²è§£å†³ï¼ˆresolve)ï¼Œå·²è§£å†³çš„æ‰¿è¯ºä¼šè¢«é”€æ¯ã€‚å¦‚æœæ—¢ä¸å…‘ç°ï¼Œä¹Ÿä¸æ‹’ç»ï¼Œåˆ™è¿™ä¸ªæ‰¿è¯ºä¼šä¸€ç›´æœ‰æ•ˆï¼Œå³ã€Œæœªè§£å†³ã€ã€‚
PromiseKité“¾ åœ¨PromiseKitä¸­ï¼Œé€šè¿‡promiseå¯¹è±¡å°†å¼‚æ­¥ä»»åŠ¡ä¸²æ¥èµ·æ¥çš„ï¼Œä¸€ä¸ªå…¸å‹çš„promiseé“¾å¦‚ä¸‹æ‰€ç¤ºï¼š
firstly { promise1() }.then { promise2() }.then { promise3() }.ensure { // something that should happen whatever the outcome æ— è®ºæ‰¿è¯ºæ˜¯å¦å…‘ç°ï¼Œéƒ½ä¼šæ‰§è¡Œensure }.done { // all promises are success resolved }.catch { // handle error here æ‰€æœ‰è¢«rejectedçš„æ‰¿è¯ºéƒ½ä¼šé›†ä¸­åœ¨è¿™é‡Œå¤„ç† } promiseå¯¹è±¡çŠ¶æ€ åœ¨PromiseKitä¸­promiseæ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚å®ƒä¿å­˜å¼‚æ­¥æ•°æ®æ“ä½œï¼ŒåŒæ—¶æä¾›ç»Ÿä¸€çš„å¼‚æ­¥æ•°æ®æ“ä½œäº‹ä»¶å¤„ç†çš„æ¥å£ï¼ŒPromiseKitå¯¹è±¡
  fulfilledæŒ‡çš„æ˜¯promiseå¯¹è±¡å½“å‰å¤„ç†çš„å¼‚æ­¥äº‹ä»¶å·²ç»æˆåŠŸå®Œæˆï¼›
  rejectedè¡¨ç¤ºpromiseå¯¹è±¡å½“å‰å¤„ç†çš„å¼‚æ­¥äº‹ä»¶æ²¡æœ‰æˆåŠŸã€‚
  promiseå¯¹è±¡æ‰§è¡Œå®Œthenå’Œcatchæ–¹æ³•åï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•ä¼šè¿”å›å…ˆå‰çš„promiseå¯¹è±¡ï¼ŒåŒæ—¶æ ¹æ®å¼‚æ­¥æ“ä½œç»“æœæ”¹å˜promiseå¯¹è±¡çš„çŠ¶æ€ã€‚
ä¸¾ä¸ªæ —å­ fetchJSON(fromURL: &amp;#34;someURL&amp;#34;) { response, results, error in switch response { case .success: fetchUserData(for: results) { response, results, error in switch response { case .success: loginUser(user: results) { response, _, error in switch response { case .success: // finally all of the callbacks are finished print(&amp;#34;Handle logic here&amp;#34;) case .fail: print(error) } } case .fail: print(error) } } case .fail: print(error) } } ä¸Šé¢çš„fetchJSONæ–¹æ³•æœ‰3ä¸ªå›è°ƒï¼ŒæŒ‰ç…§PromiseKité“¾æ¥ç»“æ„å¯ä»¥æ”¹é€ æˆ3ä¸ªæ–¹æ³•ï¼Œæ¯ä¸ªæ–¹æ³•è¿”å›promiseä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åä¾æ¬¡ä¸²æ¥èµ·æ¥ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
func promiseFetchJSON() -&amp;gt; Promise&amp;lt;String: Any]&amp;gt; { return Promise&amp;lt;String: Any]&amp;gt; { seal in fetchJSON(fromURL: &amp;#34;someURL&amp;#34;, completion: { response, results, error in switch response { case .success: seal.fulfill(results) case .fail: seal.reject(error) } }) } } promiseå¯¹è±¡åˆå§‹åŒ–çš„æ—¶å€™æä¾›äº†sealå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å®šä¹‰äº†å›è°ƒå®Œæˆçš„æ–¹æ³•ã€‚æ¥ç€ä¾æ¬¡æ”¹é€ promiseFetchUserDataå’ŒpromiseLoginUserï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
func promiseFetchUserData(user: String: Any]) -&amp;gt; Promise&amp;lt;User&amp;gt; { return Promise&amp;lt;User&amp;gt; { seal in fetchUserData(for: user, completion: { response, results, error in switch response { case .success: seal.fulfill(results) case .fail: seal.reject(error) } }) } } func promiseLoginUser(user: User) -&amp;gt; Promise&amp;lt;Bool&amp;gt; { return Promise&amp;lt;Bool&amp;gt; { seal in loginUser(user: user, completion: { response, _, error in switch response { case .success: seal.fulfill(true) case .fail: seal.reject(error) } }) } } æœ€åï¼Œå¥—ç”¨åŸºæœ¬è°ƒç”¨é“¾æ ¼å¼ï¼Œå°†å„ä¸ªè¿”å›promiseå¯¹è±¡çš„å¼‚æ­¥äº‹ä»¶ä¸²èµ·æ¥ï¼Œå½¢æˆä¸€ä¸ªå®Œæ•´çš„è°ƒç”¨é“¾ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
firstly { promiseFetchJSON() }.then { json in promiseFetchUserData(user: json) }.then { user in promiseLoginUser(user: user) }.ensure { // something that should happen whatever the outcome }.done { _ in // all promises are success resolved // handle final logic here }.catch { _ in // handle error here } thenå’Œdone åœ¨promiseé“¾ä¸­ï¼Œdoneä¸å†è¿”å›promiseï¼Œå®ƒä¸€èˆ¬ç”¨äºsuccesséƒ¨åˆ†ï¼Œè¡¨ç¤ºè°ƒç”¨é“¾æ— é”™è¯¯çš„è¿è¡Œï¼Œè€Œthenä¼šè¿”å›promiseå¯¹è±¡ï¼š
firstly { login() }.then { creds in fetch(avatar: creds.user) }.done { image in self.imageView = image } catchå¤„ç† æ¯ä¸ªpromiseéƒ½æ˜¯ä¸€ä¸ªè¡¨ç¤ºå•ä¸ªå¼‚æ­¥ä»»åŠ¡çš„å¯¹è±¡ã€‚å¦‚æœä»»åŠ¡å¤±è´¥ï¼Œå®ƒçš„promiseå°†æˆä¸ºrejectedã€‚äº§ç”Ÿrejected promiseså°†è·³è¿‡æ‰€æœ‰çš„thenï¼Œæ‰§è¡Œåç»­æ‰€æœ‰catchã€‚
firstly { login() }.then { creds in //... }.done { image in //... }.catch { // æ•´ä¸ª chain ä¸Šçš„é”™è¯¯éƒ½åˆ°äº†è¿™é‡Œ } ensure æ— è®ºchainåœ¨å“ªé‡Œç»“æŸï¼ŒæˆåŠŸæˆ–è€…å¤±è´¥ã€‚ensureç»ˆå°†è¢«æ‰§è¡Œï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨finallyæ¥å®Œæˆç›¸åŒçš„åŠŸèƒ½ï¼ŒåŒºåˆ«æ˜¯finallyæ²¡æœ‰è¿”å›å€¼ã€‚
firstly { // ... }.then { // ... }.done { // ... }.ensure { // ... }.catch { // ... } firstly { // ... }.done { // ... }.catch { // ... }.finally { //... } whenå¤šå¼‚æ­¥çš„åŒæ­¥ å¤šä¸ªå¼‚æ­¥æ“ä½œéœ€è¦åŒæ­¥çš„æ—¶å€™ï¼Œç»å¸¸ä¼šä½¿ç”¨group.enter()å’Œgroup.leave()ã€‚åœ¨PromoiseKitä¸­ä½¿ç”¨whenæ¥è¿›è¡Œå¤šä¸ªå¼‚æ­¥åŒæ­¥ï¼Œä½¿å¾—å¤šä¸ªå¼‚æ­¥æ“ä½œå˜å¾—æ›´ç®€å•ã€‚
// å¹¶è¡Œæ“ä½œ var result1: ...! var result2: ...! let group = DispatchGroup() group.enter() group.enter() operation1 { result1 = $0 group.leave() } operation2 { result2 = $0 group.leave() } group.notify(queue: .main) { finish(result1, result2) } ä½¿ç”¨whenä¹‹åï¼Œç®€åŒ–äº†å¤šä¸ªå¼‚æ­¥æ“ä½œçš„åŒæ­¥ï¼Œä½¿å¾—ä»£ç å˜å¾—æ¸…æ™°æ˜“æ‡‚ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
firstly { when(fulfilled: operation1(), operation2()) }.done { result1, result2 in // ... } ä¸»çº¿ç¨‹ æ‰€æœ‰thençš„blockså¦‚æœä¸ç‰¹åˆ«æŒ‡å®šï¼Œé»˜è®¤éƒ½æ˜¯åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œã€‚
å‚è€ƒèµ„æ–™ æºç  å…¥é—¨ ä½¿ç”¨ ä½¿ç”¨ ä½¿ç”¨
</content>
    </entry>
    
     <entry>
        <title>ä½¿ç”¨charles</title>
        <url>https://iihui.github.io/post/tool-charles/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html">  charlesæ˜¯ä¸€æ¬¾ç”¨äºiOSçš„æŠ“åŒ…å·¥å…·ï¼Œå¯ä»¥å°†å®ƒè®¾ç½®æˆç½‘ç»œè®¿é—®çš„ä»£ç†æœåŠ¡å™¨ï¼Œä½¿å¾—æ‰€æœ‰çš„ç½‘ç»œè®¿é—®è¯·æ±‚éƒ½é€šè¿‡å®ƒæ¥å®Œæˆï¼Œä»è€Œå®ç°ç½‘ç»œå°åŒ…çš„æˆªå–å’Œåˆ†æï¼Œä»¥ä½œä¸ºç½‘ç»œè®¿é—®çš„ç›‘è§†å™¨ã€‚å½“Appè¿æ¥charlesä»£ç†è®¿é—®äº’è”ç½‘æ—¶ï¼Œcharleså¯ä»¥ç›‘æ§è¿™ä¸ªAppå‘é€å’Œæ¥æ”¶çš„æ‰€æœ‰æ•°æ®ï¼Œè¿™äº›ä¿¡æ¯åŒ…æ‹¬request,responseå’Œheadersï¼ˆåŒ…å«cookiesä¸cachingï¼‰ã€‚
 å®‰è£…è¯ä¹¦ é¦–å…ˆæ‰“å¼€charlesï¼Œç„¶åç‚¹å‡»èœå•æ çš„Helpï¼Œé€‰æ‹©SSL Proxingï¼Œç„¶åé€‰æ‹©Install Charles Root Certificate on a Mobile Device or Remote Browserï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
æ¥ç€ä¼šå‡ºç°å¦‚ä¸‹å›¾çš„æç¤ºï¼š
æ ¹æ®æç¤ºï¼Œé¦–å…ˆåœ¨æ‰‹æœºä¸Šè®¾ç½®ä»£ç†(å…·ä½“ä»£ç†çš„è®¾ç½®è¦æ ¹æ®ç›¸åº”çš„æç¤º)ï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹æ‰€ç¤ºï¼š
è¾“å…¥chls.pro/sslåï¼Œcharlesä¼šå¼¹å‡ºä¸‹é¢çš„æç¤ºï¼Œç„¶åç‚¹å‡»å…è®¸ï¼š
æ¥ç€æ‰“å¼€Safariæµè§ˆå™¨ï¼Œè¾“å…¥chls.pro/sslï¼Œå†ç‚¹å‡»å‰å¾€ï¼Œç„¶åå¼¹å‡ºä¸‹è½½é…ç½®æè¿°æ–‡ä»¶ï¼Œç‚¹å‡»å…è®¸ï¼Œä¸‹è½½å¥½ä¹‹åæ‰“å¼€è®¾ç½®ï¼Œç„¶åä¼šå‡ºç°å·²ä¸‹è½½æè¿°æ–‡ä»¶æ­¥éª¤å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
ç‚¹å‡»å·²ä¸‹è½½æè¿°æ–‡ä»¶ï¼Œä¼šå¼¹å‡ºä¸‹é¢çš„ç•Œé¢ï¼Œå†ç‚¹å‡»å®‰è£…ï¼Œæ¥ç€ä¼šæœ‰è­¦å‘Šï¼Œå†æ¬¡ç‚¹å‡»å®‰è£…ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
httpsæŠ“åŒ… å®‰è£…å¥½æè¿°æ–‡ä»¶ä¹‹åï¼Œå°±å¯ä»¥è¿›è¡ŒæŠ“åŒ…ï¼Œé»˜è®¤httpçš„è¯·æ±‚éƒ½å¯ä»¥ç›´æ¥æŸ¥çœ‹ï¼Œä½†æ˜¯httpsçš„è¯·æ±‚ä¸èƒ½ç›´æ¥æŸ¥çœ‹ï¼Œéœ€è¦è®¾ç½®ã€‚æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥è®¾ç½®ï¼Œä¸€ç§æ˜¯ç›´æ¥åœ¨SSL Proxying Settingsä¸­è®¾ç½®ï¼Œå¦å¤–ä¸€ç§æ˜¯åœ¨è¯·æ±‚åœ°å€ç›®å½•ä¸Šé€‰ä¸­ç„¶åå³é”®è®¾ç½®Enable SSL Proxyingã€‚
ç¬¬ä¸€ç§ æ‰“å¼€charlesï¼Œåœ¨èœå•æ ä¸­é€‰æ‹©Proxyï¼Œå†é€‰æ‹©SSL Proxying Settingsï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
ç„¶åå‡ºç°å¦‚ä¸‹ç•Œé¢ï¼Œç‚¹å‡»Addï¼ŒæŠŠéœ€è¦æŠ“åŒ…çš„httpsè¯·æ±‚åœ°å€åŠ ä¸Šï¼š
ç¬¬äºŒç§ ç¬¬äºŒç§æ–¹å¼ï¼Œæ˜¯åœ¨å¸¦é”çš„httpsè¯·æ±‚ä¸Šå³é”®ï¼Œé€‰ä¸­Enable SSL Proxyingï¼Œç„¶åä¸‹æ¬¡å°±å¯ä»¥æŸ¥çœ‹httpsè¯·æ±‚çš„å†…å®¹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
ä¸‹å›¾ä¸€å¸¦é”çš„æ ‡å¿—è¡¨ç¤ºè¿˜ä¸èƒ½æŸ¥çœ‹çš„httpsè¯·æ±‚ï¼Œè®¾ç½®Enable SSL Proxyingä¹‹åæ‰èƒ½æŸ¥çœ‹ï¼Œä¸‹å›¾äºŒè®¾ç½®ä¹‹åçš„ï¼Œè“è‰²è¡¨ç¤ºå¯ä»¥æŸ¥çœ‹å…·ä½“çš„è¯·æ±‚ä¿¡æ¯ï¼š
 å‚è€ƒèµ„æ–™
</content>
    </entry>
    
     <entry>
        <title>åˆ˜æµ·å±é€‚é…</title>
        <url>https://iihui.github.io/post/ios-layout/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html">  è‡ªä»è‹¹æœæ¨å‡ºåˆ˜æµ·å±ä¹‹åï¼ŒAppå¼€å‘å°±è¦åšç›¸åº”çš„é€‚é…ï¼Œé€‚é…è¿‡ç¨‹é€šå¸¸ä¼šç”¨åˆ°topLayoutGuideå’ŒbottomLayoutGuideæˆ–è€…safeAreaLayoutGuideã€‚topLayoutGuideå’ŒbottomLayoutGuideæ˜¯UIViewControllerçš„ä¸¤ä¸ªä¸viewåŒçº§çš„åªè¯»å±æ€§ã€‚è¿™ä¸¤ä¸ªå±æ€§æ˜¯iOS 7.0å¼•å…¥çš„ï¼Œè€Œåœ¨iOS 11.0å¼€å§‹åºŸå¼ƒã€‚è€ŒsafeAreaLayoutGuideæ˜¯iOS 11.0ä¹‹åæ‰å¼•å…¥çš„ï¼Œå±äºUIViewControllerä¸­viewçš„ä¸€ä¸ªå±æ€§ã€‚
 topLayoutGuide  topLayoutGuideåŒºåˆ†ç•Œé¢æ˜¯å¦æœ‰å¯¼èˆªæ ã€‚è‹¥æ²¡æœ‰å¯¼èˆªæ ï¼ŒtopLayoutGuideçš„é¡¶éƒ¨ä¸çŠ¶æ€æ é¡¶éƒ¨å¯¹é½ï¼Œåº•éƒ¨ä¸çŠ¶æ€æ çš„åº•éƒ¨å¯¹é½ã€‚è‹¥æœ‰å¯¼èˆªæ ï¼ŒtopLayoutGuideçš„é¡¶éƒ¨ä¸çŠ¶æ€æ é¡¶éƒ¨å¯¹é½ï¼Œåº•éƒ¨ä¸å¯¼èˆªæ çš„åº•éƒ¨å¯¹é½ã€‚
 private func topLayoutGuideTest(){ let view = UIView() view.backgroundColor = .red self.view.addSubview(view) view.snp.makeConstraints(){ maker in maker.leading.equalToSuperview() maker.trailing.equalToSuperview() maker.top.equalTo(self.topLayoutGuide.snp.top) maker.bottom.equalTo(self.topLayoutGuide.snp.bottom) } } ä¸Šé¢çš„ä»£ç å¯¹äºæ ¹æ®æ˜¯å¦æœ‰å¯¼èˆªæ ï¼Œè¡¨ç°æ˜¯ä¸åŒçš„ã€‚å¦‚ä¸‹å›¾ä¸€è¡¨ç¤ºæ²¡æœ‰å¯¼èˆªæ ï¼Œå›¾äºŒè¡¨ç¤ºæœ‰å¯¼èˆªæ ã€‚
æ— å¯¼èˆªæ  æœ‰å¯¼èˆªæ  bottomLayoutGuide  bottomLayoutGuideè¦åŒºåˆ†æœ‰æ²¡æœ‰æ˜¯å¦åˆ˜æµ·å±ã€‚å¯¹äºåˆ˜æµ·å±bottomLayoutGuideåº•éƒ¨ä¸æ‰‹æœºå±å¹•åº•éƒ¨å¯¹å…¶ï¼ŒbottomLayoutGuideçš„é¡¶éƒ¨ä¸åº•éƒ¨åœ†è§’çš„é¡¶éƒ¨å¯¹é½ï¼›å¯¹äºéåˆ˜æµ·å±ï¼ŒbottomLayoutGuideçš„é¡¶éƒ¨å’Œåº•éƒ¨ä¸éƒ½ä¸å±å¹•åº•éƒ¨å¯¹é½ã€‚
 private func bottomLayoutGuideTest(){ let view = UIView() view.backgroundColor = .red self.view.addSubview(view) view.snp.makeConstraints(){ maker in maker.leading.equalToSuperview() maker.trailing.equalToSuperview() maker.top.equalTo(self.bottomLayoutGuide.snp.top) maker.bottom.equalTo(self.bottomLayoutGuide.snp.bottom) } } private func bottomLayoutGuideTest(){ let view = UIView() view.backgroundColor = .red self.view.addSubview(view) view.snp.makeConstraints(){ maker in maker.leading.equalToSuperview() maker.trailing.equalToSuperview() maker.bottom.equalTo(self.bottomLayoutGuide.snp.top) maker.height.equalTo(20) } } self.view.addSubview(self.performanceView) self.performanceView.snp.makeConstraints { maker in if #available(iOS 11.0, *) { maker.trailing.equalTo(self.view.safeAreaLayoutGuide.snp.trailing).inset(20) maker.bottom.equalTo(self.view.safeAreaLayoutGuide.snp.bottom).inset(15) } else { maker.trailing.equalToSuperview().inset(20) maker.bottom.equalTo(self.bottomLayoutGuide.snp.top).inset(-15) } maker.width.equalTo(200) maker.height.equalTo(40) }  safeAreaLayoutGuide  iOS 11.0ä¹‹åå¼•å…¥äº†safe areaï¼Œå®ƒç”¨äºå®šä¹‰è§†å›¾çš„å®‰å…¨å¯è§†åŒºåŸŸï¼Œå¯ä»¥ä¿è¯åœ¨safe areaåŒºåŸŸå†…çš„å­viewä¸ä¼šè¢«é®æŒ¡ã€‚UIKitå®šä¹‰çš„navigation controllerã€tabbar controllerä¼šå±•ç¤ºä¸€ä¸ªé¡¶éƒ¨çš„å¯¼èˆªæ æˆ–è€…åº•éƒ¨çš„tabbarï¼Œä¹Ÿä¼šé®æŒ¡ä¸€éƒ¨åˆ† child view controllerçš„è§†å›¾ã€‚safe areaæè¿°å½“å‰viewä¸è¢«çˆ¶Controllerçš„æ§ä»¶æŒ¡ä½çš„åŒºåŸŸã€‚
 private func safeAreaTest(){ let view = UIView(frame: .zero) view.backgroundColor = .red self.view.addSubview(view) view.snp.makeConstraints(){ maker in maker.leading.equalTo(self.view.safeAreaLayoutGuide.snp.leading) maker.trailing.equalTo(self.view.safeAreaLayoutGuide.snp.trailing) maker.top.equalTo(self.view.safeAreaLayoutGuide.snp.top) maker.bottom.equalTo(self.view.safeAreaLayoutGuide.snp.bottom) } } åº•éƒ¨é€‚é… è¿™ä¸¤å¤©åœ¨åšä¸€ä¸ªé€‰æ‹©å™¨æ—¶éœ€è¦åœ¨åº•éƒ¨åŠ ä¸¤ä¸ªæŒ‰é’®ï¼Œè¿™æ¶‰åŠåˆ°åˆ˜æµ·å±çš„é€‚é…é—®é¢˜ï¼Œå¯ä»¥åœ¨storyBoardä¸­é€šè¿‡çº¦æŸæ¥å®ç°é€‚é…ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
ä¹Ÿå¯ä»¥é€šè¿‡safeAreaLayoutGuideæˆ–è€…bottomLayoutGuideè¾¾åˆ°é€‚é…çš„ç›®çš„ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š
safeAreaLayoutGuide private func setupUI(){ let view = UIView() view.backgroundColor = .red self.view.addSubview(view) view.snp.makeConstraints(){ maker in maker.bottom.equalToSuperview() maker.top.equalTo(self.view.safeAreaLayoutGuide.snp.bottom).inset(60) maker.leading.equalToSuperview() maker.trailing.equalToSuperview() } } bottomLayoutGuide private func setupUI(){ let view = UIView() view.backgroundColor = .red self.view.addSubview(view) view.snp.makeConstraints(){ maker in maker.top.equalTo(self.bottomLayoutGuide.snp.top .inset(-60) maker.bottom.equalToSuperview() maker.leading.equalToSuperview() maker.trailing.equalToSuperview() } } é¡¶éƒ¨é€‚é… åŒæ ·é¡¶éƒ¨çš„é€‚é…å¯ä»¥ä½¿ç”¨safeAreaLayoutGuideæˆ–è€…bottomLayoutGuideè¾¾åˆ°ç›®çš„ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š
safeAreaLayoutGuide private func setupUI2() { let topView = UIView() topView.backgroundColor = .blue self.view.addSubview(topView) topView.snp.makeConstraints { maker in maker.leading.equalToSuperview() maker.trailing.equalToSuperview() maker.top.equalToSuperview() maker.bottom.equalTo(self.view.safeAreaLayoutGuide.snp.top).inset(60) } } topLayoutGuide private func setupUI3() { let topView = UIView() topView.backgroundColor = .blue self.view.addSubview(topView) topView.snp.makeConstraints { maker in maker.leading.equalToSuperview() maker.trailing.equalToSuperview() maker.top.equalToSuperview() maker.bottom.equalTo(self.topLayoutGuide.snp.bottom).inset(-60) } } å‚è€ƒèµ„æ–™
</content>
    </entry>
    
     <entry>
        <title>UIImage</title>
        <url>https://iihui.github.io/post/ios-image/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html">  iOSå¼€å‘çš„æ—¶å€™ç»å¸¸é‡åˆ°è¦å¤„ç†å›¾ç‰‡ï¼Œè¿™ç¯‡æ–‡ç« è®°å½•ä¸€ä¸‹ä¸€äº›å›¾ç‰‡å¤„ç†å‡½æ•°
 æ·»åŠ å¤–åœ† /// å°†å›¾ç‰‡è£å‰ªä¸ºå¸¦å¤–å›´â­•ï¸çš„åœ†å½¢å›¾ /// - Parameters: /// - rail: å¤–å›´åœ†çš„å®½åº¦ /// - color: å¤–å›´åœ†çš„é¢œè‰² /// - Returns: ç”Ÿæˆæ–°çš„å›¾ç‰‡ func circleImageWidthRail(rail: CGFloat, color: UIColor) -&amp;gt; UIImage? { let size = CGSize(width: self.size.width &#43; 2 * rail, height: self.size.height &#43; 2 * rail) UIGraphicsBeginImageContextWithOptions(size, false, 0) let path = UIBezierPath(ovalIn: CGRect(x: 0, y: 0, width: size.width, height: size.height)) color.set() path.fill() let imgPath = UIBezierPath(ovalIn: CGRect(x: rail, y: rail, width: self.size.width, height: self.size.height)) imgPath.addClip() self.draw(at: CGPoint(x: rail, y: rail)) let newImg = UIGraphicsGetImageFromCurrentImageContext() UIGraphicsEndImageContext() return newImg } è£å‰ªä¸ºåœ†å½¢ /// å°†å›¾ç‰‡è£å‰ªä¸ºåœ†å½¢å›¾ /// - Returns:ç”Ÿæˆæ–°çš„å›¾ç‰‡ func circleImage() -&amp;gt; UIImage? { UIGraphicsBeginImageContextWithOptions(self.size, false, 0) let imgPath = UIBezierPath(ovalIn: CGRect(x: 0, y: 0, width: self.size.width, height: self.size.height)) imgPath.addClip() self.draw(at: CGPoint(x: 0, y: 0)) let newImg = UIGraphicsGetImageFromCurrentImageContext() UIGraphicsEndImageContext() return newImg }  å‚è€ƒèµ„æ–™
</content>
    </entry>
    
     <entry>
        <title>UITabBarController</title>
        <url>https://iihui.github.io/post/ios-uitabbar/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html"> æ·»åŠ Tab æ—¢å¯ä»¥ç›´æ¥æ·»åŠ UITabBarControlleråˆ°storyboardä¸­ï¼Œä¹Ÿå¯ä»¥åœ¨ç°æœ‰çš„ViewControllerä¸­æ·»åŠ UITabBarControllerã€‚
ç›´æ¥æ·»åŠ  å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œåœ¨Xcode 12å³ä¸Šè§’ç‚¹å‡»&#43;å·ï¼Œç„¶åè¾“å…¥Tabï¼Œåœ¨å‡ºç°çš„æç¤ºä¸­é€‰ä¸­Tab Bar Controllerï¼Œæ‹–åˆ°storyboardï¼Œç„¶åæ¾å¼€å³å¯æ·»åŠ ï¼š
å·²æœ‰ä¸­æ·»åŠ  åœ¨å·²æœ‰çš„ViewControllerä¹‹å‰æ·»åŠ Tab Bar Controllerï¼Œæœ‰ä¸¤ç§æ–¹å¼ã€‚ç¬¬ä¸€ç§æ˜¯åœ¨storyboardç¼–è¾‘ç•Œé¢çš„å³ä¸‹è§’çš„Embed Inä¸­æ·»åŠ ï¼›å¦ä¸€ç§æ˜¯åœ¨èœå•æ çš„Editorä¸‹æ·»åŠ ã€‚
Storyboardç¼–è¾‘ç•Œé¢å³ä¸‹è§’ å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œåœ¨storyboardä¸­å…ˆé€‰æ‹©å·²æœ‰çš„ViewControllerï¼Œå¦‚ä¸‹å›¾æ ‡å·1æ‰€ç¤ºï¼Œå…ˆé€‰ä¸­å·¦è¾¹ç¬¬ä¸€ä¸ªæŒ‰é’®ï¼Œç„¶ååœ¨æ ‡å·2å¤„ç‚¹å‡»ï¼Œé€‰ä¸­Tab Bar Controller:
æ·»åŠ Navigation èœå•æ Editorä¸‹ é™¤äº†åœ¨storyboardå³ä¸‹è§’æ·»åŠ ï¼Œä¹Ÿå¯ä»¥åœ¨èœå•æ ä¸­æ·»åŠ ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œé¦–å…ˆé€‰ä¸­å·²æœ‰çš„ViewControllerï¼Œç„¶ååœ¨èœå•æ ä¸Šé€‰æ‹©Editor --&amp;gt; Embed In --&amp;gt; Tab Bar Controller:
åŒå‡»æ£€æµ‹ private let intervalThreshold: Double = 0.8 private var dkLastClickedDate: Date? = nil private var ePaperLastClickedDate: Date? = nil func tabBarController(_ tabBarController: UITabBarController, shouldSelect viewController: UIViewController) -&amp;gt; Bool { if tabBarController.selectedIndex == 1,let nav = tabBarController.selectedViewController as? UINavigationController,let vc:NewsViewController = nav.visibleViewController let date = Date() switch vc.segmentedView.selectedIndex { case 0: if let lastDate = self.ePaperLastClickedDate, (date.timeIntervalSince1970 - lastDate.timeIntervalSince1970) &amp;lt; intervalThreshold { NotificationCenter.default.post(name: .ePaperScrollToTopNotification, object: nil) } self.ePaperLastClickedDate = date case 1: if let lastDate = self.dkLastClickedDate, (date.timeIntervalSince1970 - lastDate.timeIntervalSince1970) &amp;lt; intervalThreshold { NotificationCenter.default.post(name: .dkScrollToTopNotification, object: nil) } self.dkLastClickedDate = date default: break } } return true } </content>
    </entry>
    
     <entry>
        <title>Goæšä¸¾</title>
        <url>https://iihui.github.io/post/go-iota/</url>
        <categories>
          <category>go</category>
        </categories>
        <tags>
          <tag>go</tag>
        </tags>
        <content type="html">  Goä¸­æ²¡æ˜ç¡®æ„ä¹‰ä¸Šçš„enumå®šä¹‰ï¼Œä½†æ˜¯å¯ä»¥å€ŸåŠ©iotaæ¥ç”Ÿæˆä¸€ç»„è‡ªå¢å¸¸é‡å€¼æ¥å®ç°æšä¸¾ï¼Œiotaæ˜¯ä¸€ä¸ªæ¯”è¾ƒå¥‡æ€ªçš„å­˜åœ¨ï¼Œå®ƒåªèƒ½ç”¨åœ¨constçš„å£°æ˜ä¸­ï¼Œæ˜¯ä¸€ä¸ªä»0å¼€å§‹çš„è¡Œæ•°ç´¢å¼•å™¨ã€‚
 iota æŒ‰è¡Œé€’å¢ é¦–å…ˆï¼Œiotaæ˜¯ä¸€ä¸ªè¡Œæ•°ç´¢å¼•å™¨,å®ƒæ˜¯æŒ‰è¡Œé€’å¢çš„ã€‚
const ( x1 = iota //x1=0 	x2 //x2=1 	x3 //x3=2 	x4 //x4=3 ) fmt.Println(x1, x2, x3, x4) //0 1 2 3 const ( _, _ = iota, iota * 10 //0 0*10 	a, b //1 1*10 	c, d //2 2*10 ) const ( _ = iota //iota ä»£è¡¨0 	KB = 1 &amp;lt;&amp;lt; (10 * iota) //iota ä»£è¡¨1 	MB //iota ä»£è¡¨2 	GB ) println(KB,MB,GB) //1024 1048576 1073741824  iotaæ¢å¤ å¦‚æœä¸­æ–­iotaè‡ªå¢ï¼Œåˆ™å¿…é¡»æ˜¾å¼æ¢å¤ï¼Œä¸”åç»­è‡ªå¢æŒ‰è¡Œåºé€’å¢ï¼Œè€Œä¸æ˜¯C&#43;&#43;è¯­è¨€ä¸­çš„enumé‚£æ ·æŒ‰ä¸Šä¸€ä¸ªå–å€¼é€’å¢ã€‚
const ( a = iota b // 1 	c = 100 // ä¸­æ–­iotaçš„è®¡æ•° 	d // 100 	e = iota // 4ï¼Œæ˜¾å¼æ¢å¤ï¼Œå› ä¸ºæ˜¯è¡Œå¢ï¼Œæ‰€ä»¥å¾—åˆ°æ˜¯4 	f // 5 ) fmt.Println(a, b, c, d, e, f) //0 1 100 100 4 5  å¤šä¸ªiota å¯åœ¨å¤šå¸¸é‡ä¸­å®šä¹‰ä¸­ä½¿ç”¨å¤šä¸ªiotaï¼Œä»–ä»¬æ˜¯å„è‡ªå•ç‹¬è®¡æ•°ï¼Œåªé¡»ç¡®ä¿ç»„ä¸­æ¯è¡Œå¸¸é‡çš„åˆ—æ•°é‡ç›¸åŒå³å¯ã€‚
const ( _, _ = iota, iota a, b c, d ) fmt.Println(a, b, c, d) // 1 1 2 2 constä¸­çš„iotaè‡ªå¢é»˜è®¤æ•°æ®ç±»å‹æ˜¯intï¼Œä½†ä¹Ÿå¯æ˜¾å¼æŒ‡å®šç±»å‹ã€‚
const ( x = iota y float32 = iota //æŒ‡å®šç±»å‹ 	z = iota ) fmt.Println(x, y, z) //0 1 2  </content>
    </entry>
    
     <entry>
        <title>Goå¸¸é‡</title>
        <url>https://iihui.github.io/post/go-let/</url>
        <categories>
          <category>go</category>
        </categories>
        <tags>
          <tag>go</tag>
        </tags>
        <content type="html">  å¸¸é‡å€¼å¿…é¡»æ˜¯ç¼–è¯‘æœŸé—´å¯ç¡®å®šçš„å­—ç¬¦ã€å­—ç¬¦ä¸²ã€æ•°å­—æˆ–è€…å¸ƒå°”å€¼ã€‚å¸¸é‡çš„ç±»å‹å¯ä»¥æŒ‡å®šï¼Œæˆ–è€…ç”±ç¼–è¯‘å™¨é€šè¿‡åˆå§‹åŒ–å€¼æ¨æ–­ï¼Œä¸æ”¯æŒCæˆ–è€…C&#43;&#43;æ•°å­—ç±»å‹åç¼€ã€‚å¯åœ¨å‡½æ•°ä»£ç å—ä¸­å®šä¹‰å¸¸é‡ï¼Œä¸ä½¿ç”¨çš„å¸¸é‡ä¸ä¼šå¼•å‘ç¼–è¯‘é”™è¯¯ã€‚
 const x, y int = 12, 0x12 const s = &amp;#34;hello world&amp;#34; const c = &amp;#39;æˆ‘&amp;#39; const ( i, f = 1, 0.123 b = false ) æ˜¾å¼è½¬æ¢ åœ¨å®šä¹‰å¸¸é‡æ—¶ï¼Œå¦‚æœæ˜¾å¼æŒ‡å®šç±»å‹ï¼Œå¿…é¡»ç¡®ä¿å¸¸é‡å·¦å³å€¼ç±»å‹ä¸€è‡´ï¼Œéœ€è¦æ—¶å¯åšæ˜¾å¼è½¬æ¢ã€‚å³å€¼ä¸èƒ½è¶…å‡ºå¸¸é‡ç±»å‹çš„å–å€¼èŒƒå›´ï¼Œå¦åˆ™ä¼šå¼•å‘æº¢å‡ºé”™è¯¯ã€‚
const ( x, y int = 99, -999 b byte = byte(x) //xæ˜¯intç±»å‹å¿…é¡»æ˜¾å¼è½¬æ¢ä¸ºbyte 	n = uint8(y) //è½¬æ¢æº¢å‡ºï¼Œä¼šæŠ¥é”™ ) å¸¸é‡å€¼ä¹Ÿå¯ä»¥æ˜¯æŸäº›ç¼–è¯‘å™¨èƒ½å¤Ÿè®¡ç®—å‡ºç»“æœçš„è¡¨è¾¾å¼ï¼Œå¦‚unsafe.SizeOf,len,capç­‰ã€‚
const ( ptrSize = unsafe.Sizeof(uintptr(0)) strSize = len(&amp;#34;hello world&amp;#34;) ) åœ¨å¸¸é‡ç»„ä¸­å¦‚æœä¸æŒ‡å®šç±»å‹å’Œåˆå§‹å€¼ï¼Œåˆ™ä¸ä¸Šä¸€è¡Œéç©ºå¸¸é‡å³å€¼ï¼ˆè¡¨è¾¾å¼æ–‡æœ¬ï¼‰ç›¸åŒã€‚
const ( x uint16 = 120 y s = &amp;#34;abc&amp;#34; z ) println(x, y, s, z) // 120 120 abc abc æ²¡æœ‰åœ°å€ æ•°å­—å¸¸é‡ä¸ä¼šåˆ†é…å­˜å‚¨ç©ºé—´ï¼Œæ— é¡»åƒå˜é‡é‚£æ ·é€šè¿‡å†…å­˜å¯»å€æ¥å–å€¼ï¼Œå› æ­¤æ— æ³•è·å–åœ°å€ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
var x = 0x100 const y = 0x200 println(&amp;amp;x, x) println(&amp;amp;y, y) //cannot take the address of y  </content>
    </entry>
    
     <entry>
        <title>Goå˜é‡</title>
        <url>https://iihui.github.io/post/go-var/</url>
        <categories>
          <category>go</category>
        </categories>
        <tags>
          <tag>go</tag>
        </tags>
        <content type="html"> Goä¸­æ¯ä¸€ä¸ªæ–‡ä»¶éƒ½ä»¥packageå£°æ˜å¼€å¤´ï¼Œè¡¨æ˜æ–‡ä»¶å±äºå“ªä¸€ä¸ªåŒ…ã€‚packageå£°æ˜åé¢æ˜¯importå£°æ˜ï¼Œç„¶åæ˜¯ä¸åŒºåˆ†é¡ºåºçš„åŒ…çº§åˆ«çš„ç±»å‹ï¼Œå˜é‡ã€å¸¸é‡å’Œå‡½æ•°çš„å£°æ˜ã€‚å¯¹äºåŒ…çº§åˆ«çš„å£°æ˜ä¸ä»…å¯¹äºåŒ…å«å…¶å£°æ˜çš„æºæ–‡ä»¶å¯è§ï¼Œè€Œä¸”å¯¹äºåŒä¸€åŒ…é‡Œé¢çš„æ‰€æœ‰çš„æºæ–‡ä»¶å¯è§ã€‚
å˜é‡å‘½å   ä»¥å­—æ¯ï¼ˆè¿™é‡ŒæŒ‡çš„æ˜¯å¹¿ä¹‰å­—æ¯ï¼Œåªè¦èƒ½å¤Ÿè¢«unicodeç¼–ç å³å¯ï¼‰æˆ–ä¸‹åˆ’çº¿å¼€å§‹ï¼Œç”±å¤šä¸ªå­—æ¯ï¼Œæ•°å­—ä¸‹åˆ’çº¿ç»„åˆè€Œæˆã€‚å°½ç®¡Goæ”¯æŒä½¿ç”¨æ±‰å­—ç­‰unicodeå­—ç¬¦å‘½åï¼Œä½†ä»ç¼–ç¨‹ä¹ æƒ¯ä¸Šæ¥è¯´ï¼Œè¿™å¹¶ä¸æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚
  åœ¨Goä¸­å˜é‡çš„æ ‡è¯†ç¬¦æ˜¯åŒºåˆ†å¤§å°å†™ã€‚
  å˜é‡åé¦–å­—æ¯å¤§å°å†™å†³å®šäº†å…¶ä½œç”¨åŸŸï¼Œé¦–å­—æ¯å¤§å†™çš„ä¸ºå¯¼å‡ºæˆå‘˜ï¼Œå¯è¢«å¤–éƒ¨ä¸åŒçš„åŒ…ä½¿ç”¨ï¼Œè€Œå°å†™ä»…èƒ½åœ¨åŒ…å†…ä½¿ç”¨ã€‚
  å¯¹å˜é‡æ ‡è¯†ç¬¦ä¹ æƒ¯ä¸Šä½¿ç”¨é©¼å³°å‘½åæ³•ã€‚
  ä¹ æƒ¯ä¸ŠGoå¯¹ä¸“æœ‰åè¯é€šå¸¸ä¼šå…¨éƒ¨å¤§å†™ï¼ˆè¿™æ ·ä¸€æ¥è¿™ä¸ªä¸“æœ‰åè¯å°±æ˜¯å¯å¯¼å‡ºçš„äº†ï¼‰ã€‚
  æœ‰ä¸€ä¸ªåä¸º_çš„ç‰¹æ®Šæˆå‘˜ï¼ˆç§°ä¸ºç©ºå ä½ç¬¦ï¼‰ï¼Œé€šå¸¸ä½œä¸ºå¿½ç•¥å ä½ç¬¦ä½¿ç”¨ï¼Œå¯ä»¥ç”¨ä½œè¡¨è¾¾å¼å·¦å€¼ï¼Œä½†æ— æ³•è¯»å–å†…å®¹ï¼Œå³ç©ºæ ‡è¯†ç¬¦åªå†™ä¸è¯»ã€‚
  ç©ºæ ‡è¯†ç¬¦å¯ç”¨æ¥ä¸´æ—¶è§„é¿ç¼–è¯‘å™¨å¯¹æœªä½¿ç”¨å˜é‡å’Œå¯¼å…¥åŒ…çš„é”™è¯¯æ£€æŸ¥ï¼Œä½†æ˜¯å®ƒæ˜¯é¢„ç½®æˆå‘˜ï¼Œä¸èƒ½é‡æ–°å®šä¹‰ã€‚ å¯¼å…¥åŒ…æ—¶ä½¿ç”¨ç©ºæ ‡è¯†ç¬¦çš„ç›®çš„æ˜¯ä¸ºäº†ä½¿ç”¨åŒ…ä¸­åˆå§‹åŒ–å‡½æ•°ä»¥è¿›è¡Œåˆå§‹åŒ–ï¼Œè€Œä¸€èˆ¬çš„å˜é‡å®šä¹‰ä¸­ä½¿ç”¨ç©ºæ ‡è¯†ç¬¦æ˜¯ä¸ºäº†èˆå¼ƒé”™è¯¯çš„å¤„ç†ï¼ˆä¸€èˆ¬ä¸å»ºè®®è¿™ä¹ˆåšï¼Œå› ä¸ºå‡ºç°é”™è¯¯æ—¶åº”å½“è¿›è¡Œç›¸åº”çš„å¤„ç†ï¼‰ã€‚
y,_ := strconv.Atoi(&amp;#34;12&amp;#34;) println(y)    å˜é‡å£°æ˜ å˜é‡çš„å£°æ˜æ–¹å¼æœ‰3ç§ï¼šâ‘ ä½¿ç”¨varå…³é”®å­—å£°æ˜å˜é‡ï¼› â‘¡ä½¿ç”¨ç®€çŸ­æ¨¡å¼ï¼› â‘¢ä½¿ç”¨newå‡½æ•°æ¥å£°æ˜å˜é‡ã€‚
ä½¿ç”¨varå®šä¹‰å˜é‡ Goæ˜¯ä¸€ç§é™æ€ç±»å‹è¯­è¨€ï¼Œæ‰€ä»¥å˜é‡æ€»éœ€è¦æœ‰ç¡®å®šçš„ç±»å‹ï¼Œç±»å‹å†³å®šäº†å˜é‡çš„å†…å­˜é•¿åº¦å’Œå­˜å‚¨æ ¼å¼ã€‚
varå£°æ˜ä¸€ä¸ªå…·ä½“ç±»å‹çš„å˜é‡ï¼Œç„¶åç»™å®ƒé™„åŠ ä¸€ä¸ªåå­—ï¼Œè®¾ç½®å®ƒçš„åˆå§‹å€¼ï¼Œæ¯ä¸€ä¸ªå£°æ˜æœ‰ä¸€ä¸ªé€šç”¨çš„å½¢å¼ï¼š
var name type = expression è¿™é‡Œçš„ç±»å‹å’Œè¡¨è¾¾å¼å¯ä»¥çœç•¥ä¸€ä¸ªï¼Œä½†æ˜¯ä¸èƒ½å…¨éƒ¨çœç•¥ã€‚å¦‚æœç±»å‹çœç•¥ï¼Œé‚£ä¹ˆå˜é‡çš„ç±»å‹ç”±è¡¨è¾¾å¼å†³å®šï¼›å¦‚æœè¡¨è¾¾å¼çœç•¥ï¼Œåˆ™å˜é‡çš„åˆå§‹å€¼å¯¹åº”å…¶ç±»å‹é›¶å€¼ã€‚
var x int var y = false println(x,y) è¿è¡Œæ—¶å†…å­˜åˆ†é…æ“ä½œä¼šç¡®ä¿å˜é‡è‡ªåŠ¨åˆå§‹åŒ–ä¸ºäºŒè¿›åˆ¶é›¶å€¼(zero value)ã€‚ç±»å‹é›¶å€¼ï¼šå¯¹äºæ•°å­—æ˜¯0ï¼Œå¯¹äºå¸ƒå°”å‹æ˜¯falseï¼Œå¯¹äºå­—ç¬¦ä¸²æ˜¯â€œâ€ï¼Œå¯¹äºæ¥å£å’Œå¼•ç”¨ç±»å‹ï¼ˆsliceï¼ŒæŒ‡é’ˆï¼Œmapï¼Œé€šé“ï¼Œå‡½æ•°ï¼‰æ˜¯nilã€‚è€Œå¯¹äºæ•°ç»„ï¼Œç»“æ„ä½“è¿™æ ·çš„å¤åˆç±»å‹ï¼Œé›¶å€¼æ˜¯å…¶æ‰€æœ‰å…ƒç´ æˆ–æˆå‘˜çš„é›¶å€¼ã€‚
  ä½¿ç”¨varå®šä¹‰å˜é‡ï¼Œç±»å‹æ”¾åœ¨å˜é‡ååé¢var x intã€‚è¿™æ ·çš„å¥½å¤„æ˜¯å®šä¹‰å¤šä¸ªæŒ‡é’ˆå˜é‡æ—¶ï¼Œä¸å¿…æ¯æ¬¡éƒ½å£°æ˜æ˜¯æŒ‡é’ˆå˜é‡ã€‚
  ä½¿ç”¨varè¿›è¡Œå˜é‡å®šä¹‰çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨åˆå§‹å€¼ã€‚ä½¿ç”¨åˆå§‹å€¼æ—¶ï¼Œå¯ä»¥çœç•¥ç±»å‹ï¼ŒGoä¼šè‡ªåŠ¨è¿›è¡Œç±»å‹æ¨å¯¼ï¼Œä¾‹å¦‚var x = 12 æ­¤æ—¶xçš„ç±»å‹è¢«æ¨å¯¼ä¸ºintã€‚
  åŒæ ·å¯ä»¥ä¸€æ¬¡å¯ä»¥å®šä¹‰å¤šä¸ªå˜é‡ï¼Œä½¿ç”¨é€—å·éš”å¼€:  var x,y intã€‚
  å¯ä»¥ä½¿ç”¨æˆç»„çš„æ–¹å¼å®šä¹‰ä¸ªå¤šä¸ªæˆ–å¤šç§å˜é‡ï¼Œå³ä½¿ç”¨ä¸€ä¸ªvarå…³é”®è¯å®šä¹‰å¤šç§ç±»å‹çš„å˜é‡ï¼š
var ( x, y int a, s = 100, &amp;#34;abc&amp;#34; //è¿™ä¸€è¡Œä¸¤ä¸ªå˜é‡ï¼Œå¹¶ä¸”ç±»å‹ä¸ç›¸åŒ ) fmt.Println(x, y, a, s) //0 0 100 abc   èµ‹å€¼æ“ä½œå¿…é¡»ç¡®ä¿å·¦å³å€¼ç±»å‹ç›¸åŒï¼Œï¼ˆæœ‰3ç§æƒ…å†µä¾‹å¤–ï¼Œè¯¦è§åŸºæœ¬ç±»å‹ä¸­çš„ç±»å‹è½¬æ¢è§„åˆ™ï¼‰å¦‚æœç­‰å¼ä¸¤è¾¹çš„ç±»å‹ä¸åŒåˆ™ä¼šå‡ºç°ç¼–è¯‘é”™è¯¯ã€‚
  ç¼–è¯‘å™¨å°†æœªä½¿ç”¨ã€Œé‡æ–°èµ‹å€¼ä¸ç®—åšä½¿ç”¨ã€çš„å±€éƒ¨å˜é‡å½“ä½œé”™è¯¯å¤„ç†ã€‚å…¨å±€å®šä¹‰çš„å˜é‡å¦‚æœæœªä½¿ç”¨ï¼Œç¼–è¯‘å™¨ä¸ä¼šæŠ¥é”™ï¼›å±€éƒ¨å®šä¹‰çš„å˜é‡ä¸€å®šè¦ä½¿ç”¨ï¼Œå¹¶ä¸”é‡æ–°èµ‹å€¼ä¸ç®—æ˜¯ä½¿ç”¨ã€‚ä¹Ÿå°±æ˜¯è¯´å±€éƒ¨å˜é‡å¿…é¡»è¢«è¯»ä¸€æ¬¡ï¼Œç¼–è¯‘å™¨æ‰ä¸ä¼šæŠ¥é”™ã€‚
  ç¼–è¯‘å™¨ç¡®ä¿å˜é‡æ€»æ˜¯è¢«åˆå§‹åŒ–ç±»å‹0å€¼ï¼Œåœ¨å‡½æ•°å†…éƒ¨è¿˜å¯ä»¥ä½¿ç”¨ç®€ç•¥å½¢å¼æ¥å®šä¹‰å˜é‡ã€‚
var s = &amp;#34;hello world&amp;#34; // ä½¿ç”¨ç±»å‹æ¨å¯¼ï¼Œç¼–è¯‘å™¨å°†sçš„ç±»å‹æ¨å¯¼ä¸ºstring y := make([]int, 0, 5) //å‡½æ•°å†…éƒ¨çœç•¥ var å…³é”®å­—ï¼Œæ›´ç®€å•çš„æ¨¡å¼ fmt.Println(y) //yæ˜¯åˆ‡ç‰‡ç±»å‹ for i := 0; i &amp;lt; 10; i&#43;&#43; { y = append(y, i) //è¿½åŠ åé‡æ–°èµ‹å€¼  } fmt.Println(y) //[0 1 2 3 4 5 6 7 8 9]   åœ¨Goä¸­ï¼Œvarå£°æ˜é€šå¸¸æ˜¯ä¸ºé‚£äº›ä¸åˆå§‹åŒ–è¡¨è¾¾å¼ç±»å‹ä¸ä¸€è‡´çš„å±€éƒ¨å˜é‡ä¿ç•™çš„ï¼Œæˆ–è€…ç”¨äºåé¢æ‰å¯¹å˜é‡èµ‹å€¼ä»¥åŠå˜é‡åˆå§‹å€¼ä¸é‡è¦çš„æƒ…å†µã€‚
   ç®€çŸ­æ¨¡å¼å®šä¹‰å˜é‡ è¿˜å¯ä»¥ä½¿ç”¨ä¾‹å¦‚ x := 100è¿™æ ·çš„ç®€çŸ­æ¨¡å¼å£°æ˜å˜é‡,ä½†æ˜¯ç®€çŸ­æ¨¡å¼å…·æœ‰ä»¥ä¸‹é™åˆ¶ï¼š
  å¿…é¡»ä½¿ç”¨æ˜¾å¼åˆå§‹åŒ–ã€‚
  ç®€çŸ­æ¨¡å¼ä¸èƒ½æä¾›æ•°æ®ç±»å‹ï¼ŒGoä¼šæŒ‰ç…§è¿›è¡Œç±»å‹æ¨å¯¼ã€‚
  åªèƒ½åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨ç®€çŸ­æ¨¡å¼ã€‚
  ç®€çŸ­æ¨¡å¼å¹¶ä¸æ€»æ˜¯å˜é‡å®šä¹‰ï¼Œä¹Ÿå¯èƒ½æ˜¯éƒ¨åˆ†é€€åŒ–çš„èµ‹å€¼æ“ä½œï¼Œé€€åŒ–èµ‹å€¼çš„å‰ææ˜¯ï¼šè‡³å°‘æœ‰ä¸€ä¸ªæ–°å˜é‡è¢«å®šä¹‰ï¼Œä¸”å¿…é¡»æ˜¯åŒä¸€ä½œç”¨åŸŸã€‚
func test() { x := 200 x1 := x &#43; 100 if x1 &amp;gt; 0 { println(&amp;#34;x&amp;#34;) } else { println(&amp;#34;-x&amp;#34;) } x1, y := 200, &amp;#34;abc&amp;#34; // x1 æ˜¯é‡æ–°èµ‹å€¼ï¼Œyæ˜¯å˜é‡å®šä¹‰ 	fmt.Println(x1, y) } x := 100 println(&amp;amp;x,x) { x, y := 200, 300 //å®šä¹‰äº†ä¸€ä¸ªæ–°å˜é‡ 	println(&amp;amp;x, &amp;amp;y, x, y) } å¤šå˜é‡èµ‹å€¼æ“ä½œæ—¶ï¼Œæ€»æ˜¯é¦–å…ˆè®¡ç®—å‡ºæ‰€æœ‰çš„å³å€¼ï¼Œç„¶åå†ä¾æ¬¡å®Œæˆèµ‹å€¼æ“ä½œï¼Œå³å¹¶è¡Œèµ‹å€¼ã€‚
x, y := 1, 2 x, y = y&#43;3, x&#43;2 //å…ˆè®¡ç®—å‡ºå³å€¼y&#43;3,x&#43;2,ç„¶åå†ä¾æ¬¡å®Œæˆèµ‹å€¼æ“ä½œ fmt.Println(x, y)  ä½¿ç”¨newå‡½æ•°å®šä¹‰å˜é‡ newå‡½æ•°æ˜¯Goä¸­å†…ç½®çš„å‡½æ•°ï¼Œè¡¨è¾¾å¼new(T)åˆ›å»ºä¸€ä¸ªæœªå‘½åçš„Tç±»å‹å˜é‡ï¼Œåˆå§‹åŒ–ä¸ºTç±»å‹çš„é›¶å€¼ï¼Œå¹¶è¿”å›å…¶æŒ‡é’ˆã€‚
ä½¿ç”¨newåˆ›å»ºçš„å˜é‡å’Œå–å…¶åœ°å€çš„æ™®é€šå˜é‡æ²¡æœ‰ä»€ä¹ˆä¸åŒï¼Œåªæ˜¯ä¸éœ€è¦å¼•å…¥ä¸€ä¸ªè™šæ‹Ÿåå­—ï¼Œå› æ­¤newï¼ˆTï¼‰åªæ˜¯åœ¨è¯­æ³•ä¸Šçš„ä¾¿åˆ©ã€‚ä¸‹é¢ä¸¤ä¸ªnewIntå‡½æ•°æœ‰åŒæ ·çš„è¡Œä¸ºï¼š
func newInt() *int { return new(int) } func newInt() *int { var dummy int return &amp;amp;dummy }  </content>
    </entry>
    
     <entry>
        <title>snapkit ä½¿ç”¨</title>
        <url>https://iihui.github.io/post/ios-snapkit/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html"> insetå’Œoffset  åœ¨æè¿°viewä¸superviewå…³ç³»æ—¶ï¼Œåº”è¯¥ä½¿ç”¨insetï¼Œè€Œæè¿°viewä¸åŒä¸€å±‚çº§çš„å…¶å®ƒviewæ—¶ï¼Œåº”è¯¥ä½¿ç”¨offsetã€‚
 ä½¿ç”¨offsetæ¥è®¾ç½®è·ç¦»å­æ§ä»¶ç›¸å¯¹äºçˆ¶æ§ä»¶è¾¹è·æ—¶ï¼Œå¯¹äºå³è¾¹å’Œä¸‹æ–¹çš„çº¦æŸéƒ½éœ€è¦åŠ -å·ã€‚è¿™å’Œåœ¨storyboardä¸­è®¾ç½®çº¦æŸä¸ä¸€è‡´ï¼Œæ˜¾å¾—æœ‰äº›ä¸åˆç†ã€‚
å‚è€ƒèµ„æ–™
</content>
    </entry>
    
     <entry>
        <title>å­—å…¸</title>
        <url>https://iihui.github.io/post/ios-dict/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html"> å­—å…¸åˆå¹¶ ç¬¬ä¸€ä¸ªå­—å…¸å…ˆæä¾›ä¸€äº›é»˜è®¤å€¼ï¼Œå¯¹äºç›¸åŒçš„keyå¦‚æœç¬¬äºŒä¸ªå­—å…¸ä¸­å­˜åœ¨ç›¸åº”çš„valueï¼Œåˆ™ç¬¬ä¸€ä¸ªå­—å…¸çš„valueè¢«ç¬¬äºŒä¸ªå­—å…¸è¦†ç›–æ‰ã€‚
// é»˜è®¤å­—æ®µ var defaultInfo: [String: Any] = [ &amp;#34;sys_id&amp;#34;: sysID, &amp;#34;type&amp;#34;: action.rawValue, &amp;#34;ystId&amp;#34;: activeUser.pid, &amp;#34;deviceId&amp;#34;: deviceID, &amp;#34;platform&amp;#34;: platform, &amp;#34;pubVer&amp;#34;: pubVersion, &amp;#34;buildVer&amp;#34;: buildVersion, &amp;#34;deviceModel&amp;#34;: deviceModel, &amp;#34;serverTime&amp;#34;: logTime, &amp;#34;deviceTime&amp;#34;: deviceTimeStr, &amp;#34;startTime&amp;#34;: logTime, &amp;#34;endTime&amp;#34;: logTime, &amp;#34;networkType&amp;#34;: networkInfo._networkType, &amp;#34;networkName&amp;#34;: networkInfo._networkName, &amp;#34;ip&amp;#34;: networkInfo.ip, &amp;#34;inuseId&amp;#34;: inuseID, &amp;#34;gpsLng&amp;#34;: gps.lng, &amp;#34;gpsLat&amp;#34;: gps.lat, ] if let _args = args { defaultInfo.merge(_args, uniquingKeysWith: { $1 }) // æ³¨æ„æ˜¯ç”¨defaultInfo å»merge å­—å…¸_args } </content>
    </entry>
    
     <entry>
        <title>æ—¶é—´ç›¸å…³å¤„ç†</title>
        <url>https://iihui.github.io/post/ios-date/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html"> æ¯«ç§’çº§æ—¶é—´æˆ³è·å½“å‰æ—¶é—´ /// å°†æ¯«ç§’çº§åˆ«çš„æ—¶é—´æˆ³è½¬æ¢ä¸ºçº¦å®šçš„æ ¼å¼ï¼Œ0ï½60ç§’æ˜¾ç¤ºå‡ ç§’å‰ï¼Œ1ï½60åˆ†æ˜¾ç¤ºxxåˆ†é’Ÿå‰ï¼Œ1ï½24å°æ—¶æ˜¾ç¤ºxxå°æ—¶å‰ï¼Œ1ï½10å¤©æ˜¾ç¤ºxxå¤©å‰ï¼Œå¦åˆ™æ˜¾ç¤ºyyyy-MM-dd /// - Parameter timeStamp: æ¯«ç§’çº§åˆ«æ—¶é—´æˆ³å­—ç¬¦ä¸² /// - Returns: è½¬æ¢åçš„å­—ç¬¦ä¸² private func convertTime(timeStamp: String) -&amp;gt; String { let currentTimeSeconds = Date().timeIntervalSince1970 if let timeDouble = Double(timeStamp) { let timeStampSeconds: TimeInterval = TimeInterval(timeDouble / 1000) let reduceTime: TimeInterval = currentTimeSeconds - timeStampSeconds //æ—¶é—´å·®å°äº60ç§’ if reduceTime &amp;lt; 60 { return &amp;#34;å‡ ç§’å‰&amp;#34; } //æ—¶é—´å·®å¤§äºä¸€åˆ†é’Ÿå°äº60åˆ†é’Ÿå†… let minutes = Int(reduceTime / 60) if minutes &amp;lt; 60 { return &amp;#34;\(minutes)åˆ†é’Ÿå‰&amp;#34; } let hours = Int(reduceTime / 3600) if hours &amp;lt; 24 { return &amp;#34;\(hours)å°æ—¶å‰&amp;#34; } let days = Int(reduceTime / 3600 / 24) if days &amp;lt; 10 { return &amp;#34;\(days)å¤©å‰&amp;#34; } let date = NSDate(timeIntervalSince1970: timeStampSeconds) let dateFormat = DateFormatter() dateFormat.dateFormat = &amp;#34;yyyy-MM-dd&amp;#34; return dateFormat.string(from: date as Date) } else { return &amp;#34;æœªçŸ¥æ—¶é—´&amp;#34; } }  </content>
    </entry>
    
     <entry>
        <title>å¯Œæ–‡æœ¬</title>
        <url>https://iihui.github.io/post/ios-richtext/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html"> åœ¨æ–‡å­—åé¢æ·»åŠ çº¢ç‚¹ /// ä½¿ç”¨å¯Œæ–‡æœ¬çš„æ–¹å¼åœ¨UILabelæ–‡æœ¬åé¢æ·»åŠ çº¢ç‚¹ /// - Parameter add: isNeedAdd ä¸ºtrueè¡¨ç¤ºè¦åŠ çº¢ç‚¹ï¼Œå¦åˆ™ä¸éœ€è¦ /// - Returns: å¤„ç†åçš„å¯Œæ–‡æœ¬ func addRedDot(isNeedAdd: Bool) -&amp;gt; NSMutableAttributedString { var text: String = (self.text ?? &amp;#34;&amp;#34;) if isNeedAdd { text &#43;= &amp;#34; &amp;#34; let contentText = NSMutableAttributedString(string: text) let attach = NSTextAttachment() let dotImg = UIImage(named: &amp;#34;reddot&amp;#34;) let width: CGFloat = 10 attach.bounds = CGRect(x: 0, y: 0.5, width: width, height: width) attach.image = dotImg let attrText = NSMutableAttributedString(attachment: attach) attrText.insert(contentText, at: 0) return attrText } else { let attrText = NSMutableAttributedString(string: text) return attrText } }  æ–‡å­—å‰é¢æ·»åŠ æ ‡ç­¾ /// æ ‡é¢˜å‰é¢æ·»åŠ çº¢åº•ç™½å­—çš„æ ‡ç­¾ï¼Œå‚è€ƒè‡ªhttps://www.jianshu.com/p/ab7ada727606 /// - Parameters: /// - category: æ ‡ç­¾ç±»åˆ« /// - title: çœŸæ­£çš„æ ‡é¢˜ func addCategoryBackground(category: String, title: String) -&amp;gt; NSMutableAttributedString { // è®¾è®¡è¦æ±‚titleå‰é¢éœ€è¦æœ‰ç©ºæ ¼ let contentText = NSMutableAttributedString(string: &amp;#34; &amp;#34; &#43; title) let paragraphStyle = NSMutableParagraphStyle() paragraphStyle.lineSpacing = self.lineSpace paragraphStyle.lineBreakMode = .byWordWrapping if #available(iOS 9.0, *) { paragraphStyle.allowsDefaultTighteningForTruncation = true } // è®¾è®¡è¦æ±‚categoryå‰åéƒ½éœ€è¦æœ‰ç©ºæ ¼ let text = &amp;#34; &amp;#34; &#43; category &#43; &amp;#34; &amp;#34; let width = calculateWidth(text: text, height: self.categoryHeight, font: UIFont.systemFont(ofSize: self.categoryFontSize, weight: .regular), maxWidth: CGFloat.greatestFiniteMagnitude) let tmpLbl = UILabel(frame: CGRect(x: 0.0, y: 0.0, width: self.multiple * width, height: self.multiple * self.categoryHeight)) tmpLbl.text = text tmpLbl.font = UIFont.systemFont(ofSize: self.multiple * self.categoryFontSize, weight: .regular) tmpLbl.backgroundColor = UIColor.hexColor(&amp;#34;ed534d&amp;#34;) tmpLbl.textColor = .white tmpLbl.clipsToBounds = true tmpLbl.cornerRadius = self.categoryCornerRadius tmpLbl.textAlignment = .center if let image = labelConvertToImage(view: tmpLbl) { let attach = NSTextAttachment() attach.bounds = CGRect(x: 0, y: self.categoryHeightSkewing, width: width, height: self.categoryHeight) attach.image = image let attrText = NSAttributedString(attachment: attach) contentText.insert(attrText, at: 0) let attributes = [NSAttributedString.Key.paragraphStyle: paragraphStyle] contentText.addAttributes(attributes, range: NSRange(location: 0, length: contentText.length)) } return contentText } /// å°†UIViewè½¬æ¢ä¸ºUIImageï¼Œä»¥ä¾¿AttributedStringä½¿ç”¨å›¾æ–‡æ··æ’ /// - Parameter view: å¾…è½¬æ¢çš„view /// - Returns: è½¬æ¢åçš„å›¾ç‰‡ private func labelConvertToImage(view: UIView) -&amp;gt; UIImage? { var image: UIImage? = nil UIGraphicsBeginImageContext(view.bounds.size) if let context = UIGraphicsGetCurrentContext() { view.layer.render(in: context) image = UIGraphicsGetImageFromCurrentImageContext() UIGraphicsEndImageContext() } return image }  è‡ªåŠ¨è®¡ç®—å®½åº¦ è‡ªåŠ¨è®¡ç®—å®½åº¦åˆ†ä¸ºä¸¤ç§ï¼Œç¬¬ä¸€ç§ä»¥ä¸€ä¸ªUILabelä½œä¸ºè¯•æ¢ï¼Œä½¿ç”¨sizeToFit()æ¥è®¡ç®—ï¼›å¦ä¸€ç§æ˜¯ä½¿ç”¨å­—ç¬¦ä¸²çš„boundingRectæ¥è®¡ç®—ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š
/// åŠ¨æ€è®¡ç®—ç»™å®šå­—ç¬¦ä¸²åœ¨å›ºå®šé«˜åº¦ä¸‹çš„å®½åº¦ï¼Œè‹¥å°äºæœ€å¤§å®½åº¦åˆ™è¿”å›å®é™…å®½åº¦ï¼Œå¦åˆ™è¿”å›æœ€å¤§å®½åº¦ /// - Parameters: /// - text: å¾…è®¡ç®—çš„å­—ç¬¦ä¸² /// - height: å›ºå®šçš„é«˜åº¦ /// - font: å›ºå®šçš„å­—ä½“ /// - maxWidth: å…è®¸æœ€å¤§çš„å®½åº¦ private func calculateWidth(text: String, height: CGFloat, font: UIFont, maxWidth: CGFloat) -&amp;gt; CGFloat { let tmpLbl = UILabel(frame: CGRect(x: 0, y: 0, width: CGFloat.greatestFiniteMagnitude, height: height)) tmpLbl.numberOfLines = 0 tmpLbl.lineBreakMode = .byCharWrapping tmpLbl.font = font tmpLbl.text = text tmpLbl.sizeToFit() let width = tmpLbl.frame.width &amp;gt; maxWidth ? maxWidth : tmpLbl.frame.width return width } /// æ ¹æ®é«˜åº¦å’Œå­—ä½“å¤§å°è®¡ç®—å­—ç¬¦ä¸²å®½åº¦ func widthWithConstrainedHeight(height: CGFloat, fontSize: CGFloat) -&amp;gt; CGFloat { let constraintRect = CGSize(width: .greatestFiniteMagnitude, height: height) let boundingBox = self.boundingRect(with: constraintRect, options: [.usesLineFragmentOrigin, .usesFontLeading], attributes: [NSAttributedString.Key.font: UIFont.systemFont(ofSize: fontSize)], context: nil) return boundingBox.width }  </content>
    </entry>
    
     <entry>
        <title>å¯¼èˆªæ </title>
        <url>https://iihui.github.io/post/ios-navigation/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html"> ä»¿å¯¼èˆªæ æ·»åŠ é˜´å½± // è®¾ç½®é˜´å½±é¢œè‰² navBGView.layer.shadowColor = UIColor.lightGray.cgColor // è®¾ç½®é˜´å½±åç§»èŒƒå›´ navBGView.layer.shadowOffset = CGSize(width: 0, height: 1.8) // è®¾ç½®é˜´å½±é¢œè‰²çš„é€æ˜åº¦ navBGView.layer.shadowOpacity = 0.2 // è®¾ç½®é˜´å½±çš„åŠå¾„ navBGView.layer.shadowRadius = 2.5 // è®¾ç½®é˜´å½±è·¯å¾„ navBGView.layer.shadowPath = UIBezierPath.init(rect: navBGView.bounds).cgPath é€šè¿‡è®¾ç½®1.2.3æ­¥ä»¿å¯¼èˆªæ çš„é˜´å½±å°±å¯ä»¥å‡ºç°,å¦‚æœå¯¹é˜´å½±æœ‰ç‰¹åˆ«çš„éœ€è¦,å¯å†è®¾ç½®4.5è¿™ä¸¤ä¸ªæ­¥éª¤ã€‚
å‚è€ƒèµ„æ–™
 </content>
    </entry>
    
     <entry>
        <title>Live JavaScript debug</title>
        <url>https://iihui.github.io/post/safari-debug/</url>
        <categories>
          <category>safari</category>
        </categories>
        <tags>
          <tag>safari</tag>
        </tags>
        <content type="html">  ä»2020å¹´4æœˆå¼€å§‹ï¼ŒSafariæ”¯æŒLive JavaScript debugï¼Œä½¿å¾—åœ¨ä½¿ç”¨safariè°ƒè¯•æ—¶å¯ä»¥ä½¿ç”¨æœ¬åœ°æ–‡ä»¶è¦†ç›–ä»æœåŠ¡ç«¯ä¸‹è½½çš„èµ„æºæ–‡ä»¶ã€‚Safariæµè§ˆå™¨æ”¯æŒ3ç§æ–¹å¼åˆ›å»ºæœ¬åœ°è¦†ç›–ã€‚
 åˆ›å»ºæœ¬åœ°è¦†ç›– ç¬¬ä¸€ç§ é¦–å…ˆé€‰ä¸­æŸä¸ªæ–‡ä»¶ï¼Œç„¶åç‚¹å‡»å³ä¸Šè§’åˆ›å»ºè¦†ç›–å›¾æ ‡ï¼Œå°±ä¼šåˆ›å»ºå½“å‰æ–‡ä»¶çš„æœ¬åœ°è¦†ç›–ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
ç¬¬äºŒç§ ä¾ç„¶æ˜¯é¦–å…ˆé€‰ä¸­æŸä¸ªæ–‡ä»¶ï¼Œç„¶åç‚¹å‡»é¼ æ ‡å³é”®ï¼Œé€‰ä¸­åˆ›å»ºæœ¬åœ°è¦†ç›–ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
ç¬¬ä¸‰ç§ åœ¨å·¦ä¸‹è§’ç‚¹å‡»æ–°å¢æŒ‰é’®ï¼Œç„¶åé€‰ä¸­æœ¬åœ°è¦†ç›–ï¼Œç„¶åè¾“å…¥æ­£ç¡®çš„urlï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
å‚è€ƒèµ„æ–™
</content>
    </entry>
    
     <entry>
        <title></title>
        <url>https://iihui.github.io/post/ios-customizeuiview/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html"> class RecommendView: UIView { @IBOutlet weak var imageView: UIImageView! @IBOutlet weak var subTitleLbl: UILabel! @IBOutlet weak var titleLbl: UILabel! @IBOutlet var contentView: UIView! override init(frame: CGRect) { //æ¯ä¸€æ­¥éƒ½å¿…é¡»å®ç°çˆ¶åˆå§‹åŒ– super.init(frame: frame) contentView = loadViewFromNib() contentView.frame = bounds addSubview(contentView) } //å¯è§†åŒ–IBåˆå§‹åŒ–è°ƒç”¨ required init?(coder aDecoder: NSCoder) { super.init(coder: aDecoder) contentView = loadViewFromNib() contentView.frame = bounds addSubview(contentView) } //MARKï¼šè‡ªå®šä¹‰æ–¹æ³• func loadViewFromNib() -&amp;gt; UIView { let nib = UINib(nibName: String(describing: RecommendView.self), bundle: Bundle(for: RecommendView.self)) let view = nib.instantiate(withOwner: self, options: nil)[0] as! UIView return view } } å‚è€ƒèµ„æ–™
</content>
    </entry>
    
     <entry>
        <title>å¯åŠ¨é¡µä¿®æ”¹</title>
        <url>https://iihui.github.io/post/ios-lanuch/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html">  æœ€è¿‘Appæ”¹ç‰ˆï¼Œå¯åŠ¨é¡µä¹Ÿè¦éšä¹‹ä¿®æ”¹ï¼Œä½†æ˜¯ä¿®æ”¹lanuchScreen.storyboardé‡Œçš„å›¾ç‰‡å’Œæ ·å¼ä¹‹åå¹¶æœªç«‹å³ç”Ÿæ•ˆã€‚è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸»è¦åˆ†ä¸ºä¸‰ä¸ªæ­¥éª¤
 å›¾ç‰‡ä¸æ”¾xcassetsä¸­ å¯åŠ¨é¡µç”¨åˆ°çš„å›¾ç‰‡èµ„æºï¼Œä¸è¦æ”¾å…¥åˆ°*.xcassetsä¸­ï¼Œåº”è¯¥ç›´æ¥æ”¾åˆ°å·¥ç¨‹ç›®å½•ä¸‹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
 å›¾ç‰‡éœ€è¦æ”¹å å¦‚æœå¯åŠ¨é¡µçš„å›¾ç‰‡èµ„æºéœ€è¦ä¿®æ”¹ï¼Œé‚£åº”è¯¥å°†å›¾ç‰‡é‡å‘½åï¼Œä¸è¦ä½¿ç”¨ä¸Šæ¬¡çš„å‘½ä»¤ï¼Œå¦‚æœä½¿ç”¨ä¸Šæ¬¡çš„åå­—ï¼Œå¯åŠ¨çš„æ—¶å€™è¿˜æ˜¯ä¼šè¯»ç¼“å­˜å›¾ç‰‡ï¼š
æ¸…ç†å¯åŠ¨é¡µç¼“å­˜ let path = libraryPath.appendingPathComponent(&amp;#34;SplashBoard&amp;#34;).appendingPathComponent(&amp;#34;Snapshots&amp;#34;) do { if FileManager.default.fileExists(atPath: path.path){ try FileManager.default.removeItem(at: path) } } catch let error { printDebug(msg: error.localizedDescription) } </content>
    </entry>
    
     <entry>
        <title>Swift èŒƒå‹</title>
        <url>https://iihui.github.io/post/swift-generirs/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html"> èŒƒå‹ç±»å‹ Swiftå…è®¸è‡ªå®šä¹‰çš„èŒƒå‹ç±»å‹åŒ…æ‹¬ç±»ã€ç»“æ„ä½“ã€æšä¸¾ç±»å‹ã€‚
struct Stack { var items = [Int]() mutating func push(_ item:Int){ items.append(item) } mutating func pop(_ item:Int) -&amp;gt; Int { return items.removeLast() } } //è°ƒç”¨ var stack_int = Stack() stack_int.push(7) stack_int.push(3) stack_int.push(2) print(stack_int)//Stack(items: [7, 3, 2]) ç±»å‹çº¦æŸ èŒƒå‹å‡½æ•°å’ŒèŒƒå‹ç±»å‹è™½ç„¶å¯ä»¥å’Œä»»ä½•ç±»å‹ä¸€èµ·ä½¿ç”¨ï¼Œä½†æœ‰æ—¶éœ€è¦é™åˆ¶ä½¿ç”¨çš„ç±»å‹ï¼Œæ­¤æ—¶å°±éœ€è¦ä½¿ç”¨ç±»å‹çº¦æŸã€‚ä¾‹å¦‚Swiftä¸­Dictionaryçš„Keyä¾¿è¢«çº¦æŸä¸ºå¿…é¡»éµå®ˆhashableåè®®ã€‚
 ç±»å‹çº¦æŸæ˜¯æŒ‡æŒ‡å®šç±»å‹å‚æ•°å¿…é¡»ç»§æ‰¿è‡ªç‰¹å®šçš„ç±»ï¼Œéµå®ˆæŸä¸ªåè®®æˆ–åè®®ç»„åˆã€‚
 func someFunction&amp;lt;T: SomeClass, U: SomeProtocol&amp;gt;(someT: T, someU: U) { // `T`çº¦æŸä¸ºç»§æ‰¿è‡ª`SomeClass`çš„ç±»å‹ `U`çº¦æŸä¸ºéµå®ˆ`SomeProtocol` åè®®çš„ç±»å‹ } func findIndex&amp;lt;T : Equatable&amp;gt;(of valueToFind: T, in array:[T]) -&amp;gt; Int? { for (index, value) in array.enumerated() { if value == valueToFind { return index } } return nil } å…³è”ç±»å‹ åœ¨å®šä¹‰åè®®æ—¶ï¼Œæœ‰æ—¶å£°æ˜ä¸€ä¸ªæˆ–å¤šä¸ªå…³è”ç±»å‹ä½œä¸ºåè®®å®šä¹‰çš„ä¸€éƒ¨åˆ†æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚å…³è”ç±»å‹çš„ä½œç”¨ï¼Œä¸»è¦æ˜¯æä¾›æŸä¸ªç±»å‹çš„å ä½åç§°ï¼Œç„¶åä½œä¸ºåè®®çš„ä¸€éƒ¨åˆ†å»ä½¿ç”¨ã€‚å…³è”ç±»å‹çš„å®é™…ä½¿ç”¨ç±»å‹ç›´åˆ°åè®®è¢«å®ç°æ—¶æ‰ä¼šæŒ‡å®šã€‚å…³è”ç±»å‹ä½¿ç”¨å…³é”®å­—associatedtypeæŒ‡å®šã€‚
//å®šä¹‰åè®®ä½¿ç”¨ç±»å‹å…³è” protocol Container { associatedtype Item mutating func append(_ item : Item) var count : Int{get} subscript(i:Int)-&amp;gt;Item{get} } //å®šä¹‰æ•´å‹Stackç±»å‹ struct IntStack : Container { var items = [Int]() mutating func push(_ item:Int){ items.append(item) } mutating func pop(_ item:Int) -&amp;gt; Int { return items.removeLast() } //å®ç°åè®®æ—¶ï¼Œéœ€è¦æ˜ç¡®å…³è”ç±»å‹çš„å®é™…ç±»å‹ typealias Item = Int //!&amp;lt; â‘  mutating func append(_ item: Item) {//!&amp;lt; â‘ è‹¥ä¸å­˜åœ¨ï¼Œæ­¤å¤„å¯ç›´æ¥ Int push(item) } var count: Int { items.count } subscript(i: Int) -&amp;gt; Int { items[i] } } æ‘˜æŠ„è‡ª
</content>
    </entry>
    
     <entry>
        <title>Swiftä¸­defer</title>
        <url>https://iihui.github.io/post/swift-defer/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html">  ä»è¯­è¨€è®¾è®¡ä¸Šæ¥è¯´ï¼Œdeferæ˜¯ä¸ºäº†è¿›è¡Œèµ„æºæ¸…ç†å’Œè¿”å›å‰é¿å…é‡å¤æ‰§è¡Œç›¸å…³çš„ä»£ç ï¼Œè€Œä¸æ˜¯ç”¨æ¥å–å·§çš„å®ç°æŸäº›åŠŸèƒ½ï¼Œè¿™æ ·åšåªä¼šè®©ä»£ç çš„å¯è¯»æ€§é™ä½ã€‚
 å…¸å‹ç”¨æ³• Swiftä¸­deferå£°æ˜çš„blockä¼šåœ¨å½“å‰ä»£ç æ‰§è¡Œé€€å‡ºåè°ƒç”¨ï¼Œè¿™ç§å»¶è¿Ÿè°ƒç”¨ç‰¹æ€§ï¼Œä¸€èˆ¬ç”¨æ¥è¿›è¡Œèµ„æºé‡Šæ”¾æˆ–è€…é”€æ¯ã€‚
func operateOnFile(descriptor: Int32) { let fileHandle = FileHandle(fileDescriptor: descriptor) let data = fileHandle.readDataToEndOfFile() if /* onlyRead */ { fileHandle.closeFile() return } let shouldWrite = /* æ˜¯å¦éœ€è¦å†™æ–‡ä»¶ */ guard shouldWrite else { fileHandle.closeFile() return } fileHandle.seekToEndOfFile() fileHandle.write(someData) fileHandle.closeFile() } ä¸Šé¢ä»£ç åœ¨ä¸åŒçš„åœ°æ–¹è°ƒç”¨fileHandle.closeFile()æ¥å…³é—­æ–‡ä»¶ï¼Œæ›´å¥½çš„æ–¹æ³•æ˜¯ä½¿ç”¨deferæ¥ç»Ÿä¸€å¤„ç†ã€‚è¿™ä¸ä»…å¯ä»¥å°±è¿‘åœ¨èµ„æºç”³è¯·çš„åœ°æ–¹å°±å£°æ˜é‡Šæ”¾ï¼Œä¹Ÿå‡å°‘äº†æœªæ¥æ·»åŠ ä»£ç æ—¶å¿˜è®°é‡Šæ”¾èµ„æºçš„å¯èƒ½æ€§ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
func operateOnFile(descriptor: Int32) { let fileHandle = FileHandle(fileDescriptor: descriptor) defer { fileHandle.closeFile() } let data = fileHandle.readDataToEndOfFile() if /* onlyRead */ { return } let shouldWrite = /* æ˜¯å¦éœ€è¦å†™æ–‡ä»¶ */ guard shouldWrite else { return } fileHandle.seekToEndOfFile() fileHandle.write(someData) } ä½œç”¨åŸŸ ä¸€èˆ¬éƒ½äººdeferæ˜¯åœ¨å‡½æ•°é€€å‡ºçš„æ—¶å€™è°ƒç”¨ï¼Œå…¶å®å®ƒæ˜¯åœ¨æ˜¯å½“å‰scopeé€€å‡ºçš„æ—¶å€™è°ƒç”¨ã€‚åœ¨ ifï¼Œguardï¼Œforï¼Œtryè¿™äº›è¯­å¥ä¸­ä½¿ç”¨deferæ—¶ï¼Œåº”è¯¥è¦ç‰¹åˆ«æ³¨æ„ã€‚
deferé—­åŒ…ä¸æŒæœ‰å€¼ è™½ç„¶deferåé¢è·Ÿäº†ä¸€ä¸ªé—­åŒ…ï¼Œä½†æ˜¯å®ƒæ›´å¤šåœ°åƒæ˜¯ä¸€ä¸ªè¯­æ³•ç³–ï¼Œå’Œæˆ‘ä»¬æ‰€ç†ŸçŸ¥çš„é—­åŒ…ç‰¹æ€§ä¸ä¸€æ ·ï¼Œå¹¶ä¸ä¼šæŒæœ‰é‡Œé¢çš„å€¼ï¼š
func foo() { var number = 1 defer { print(&amp;#34;Statement 2: \(number)&amp;#34;) } number = 100 print(&amp;#34;Statement 1: \(number)&amp;#34;) } ä¸Šé¢ä»£ç å°†ä¼šè¾“å‡ºï¼š
Statement 1: 100 Statement 2: 100 æ‰§è¡Œæ—¶æœº deferçš„æ‰§è¡Œæ—¶æœºç´§æ¥åœ¨ç¦»å¼€ä½œç”¨åŸŸä¹‹åï¼Œä½†åœ¨å…¶ä»–è¯­å¥ä¹‹å‰ã€‚è¿™ä¸ªç‰¹æ€§ä¸ºdeferå¸¦æ¥äº†ä¸€äº›å¾ˆâ€œå¾®å¦™â€çš„ä½¿ç”¨æ–¹å¼ï¼Œä¾‹å¦‚ä¸‹é¢çš„ä»£ç æ˜¯å…ˆæ‰§è¡Œè¿”å›è¯­å¥ï¼Œç„¶åæ‰§è¡Œè‡ªå¢ï¼Œæ‰€ä»¥è¾“å‡ºä¸º0ï¼Œ1ï¼Œ2è€Œä¸æ˜¯1ï¼Œ2ï¼Œ3ï¼š
class Foo { var num = 0 func foo() -&amp;gt; Int { defer { num &#43;= 1 } return num } } let f = Foo() f.foo() // 0 f.foo() // 1 f.num // 2  å‚è€ƒèµ„æ–™
</content>
    </entry>
    
     <entry>
        <title>Swift5.3 æ–°ç‰¹æ€§</title>
        <url>https://iihui.github.io/post/swift-5.3/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html">  Swift 5.3å¼•å…¥äº†å¾ˆå¤šæ–°ç‰¹æ€§ï¼ŒåŒ…æ‹¬å¤šå°¾é—­åŒ…ï¼Œå¤šæ¨¡å¼catchä»¥åŠSwift Package Managerçš„ä¸€äº›é‡è¦æ”¹å˜ã€‚
 å¤šå°¾é—­åŒ… åœ¨Swift5.3ä»¥å‰å°¾é—­åŒ…æä¾›äº†ç²¾ç®€å†™æ³•ï¼Œä½†ä»…é™äºå‡½æ•°çš„æœ€åä¸€ä¸ªå‚æ•°ä¸ºå‡½æ•°æ—¶ã€‚è€Œå½“å‡½æ•°yæœ‰å¤šä¸ªå‡½æ•°ç±»å‹çš„å‚æ•°æ—¶ï¼Œå¦‚æœè¯¥å‡½æ•°ç±»å‹å‚æ•°ä¸ä¸ºæœ€åä¸€ä¸ªå‚æ•°æ—¶ï¼Œä¸èƒ½ä½¿ç”¨ç²¾ç®€å†™æ³•ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼Œæ—¢æœ‰åœ¨åœ†æ‹¬å·å†…çš„é—­åŒ…ï¼Œåˆæœ‰åœ¨åœ†æ‹¬å·å¤–çš„é—­åŒ…ï¼š
// å†™æ³• 1ï¼ˆå•å°¾é—­åŒ…ç²¾ç®€å†™æ³•ï¼‰ UIView.animate(withDuration: 0.25, animations: { // animation code }) { completed in // completion code } // å†™æ³• 2ï¼ˆä¼ ç»Ÿå†™æ³•ï¼‰ UIView.animate(withDuration: 0.25, animations: { // animation code }, completion: { completed in // completion code }) è€Œåœ¨Swift 5.3ä¸­ï¼Œå¤šå°¾é—­åŒ…æœ‰äº†æ–°çš„ç²¾ç®€æ¨¡å¼ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼Œè¿™ç§æ–°çš„å†™æ³•æŠŠæœ€åçš„è¿ç»­å‡ ä¸ªé—­åŒ…å‚æ•°éƒ½ç®—ä½œæ˜¯å°¾é—­åŒ…ï¼Œè¿™äº›é—­åŒ…éƒ½å¯ä»¥æ”¾åœ¨åœ†æ‹¬å·å¤–é¢ã€‚
// å†™æ³• 3ï¼ˆå¤šå°¾é—­åŒ…ç²¾ç®€å†™æ³•ï¼‰ UIView.animate(withDuration: 0.25) { // animation code } completion: { completed in // completion code } ä½†æ˜¯ï¼Œè¿™äº›å°¾é—­åŒ…ä¸­ç¬¬ä¸€ä¸ªé—­åŒ…è¢«å¼ºåˆ¶çœç•¥æ ‡ç­¾ã€‚è‹¹æœçš„è§£é‡Šæ˜¯ï¼šå¦‚æœå…è®¸ç¬¬ä¸€ä¸ªå°¾é—­åŒ…åŠ ä¸Šæ ‡ç­¾ï¼Œé‚£ä¹ˆå¼€å‘è€…éœ€è¦è€ƒè™‘æ˜¯åŠ å¥½è¿˜æ˜¯ä¸åŠ å¥½ï¼Œä½ çœ‹è¿™ä¼šå¯¼è‡´ä»£ç é£æ ¼ä¸ä¸€è‡´ï¼Œé‚£ä¹ˆå¹²è„†ç¦äº†å§ã€‚ä¹Ÿå°±æ˜¯é™¤äº†ç¬¬ä¸€ä¸ªå°¾é—­åŒ…éœ€è¦çœç•¥æ ‡ç­¾ä¹‹å¤–ï¼Œå…¶ä½™çš„å°¾é—­åŒ…éƒ½éœ€æœ‰æ ‡ç­¾ã€‚
å‚è€ƒèµ„æ–™
 å¤šæ¨¡å¼catchè¯­å¥ Swift5.3ä¸­å¼•å…¥äº†ä¸€ä¸ªå¯ä»¥åœ¨catchå—ä¸­æ•è·å¤šä¸ªé”™è¯¯çš„caseç‰¹æ€§ï¼Œè¿™ä¸ªç‰¹æ€§å¯ä»¥å‡å°‘é”™è¯¯å¤„ç†æ—¶çš„é‡å¤ä»£ç ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š
enum TemperatureError: Error { case tooCold, tooHot } func getReactorTemperature() -&amp;gt; Int { 90 } func checkReactorOperational() throws -&amp;gt; String { let temp = getReactorTemperature() if temp &amp;lt; 10 { throw TemperatureError.tooCold } else if temp &amp;gt; 90 { throw TemperatureError.tooHot } else { return &amp;#34;OK&amp;#34; } } do { let result = try checkReactorOperational() print(&amp;#34;ç»“æœ: \(result)&amp;#34;) } catch TemperatureError.tooHot, TemperatureError.tooCold { // æ•è·å¤šä¸ªå¼‚å¸¸ print(&amp;#34;å…³é—­ååº”å †&amp;#34;) } catch { print(&amp;#34;æœªçŸ¥é”™è¯¯&amp;#34;) }  æšä¸¾Comparable Swift 5.3ä¸­å¯ä»¥ä¸ºæšä¸¾ç”ŸæˆComparableå®ç°ï¼Œä½†ä¸å¼ºåˆ¶è¦æ±‚å£°æ˜å…³è”å€¼ï¼Œæˆ–è€…å¦‚æœæœ‰å…³è”ä¹‹ï¼Œåˆ™è¦æ±‚å…³è”å€¼æœ¬èº«å¿…é¡»æ˜¯Comparableçš„ã€‚è¿™ä¸ªç‰¹æ€§ä½¿å¾—å¯ä»¥åœ¨åŒç±»å‹çš„æšä¸¾å®ä¾‹ä¹‹é—´ç”¨&amp;lt;ï¼Œ&amp;gt;è¿›è¡Œæ¯”è¾ƒã€‚
enum Size: Comparable { case small case medium case large case extraLarge } let shirtSize = Size.small let personSize = Size.large if shirtSize &amp;lt; personSize { print(&amp;#34;Tæ¤ å¤ªå°äº†ï¼&amp;#34;) } enum WorldCupResult: Comparable { case neverWon case winner(stars: Int) } let americanMen = WorldCupResult.neverWon let americanWomen = WorldCupResult.winner(stars: 4) let japaneseMen = WorldCupResult.neverWon let japaneseWomen = WorldCupResult.winner(stars: 1) let teams = [americanMen, americanWomen, japaneseMen, japaneseWomen] let sortedByWins = teams.sorted() print(sortedByWins) åœ¨ä¸Šé¢çš„æ’åºè¿‡ç¨‹ä¼šæŠŠæœªè·å¾—ä¸–ç•Œæ¯å† å†›çš„é˜Ÿä¼æ”¾åœ¨å‰é¢ï¼Œç„¶åæ˜¯æ—¥æœ¬å¥³å­é˜Ÿï¼Œå†ç„¶åæ˜¯ç¾å›½å¥³å­é˜Ÿâ€”â€”ä¸¤ç»„winnerçš„é˜Ÿè¢«è®¤ä¸ºæ˜¯å¤§äºä¸¤ç»„neverWonçš„é˜Ÿï¼Œè€Œwinner(stars: 4)è¢«è®¤ä¸ºæ˜¯å¤§äºwinner(stars: 1)ã€‚
 selfçš„çœç•¥ åœ¨Swift 5.3ä¹‹å‰ï¼Œåœ¨é—­åŒ…ä¸­å¯¹å½“å‰å¯¹è±¡çš„å±æ€§æˆ–æ–¹æ³•çš„å¼•ç”¨ï¼Œéƒ½è¦æ·»åŠ selfï¼Œå³ä¾¿é—­åŒ…ä¸ä¼šäº§ç”Ÿå¼•ç”¨å¾ªç¯æ—¶ã€‚è€Œåœ¨Swift 5.3ä¸­æ²¡æœ‰è¿™æ ·çš„é™åˆ¶ï¼Œå¯ä»¥å»é™¤selfã€‚
å‚è€ƒèµ„æ–™
</content>
    </entry>
    
     <entry>
        <title>Xcodeç¼–è¯‘æŠ¥é”™é—®é¢˜</title>
        <url>https://iihui.github.io/post/ios-compiler/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html"> XXX-Swift.hæœªæ‰¾åˆ° </content>
    </entry>
    
     <entry>
        <title>Word å°æŠ€å·§</title>
        <url>https://iihui.github.io/post/sofer-word/</url>
        <categories>
          <category>tool</category>
        </categories>
        <tags>
          <tag>tool</tag>
        </tags>
        <content type="html"> ä¿®æ”¹é»˜è®¤æ˜¾ç¤ºè¯­è¨€ å¦‚æœMacç³»ç»Ÿè®¾ç½®ä¸ºè‹±æ–‡ï¼Œå®‰è£…Wordä¹‹åæ˜¾ç¤ºè¯­è¨€é»˜è®¤ä¸ºè‹±æ–‡ï¼Œä¸ºäº†è®¾ç½®ä¸­æ–‡æ˜¾ç¤ºï¼Œå¯ä»¥å…ˆå…³é—­Wordï¼Œç„¶åæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š
defaults write com.microsoft.Word AppleLanguages &amp;#39;(&amp;#34;zh-cn&amp;#34;)&amp;#39; å…¶ä¸­com.microsoft.Wordæ˜¯Wordçš„IDï¼Œå¯ä»¥é€šè¿‡ä¸‹å›¾æ‰€ç¤ºæ­¥éª¤æŸ¥çœ‹ï¼Œå³æœ€åä¸€å¼ å›¾çš„Bundle Identifieræ‰€å¯¹åº”çš„å€¼ï¼š
 </content>
    </entry>
    
     <entry>
        <title>å±å¹•æ—‹è½¬</title>
        <url>https://iihui.github.io/post/ios-rotate/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html">  iOSå¼€å‘æ—¶ç»å¸¸ä¼šé‡åˆ°è¦å°†æŸäº›ç•Œé¢å¼ºåˆ¶ç«–å±æˆ–è€…æ¨ªå±ã€‚è¦åšåˆ°æŸä¸ªé¡µé¢èƒ½å¼ºåˆ¶æ¨ªç«–å±çš„å‰ææ˜¯å…è®¸å±å¹•æ—‹è½¬ï¼Œç„¶åå†åœ¨å…·ä½“çš„ç•Œé¢å¼ºåˆ¶æ¨ªç«–å±ã€‚ä½†æ˜¯è¦åŒºåˆ†è¿™ä¸ªå…·ä½“çš„ç•Œé¢æ—¶pushè¿˜æ˜¯presentå‘ˆç°çš„ã€‚
 å…¨å±€å…è®¸æ¨ªç«–å± ç¬¬ä¸€ç§æ–¹å¼ï¼Œæ˜¯åœ¨Targetä¸­çš„Generalä¸‹Device Orientationä¸­è®¾ç½®ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼è®¾ç½®çš„å…è®¸æ¨ªç«–å±ä¼šè¢«AppDelegate.swiftä¸­å¯¹åº”çš„ä»£ç è¦†ç›–ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¸åœ¨è¿™é‡Œè®¾ç½®ã€‚è®¾ç½®æ–¹å¼å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
å¦ä¸€ç§æ–¹æ³•æ˜¯åœ¨AppDelegate.swiftä¸­è®¾ç½®å…è®¸æ¨ªç«–å±ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š
func application(_ application: UIApplication, supportedInterfaceOrientationsFor window: UIWindow?) -&amp;gt; UIInterfaceOrientationMask { return .all } ç•Œé¢å¼ºåˆ¶ç«–å± å¯¹äºä»¥presentæ–¹å¼å‘ˆç°çš„ç•Œé¢ï¼Œéœ€è¦åœ¨å½“å‰ç•Œé¢æ‰€å±çš„UIViewControllerä¸­é‡å†™ä»¥ä¸‹ä¸¤ä¸ªå±æ€§ï¼š
override var supportedInterfaceOrientations: UIInterfaceOrientationMask { return .portrait } override var shouldAutorotate: Bool { return false } è€Œå¯¹äºä»¥pushæ–¹å¼å‘ˆç°çš„ç•Œé¢ï¼Œéœ€è¦é‡å†™å¯¹åº”çš„UINavigationControllerä¸­é‡å†™ä¸Šé¢çš„ä¸¤ä¸ªå±æ€§ã€‚ä¸ºäº†æ–¹ä¾¿å¯ä»¥å†™ä¸€ä¸ªç»§æ‰¿è‡ªUINavigationControllerï¼Œç„¶åå°†å¼ºåˆ¶æ¨ªç«–å±çš„ä»£ç äº¤ç»™è¦pushçš„ç•Œé¢ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
class RotatableNavigationController: UINavigationController { override var shouldAutorotate : Bool { return self.topViewController?.shouldAutorotate ?? super.shouldAutorotate } override var supportedInterfaceOrientations : UIInterfaceOrientationMask { return self.topViewController?.supportedInterfaceOrientations ?? super.supportedInterfaceOrientations } }  </content>
    </entry>
    
     <entry>
        <title>WCDB</title>
        <url>https://iihui.github.io/post/ios-wcdb/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html"> è‡ªå®šä¹‰ç±»å‹å…¥åº“ è‡ªå®šä¹‰ç±»å‹è¦éµå¾ªColumnCodableæ‰èƒ½å…¥åº“ï¼š
enum UserOrgType: String, ColumnCodable { case CMB = &amp;#34;CMB&amp;#34; case ODC = &amp;#34;3&amp;#34; static var columnType: ColumnType = .text init(with value: FundamentalValue) { self = UserOrgType(rawValue: value.stringValue) ?? UserOrgType.CMB } func archivedValue() -&amp;gt; FundamentalValue { return FundamentalValue(self.rawValue) } } /// æŸ¥çœ‹ç”¨æˆ·è¡¨æ˜¯å¦ä¸ºç©º func isEmpty() -&amp;gt; Bool { do { let count = try DBManager_V2.shared.userDb.getValue(on: UserInfoModel_V2.CodingKeys.openId.count(), fromTable: tableName).int64Value return count == 0 } catch let error { printError(msg: error.localizedDescription, type: .db) return true } } </content>
    </entry>
    
     <entry>
        <title>UIAlertViewController</title>
        <url>https://iihui.github.io/post/ios-alertviewcontroller/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html">  æœ€è¿‘ä½¿ç”¨UIAlertViewControlleræ—¶ï¼Œéœ€è¦å®šåˆ¶å…¶èƒŒæ™¯é¢œè‰²ï¼Œåœ¨ç½‘ä¸Šæ‰¾åˆ°ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼ŒåŸºæœ¬æ€è·¯æ˜¯ä¸ºUIAlertViewControllerè®¾ç½®ä¸€ä¸ªè®¡ç®—å±æ€§ï¼Œè¿™ä¸ªå±æ€§æ”¹å˜æ—¶å³å°†UIAlertViewControllerçš„èƒŒæ™¯è‰²ä¿®æ”¹ã€‚
 æ·»åŠ è®¡ç®—å±æ€§ class AlertController: UIAlertController { /// Buttons background color. var buttonBackgroundColor: UIColor = .darkGray { didSet { // Invalidate current colors on change. view.setNeedsLayout() } } override func viewDidLayoutSubviews() { super.viewDidLayoutSubviews() // Traverse view hierarchy. view.allViews.forEach { // If there was any non-clear background color, update to custom background. if let color = $0.backgroundColor, color != .clear { $0.backgroundColor = buttonBackgroundColor } // If view is UIVisualEffectView, remove it&amp;#39;s effect and customise color. if let visualEffectView = $0 as? UIVisualEffectView { visualEffectView.effect = nil visualEffectView.backgroundColor = buttonBackgroundColor } } // Update background color of popoverPresentationController (for iPads). popoverPresentationController?.backgroundColor = buttonBackgroundColor } } è·å–views extension UIView { /// All child subviews in view hierarchy plus self. fileprivate var allViews: [UIView] { var views = [self] subviews.forEach { views.append(contentsOf: $0.allViews) } return views } } æ‰©å±•VC extension UIViewController { func notify(msg: String) -&amp;gt; Void { let alert = UIAlertController(title: &amp;#34;&amp;#34;, message: msg, preferredStyle: .alert) if let visualEffectView = alert.view.searchVisualEffectsSubview() { visualEffectView.effect = UIBlurEffect(style: .light) } alert.setMessage(font: UIFont.systemFont(ofSize: 17)) present(alert, animated: true, completion: nil) DispatchQueue.main.asyncAfter(deadline: .now() &#43; 1.5) { [weak self] in self?.dismiss(animated: true) } } } func searchVisualEffectsSubview() -&amp;gt; UIVisualEffectView? { if let visualEffectView = self as? UIVisualEffectView { return visualEffectView } else { for subview in subviews { if let found = subview.searchVisualEffectsSubview() { return found } } } return nil } å®šåˆ¶å­—ä½“å’Œé¢œè‰² extension UIAlertController { func setBackgroundColor(color: UIColor) { if let bgView = self.view.subviews.first, let groupView = bgView.subviews.first, let contentView = groupView.subviews.first { contentView.backgroundColor = color } } func setTitle(font: UIFont?, color: UIColor? = nil) { guard let title = self.title else { return } let attributeString = NSMutableAttributedString(string: title) if let titleFont = font { attributeString.addAttributes([NSAttributedString.Key.font: titleFont], range: NSMakeRange(0, title.count)) } if let titleColor = color { attributeString.addAttributes([NSAttributedString.Key.foregroundColor: titleColor], range: NSMakeRange(0, title.count)) } self.setValue(attributeString, forKey: &amp;#34;attributedTitle&amp;#34;) } func setMessage(font: UIFont?, color: UIColor? = nil) { guard let message = self.message else { return } let attributeString = NSMutableAttributedString(string: message) if let messageFont = font { attributeString.addAttributes([NSAttributedString.Key.font: messageFont], range: NSMakeRange(0, message.count)) } if let messageColor = color { attributeString.addAttributes([NSAttributedString.Key.foregroundColor: messageColor], range: NSMakeRange(0, message.count)) } self.setValue(attributeString, forKey: &amp;#34;attributedMessage&amp;#34;) } func setTint(color: UIColor) { self.view.tintColor = color } }  </content>
    </entry>
    
     <entry>
        <title>linux å‘½ä»¤å¤§å…¨</title>
        <url>https://iihui.github.io/post/linux-base/</url>
        <categories>
          <category>linux</category>
        </categories>
        <tags>
          <tag>linux</tag>
        </tags>
        <content type="html">  è¿™ç¯‡ç¬”è®°æ˜¯å­¦ä¹ Linuxå‘½ä»¤å¤§å…¨çš„è¯»ä¹¦ç¬”è®°ï¼Œç”¨äºè®°å½•é‚£äº›ä¸ªäººè®¤ä¸ºæœ‰ç”¨çš„å‘½ä»¤ï¼Œä¾›åç»­æŸ¥è¯¢ã€‚
 shell æ˜¯ä»€ä¹ˆ df dfå‘½ä»¤ç”¨äºç£ç›˜é©±åŠ¨å™¨å½“å‰çš„å¯ç”¨ç©ºé—´
free freeå‘½ä»¤å¯ä»¥æ˜¾ç¤ºå¯ç”¨å†…å­˜
</content>
    </entry>
    
     <entry>
        <title>vim å­¦ä¹ </title>
        <url>https://iihui.github.io/post/tool-vim/</url>
        <categories>
          <category>vim</category>
        </categories>
        <tags>
          <tag>vim</tag>
        </tags>
        <content type="html"> é…ç½®æ–‡ä»¶ vimä»ä¸€ä¸ªåä¸º.vimrcï¼ˆåœ¨ç±»Unixç³»ç»Ÿä¸­ï¼Œä»¥.å¼€å¤´çš„æ–‡ä»¶ä¸ºéšè—æ–‡ä»¶ï¼Œä¸ºäº†çœ‹åˆ°è¿™äº›æ–‡ä»¶ï¼Œå¯ä»¥è¿è¡Œls -aå‘½ä»¤è¡Œï¼‰çš„æ–‡ä»¶ä¸­è¯»å–é…ç½®ä¿¡æ¯ã€‚
syntax on &amp;#34;æ”¯æŒè¯­æ³•é«˜äº®æ˜¾ç¤º filetype plugin indent on &amp;#34;å¯ç”¨æ ¹æ®æ–‡ä»¶ç±»å‹ç¼©è¿› set autoindent &amp;#34;å¼€å¯æ–°è¡Œæ—¶å¤„ç†ç¼©è¿› set expandtab &amp;#34;å°†åˆ¶è¡¨ç¬¦Tabå±•å¼€ä¸ºç©ºæ ¼ set tabstop=4 &amp;#34;è¦è®¡ç®—çš„ç©ºæ ¼æ•° set shiftwidth=4 &amp;#34;ç”¨äºè‡ªåŠ¨ç¼©è¿›çš„ç©ºæ ¼æ•° set backspace=2 &amp;#34;åœ¨å¤šç»ˆç«¯ä¸Šä¿®æ­£é€€æ ¼é”®backspaceçš„è¡Œä¸º colorscheme murphy &amp;#34;ä¿®æ”¹é…è‰² æ‰“å¼€æ–‡ä»¶ vim test.txtä¼šæ‰“å¼€ä¸€ä¸ªåä¸ºtest.txtçš„æ–‡ä»¶ã€‚å¦‚æœè¯¥æ–‡ä»¶å­˜åœ¨ï¼Œåˆ™è¯»è€…ä¼šçœ‹åˆ°å®ƒçš„å†…å®¹ï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™å¾—åˆ°ä¸€ä¸ªç©ºç™½ç•Œé¢ã€‚
æ¸…ç©ºå†…å®¹ é¦–å…ˆè¿›å…¥åˆ°å‘½ä»¤æ¨¡å¼ï¼Œç„¶åè¾“å…¥ ggå‘½ä»¤ï¼Œ æ¥ç€è¾“å…¥dGå‘½ä»¤ã€‚
</content>
    </entry>
    
     <entry>
        <title>Mach-O æ–‡ä»¶</title>
        <url>https://iihui.github.io/post/ios-macho/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html">  Mach-Oä¸ºMach Objectæ–‡ä»¶æ ¼å¼çš„ç¼©å†™ï¼Œå®ƒæ˜¯ä¸€ç§ç”¨äºå¯æ‰§è¡Œæ–‡ä»¶ã€ç›®æ ‡ä»£ç ã€åŠ¨æ€åº“çš„æ–‡ä»¶æ ¼å¼ã€‚
 æ–‡ä»¶ç±»å‹ å¸¸è§çš„MachOæ–‡ä»¶æœ‰ä¸‹é¢è¿™äº›ï¼Œå¯ä»¥é€šè¿‡file&#43;æ–‡ä»¶è·¯å¾„æ¥æŸ¥çœ‹æ–‡ä»¶çš„ç±»å‹ä¿¡æ¯ï¼š
 ç›®æ ‡æ–‡ä»¶.o åº“æ–‡ä»¶.a | .dylib | xxx.framework/xxx å¯æ‰§è¡Œæ–‡ä»¶ ç¬¦å·è¡¨æ–‡ä»¶.dysm  é€šç”¨äºŒè¿›åˆ¶ é€šç”¨äºŒè¿›åˆ¶æ–‡ä»¶æ˜¯ä¸€ç§èƒ½å¤ŸåŒæ—¶å…¼å®¹å¤šç§æ¶æ„çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¸¸ç”¨çš„æ¶æ„æœ‰arm64,arm64e,armv7,armv7sï¼Œé™¤äº†èƒ½å¤Ÿå…¼å®¹å¤šç§æ¶æ„ï¼Œè¿˜æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š
  èƒ½å¤Ÿä¸ºä¸åŒçš„æ¶æ„æä¾›æœ€ç†æƒ³çš„æ€§èƒ½ã€‚
  å› ä¸ºè¦å­˜å‚¨å¤šç§æ¶æ„çš„ä»£ç ï¼Œé€šç”¨äºŒè¿›åˆ¶ç¨‹åºåŒ…è¦æ¯”å•ä¸€æ¶æ„çš„äºŒè¿›åˆ¶ç¨‹åºåŒ…å¤§ã€‚
  å› ä¸ºå¤šç§æ¶æ„åªæ˜¯ä»£ç ä¸åŒï¼Œä½†èµ„æºç›¸åŒï¼Œé€šç”¨äºŒè¿›åˆ¶çš„èµ„æºåªæœ‰ä¸€ä»½ï¼Œæ‰€ä»¥å¹¶ä¸ä¼šæ¯”å•ä¸€æ¶æ„çš„ç¨‹åºåŒ…å¤§å°å¤šä¸€å€ã€‚
  è¿è¡Œæ—¶ä¹Ÿåªæ‰§è¡Œå¯¹åº”æ¶æ„çš„ä»£ç ï¼Œä¸ä¼šå ç”¨å¤šä½™çš„å†…å­˜ã€‚
  lipo lipoå¯ä»¥ç”¨æ¥åˆå¹¶çœŸæœºåŒ…å’Œæ¨¡æ‹Ÿå™¨åŒ…ï¼š
lipo -create [çœŸæœºç¼–è¯‘è·¯å¾„/xxx.framework/xxx] [æ¨¡æ‹Ÿå™¨ç¼–è¯‘è·¯å¾„/xxx.framework/xxx] -output [åˆå¹¶åè¾“å‡ºçš„æ–‡ä»¶è·¯å¾„] ä¹Ÿå¯ä»¥ç”¨æ¥ä»é€šç”¨äºŒè¿›åˆ¶æ–‡ä»¶ä¸­æ‹†åˆ†å‡ºä¸åŒæ¶æ„ï¼š
// ä»é€šç”¨äºŒè¿›åˆ¶æ–‡ä»¶æ‹†åˆ†å‡ºä¸åŒçš„æ¶æ„ lipo [é€šç”¨äºŒè¿›åˆ¶æ–‡ä»¶è·¯å¾„] -thin [è¦æ‹†çš„æ¶æ„] -output [æ‹†å‡ºçš„äºŒè¿›åˆ¶è¾“å‡ºçš„è·¯å¾„] MachOçš„æ–‡ä»¶ç»“æ„ MachOæ–‡ä»¶åˆ†ä¸ºHeaderã€Loadã€commandsã€Dataä¸‰éƒ¨åˆ†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
åˆ‡æ¢cocoapodsç‰ˆæœ¬ sudo gem uninstall cocoapods sudo gem uninstall cocoapods-art sudo gem install cocoapods -v 1.5.3 sudo gem install cocoapods-art -v 1.0.3 å‚è€ƒèµ„æ–™
</content>
    </entry>
    
     <entry>
        <title>åˆ›å»ºç§æœ‰åº“</title>
        <url>https://iihui.github.io/post/ios-private-pods/</url>
        <categories>
          <category>ios</category>
        </categories>
        <tags>
          <tag>ios</tag><tag>pod</tag>
        </tags>
        <content type="html">  ä½¿ç”¨cocoapodså¯ä»¥åˆ›å»ºè¿œç¨‹ç§æœ‰åº“ï¼Œä¾›é¡¹ç›®ä½¿ç”¨ã€‚é¦–å…ˆéœ€è¦åœ¨githubä¸Šåˆ›å»ºä¸€ä¸ªè¿œç¨‹ç´¢å¼•åº“ï¼Œç„¶åä½¿ç”¨cocopodsåœ¨æœ¬åœ°åˆ›å»ºæ–‡ä»¶å¤¹ï¼Œå¹¶ä¸è¿œç¨‹ç§æœ‰åº“è¿›è¡Œå…³è”ã€‚å†åœ¨githubä¸Šåˆ›å»ºè¿œç¨‹ç»„ä»¶åº“ï¼Œæ¥ç€ä½¿ç”¨podåˆ›å»ºæœ¬åœ°å·¥ç¨‹ï¼Œç„¶åä¿®æ”¹ç»„ä»¶åº“çš„podspecæ–‡ä»¶ï¼Œå¹¶å°†æœ¬åœ°å·¥ç¨‹ä¸è¿œç¨‹ç»„ä»¶åº“å…³è”ï¼Œæ‰“ä¸Šä¸podspecæ–‡ä»¶ä¸­ç‰ˆæœ¬å·ä¸€è‡´çš„tagï¼Œç„¶åæäº¤ï¼Œæœ€åå°†podspecæ–‡ä»¶æäº¤æœ¬åœ°ç´¢å¼•åº“ã€‚
 è¿œç¨‹ç§æœ‰ç´¢å¼•åº“ é¦–å…ˆåœ¨githubä¸Šåˆ›å»ºä¸€ä¸ªç§æœ‰åº“ï¼Œç”¨æ¥å­˜æ”¾ç§æœ‰åº“çš„è¯¦ç»†æè¿°ä¿¡æ¯ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
æœ¬åœ°ç§æœ‰ç´¢å¼•åº“ åœ¨åˆ›å»ºæœ¬åœ°ç´¢å¼•åº“ä¹‹å‰ï¼Œé¦–å…ˆéœ€è¦æŸ¥çœ‹æœ¬åœ°å·²å­˜åœ¨çš„ç´¢å¼•åº“ï¼Œä»¥å…åˆ›å»ºåŒåçš„æœ¬åœ°ç´¢å¼•åº“ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
pod repo ç„¶åä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼Œå°†è¿œç¨‹åº“æ·»åŠ åˆ°æœ¬åœ°ï¼Œä»¥åˆ›å»ºæœ¬åœ°ç´¢å¼•åº“ï¼š
pod repo add MoSpec https://github.com/***/MoSpec.git æ·»åŠ ä¹‹åï¼Œå¯ä»¥å†ä½¿ç”¨pod repoæŸ¥çœ‹æœ¬åœ°å·²å­˜åœ¨çš„ç´¢å¼•åº“ï¼Œå¦‚ä¸‹æ‰€ç¤ºå¤šäº†ä¸€ä¸ªæœ¬åœ°ç´¢å¼•åº“:
åˆ›å»ºåŸºç¡€ç»„ä»¶ä»“åº“ ä¸‹é¢å°±æœ¬åœ°åˆ›å»ºWCDBSwiftä¸ºä¾‹è®²è§£åŸºç¡€ç»„ä»¶åº“çš„åˆ›å»ºã€‚WCDBSwiftä¾èµ–äºHY_SQLiteRepairKitå’ŒHY_WCDBOptimizedSQLCipherï¼Œè€ŒHY_SQLiteRepairKitåˆä¾èµ–äºHY_WCDBOptimizedSQLCipherï¼Œæ‰€ä»¥å¼€å§‹ä»HY_WCDBOptimizedSQLCipherç»„ä»¶åº“å¼€å§‹ï¼š
æœ¬åœ°ç»„ä»¶åº“ é¦–å…ˆä½¿ç”¨podå‘½ä»¤åœ¨æœ¬åœ°åˆ›å»ºç»„ä»¶åº“ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
pod lib create HY_WCDBOptimizedSQLCipher ç„¶åå°†æ‰€æœ‰ä»£ç æºæ–‡ä»¶Classesç›®å½•ä¸‹ï¼š
è¿œç¨‹ç»„ä»¶åº“ æ¥ç€åœ¨githubä¸Šåˆ›å»ºè¿œç¨‹ç»„ä»¶åº“ï¼Œé€šå¸¸éœ€è¦å’Œæœ¬åœ°åº“çš„åå­—ä¿æŒä¸€è‡´ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
ä¿®æ”¹podspec åœ¨ç»™å®šçš„æ¨¡ç‰ˆä¸Šä¿®æ”¹podspecæ–‡ä»¶ï¼Œæ³¨æ„s.versionçš„å€¼å°†äºtagä¿æŒä¸€è‡´ï¼Œè€Œs.sourceåˆ™è¡¨ç¤ºä¸Šä¸€æ­¥åˆ›å»ºçš„è¿œç¨‹ç»„ä»¶åº“çš„åœ°å€ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
# # Be sure to run `pod lib lint HY_WCDBOptimizedSQLCipher.podspec&amp;#39; to ensure this is a # valid spec before submitting. # # Any lines starting with a # are optional, but their use is encouraged # To learn more about a Podspec see https://guides.cocoapods.org/syntax/podspec.html # Pod::Spec.new do |s| s.name = &amp;#39;HY_WCDBOptimizedSQLCipher&amp;#39; s.version = &amp;#39;0.1.0&amp;#39; s.summary = &amp;#39;HY_WCDBOptimizedSQLCipher from WeChat WCDBOptimizedSQLCipher 1.2.1.&amp;#39; # This description is used to generate tags and improve search results. # * Think: What does it do? Why did you write it? What is the focus? # * Try to keep it short, snappy and to the point. # * Write the description between the DESC delimiters below. # * Finally, don&amp;#39;t worry about the indent, CocoaPods strips it! s.description = &amp;lt;&amp;lt;-DESC private WCDBOptimizedSQLCipher from WeChat WCDBOptimizedSQLCipher 1.2.1. DESC s.homepage = &amp;#39;https://github.com/***/HY_WCDBOptimizedSQLCipher&amp;#39; s.license = { :type =&amp;gt; &amp;#39;MIT&amp;#39;, :file =&amp;gt; &amp;#39;LICENSE&amp;#39; } s.author = { &amp;#39;***&amp;#39; =&amp;gt; &amp;#39;****&amp;#39; } s.source = { :git =&amp;gt; &amp;#39;https://github.com/***/HY_WCDBOptimizedSQLCipher.git&amp;#39;, :tag =&amp;gt; s.version.to_s } s.ios.deployment_target = &amp;#39;9.0&amp;#39; s.module_name = &amp;#39;sqlcipher&amp;#39; s.source_files = &amp;#39;HY_WCDBOptimizedSQLCipher/Classes/*.{h,c}&amp;#39;,&amp;#39;HY_WCDBOptimizedSQLCipher/Classes/src/*.{h,c}&amp;#39;,&amp;#39;HY_WCDBOptimizedSQLCipher/Classes/ext/*.{h,c}&amp;#39;,&amp;#39;HY_WCDBOptimizedSQLCipher/Classes/ext/**/*.{h,c}&amp;#39; s.public_header_files = &amp;#39;HY_WCDBOptimizedSQLCipher/Classes/sqlite3.h&amp;#39;,&amp;#39;HY_WCDBOptimizedSQLCipher/Classes/ext/fts3/fts3_tokenizer.h&amp;#39; s.frameworks = &amp;#39;Security&amp;#39;, &amp;#39;Foundation&amp;#39; s.requires_arc = false s.xcconfig = { &amp;#39;GCC_PREPROCESSOR_DEFINITIONS&amp;#39; =&amp;gt; &amp;#39;SQLITE_ENABLE_FTS3 SQLITE_ENABLE_FTS3_PARENTHESIS SQLITE_ENABLE_API_ARMOR SQLITE_OMIT_BUILTIN_TEST SQLITE_OMIT_AUTORESET SQLITE_ENABLE_UPDATE_DELETE_LIMIT SQLITE_ENABLE_RTREE SQLITE_ENABLE_LOCKING_STYLE=1 SQLITE_SYSTEM_MALLOC SQLITE_OMIT_LOAD_EXTENSION SQLITE_CORE SQLITE_THREADSAFE=2 SQLITE_DEFAULT_CACHE_SIZE=250 SQLITE_DEFAULT_CKPTFULLFSYNC=1 SQLITE_DEFAULT_PAGE_SIZE=4096 SQLITE_OMIT_SHARED_CACHE SQLITE_HAS_CODEC SQLCIPHER_CRYPTO_CC USE_PREAD=1 SQLITE_TEMP_STORE=2 SQLCIPHER_PREPROCESSED HAVE_USLEEP SQLITE_MALLOC_SOFT_LIMIT=0 SQLITE_WCDB_SIGNAL_RETRY=1 SQLITE_DEFAULT_MEMSTATUS=0 SQLITE_ENABLE_COLUMN_METADATA SQLITE_DEFAULT_WAL_SYNCHRONOUS=1 SQLITE_LIKE_DOESNT_MATCH_BLOBS SQLITE_MAX_EXPR_DEPTH=0 SQLITE_OMIT_DEPRECATED SQLITE_OMIT_PROGRESS_CALLBACK SQLITE_OMIT_SHARED_CACHE OMIT_CONSTTIME_MEM OMIT_MEMLOCK SQLITE_ENABLE_FTS3_TOKENIZER SQLITE_WCDB_CHECKPOINT_HANDLER SQLITE_MMAP_READWRITE SQLITE_ENABLE_DBSTAT_VTAB SQLITE_ENABLE_FTS5&amp;#39;, &amp;#39;CLANG_WARN_CONSTANT_CONVERSION&amp;#39; =&amp;gt; &amp;#39;YES&amp;#39;, &amp;#39;GCC_WARN_64_TO_32_BIT_CONVERSION&amp;#39; =&amp;gt; &amp;#39;NO&amp;#39;, &amp;#39;CLANG_WARN_UNREACHABLE_CODE&amp;#39; =&amp;gt; &amp;#39;NO&amp;#39;, &amp;#39;GCC_WARN_UNUSED_FUNCTION&amp;#39; =&amp;gt; &amp;#39;NO&amp;#39;, &amp;#39;GCC_WARN_UNUSED_VARIABLE&amp;#39; =&amp;gt; &amp;#39;NO&amp;#39;, &amp;#39;CLANG_WARN_COMMA&amp;#39; =&amp;gt; &amp;#39;NO&amp;#39;, &amp;#39;CLANG_WARN_STRICT_PROTOTYPES&amp;#39; =&amp;gt; &amp;#39;NO&amp;#39;, &amp;#39;APPLICATION_EXTENSION_API_ONLY&amp;#39; =&amp;gt; &amp;#39;YES&amp;#39;} s.header_dir = &amp;#39;sqlcipher&amp;#39; end æ£€æŸ¥podspec åœ¨ç»ˆç«¯ä¸‹è½¬åˆ°å·¥ç¨‹ç›®å½•ä¸‹ï¼Œç„¶åæ‰§è¡Œpod lib lintå‘½ä»¤ï¼Œä»¥æ£€æŸ¥ä¸‹ä¸€æ­¥ä¿®æ”¹çš„podspecæ–‡ä»¶ï¼š
æœ¬åœ°éªŒè¯ç»„ä»¶ åœ¨ç»ˆç«¯ä¸‹è½¬åˆ°Exampleç›®å½•ä¸‹ï¼Œç„¶åæ‰§è¡Œpod installå‘½ä»¤ï¼Œç„¶åæ‰“å¼€Xcodeåœ¨æ¨¡æ‹Ÿå™¨æˆ–è€…è·‘ä¸€ä¸‹å·¥ç¨‹ï¼ŒæœªæŠ¥é”™åˆ™æœ¬åœ°éªŒè¯é€šè¿‡ï¼š
ä¸Šä¼ åˆ°è¿œç¨‹åº“ åœ¨ç»ˆç«¯ä¸‹æˆ–è€…ä½¿ç”¨sourceTreeå°†æœ¬åœ°åº“æ·»åŠ çš„æ–‡ä»¶ä»¥åŠä¿®æ”¹çš„podspecæäº¤ç„¶åä¸Šä¼ åˆ°è¿œç¨‹åº“ï¼š
æ·»åŠ tag ç„¶åç»™æœ¬åœ°åº“æ·»åŠ è·Ÿs.versionä¸€æ ·çš„tagï¼Œç„¶åå†pushåˆ°è¿œç¨‹åº“ï¼š
å…³è”åˆ°æœ¬åœ°ç´¢å¼•åº“ åœ¨ç»ˆç«¯ä¸‹è½¬åˆ°æœ¬åœ°ç»„ä»¶å·¥ç¨‹ç›®å½•ï¼Œä½¿ç”¨pod repo push MoSpec HY_WCDBOptimizedSQLCipher.podspec --allow-warningså‘½ä»¤å°†podspecæ–‡ä»¶æäº¤åˆ°æœ¬åœ°ç´¢å¼•åº“ï¼Œæäº¤çš„æ—¶å€™ä¾ç„¶ä¼šéªŒè¯ podspecæ–‡ä»¶ï¼ŒéªŒè¯é€šè¿‡åä¼šè‡ªåŠ¨ä¸Šä¼ åˆ°åœ¨è¿œç¨‹spec`ç´¢å¼•åº“ã€‚
 å‚è€ƒèµ„æ–™ å‚è€ƒèµ„æ–™
</content>
    </entry>
    
     <entry>
        <title>æŒ‡å®šPodfileä¸­source</title>
        <url>https://iihui.github.io/post/ios-pods-question/</url>
        <categories>
          <category>iOS</category><category>pod</category>
        </categories>
        <tags>
          <tag>iOS</tag><tag>pod</tag>
        </tags>
        <content type="html">  åœ¨ç¬”è®°æœ¬ä¸Šå®‰è£…å¥½Cocoapodsä¹‹åï¼Œæ‰§è¡Œpod installåæŠ¥trunk repo update failedï¼Œè§£å†³æ–¹æ¡ˆæ˜¯åœ¨Podfileä¸­æŒ‡å®šå¦ä¸€ä¸ªæºä»“åº“ã€‚
 æŠ¥é”™ä¿¡æ¯ è§£å†³æ–¹æ¡ˆ è§£å†³æ–¹æ¡ˆæ˜¯åœ¨Podfileä¸­æŒ‡å®šsourceï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
platform :ios, &amp;#39;8.0&amp;#39; source &amp;#39;https://github.com/CocoaPods/Specs.git&amp;#39; use_frameworks! target &amp;#39;NewWCDB&amp;#39; do pod &amp;#39;WCDB.swift&amp;#39; end å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæ­¤æ—¶ï¼Œæ‰§è¡Œpod installæ˜¯æ­£å¸¸çš„ï¼Œä½†æ˜¯æ‰§è¡Œpod searchä¾ç„¶ä¼šæŠ¥é”™ï¼Œæ­¤æ—¶å°±éœ€è¦å°†trunkç§»é™¤ï¼š
pod repo remove trunk  å‚è€ƒèµ„æ–™
</content>
    </entry>
    
     <entry>
        <title>éªŒè¯ç ç»‘å®šç•Œé¢</title>
        <url>https://iihui.github.io/post/ios-login/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html">  éªŒè¯ç ç»‘å®šï¼ŒåŒ…æ‹¬ä¸ªäººè´¦æˆ·ï¼Œå’Œè™šæ‹Ÿè´¦æˆ·ã€‚ä¹‹å‰å†™çš„éªŒè¯ç ç»‘å®šç•Œé¢æ‰©å±•æ€§å¤ªå·®ï¼Œè¿™æ¬¡å†³å®šå°è¯•ä½¿ç”¨tableViewå®ç°éªŒè¯ç ç»‘å®šç•Œé¢ï¼Œä¸»è¦æ˜¯ä¸ºäº†å¢åŠ å¯æ‰©å±•æ€§ï¼Œä¾¿äºå½“éœ€è¦å¢åŠ æ–°çš„éªŒè¯ä¿¡æ¯æ—¶ï¼Œå¯ä»¥ä¸å¤§åŠ¨åŸç•Œé¢ã€‚è¿™ç¯‡æ–‡ç« æ˜¯å¯¹åº”çš„ViewControllerçš„ä»£ç å’Œæœ€ç»ˆçš„ç•Œé¢ã€‚
 VCä»£ç  import UIKit enum SMSLoginType { case Personal case Virtual } class NewSMSViewController: UIViewController, UITableViewDelegate, UITableViewDataSource { @IBOutlet weak var personalAccountBtn: UIButton! @IBOutlet weak var personalAccountUnderline: UILabel! @IBOutlet weak var virtualAccountBtn: UIButton! @IBOutlet weak var virtualAccountUnderline: UILabel! @IBOutlet weak var tableView: UITableView! private let defaultColor = UIColor(hex: &amp;#34;#4B5169&amp;#34;) private let hiddenColor = UIColor(hex: &amp;#34;#9294A6&amp;#34;) private var imageAndText: [(image: String, tip: String)] = [(&amp;#34;virtualid&amp;#34;, &amp;#34;è¯·è¾“å…¥è™šæ‹Ÿè´¦å·ID&amp;#34;), (&amp;#34;no&amp;#34;, &amp;#34;è¯·è¾“å…¥ä¸€äº‹é€šIDæˆ–å‘˜å·¥ç¼–å·&amp;#34;), (&amp;#34;idcard_small&amp;#34;, &amp;#34;è¯·è¾“å…¥èº«ä»½è¯åå…­ä½&amp;#34;)] private var _loginType: SMSLoginType = .Personal private var loginType: SMSLoginType { get { return _loginType } set { switch newValue { case .Personal: self.personalAccountUnderline.isHidden = false self.virtualAccountUnderline.isHidden = true self.personalAccountBtn.setTitleColor(self.defaultColor, for: .normal) self.virtualAccountBtn.setTitleColor(self.hiddenColor, for: .normal) case .Virtual: self.personalAccountUnderline.isHidden = true self.virtualAccountUnderline.isHidden = false self.personalAccountBtn.setTitleColor(self.hiddenColor, for: .normal) self.virtualAccountBtn.setTitleColor(self.defaultColor, for: .normal) } _loginType = newValue self.tableView.reloadData() } } override func viewDidLoad() { super.viewDidLoad() self.tableView.delegate = self self.tableView.dataSource = self self.tableView.tableFooterView = UIView() self.tableView.separatorColor = UIColor.gray self.tableView.separatorInset = UIEdgeInsets(top: 0, left: -10, bottom: 0, right: 0) } @IBAction func back(_ sender: Any) { self.navigationController?.popViewController(animated: true) } @IBAction func showPersonalAccountUI(_ sender: Any) { self.loginType = .Personal } @IBAction func showVirtualAccountUI(_ sender: Any) { self.loginType = .Virtual } func numberOfSections(in tableView: UITableView) -&amp;gt; Int { return 3 } func tableView(_ tableView: UITableView, heightForRowAt indexPath: IndexPath) -&amp;gt; CGFloat { return 48 } func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -&amp;gt; Int { switch section { case 0: switch _loginType { case .Personal: return 2 case .Virtual: return 3 } default: return 1 } } func tableView(_ tableView: UITableView, willDisplay cell: UITableViewCell, forRowAt indexPath: IndexPath) { cell.selectionStyle = .none } func tableView(_ tableView: UITableView, heightForHeaderInSection section: Int) -&amp;gt; CGFloat { if section == 2 { return 60 } return 0 } func tableView(_ tableView: UITableView, heightForFooterInSection section: Int) -&amp;gt; CGFloat { switch section { case 0, 1: return 0.5 default: return 0 } } func tableView(_ tableView: UITableView, viewForFooterInSection section: Int) -&amp;gt; UIView? { let headerView = UIView() headerView.backgroundColor = UIColor.gray return headerView } func tableView(_ tableView: UITableView, viewForHeaderInSection section: Int) -&amp;gt; UIView? { let footerView = UIView() footerView.backgroundColor = UIColor.clear return footerView } func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&amp;gt; UITableViewCell { switch indexPath.section { case 0: let cell = tableView.dequeueReusableCell(withIdentifier: &amp;#34;SMSNormalCell&amp;#34;, for: indexPath) if let norCell = cell as? SMSNormalCell { var index = indexPath.row switch loginType { case .Personal: index = index &#43; 1 default: break } norCell.iconImageView.image = UIImage(named: imageAndText[index].image) norCell.textField.placeholder = imageAndText[index].tip norCell.textField.clearButtonMode = .whileEditing } return cell case 1: let cell = tableView.dequeueReusableCell(withIdentifier: &amp;#34;SMSCodeCell&amp;#34;, for: indexPath) if let codeCell = cell as? SMSCodeCell { codeCell.iconImageView.image = UIImage(named: &amp;#34;authcode&amp;#34;) codeCell.textField.placeholder = &amp;#34;è¯·è¾“å…¥æ‰‹æœºéªŒè¯ç &amp;#34; codeCell.textField.clearButtonMode = .whileEditing codeCell.codeBtn.layer.cornerRadius = 18.0 codeCell.codeBtn.layer.borderColor = UIColor.black.cgColor codeCell.codeBtn.layer.borderWidth = 1.0 } cell.separatorInset = UIEdgeInsets(top: 0, left: 0, bottom: 12, right: 0) return cell default: let cell = tableView.dequeueReusableCell(withIdentifier: &amp;#34;SMSBindCell&amp;#34;, for: indexPath) return cell } } } ç»‘å®šç•Œé¢  æŒ‰é’®åœ†è§’è®¾ç½®
è‡ªå®šä¹‰
// if let navBarHeight = self.navigationController?.navigationBar.frame.height { // navHeight &#43;= navBarHeight // } navBGView.alpha = 0 navBGView.backgroundColor = UIColor.white navBGView.frame = CGRect(x: 0, y: 0, width: self.view.bounds.size.width, height: navHeight) // navBGView.layer.shadowColor = UIColor.lightGray.cgColor // navBGView.layer.shadowOffset = CGSize(width: 0, height: 1.8) // navBGView.layer.shadowOpacity = 0.2 // navBGView.layer.shadowRadius = 2.5 // navBGView.layer.shadowPath = UIBezierPath.init(rect: navBGView.bounds).cgPath // // let topSafeMargin = UIApplication.shared.keyWindow!.pagingLayoutInsets().top // let navTitleLbl = UILabel() // navTitleLbl.text = &amp;#34;èµ„è®¯&amp;#34; // navTitleLbl.font = UIFont.systemFont(ofSize: 17.5, weight: .medium) // navTitleLbl.textAlignment = .center // navTitleLbl.frame = CGRect(x: 0, y: topSafeMargin, width: self.view.bounds.size.width, height: 44) // navBGView.addSubview(navTitleLbl) // navBGView.isHidden = false let model = self.ePaperPresenter.ePapersModels[indexPath.row] var url = self.ePaperPresenter.webConfig.webUrl if let lowerBound = url.range(of: action)?.lowerBound { url = String(url.prefix(upTo: lowerBound)) } </content>
    </entry>
    
     <entry>
        <title>AutoLayout</title>
        <url>https://iihui.github.io/post/ios-autolayout/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html">  è‹¹æœå…¬å¸æ¨å‡ºçš„AutoLayoutæ˜¯ä¸€ä¸ªåŸºäºçº¦æŸï¼ŒåŠ¨æ€è®¡ç®—è§†å›¾å¤§å°å’Œä½ç½®çš„åº“ã€‚å®ƒä»¥å¸ƒå±€å¼•æ“ç³»ç»ŸLayout Engineä¸ºæ ¸å¿ƒï¼Œé‡‡ç”¨äº†Cassowaryå¸ƒå±€ç®—æ³•ï¼Œåœ¨ç®€åŒ–å¸ƒå±€æ€è·¯çš„åŒæ—¶ï¼Œè¿˜ä¿è¯äº†å¸ƒå±€çš„é«˜æ•ˆæ€§ã€‚å¸ƒå±€ç®—æ³•Cassowaryèƒ½å¤Ÿæœ‰æ•ˆè§£æçº¿æ€§ç­‰å¼ç³»ç»Ÿå’Œçº¿æ€§ä¸ç­‰å¼ç³»ç»Ÿï¼Œç”¨æ¥è¡¨ç¤ºç”¨æˆ·ç•Œé¢ä¸­é‚£äº›ç›¸ç­‰å…³ç³»å’Œä¸ç­‰å…³ç³»ï¼Œé€šè¿‡è®¾å®šçº¦æŸæ¥è¡¨ç¤ºä¸€ä¸ªè§†å›¾ç›¸å¯¹äºå¦ä¸€ä¸ªè§†å›¾çš„ä½ç½®ã€‚
 åŸç† åœ¨Layout Engineä¸­ï¼Œæ¯å½“çº¦æŸå‘ç”Ÿå˜åŒ–ï¼Œä¼šé‡æ–°è®¡ç®—å¸ƒå±€ï¼Œè·å–åˆ°å¸ƒå±€åä¼šè°ƒç”¨superview.setNeedLayout()ï¼Œç„¶åè§¦å‘Deffered Layout Passåšå®¹é”™å¤„ç†ï¼Œç„¶åLayout Engineä¼šä»ä¸Šåˆ°ä¸‹è°ƒç”¨layoutSubviews()æ¥ç¡®å®šå„å­è§†å›¾çš„ä½ç½®ï¼Œç®—å‡ºæ¥åå°†å­è§†å›¾çš„frameä»Layout Engineä¸­æ‹·è´å‡ºæ¥ï¼Œç„¶åè¿›è¡Œç»˜åˆ¶ã€æ¸²æŸ“ã€‚
å‡ ä¸ªæ›´æ–°æ–¹æ³•çš„åŒºåˆ«   setNeedsLayout å‘ŠçŸ¥é¡µé¢éœ€è¦æ›´æ–°ï¼Œä½†æ˜¯ä¸ä¼šç«‹åˆ»å¼€å§‹æ›´æ–°ï¼Œä¹Ÿå°±æ˜¯å…ˆåšä¸€ä¸ªæ ‡è®°ã€‚
  layoutIfNeeded å¦‚æœæœ‰éœ€è¦åˆ·æ–°çš„æ ‡è®°ï¼Œç«‹å³è°ƒç”¨layoutSubViewsè¿›è¡Œå¸ƒå±€ï¼›å¦‚æœæ²¡æœ‰æ ‡è®°ï¼Œä¸ä¼šè°ƒç”¨layoutSubbViewsã€‚å¦‚æœå¸Œæœ›ç«‹å³åˆ·æ–°frameï¼Œè¦å…ˆè°ƒç”¨setNeedsLayoutï¼ŒæŠŠæ ‡è®°ä¸ºéœ€è¦å¸ƒå±€ï¼Œç„¶åé©¬ä¸Šè°ƒç”¨layoutIfNeededå®ç°å¸ƒå±€ã€‚
  layoutSubviews å¯¹subviewsè¿›è¡Œå¸ƒå±€ï¼Œä¸èƒ½ä¸»åŠ¨è°ƒç”¨ï¼Œéœ€è¦çš„æ—¶å€™åœ¨å­ç±»ä¸­é‡å†™ï¼Œç³»ç»Ÿä¼šåœ¨åˆé€‚çš„æ—¶å€™è°ƒç”¨ã€‚
  setNeedsUpdateConstraints å‘ŠçŸ¥éœ€è¦æ›´æ–°çº¦æŸï¼Œä½†æ˜¯ä¸ä¼šç«‹åˆ»å¼€å§‹ï¼Œä¹Ÿå°±æ˜¯å…ˆåšä¸€ä¸ªæ ‡è®°ï¼Œè°ƒç”¨updateConstraintsIfNeededä¼šæŸ¥çœ‹è¯¥æ ‡è®°ã€‚
  updateConstraintsIfNeeded å‘ŠçŸ¥ç«‹åˆ»æ›´æ–°çº¦æŸï¼Œå¦‚æœæœ‰éœ€è¦åˆ·æ–°çº¦æŸçš„æ ‡è®°ï¼Œåˆ™ç«‹å³æ›´æ–°ï¼Œå¦åˆ™ä¸æ›´æ–°çº¦æŸã€‚
  updateConstraints ç³»ç»Ÿæ›´æ–°çº¦æŸï¼Ÿï¼Ÿï¼Ÿã€‚
  ç³»ç»Ÿè°ƒlayoutSubviewsæ—¶æœº   ä½¿ç”¨initåˆå§‹åŒ–ä¸ä¼šè§¦å‘layoutSubviewsï¼Œä½†æ˜¯ä½¿ç”¨initWithFrameè¿›è¡Œåˆå§‹åŒ–ä¸”rectä¸ä¸ºzeroæ—¶ä¼šè°ƒç”¨layoutSubviewsã€‚
  è°ƒç”¨addSubviewçš„æ—¶å€™ä¼šè§¦å‘ç³»ç»Ÿè°ƒç”¨layoutSubviewsã€‚
  å½“viewçš„frameå‘ç”Ÿæ”¹å˜æ—¶è§¦å‘layoutSubviewsè°ƒç”¨ã€‚
  æ»šåŠ¨ä¸€ä¸ªUIScrollViewä¼šè§¦å‘layoutSubviewsè°ƒç”¨ã€‚
  æ—‹è½¬å±å¹•ä¼šè§¦å‘çˆ¶UIViewä¸Šçš„layoutSubviewsäº‹ä»¶ã€‚
  æ”¹å˜ä¸€ä¸ªUIViewå¤§å°çš„æ—¶å€™ä¹Ÿä¼šè°ƒç”¨çˆ¶UIViewä¸Šçš„layoutSubviewsäº‹ä»¶ã€‚
  å›ºæœ‰å†…å®¹å¤§å° Intrinsic content size å°±æ˜¯å›ºæœ‰å†…å®¹å¤§å°ï¼Œå¯¹åº”çš„æ˜¯intrinsicContentSizeè®¡ç®—å±æ€§ã€‚å®é™…ä¸Šï¼Œå¯ä»¥é€šè¿‡ç»§æ‰¿å¯ä»¥é‡å†™UIViewçš„å›ºæœ‰å†…å®¹å¤§å°ï¼Œè¾¾åˆ°å®šåˆ¶çš„ç›®çš„ï¼š
class TestView: UIView { override var intrinsicContentSize: CGSize { return CGSize(width: 300, height: 800) } } UITableViewé«˜åº¦è®¡ç®— è‡ªåŠ¨è®¡ç®— å½“å¸ƒå±€æ»¡è¶³self-satisfiedï¼ˆè®¾ç½®çº¦æŸæ—¶ï¼Œåªæœ‰ä¸€ä¸ªä¸ç¡®å®šæ—¶ï¼Œä¾‹å¦‚é«˜åº¦ï¼‰æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è®¡ç®—é«˜åº¦ï¼Œç¼ºç‚¹æ—¶æ…¢ï¼Œå› ä¸ºæ²¡æœ‰ç¼“å­˜é«˜åº¦ï¼Œæ¯æ¬¡éƒ½è¦è®¡ç®—ä¸€æ¬¡ã€‚
//é¦–å…ˆåœ¨viewDidLoadä¸­cellé¢„ä¼°é«˜åº¦,è®¾ä¸€ä¸ªæ¥è¿‘cellé«˜åº¦çš„å€¼ self.tableView.estimatedRowHeight = 100; //ç„¶ååœ¨è®¾ç½®è¿”å›automaticDimension override func tableView(_ tableView:UITableView, heightForRawAt: indexPath IndexPath) -&amp;gt; CGFloat { return UITableView.automaticDimension }  æ‘˜æŠ„è‡ªè¿™é‡Œ
</content>
    </entry>
    
     <entry>
        <title>ä¸å¸¸è§çš„å…³é”®å­—</title>
        <url>https://iihui.github.io/post/ios-keywords/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html">  ä½¿ç”¨Swiftå†™ä»£ç æ—¶ï¼Œç»å¸¸ä¼šé‡åˆ°ä¸€äº›ä¸å¸¸è§çš„å…³é”®è¯æˆ–è€…å¸¸ç”¨å…³é”®è¯çš„ç‰¹æ®Šä½¿ç”¨åœºæ™¯ï¼Œå› ä¸ºæ¯”è¾ƒå°‘ä½¿ç”¨ï¼Œé€šå¸¸è¿™äº›ä¸å¸¸è§çš„å…³é”®è¯æˆ–è€…ç‰¹æ®Šåœºæ™¯å¾ˆå®¹æ˜“å¿˜è®°ï¼Œè¿™ç¯‡æ–‡ç« ç”¨äºè®°å½•è¿™äº›æƒ…å†µã€‚
 ä¾¿åˆ©æ„é€ å‡½æ•° convenienceç”¨äºæ„é€ å‡½æ•°ä¸­ï¼Œç§°ä¹‹ä¸ºä¾¿åˆ©æ„é€ å‡½æ•°ã€‚é€šå¸¸åœ¨å¯¹ä¸€äº›ç³»ç»Ÿæ§ä»¶æ‰©å±•åˆ†ç±»çš„æ—¶å€™ç”¨convenienceå…³é”®å­—ï¼Œæ¯”å¦‚ï¼š
extension UIColor { convenience init(hex: String) { var cString: String = hex.trimmingCharacters(in: .whitespacesAndNewlines).uppercased() if (cString.hasPrefix(&amp;#34;#&amp;#34;)) { cString.remove(at: cString.startIndex) } assert(cString.count == 6, &amp;#34;æ— æ•ˆçš„hexå€¼&amp;#34;) var rgbValue: UInt64 = 0 Scanner(string: cString).scanHexInt64(&amp;amp;rgbValue) self.init( red: CGFloat((rgbValue &amp;amp; 0xFF0000) &amp;gt;&amp;gt; 16) / 255.0, green: CGFloat((rgbValue &amp;amp; 0x00FF00) &amp;gt;&amp;gt; 8) / 255.0, blue: CGFloat(rgbValue &amp;amp; 0x0000FF) / 255.0, alpha: CGFloat(1.0) ) } } åŸå› æ˜¯Swiftä¸ºäº†ä¿è¯å®‰å…¨ï¼Œæœ‰ä¸ªä¸¥æ ¼çš„åˆå§‹åŒ–æ–¹æ³•â€”â€”Swiftä¸­ä¸åŠ ä¿®é¥°çš„initæ–¹æ³•éœ€è¦åœ¨æ–¹æ³•ä¸­ä¿è¯æ‰€æœ‰çš„éOptionalçš„å®ä¾‹å˜é‡è¢«èµ‹å€¼åˆå§‹åŒ–ã€‚æ­¤æ—¶ï¼Œå¦‚æœæƒ³å†™ä¸€ä¸ªè‡ªå®šä¹‰çš„æ„é€ å‡½æ•°ï¼Œè¦æŠŠæ‰€æœ‰çš„éOptionalçš„å®ä¾‹å˜é‡è¢«èµ‹å€¼åˆå§‹åŒ–ï¼Œå°±å˜å¾—å¾ˆéº»çƒ¦ã€‚æ­¤æ—¶ä¾¿åˆ©æ„é€ å‡½æ•°å°±å‘æŒ¥ä½œç”¨äº†ï¼Œå®ƒé€šå¸¸ç”¨åœ¨å¯¹ç³»ç»Ÿçš„ç±»è¿›è¡Œæ„é€ å‡½æ•°çš„æ‰©å……æ—¶ä½¿ç”¨ã€‚
  å¿…é¡»è°ƒç”¨åœ¨convenienceä¸­ä¿®é¥°çš„æ„é€ å‡½æ•°ä¸­ï¼Œå¿…é¡»è°ƒç”¨æœ¬ç±»çš„æ„é€ å‡½æ•°ï¼Œä¸èƒ½è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ã€‚
  å…¶æœ¬èº«ä¸è´Ÿè´£å±æ€§çš„åˆ›å»ºå’Œåˆå§‹åŒ–å·¥ä½œã€‚
  ä¸èƒ½è¢«é‡å†™ã€‚
  </content>
    </entry>
    
     <entry>
        <title>Keyboard Maestro ä½¿ç”¨</title>
        <url>https://iihui.github.io/post/tool-maestro/</url>
        <categories>
          <category>tool</category>
        </categories>
        <tags>
          <tag>tool</tag>
        </tags>
        <content type="html">  Keyboard Maestroæ˜¯ä¸€æ¬¾ç¥å¥‡çš„è½¯ä»¶ï¼Œåœ¨æˆ‘å¿ƒé‡Œå®ƒå’ŒAlfredåŒæ ·é‡è¦ï¼Œæ˜¯è£…æœºå¿…å¤‡è½¯ä»¶ã€‚ä½¿ç”¨å®ƒå¯ä»¥çœå»å®‰è£…å¾ˆå¤šè½¯ä»¶ï¼Œè¿™ç¯‡æ–‡ç« è®°å½•åœ¨å¹³å¸¸å·¥ä½œä¸­ä½¿ç”¨å®ƒçš„ä¸€äº›ç‰¹æ€§æˆ–æŠ€å·§ï¼Œä»¥ä¾›åç»­æŸ¥é˜…ã€‚
 å¿«æ·è¾“å…¥ ç²˜è´´ é”®ç›˜ æ‰“å¼€åº”ç”¨ å¼€å¯å’Œå…³é—­wifi çª—å£ å·¦åŠå± å³åŠå± æœ€å¤§åŒ– å…¨å± å»æ ¼å¼ç²˜è´´ å¤åˆ¶å½“å‰è¡Œ ç„¦ç‚¹ åˆ‡æ¢åˆ°å±å¹•ä¸€ åˆ‡æ¢åˆ°å±å¹•äºŒ  </content>
    </entry>
    
     <entry>
        <title>git ä½¿ç”¨</title>
        <url>https://iihui.github.io/post/tool-git/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>git</tag>
        </tags>
        <content type="html"> æ¸…ç†æ–‡ä»¶ æœ¬åœ°.gitæ–‡ä»¶å¤ªå¤§ï¼Œå¯ä»¥ä½¿ç”¨git gcå‘½ä»¤æ¸…ç†ä¸å¿…è¦çš„æ–‡ä»¶å¹¶ä¼˜åŒ–æœ¬åœ°å­˜å‚¨åº“ï¼Œå…¶ä¸­gcæ˜¯garbage collectionçš„ç¼©å†™:
git gc [--aggressive] [--auto] [--quiet] [--prune=&amp;lt;date&amp;gt; | --no-prune] [--force] [--keep-largest-pack] æ›´å¤šå‚æ•°è®²è§£
å¤§å°å†™æ•æ„Ÿ é»˜è®¤æƒ…å†µä¸‹gitè¿½è¸ªçš„é¡¹ç›®å¯¹æ–‡ä»¶åå¤§å°å†™æ˜¯ä¸æ•æ„Ÿçš„ï¼Œä½†æ˜¯gitæä¾›äº†å‘½ä»¤å¯ä»¥ä½¿å¾—å½“å‰é¡¹ç›®æˆ–è€…æ‰€æœ‰é¡¹ç›®éƒ½èƒ½åŒºåˆ†æ–‡ä»¶åçš„å¤§å°å†™ã€‚
å½“å‰é¡¹ç›® æ‰“å¼€ç»ˆç«¯ï¼Œåˆ©ç”¨cdå‘½ä»¤ï¼Œå°†ç›®å½•åˆ‡æ¢åˆ°gitä»“åº“ä¸‹ï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤ä½¿å…¶å¯¹æ–‡ä»¶åå¤§å°å†™æ•æ„Ÿï¼š
git config core.ignorecase false æ‰€æœ‰é¡¹ç›® å¦‚æœæƒ³è¦æ‰€æœ‰é¡¹ç›®éƒ½å¯¹æ–‡ä»¶åå¤§å°å†™æ•æ„Ÿï¼Œå°±éœ€è¦è¿›è¡Œå…¨å±€è®¾ç½®ã€‚æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œæ”¹å˜gitçš„å…¨å±€è®¾ç½®å³å¯ï¼š
git config --global core.ignorecase false errno54 åœ¨ä½¿ç”¨pod installæ—¶æŠ¥äº†error: RPC failed; curl 56 LibreSSL SSL_read: SSL_ERROR_SYSCALL, errno 54é”™è¯¯ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
åŸå› æ˜¯åœ¨æ‹‰å–å¤§æ–‡ä»¶æ—¶ï¼Œç¼“å­˜æ–¹é¢å­˜åœ¨é—®é¢˜ï¼Œå› æ­¤éœ€è¦åŠ å¤§ç¼“å­˜ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
git config --global http.postBuffer 1048576000 git config --global https.postBuffer 1048576000 rebase æ•´åˆæ¥è‡ªä¸åŒåˆ†æ”¯çš„ä¿®æ”¹ä¸»è¦æœ‰ä¸¤ç§æ–¹æ³•ï¼Œä¸€ç§æ˜¯Mergeï¼Œä¸€ç§æ˜¯rebaseã€‚Mergeä¼šæŠŠä¸¤ä¸ªåˆ†æ”¯çš„æœ€æ–°å¿«ç…§ï¼ˆC3å’ŒC4ï¼‰ï¼Œä»¥åŠäºŒè€…æœ€è¿‘çš„å…±åŒç¥–å…ˆï¼ˆC2ï¼‰è¿›è¡Œä¸‰æ–¹åˆå¹¶ï¼Œåˆå¹¶çš„ç»“æœæ˜¯ç”Ÿæˆä¸€ä¸ªæ–°çš„å¿«ç…§ï¼ˆå¹¶æäº¤ï¼‰:
è¿˜æœ‰ä¸€ç§æ–¹æ³•ï¼šä½ å¯ä»¥æå–åœ¨C4ä¸­å¼•å…¥çš„è¡¥ä¸å’Œä¿®æ”¹ï¼Œç„¶ååœ¨C3çš„åŸºç¡€ä¸Šåº”ç”¨ä¸€æ¬¡ã€‚ åœ¨ Gitä¸­ï¼Œè¿™ç§æ“ä½œå°±å«åšã€Œå˜åŸºã€ï¼ˆrebaseï¼‰ã€‚ ä½ å¯ä»¥ä½¿ç”¨rebaseå‘½ä»¤å°†æäº¤åˆ°æŸä¸€åˆ†æ”¯ä¸Šçš„æ‰€æœ‰ä¿®æ”¹éƒ½ç§»è‡³å¦ä¸€åˆ†æ”¯ä¸Šï¼Œå°±å¥½åƒã€Œé‡æ–°æ’­æ”¾ã€ä¸€æ ·ã€‚
å‚è€ƒèµ„æ–™
</content>
    </entry>
    
     <entry>
        <title>pcm No such file or directory</title>
        <url>https://iihui.github.io/post/ios-pcm-warnning/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html">  åœ¨å°è£…é™æ€frameworkæ—¶ï¼Œåœ¨æœ¬æœºä¸Šæ²¡æœ‰æŠ¥ä»»ä½•è­¦å‘Šï¼Œåœ¨å…¶ä»–æœºå™¨ä¸Šå´æŠ¥warning: ***/Library/Developer/Xcode/DerivedData/ModuleCache.noindex/2MSIKR0H4Y5WQ/Foundation-A3SOD99KJ0S9.pcm: No such file or directoryè­¦å‘Šã€‚è¿™ç¯‡æ–‡ç« å°±æ˜¯è§£å†³è¿™ä¸ªè­¦å‘Šé—®é¢˜ï¼Œä¸»è¦æ˜¯æ”¹å˜å·¥ç¨‹çš„build settingæœ‰ä¸‰ä¸ªåœ°æ–¹éœ€è¦ä¿®æ”¹ï¼Œæš‚ä¸”å½’ä¸ºä¸‰æ­¥ã€‚
 ç¬¬ä¸€æ­¥ é¦–å…ˆåœ¨Build Settingsä¸­å°†Enable Bitcodeè®¾ç½®ä¸ºNoï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
ç¬¬äºŒæ­¥ ç„¶ååœ¨Build Settingsä¸­å°†Debug Information Formatä¸‹çš„Debugè®¾ç½®ä¸ºDWARFï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ç¬¬ä¸‰æ­¥ æœ€åå°†Precompile Prefix Headerè®¾ç½®ä¸ºNOï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š  ä¸‹é¢æ˜¯å›½å¯†å°è£…è®¾ç½®
</content>
    </entry>
    
     <entry>
        <title>å¼ºåˆ¶æµ…è‰²æ¨¡å¼</title>
        <url>https://iihui.github.io/post/ios-light-style/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html">  iOS 13ä¹‹åï¼Œä¸€æ—¦ä½¿ç”¨äº†ç³»ç»Ÿçš„ç»„ä»¶ï¼Œå¦‚æœç”¨æˆ·å¼€å¯äº†æ·±è‰²æ¨¡å¼ï¼Œåˆ™è¿™äº›ç»„ä»¶çš„é¢œè‰²ä¼šéšç€å‘ç”Ÿå˜åŒ–ï¼Œè€Œæ­¤æ—¶æŸäº›ä½¿ç”¨äº†è‡ªå®šä¹‰é¢œè‰²çš„ç»„ä»¶å¯¹åº”çš„é¢œè‰²ä¸ä¼šæ”¹å˜ï¼Œå¦‚æ­¤å°†ä¼šéå¸¸éš¾çœ‹ã€‚ä¸€ä¸ªç®€å•çš„æ–¹å¼æ˜¯å¼ºåˆ¶Appä¸ºæµ…è‰²æ¨¡å¼ï¼Œä½¿å¾—ç³»ç»Ÿå¼€å¯äº†æ·±è‰²æ¨¡å¼åï¼ŒAppè¿˜æ˜¯ä¹‹å‰çš„æµ…è‰²æ¨¡å¼ã€‚
 å¼ºåˆ¶æµ…è‰²æ¨¡å¼ï¼Œåªè¦åœ¨info.plistä¸­å°†User Interface Styleè®¾ç½®ä¸ºLightå³å¯ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
 </content>
    </entry>
    
     <entry>
        <title>iOS tips</title>
        <url>https://iihui.github.io/post/ios-tips/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html"> ç±»ä¸ç»“æ„ä½“ å…±åŒç‚¹   å®šä¹‰å±æ€§ç”¨äºå­˜å‚¨å€¼
  å®šä¹‰æ–¹æ³•ç”¨äºæä¾›æ–¹æ³•
  å®šä¹‰ä¸‹æ ‡æ“ä½œä½¿å¾—å¯ä»¥é€šè¿‡ä¸‹æ ‡è¯­æ³•æ¥è®¿é—®å®ä¾‹æ‰€åŒ…å«çš„å€¼
  å®šä¹‰æ„é€ å™¨ç”¨äºç”Ÿæˆåˆå§‹å€¼
  é€šè¿‡æ‰©å±•åè®®æ¥å¢åŠ é»˜è®¤å®ç°çš„åŠŸèƒ½
  å®ç°åè®®æ¥æä¾›æŸç§æ ‡å‡†åŠŸèƒ½
  ç±»å¤šä¸€ç‚¹   å…è®¸ä¸€ä¸ªç±»ç»§æ‰¿å¦ä¸€ä¸ªç±»çš„ç‰¹é•‡
  ç±»å‹è½¬æ¢å…è®¸åœ¨è¿è¡Œæ—¶æ£€æŸ¥å’Œè§£é‡Šä¸€ä¸ªç±»å®ä¾‹çš„ç±»å‹
  ææ„å™¨å…è®¸ä¸€ä¸ªç±»å®ä¾‹é‡Šæ”¾ä»»ä½•å…¶è¢«åˆ†é…çš„èµ„æº
  å¼•ç”¨è®¡æ•°å…è®¸å¯¹ä¸€ä¸ªç±»çš„å¤šæ¬¡å¼•ç”¨
  åŒºåˆ«   structæ˜¯å€¼ç±»å‹ï¼Œclassæ˜¯å¼•ç”¨ç±»å‹ã€‚
  structæœ‰ä¸€ä¸ªè‡ªåŠ¨ç”Ÿæˆçš„æˆå‘˜é€ä¸€æ„é€ å™¨ï¼Œç”¨äºåˆå§‹åŒ–æ–°ç»“æ„ä½“å®ä¾‹ä¸­æˆå‘˜çš„å±æ€§ï¼Œè€Œclassæ²¡æœ‰ã€‚
  structä¸­ä¿®æ”¹selfæˆ–å…¶å±æ€§çš„æ–¹æ³•å¿…é¡»å°†è¯¥å®ä¾‹æ–¹æ³•æ ‡æ³¨ä¸º mutatingï¼Œè€Œclasså¹¶ä¸éœ€è¦ã€‚
  structä¸å¯ä»¥ç»§æ‰¿ï¼Œclasså¯ä»¥ç»§æ‰¿ã€‚
  structèµ‹å€¼æ˜¯å€¼æ‹·è´ï¼Œæ‹·è´çš„æ˜¯å†…å®¹ï¼›classæ˜¯å¼•ç”¨æ‹·è´ï¼Œæ‹·è´çš„æ˜¯æŒ‡é’ˆã€‚
  structæ˜¯è‡ªåŠ¨çº¿ç¨‹å®‰å…¨çš„ï¼›è€Œclassä¸æ˜¯ã€‚
  structå­˜å‚¨åœ¨stackä¸­ï¼Œclasså­˜å‚¨åœ¨heapä¸­ï¼Œstructæ›´å¿«ã€‚
  å…ƒç»„ Swiftæ”¯æŒæŠŠå¤šä¸ªå€¼ç»„åˆæˆä¸€ä¸ªå¤åˆå€¼ï¼Œç§°ä¸ºå…ƒç»„ã€‚å…ƒç»„å†…çš„å€¼å¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼Œå› æ­¤å„ä¸ªå€¼çš„ç±»å‹å¯ä»¥éƒ½ä¸ç›¸åŒï¼Œä¾‹å¦‚ï¼š
let size = (width: 10, height: 10) print(&amp;#34;\(size.0)&amp;#34;) print(&amp;#34;\(size.width)&amp;#34;) // ä¹Ÿå¯ä»¥ä¸å¯¹å…ƒç´ å‘½å let size = (10, 10) åœ¨å‡½æ•°éœ€è¦è¿”å›å¤šä¸ªå€¼æ—¶ï¼Œå…ƒç»„éå¸¸æœ‰ç”¨ï¼Œä½†å®ƒå¹¶ä¸é€‚åˆå¤æ‚çš„æ•°æ®è¡¨è¾¾ï¼ˆæ­¤æ—¶å»ºç«‹modeä¼šæ›´å¥½ï¼‰ã€‚åœ¨ä½¿ç”¨å…ƒç»„æ—¶å°½é‡ä½¿ç”¨å‘½åï¼Œè¦ä¸ç„¶è¿‡æ®µæ—¶é—´å¯èƒ½å¿˜è®°å…ƒç»„ä¸­å„ä¸ªå…ƒç´ çš„å«ä¹‰ï¼Œå¹¶ä¸”å°½é‡åªåœ¨ä¸´æ—¶éœ€è¦æ—¶ä½¿ç”¨ã€‚
å…ƒç»„åœ¨äº¤æ¢ä¸¤ä¸ªå€¼çš„æ—¶å€™éå¸¸æœ‰ç”¨ï¼Œå¦‚ä¸‹çš„ä»£ç ä¾¿å¯ä»¥äº¤æ¢ä¸¤ä¸ªå˜é‡çš„å€¼ï¼š
(a,b) = (b,a) åè®®åˆæˆ å‡å¦‚ä¸€ä¸ªå‡½æ•°å¸Œæœ›æŸä¸ªå‚æ•°åŒæ—¶æ»¡è¶³ProtocolAå’ŒProtocolBï¼Œå¯ä»¥é‡‡ç”¨ProtocolA &amp;amp; ProtocolBè¿™æ ·çš„æ ¼å¼è¿›è¡Œç»„åˆï¼Œç§°ä¸ºåè®®åˆæˆï¼ˆprotocol compositionï¼‰ã€‚
func testComposition(protocols: ProtocolA &amp;amp; ProtocolB) { //code } å¯é€‰åè®® Swiftçš„protocolæœ¬èº«ä¸å…è®¸å¯é€‰é¡¹ï¼Œè¦æ±‚æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯å¿…é¡»å®ç°çš„ã€‚ä½†æ˜¯ï¼Œç”±äºSwiftå’ŒOCå¯ä»¥æ··ç¼–ï¼Œä¸ºäº†æ–¹ä¾¿å’ŒOCæ‰“äº¤é“ï¼ŒSwiftæ”¯æŒåœ¨protocolä¸­ä½¿ç”¨optionalå…³é”®å­—ä½œä¸ºå‰ç¼€æ¥å®šä¹‰å¯é€‰è¦æ±‚ï¼Œä¸”åè®®å¯é€‰è¦æ±‚éƒ½å¿…é¡»å¸¦ä¸Šobjcå±æ€§ã€‚
@objc protocol CounterDataSource { @objc optional func incrementForCount(count: Int) -&amp;gt; Int @objc optional var fixedIncrement: Int { get } } ä½†æ˜¯æ ‡è®°@objcç‰¹æ€§çš„åè®®åªèƒ½è¢«ç»§æ‰¿NSObjectç±»ç±»æˆ–è€…@objcç±»éµå¾ªï¼Œå…¶ä»–ç±»ä»¥åŠç»“æ„ä½“å’Œæšä¸¾å‡ä¸èƒ½éµå¾ªè¿™ç§åè®®ï¼Œè¿™å¯¹äºSwift protocolæ˜¯ä¸€ä¸ªå¾ˆå¤§çš„é™åˆ¶ã€‚
ç”±äºprotocolæ”¯æŒå¯æ‰©å±•ï¼Œé‚£ä¹ˆå¯ä»¥å£°æ˜ä¸€ä¸ªprotocolä¹‹åå†ç”¨extensionçš„æ–¹å¼ç»™å‡ºéƒ¨åˆ†æ–¹æ³•é»˜è®¤çš„å®ç°ï¼Œè¿™æ ·è¿™äº›æ–¹æ³•åœ¨å®é™…çš„ç±»ä¸­å°±æ˜¯å¯é€‰å®ç°äº†ã€‚
protocol CounterDataSource { func incrementForCount(count: Int) -&amp;gt; Int var fixedIncrement: Int { get } } extension CounterDataSource { func incrementForCount(count: Int) -&amp;gt; Int { if count == 0 { return 0 } else if count &amp;lt; 0 { return 1 } else { return -1 } } } class Counter: CounterDataSource { var fixedIncrement: Int = 0 } åè®®æ‰©å±• å…ˆæ¥çœ‹ä¸‹é¢è¿™æ®µä»£ç ï¼š
protocol A2 { func method1() } extension A2 { func method1() { return print(&amp;#34;hi&amp;#34;) } func method2() { return print(&amp;#34;hi&amp;#34;) } } struct B2: A2 { func method1() { return print(&amp;#34;hello&amp;#34;) } func method2() { return print(&amp;#34;hello&amp;#34;) } } let b2 = B2() b2.method1() b2.method2() æ‰“å°çš„ç»“æœå¦‚ä¸‹ï¼š
hello hello ç»“æœçœ‹èµ·æ¥åœ¨åŒ»ç–—æ„æ–™ä¹‹ä¸­ï¼Œä½†å¦‚æœç¨ä½œä¿®æ”¹ï¼š
let a2 = b2 as A2 a2.method1() a2.method2() æ­¤æ—¶çš„ç»“æœæ˜¯ï¼š
hello hi å¯¹äºmethod1ï¼Œå› ä¸ºå®ƒåœ¨protocolä¸­è¢«å®šä¹‰äº†ï¼Œå› æ­¤å¯¹äºä¸€ä¸ªè¢«å£°æ˜ä¸ºéµå¾ªåè®®çš„ç±»å‹å®ä¾‹æ¥è¯´ï¼Œå¯ä»¥ç¡®å®šå®ä¾‹å¿…é¡»å®ç°äº†method1ï¼Œå¯ä»¥æ”¾å¿ƒå¤§èƒ†åœ°ç”¨åŠ¨æ€æ´¾å‘çš„æ–¹å¼ä½¿ç”¨æœ€ç»ˆçš„å®ç°ï¼ˆä¸è®ºå®ƒæ˜¯åœ¨åè®®æ‰©å±•ä¸­è¿›è¡Œäº†å®šä¹‰ï¼Œè¿˜æ˜¯åœ¨åè®®æ‰©å±•ä¸­é»˜è®¤å®ç°ï¼‰ã€‚ä½†æ˜¯ï¼Œå¯¹äºmethod2æ¥è¯´ï¼Œåªæ˜¯åœ¨æ¥å£æ‰©å±•ä¸­è¿›è¡Œäº†å®šä¹‰ï¼Œæ²¡æœ‰ä»»ä½•è§„å®šå®ƒå¿…é¡»åœ¨æœ€ç»ˆçš„ç±»å‹ä¸­è¢«å®ç°ã€‚åœ¨ä½¿ç”¨æ—¶ï¼Œå› ä¸ºa2åªæœ‰ä¸€ä¸ªç¬¦åˆA2æ¥å£çš„å®ä¾‹ï¼Œç¼–è¯‘å™¨å¯¹method2å”¯ä¸€èƒ½ç¡®å®šçš„æ˜¯çŸ¥è¯†åœ¨æ¥å£æ‰©å±•ä¸­æœ‰ä¸€ä¸ªé»˜è®¤å®ç°ï¼Œå› æ­¤åœ¨è°ƒç”¨æ—¶ï¼Œæ— æ³•ç¡®å®šå®‰å…¨ï¼Œä¹Ÿå°±ä¸ä¼šå»è¿›è¡ŒåŠ¨æ€æ´¾å‘ï¼Œè€Œæ˜¯è½¬è€Œç¼–è¯‘æœŸé—´å°±ç¡®å®šçš„é»˜è®¤å®ç°ã€‚
éšæœºæ•° æˆ‘ä»¬å¸¸å¸¸å¯èƒ½ä½¿ç”¨ä¸‹é¢è¿™ç§æ–¹å¼æ¥è·å–éšæœºæ•°ï¼Œæ¯”å¦‚ç”Ÿäº§100ä»¥å†…çš„éšæœºæ•°ï¼š
let randomNum: Int = arc4random() % 100 æ­¤æ—¶ç¼–è¯‘å™¨ä¼šæç¤ºerrorï¼Œè¿™æ˜¯å› ä¸ºarc4random()è¿”å›UInt32ï¼Œè€ŒrandomNumæ˜¯Intï¼Œæ‰€ä»¥éœ€è¦åšç±»å‹è½¬æ¢ã€‚å¦‚æœä¸å‡æ€ç´¢ï¼Œå°±å¯èƒ½ç›´æ¥å†™å‡ºä¸‹é¢çš„ä»£ç ï¼š
let randomNum: Int = Int(arc4random()) % 100 è¿™æ˜¯å› ä¸ºIntåœ¨32ä½æœºå™¨ä¸Šï¼ˆiPhone5åŠä»¥ä¸‹ï¼‰ç›¸å½“äºInt32ï¼Œè€Œåœ¨64ä½æœºå™¨ä¸Šç›¸å½“äºInt64ï¼Œè¡¨ç°ä¸Šä¸OCä¸­çš„NSIntegerä¸€è‡´ï¼Œè€Œarc4random()å§‹ç»ˆè¿”å›UInt32ï¼Œæ‰€ä»¥åœ¨32ä½æœºå™¨ä¸Šå¯èƒ½ä¼šè¶Šç•Œå´©æºƒäº†ï¼Œæ‰€ä»¥åº”å½“å…ˆå–ä½™ä¹‹åå†ç±»å‹è½¬æ¢ï¼š
let randomNum: Int = Int(arc4random() % 100) å¯å˜å‚æ•°å‡½æ•° å¦‚æœæƒ³è¦ä¸€ä¸ªå¯å˜å‚æ•°çš„å‡½æ•°åªéœ€è¦åœ¨å£°æ˜å‚æ•°æ—¶åœ¨ç±»å‹åé¢åŠ ä¸Š ... å°±å¯ä»¥äº†ï¼š
func sum(input: Int...) -&amp;gt; Int { return input.reduce(0, combine: &#43;) } print(sum(1,2,3,4,5)) åŒºé—´è¿ç®—ç¬¦ Swiftæä¾›äº†å‡ ç§ç®€å•çš„èƒ½å¤Ÿè¡¨è¾¾ä¸€ä¸ªåŒºé—´çš„å€¼çš„åŒºé—´è¿ç®—ç¬¦ï¼ŒåŒ…æ‹¬å…¨é—­åŒºé—´ï¼ŒåŠå¼€åŠé—­åŒºé—´ï¼Œå•ä¾§åŒºé—´ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
let data = [1, 2, 3, 4, 5] // é—­åŒºé—´è¿ç®—ç¬¦ï¼Œè¡¨ç¤ºæˆªå–ä¸‹æ ‡0ï½2çš„æ•°ç»„å…ƒç´  data[0...2] // åŠå¼€åŒºé—´è¿ç®—ç¬¦ï¼Œè¡¨ç¤ºæˆªå–ä¸‹æ ‡0ï½1çš„æ•°ç»„å…ƒç´  data[0..&amp;lt;2] // å•ä¾§åŒºé—´è¿ç®—ç¬¦ï¼Œè¡¨ç¤ºæˆªå–å¼€å§‹åˆ°ä¸‹æ ‡2çš„æ•°ç»„å…ƒç´  data[...2] // å•ä¾§åŒºé—´è¿ç®—ç¬¦ï¼Œè¡¨ç¤ºæˆªå–ä»ä¸‹æ ‡2åˆ°ç»“æŸçš„æ•°ç»„å…ƒç´  data[2...] è¿˜å¯ä»¥é€šè¿‡...å’Œ..&amp;lt;æ¥è¿æ¥ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼š
// åˆ¤æ–­æ˜¯å¦åŒ…å«å¤§å†™å­—æ¯ï¼Œå¹¶æ‰“å° let str = &amp;#34;Hello&amp;#34; let test = &amp;#34;A&amp;#34;...&amp;#34;Z&amp;#34; for c in str { if test.contains(String(c)) { print(&amp;#34;\(c)æ˜¯å¤§å†™å­—æ¯&amp;#34;) } } &#43;&#43;å’Œ&amp;ndash; ä¸ç®¡æ˜¯å‰ç½®è¿˜æ˜¯åç½®ï¼ŒSwiftå‡ä¸æ”¯æŒ&#43;&#43;å’Œ--è¿™ç§è¿ç®—ç¬¦ã€‚
é—­åŒ… é—­åŒ…æ˜¯è‡ªåŒ…å«çš„å‡½æ•°ä»£ç å—ï¼Œå¯ä»¥åœ¨ä»£ç ä¸­è¢«ä¼ é€’å’Œä½¿ç”¨ã€‚Swiftä¸­çš„é—­åŒ…ä¸Cå’ŒOCä¸­çš„ä»£ç å—blocksæ¯”è¾ƒç›¸ä¼¼ã€‚Swiftçš„é—­åŒ…è¡¨è¾¾å¼æ‹¥æœ‰æ›´ç®€æ´çš„é£æ ¼ï¼Œå¹¶é¼“åŠ±åœ¨å¸¸è§çš„åœºæ™¯ä¸­è¿›è¡Œè¯­æ³•ä¼˜åŒ–ï¼Œä¸»è¦ä¼˜åŒ–æœ‰å¦‚ä¸‹å‡ ä¸ªæ–¹é¢ï¼š
  åˆ©ç”¨ä¸Šä¸‹æ–‡æ¨æ–­å‚æ•°å’Œè¿”å›å€¼ç±»å‹
  éšå¼è¿”å›å•è¡¨è¾¾å¼é—­åŒ…ï¼Œå³å•è¡¨è¾¾å¼é—­åŒ…å¯ä»¥çœç•¥returnå…³é”®å­—
  å‚æ•°åç§°ç¼©å†™
  å°¾éšé—­åŒ…è¯­æ³•
  é—­åŒ…è¡¨è¾¾å¼è¯­æ³•æœ‰å¦‚ä¸‹çš„ä¸€èˆ¬å½¢å¼ï¼š
{ (parameters) -&amp;gt; returnType in statements } å°¾éšé—­åŒ… å½“å‡½æ•°æœ€åçš„ä¸€ä¸ªå‚æ•°æ˜¯é—­åŒ…æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å°¾éšé—­åŒ…æ¥å¢å¼ºå‡½æ•°çš„å¯è¯»æ€§ã€‚åœ¨ä½¿ç”¨å°¾éšé—­åŒ…æ—¶ï¼Œå¯ä»¥ä¸ç”¨å†™å‡ºå®ƒçš„å‚æ•°æ ‡ç­¾ï¼š
func test(closure: () -&amp;gt; Void) { ... } // ä¸ä½¿ç”¨å°¾éšé—­åŒ… test(closure: { ... }) // ä½¿ç”¨å°¾éšé—­åŒ… test() { ... } é€ƒé€¸é—­åŒ… å½“ä¸€ä¸ªé—­åŒ…ä½œä¸ºå‚æ•°ä¼ é€’åˆ°ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œä½†æ˜¯è¿™ä¸ªé—­åŒ…åœ¨å‡½æ•°è¿”å›ä¹‹åè¿˜å¯ä»¥è¢«ä½¿ç”¨ï¼Œç§°è¯¥é—­åŒ…ä»å‡½æ•°ä¸­é€ƒé€¸ã€‚
var completions: [() -&amp;gt; Void] = [] func testClosure(completion: () -&amp;gt; Void) { completions.append(completion) } æ­¤æ—¶ç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼Œæç¤ºä½ è¿™æ˜¯ä¸€ä¸ªé€ƒé€¸é—­åŒ…ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å‚æ•°åä¹‹å‰æ ‡æ³¨ @escapingï¼Œç”¨æ¥æŒ‡æ˜è¿™ä¸ªé—­åŒ…æ˜¯å…è®¸â€œé€ƒé€¸â€å‡ºè¿™ä¸ªå‡½æ•°çš„ï¼š
var completions: [() -&amp;gt; Void] = [] func testEscapingClosure(completion: @escaping () -&amp;gt; Void) { completions.append(completion) } å°†ä¸€ä¸ªé—­åŒ…æ ‡è®°ä¸º@escapingæ„å‘³ç€å¿…é¡»åœ¨é—­åŒ…ä¸­æ˜¾å¼åœ°å¼•ç”¨selfï¼Œè€Œéé€ƒé€¸é—­åŒ…åˆ™ä¸éœ€è¦ã€‚è¿™ä¸ªselfæé†’å¯èƒ½ä¼šä¸€ä¸å°å¿ƒå°±æ•è·äº†selfï¼Œè¦æ³¨æ„å¾ªç¯å¼•ç”¨ã€‚
è‡ªåŠ¨é—­åŒ… è‡ªåŠ¨é—­åŒ…æ˜¯ä¸€ç§è‡ªåŠ¨åˆ›å»ºçš„é—­åŒ…ï¼Œç”¨äºåŒ…è£…ä¼ é€’ç»™å‡½æ•°ä½œä¸ºå‚æ•°çš„è¡¨è¾¾å¼ã€‚è¿™ç§é—­åŒ…ä¸æ¥å—ä»»ä½•å‚æ•°ï¼Œè®©ä½ èƒ½å¤Ÿçœç•¥é—­åŒ…çš„èŠ±æ‹¬å·ï¼Œç”¨ä¸€ä¸ªæ™®é€šçš„è¡¨è¾¾å¼æ¥æ›¿ä»£æ˜¾å¼çš„é—­åŒ…ã€‚å¹¶ä¸”è‡ªåŠ¨é—­åŒ…å¯ä»¥èƒ½å¤Ÿå»¶è¿Ÿæ±‚å€¼ï¼Œå› ä¸ºç›´åˆ°è°ƒç”¨åˆ°è¿™ä¸ªé—­åŒ…ï¼Œä»£ç æ®µæ‰ä¼šè¢«æ‰§è¡Œã€‚
// æœªä½¿ç”¨è‡ªåŠ¨é—­åŒ…ï¼Œéœ€è¦æ˜¾ç¤ºç”¨èŠ±æ‹¬å·è¯´æ˜è¿™ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªé—­åŒ… func test(closure: () -&amp;gt; Bool) { } test(closure: { 1 &amp;lt; 2 } ) // ä½¿ç”¨è‡ªåŠ¨é—­åŒ…ï¼Œåªéœ€è¦ä¼ é€’è¡¨è¾¾å¼ func test(closure: @autoclosure () -&amp;gt; String) { } test(customer: 1 &amp;lt; 2) é€’å½’æšä¸¾ å¯èƒ½æœ‰è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼Œå®šä¹‰ä¸€ä¸ªFoodçš„æšä¸¾ï¼ŒåŒ…å«äº†ä¸€äº›é£Ÿç‰©ï¼ŒåŒæ—¶è¿˜æ”¯æŒåŸºäºè¿™äº›é£Ÿç‰©å¯ä»¥ä¸¤ä¸¤æ··åˆæˆæ–°é£Ÿç‰©ï¼š
enum Food { case beef case potato case mix(Food, Food) } æ­¤æ—¶ç¼–è¯‘å™¨ä¼šæç¤ºRecursive enum &#39;Food&#39; is not marked &#39;indirect&#39;ï¼ŒåŸå› æ˜¯å› ä¸ºæšä¸¾æˆå‘˜ä¸­å‡ºç°äº†é€’å½’è°ƒç”¨ã€‚å› æ­¤ï¼Œéœ€è¦åœ¨æšä¸¾æˆå‘˜å‰åŠ ä¸Šindirectæ¥è¡¨ç¤ºæˆå‘˜å¯é€’å½’ã€‚
// æ ‡è®°æ•´ä¸ªæšä¸¾æ˜¯é€’å½’æšä¸¾ indirect enum Food { case beef case potato case mix(Food, Food) } // ä»…æ ‡è®°å­˜åœ¨é€’å½’çš„æšä¸¾æˆå‘˜ enum Food { case beef case potato indirect case mix(Food, Food) } æ›´æ¨èç¬¬äºŒç§å†™æ³•ï¼Œå› ä¸ºä½¿ç”¨é€’å½’æšä¸¾æ—¶ï¼Œç¼–è¯‘å™¨ä¼šæ’å…¥ä¸€ä¸ªé—´æ¥å±‚ã€‚ä»…æ ‡è®°æšä¸¾æˆå‘˜ï¼Œèƒ½å¤Ÿå‡å°‘ä¸å¿…è¦çš„æ¶ˆè€—ã€‚
å±æ€§ å­˜å‚¨å±æ€§ ä¸€ä¸ªå­˜å‚¨å±æ€§å°±æ˜¯å­˜å‚¨åœ¨ç‰¹å®šç±»æˆ–ç»“æ„ä½“å®ä¾‹é‡Œçš„ä¸€ä¸ªå¸¸é‡æˆ–å˜é‡ã€‚å­˜å‚¨å±æ€§å¯ä»¥æ˜¯å˜é‡å­˜å‚¨å±æ€§ï¼ˆç”¨å…³é”®å­—varå®šä¹‰ï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯å¸¸é‡å­˜å‚¨å±æ€§ï¼ˆç”¨å…³é”®å­— letå®šä¹‰ï¼‰ã€‚
struct Person { var name: String var height: CGFloat } è¿˜å¯ä»¥é€šè¿‡Lazyæ¥æ ‡ç¤ºè¯¥å±æ€§ä½å»¶è¿Ÿå­˜å‚¨å±æ€§ï¼Œç±»ä¼¼äºOCå¸¸è¯´çš„æ‡’åŠ è½½ï¼š
lazy var fileName: String = &amp;#34;data.txt&amp;#34; å¦‚æœä¸€ä¸ªè¢«æ ‡å¿—ä¸ºlazyçš„å±æ€§åœ¨æ²¡æœ‰åˆå§‹åŒ–æ—¶å°±åŒæ—¶è¢«å¤šä¸ªçº¿ç¨‹è®¿é—®ï¼Œåˆ™æ— æ³•ä¿è¯è¯¥å±æ€§åªä¼šåˆå§‹åŒ–ä¸€æ¬¡ï¼Œå³å®ƒæ˜¯éçº¿æ€§å®‰å…¨çš„ã€‚
è®¡ç®—å±æ€§ é™¤å­˜å‚¨å±æ€§å¤–ï¼Œç±»ï¼Œç»“æ„ä½“å’Œæšä¸¾å®šä¹‰è®¡ç®—å±æ€§ã€‚è®¡ç®—å±æ€§ä¸ç›´æ¥å­˜å‚¨å€¼ï¼Œè€Œæ˜¯æä¾›ä¸€ä¸ªgetterå’Œä¸€ä¸ªå¯é€‰setterï¼Œæ¥é—´æ¥è·å–å’Œè®¾ç½®å…¶å®ƒå±æ€§å’Œå˜é‡çš„å€¼ã€‚
struct Rect { var origin = CGPoint.zero var size = CGSize.zero var center: CGPoint { get { let centerX = origin.x &#43; (size.width / 2) let centerY = origin.y &#43; (size.height / 2) return Point(x: centerX, y: centerY) } set { origin.x = newValue.x - (size.width / 2) origin.y = newValue.y - (size.height / 2) } } } å¦‚æœåªå¸Œæœ›å¯è¯»è€Œä¸å¯å†™æ—¶ï¼Œsetteræ–¹æ³•ä¸æä¾›å³å¯ï¼Œå¯ä»¥ç®€å†™ä¸ºï¼š
var center: CGPoint { let centerX = origin.x &#43; (size.width / 2) let centerY = origin.y &#43; (size.height / 2) return Point(x: centerX, y: centerY) } è§‚å¯Ÿå™¨ Swiftæä¾›äº†éå¸¸æ–¹ä¾¿çš„è§‚å¯Ÿå±æ€§å˜åŒ–çš„æ–¹æ³•ï¼Œæ¯æ¬¡å±æ€§è¢«è®¾ç½®å€¼çš„æ—¶å€™éƒ½ä¼šè°ƒç”¨å±æ€§è§‚å¯Ÿå™¨ï¼Œå³ä½¿æ–°å€¼å’Œå½“å‰å€¼ç›¸åŒçš„æ—¶å€™ä¹Ÿä¸ä¾‹å¤–ï¼š
var origin: CGPoint { willSet { print(&amp;#34;\(newValue)&amp;#34;) } didSet { print(&amp;#34;\(oldValue)&amp;#34;) } } è°ƒç”¨æ—¶åº let b = B() b.number = 0 // è¾“å‡º // get // willSet // set // didSet é¦–å…ˆå‡ºç°getæ˜¯å› ä¸ºå®ç°didSetï¼ŒdidSetä¸­ç”¨åˆ°oldValueï¼Œè€Œè¿™ä¸ªå€¼éœ€è¦åœ¨æ•´ä¸ªsetåŠ¨ä½œä¹‹å‰è¿›è¡Œè·å–å¹¶å­˜å‚¨å¾…ç”¨ï¼Œå¦åˆ™å°†æ— æ³•ç¡®ä¿æ­£ç¡®æ€§ã€‚å¦‚æœæˆ‘ä»¬ä¸å®ç°didSetçš„è¯ï¼Œè¿™æ¬¡getæ“ä½œä¹Ÿå°†ä¸å­˜åœ¨ã€‚ï¼Ÿï¼Ÿï¼Ÿ
 iså’Œas is isåœ¨åŠŸèƒ½ä¸Šç›¸å½“äºOCçš„isKindOfClassï¼Œå¯ä»¥æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å±äºæŸç±»å‹æˆ–å…¶å­ç±»å‹ã€‚iså’ŒåŸæ¥çš„åŒºåˆ«ä¸»è¦åœ¨äºä¸¤ç‚¹ï¼Œé¦–å…ˆå®ƒä¸ä»…å¯ä»¥ç”¨äºclassç±»å‹ä¸Šï¼Œä¹Ÿå¯ä»¥ç”¨åœ¨structæˆ–enumç±»å‹è¿›è¡Œåˆ¤æ–­ã€‚
class ClassA { } class ClassB: ClassA { } let obj: AnyObject = ClassB() if (obj is ClassA) { print(&amp;#34;å±äº ClassA&amp;#34;) } if (obj is ClassB) { print(&amp;#34;å±äº ClassB&amp;#34;) }  as æŸç±»å‹çš„ä¸€ä¸ªå¸¸é‡æˆ–å˜é‡å¯èƒ½åœ¨å¹•åå®é™…ä¸Šå±äºä¸€ä¸ªå­ç±»ã€‚å½“ç¡®å®šæ˜¯è¿™ç§æƒ…å†µæ—¶ï¼Œå¯ä»¥å°è¯•å‘ä¸‹è½¬åˆ°å®ƒçš„å­ç±»å‹ï¼Œç”¨ç±»å‹è½¬æ¢æ“ä½œç¬¦ï¼ˆasï¼Ÿ æˆ–asï¼ï¼‰
class Media {} class Movie: Media {} class Song: Media {} for item in medias { if let movie = item as? Movie { print(&amp;#34;It&amp;#39;s Movie&amp;#34;) } else if let song = item as? Song { print(&amp;#34;It&amp;#39;s Song&amp;#34;) } } æ‰©å±•ä¸‹æ ‡ Swiftæ”¯æŒé€šè¿‡Extensionä¸ºå·²æœ‰ç±»å‹æ·»åŠ æ–°ä¸‹æ ‡ï¼Œä¾‹å¦‚ï¼š
extension Int { subscript(digitIndex: Int) -&amp;gt; Int { var decimalBase = 1 for _ in 0..&amp;lt;digitIndex { decimalBase *= 10 } return (self / decimalBase) % 10 } } 746381295[0] // è¿”å› 5 746381295[1] // è¿”å› 9 746381295[2] // è¿”å› 2 746381295[8] // è¿”å› 7 mutating ç»“æ„ä½“å’Œæšä¸¾ç±»å‹ä¸­ä¿®æ”¹selfæˆ–å…¶å±æ€§çš„æ–¹æ³•å¿…é¡»å°†è¯¥å®ä¾‹æ–¹æ³•æ ‡æ³¨ä¸ºmutatingï¼Œå¦åˆ™æ— æ³•åœ¨æ–¹æ³•é‡Œæ”¹å˜è‡ªå·±çš„å˜é‡ï¼š
struct MyCar { var color = UIColor.blue mutating func changeColor() { color = UIColor.red } } ç”±äºSwiftçš„protocolä¸ä»…å¯ä»¥è¢«classç±»å‹å®ç°ï¼Œä¹Ÿé€‚ç”¨äºstructå’Œenumï¼Œå› æ­¤åœ¨å†™ç»™åˆ«äººç”¨çš„æ¥å£æ—¶éœ€è¦å¤šè€ƒè™‘æ˜¯å¦é€‚ç”¨mutatingæ¥ä¿®é¥°æ–¹æ³•ã€‚
 KVO åœ¨Swiftä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨KVOï¼Œä½†ä»…é™äºNSObjectçš„å­ç±»ã€‚å› ä¸ºï¼ŒKVOæ˜¯åŸºäºKVCä»¥åŠåŠ¨æ€æ´¾å‘æŠ€æœ¯å®ç°çš„ï¼Œè€Œè¿™äº›éƒ½æ˜¯è¿è¡Œæ—¶çš„æ¦‚å¿µã€‚Swiftä¸ºäº†æ•ˆç‡ï¼Œé»˜è®¤ç¦ç”¨äº†åŠ¨æ€æ´¾å‘ï¼Œå› æ­¤æƒ³è¦Swiftæ¥å®ç°KVOï¼Œéœ€è¦å°†è§‚æµ‹å¯¹è±¡æ ‡è®°ä¸º@objc dynamic
lazy å…³é”®è¯lazyå¯ä»¥ç”¨æ¥æ ‡ç¤ºå±æ€§çš„å»¶è¿ŸåŠ è½½ï¼Œå®ƒè¿˜å¯ä»¥é…åˆåƒmapæˆ–filterè¿™ç±»æ¥å—é—­åŒ…å¹¶è¿›è¡Œè¿è¡Œçš„æ–¹æ³•ä¸€èµ·ï¼Œè®©æ•´ä¸ªè¡Œä¸ºå˜ä¸ºå»¶è¿Ÿè¿›è¡Œï¼Œåœ¨æŸäº›æƒ…å†µä¸‹è¿™ä¹ˆåšä¹Ÿå¯¹æ€§èƒ½ä¼šæœ‰ä¸å°çš„å¸®åŠ©ã€‚
ä¾‹å¦‚ï¼Œç›´æ¥ä½¿ç”¨mapæ—¶ï¼š
let data = 1...3 let result = data.map { (i: Int) -&amp;gt; Int in print(&amp;#34;æ­£åœ¨å¤„ç† \(i)&amp;#34;) return i * 2 } print(&amp;#34;å‡†å¤‡è®¿é—®ç»“æœ&amp;#34;) for i in result { print(&amp;#34;æ“ä½œåç»“æœä¸º \(i)&amp;#34;) } print(&amp;#34;æ“ä½œå®Œæ¯•&amp;#34;) è¿™æ®µä»£ç çš„è¾“å‡ºä¸ºï¼š
// æ­£åœ¨å¤„ç† 1 // æ­£åœ¨å¤„ç† 2 // æ­£åœ¨å¤„ç† 3 // å‡†å¤‡è®¿é—®ç»“æœ // æ“ä½œåç»“æœä¸º 2 // æ“ä½œåç»“æœä¸º 4 // æ“ä½œåç»“æœä¸º 6 // æ“ä½œå®Œæ¯• è€Œå¦‚æœå…ˆè¿›è¡Œä¸€æ¬¡lazyæ“ä½œçš„è¯ï¼Œå°±èƒ½å¾—åˆ°å»¶æ—¶è¿è¡Œç‰ˆæœ¬çš„å®¹å™¨ï¼š
let data = 1...3 let result = data.lazy.map { (i: Int) -&amp;gt; Int in print(&amp;#34;æ­£åœ¨å¤„ç† \(i)&amp;#34;) return i * 2 } print(&amp;#34;å‡†å¤‡è®¿é—®ç»“æœ&amp;#34;) for i in result { print(&amp;#34;æ“ä½œåç»“æœä¸º \(i)&amp;#34;) } print(&amp;#34;æ“ä½œå®Œæ¯•&amp;#34;) æ­¤æ—¶çš„è¿è¡Œç»“æœä¸ºï¼š
// å‡†å¤‡è®¿é—®ç»“æœ // æ­£åœ¨å¤„ç† 1 // æ“ä½œåç»“æœä¸º 2 // æ­£åœ¨å¤„ç† 2 // æ“ä½œåç»“æœä¸º 4 // æ­£åœ¨å¤„ç† 3 // æ“ä½œåç»“æœä¸º 6 // æ“ä½œå®Œæ¯• Logä¸ç¼–è¯‘ç¬¦å· åœ¨è°ƒè¯•æˆ–è€…è®°æ—¥å¿—çš„æ—¶å€™ï¼Œæœ‰æ—¶éœ€è¦å°†å½“å‰æ–‡ä»¶çš„åå­—å’Œé‚£äº›å¿…è¦çš„ä¿¡æ¯ä½œä¸ºå‚æ•°ä¸€èµ·æ‰“å°å‡ºæ¥ï¼ŒSwiftä¸­æœ‰å‡ ä¸ªå¾ˆæœ‰ç”¨çš„ç¼–è¯‘ç¬¦å·ï¼Œç”¨æ¥å¤„ç†ç±»ä¼¼è¿™æ ·çš„éœ€æ±‚ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ï¼š
  #file åŒ…å«è¿™ä¸ªç¬¦å·çš„æ–‡ä»¶çš„è·¯å¾„ï¼Œç±»å‹ä¸ºstringã€‚
  #line ç¬¦å·å‡ºç°é™¤çš„è¡Œå·ï¼Œç±»å‹ä¸ºIntã€‚
  #column ç¬¦å·å‡ºç°çš„åˆ—ï¼Œç±»å‹ä¸ºIntã€‚
  #function åŒ…å«è¿™ä¸ªç¬¦å·çš„æ–¹æ³•åå­—ï¼Œç±»å‹ä¸ºStringã€‚
  Optional Map æˆ‘ä»¬å¸¸å¸¸ä¼šå¯¹æ•°ç»„ä½¿ç”¨mapæ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•èƒ½å¯¹æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ åº”ç”¨æŸä¸ªè§„åˆ™ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„ã€‚
ä¾‹å¦‚å¸Œæœ›å°†æ•°ç»„ä¸­çš„æ‰€æœ‰æ•°å­—ä¹˜2:
let nums = [1, 2, 3] let result = nums.map{ $0 * 2 } print(&amp;#34;\(result)&amp;#34;) // è¾“å‡ºï¼š[2, 4, 6] ä½†å¦‚æœæ”¹æˆå¯¹æŸä¸ªIntï¼Ÿä¹˜2å‘¢ï¼ŸæœŸæœ›å¦‚æœè¿™ä¸ªIntï¼Ÿæœ‰å€¼çš„è¯ï¼Œå°±å–å‡ºå€¼è¿›è¡Œä¹˜2çš„æ“ä½œï¼›å¦‚æœæ˜¯nilçš„è¯å°±ç›´æ¥å°†nilèµ‹ç»™ç»“æœã€‚
let num: Int? = 3 // let num: Int? = nil var result: Int? if let num = num { result = num } print(&amp;#34;\(String(describing: result))&amp;#34;) // num = 3æ—¶ï¼Œæ‰“å°Optional(6) // num = nilæ—¶ï¼Œæ‰“å°nil å¦‚æœä½¿ç”¨Optional Mapï¼Œåˆšæ‰çš„ä¾‹å­å°±å¯ä»¥æ”¹ä¸ºï¼š
let num: Int? = 3 // let num: Int? = nil let result = num.map { $0 * 2 } print(&amp;#34;\(String(describing: result))&amp;#34;) // num = 3æ—¶ï¼Œæ‰“å°Optional(6) // num = nilæ—¶ï¼Œæ‰“å°nil mapä¸flatmap éƒ½ä¼šå¯¹æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ è°ƒç”¨ä¸€æ¬¡é—­åŒ…å‡½æ•°ï¼Œå¹¶è¿”å›è¯¥å…ƒç´ æ‰€æ˜ å°„çš„å€¼ï¼Œæœ€ç»ˆè¿”å›ä¸€ä¸ªæ–°æ•°ç»„ã€‚ä½†flatmapæ›´è¿›ä¸€æ­¥ï¼Œå¤šåšäº†ä¸€äº›äº‹æƒ…ï¼š
 è¿”å›çš„ç»“æœä¸­ä¼šå»é™¤nilï¼Œå¹¶ä¸”ä¼šè§£åŒ…Optionalç±»å‹ã€‚ ä¼šå°†$N$ç»´æ•°ç»„å˜æˆ$1$ç»´æ•°ç»„è¿”å›ã€‚   æ‘˜æŠ„è‡ªè¿™é‡Œ
class AlertController: UIAlertController { /// Buttons background color. var buttonBackgroundColor: UIColor = .darkGray { didSet { // Invalidate current colors on change. view.setNeedsLayout() } } override func viewDidLayoutSubviews() { super.viewDidLayoutSubviews() // Traverse view hierarchy. view.allViews.forEach { // If there was any non-clear background color, update to custom background. if let color = $0.backgroundColor, color != .clear { $0.backgroundColor = buttonBackgroundColor } // If view is UIVisualEffectView, remove it&amp;#39;s effect and customise color. if let visualEffectView = $0 as? UIVisualEffectView { visualEffectView.effect = nil visualEffectView.backgroundColor = buttonBackgroundColor } } // Update background color of popoverPresentationController (for iPads). popoverPresentationController?.backgroundColor = buttonBackgroundColor } } extension UIView { /// All child subviews in view hierarchy plus self. fileprivate var allViews: [UIView] { var views = [self] subviews.forEach { views.append(contentsOf: $0.allViews) } return views } } extension UIViewController { func notify(msg: String) -&amp;gt; Void { let alert = UIAlertController(title: &amp;#34;&amp;#34;, message: msg, preferredStyle: .alert) if let visualEffectView = alert.view.searchVisualEffectsSubview() { visualEffectView.effect = UIBlurEffect(style: .light) } alert.setMessage(font: UIFont.systemFont(ofSize: 17)) present(alert, animated: true, completion: nil) DispatchQueue.main.asyncAfter(deadline: .now() &#43; 1.5) { [weak self] in self?.dismiss(animated: true) } } } // https://stackoverflow.com/questions/26863460/how-to-change-the-background-color-of-the-uialertcontroller func searchVisualEffectsSubview() -&amp;gt; UIVisualEffectView? { if let visualEffectView = self as? UIVisualEffectView { return visualEffectView } else { for subview in subviews { if let found = subview.searchVisualEffectsSubview() { return found } } } return nil } extension UIAlertController { func setBackgroundColor(color: UIColor) { if let bgView = self.view.subviews.first, let groupView = bgView.subviews.first, let contentView = groupView.subviews.first { contentView.backgroundColor = color } } func setTitle(font: UIFont?, color: UIColor? = nil) { guard let title = self.title else { return } let attributeString = NSMutableAttributedString(string: title) if let titleFont = font { attributeString.addAttributes([NSAttributedString.Key.font: titleFont], range: NSMakeRange(0, title.count)) } if let titleColor = color { attributeString.addAttributes([NSAttributedString.Key.foregroundColor: titleColor], range: NSMakeRange(0, title.count)) } self.setValue(attributeString, forKey: &amp;#34;attributedTitle&amp;#34;) } func setMessage(font: UIFont?, color: UIColor? = nil) { guard let message = self.message else { return } let attributeString = NSMutableAttributedString(string: message) if let messageFont = font { attributeString.addAttributes([NSAttributedString.Key.font: messageFont], range: NSMakeRange(0, message.count)) } if let messageColor = color { attributeString.addAttributes([NSAttributedString.Key.foregroundColor: messageColor], range: NSMakeRange(0, message.count)) } self.setValue(attributeString, forKey: &amp;#34;attributedMessage&amp;#34;) } func setTint(color: UIColor) { self.view.tintColor = color } } /// å¢åŠ æˆ–è€…åˆ é™¤çº¢ç‚¹ï¼Œä½¿ç”¨åœ¨Labelä¸ŠUIImageViewçš„æ–¹å¼,ä»…é™äºå·¦å¯¹é½ /// - Parameter add: add ä¸ºtrueè¡¨ç¤ºè¦åŠ çº¢ç‚¹ï¼Œå¦åˆ™ç§»é™¤åŸæ¥çš„çº¢ç‚¹ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ func addOrRemoveRedDot(_ add: Bool) { if let superView = self.superview { let dotView = superView.viewWithTag(10000) dotView?.removeFromSuperview() if add { let leading = (self.text ?? &amp;#34;&amp;#34;).widthWithConstrainedHeight(height: self.frame.height, fontSize: self.font.pointSize) &#43; 4.0 let dot = UIImage(named: &amp;#34;reddot&amp;#34;) let dotView = UIImageView(image: dot) dotView.tag = 10000 dotView.translatesAutoresizingMaskIntoConstraints = false let width: CGFloat = 10 dotView.layer.masksToBounds = true dotView.layer.cornerRadius = width / 2 superView.addSubview(dotView) dotView.snp.makeConstraints() { make in make.width.equalTo(width) make.height.equalTo(width) make.leading.equalTo(self.snp.leading).offset(leading) make.centerY.equalToSuperview() } } } } /// ä½¿ç”¨å¯Œæ–‡æœ¬çš„æ–¹å¼åœ¨UILabelæ–‡æœ¬åé¢æ·»åŠ çº¢ç‚¹ /// - Parameter add: isNeedAdd ä¸ºtrueè¡¨ç¤ºè¦åŠ çº¢ç‚¹ï¼Œå¦åˆ™ä¸éœ€è¦ /// - Returns: å¤„ç†åçš„å¯Œæ–‡æœ¬ func addRedDot(isNeedAdd: Bool) -&amp;gt; NSMutableAttributedString { var text: String = (self.text ?? &amp;#34;&amp;#34;) if isNeedAdd { text &#43;= &amp;#34; &amp;#34; let contentText = NSMutableAttributedString(string: text) let attach = NSTextAttachment() let dotImg = UIImage(named: &amp;#34;reddot&amp;#34;) let width: CGFloat = 10 attach.bounds = CGRect(x: 0, y: 0.5, width: width, height: width) attach.image = dotImg let attrText = NSMutableAttributedString(attachment: attach) attrText.insert(contentText, at: 0) return attrText } else { let attrText = NSMutableAttributedString(string: text) return attrText } } </content>
    </entry>
    
     <entry>
        <title>AES å®ç°</title>
        <url>https://iihui.github.io/post/ios-aes/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html">  é«˜çº§åŠ å¯†æ ‡å‡†(AES,Advanced Encryption Standard)ï¼Œæ˜¯ç¾å›½è”é‚¦æ”¿åºœé‡‡ç”¨çš„ä¸€ç§åŒºå—åŠ å¯†æ ‡å‡†ã€‚è¿™ä¸ªæ ‡å‡†ç”¨æ¥æ›¿ä»£åŸå…ˆçš„DESï¼Œå·²ç»è¢«å¤šæ–¹åˆ†æä¸”å¹¿ä¸ºå…¨ä¸–ç•Œæ‰€ä½¿ç”¨æ˜¯æœ€å¸¸è§çš„å¯¹ç§°åŠ å¯†ç®—æ³•ï¼Œå®ƒæ˜¯ä¸€ç§å¯¹ç§°åŠ å¯†ç®—æ³•ï¼ˆå¯¹ç§°åŠ å¯†æ˜¯æŒ‡åŠ å¯†å’Œè§£å¯†ä½¿ç”¨ç›¸åŒçš„å¯†é’¥ï¼‰ã€‚AESæ”¯æŒ128ï¼Œ192ï¼Œ256ä½3ç§é•¿åº¦çš„å¯†é’¥ï¼Œå…¶ä¸­AES256å®‰å…¨æ€§æœ€é«˜ï¼ŒAES128æ€§èƒ½æœ€å¥½ã€‚
 åŠ å¯†æµç¨‹ ç®—æ³•å®ç° import CommonCrypto import Foundation // AES-128åŠ å¯†å‚è€ƒè‡ªhttps://stackoverflow.com/questions/37680361/aes-encryption-in-swift class AES { private let key: Data private let iv: Data init?(key: String, iv: String) { guard key.count == kCCKeySizeAES128 || key.count == kCCKeySizeAES256, let keyData = key.data(using: .utf8) else { DPrint(&amp;#34;å¯†é’¥é•¿åº¦ä¸å¯¹&amp;#34;) return nil } guard iv.count == kCCBlockSizeAES128, let ivData = iv.data(using: .utf8) else { DPrint(&amp;#34;åˆå§‹åŒ–å‘é‡å‡ºé”™&amp;#34;) return nil } self.key = keyData self.iv = ivData } func encrypt(string: String) -&amp;gt; Data? { return self.crypt(data: string.data(using: .utf8), option: CCOperation(kCCEncrypt)) } func decrypt(data: Data?) -&amp;gt; String? { guard let decryptedData = crypt(data: data, option: CCOperation(kCCDecrypt)) else { return nil } return String(bytes: decryptedData, encoding: .utf8) } func crypt(data: Data?, option: CCOperation) -&amp;gt; Data? { guard let data = data else { return nil } let cryptLength = [UInt8](repeating: 0, count: data.count &#43; kCCBlockSizeAES128).count var cryptData = Data(count: cryptLength) let keyLength = [UInt8](repeating: 0, count: kCCBlockSizeAES128).count let options = CCOptions(kCCOptionPKCS7Padding) // kCCOptionPKCS7Padding var bytesLength = Int(0) let status = cryptData.withUnsafeMutableBytes { cryptBytes in data.withUnsafeBytes { dataBytes in iv.withUnsafeBytes { ivBytes in key.withUnsafeBytes { keyBytes in CCCrypt(option, CCAlgorithm(kCCAlgorithmAES), options, keyBytes, keyLength, ivBytes, dataBytes, data.count, cryptBytes, cryptLength, &amp;amp;bytesLength) } } } } guard UInt32(status) == UInt32(kCCSuccess) else { DPrint(&amp;#34;åŠ å¯†å‡ºé”™ï¼Œé”™è¯¯çŠ¶æ€ä¸ºï¼š\(status)&amp;#34;) return nil } cryptData.removeSubrange(bytesLength ..&amp;lt; cryptData.count) return cryptData } } func DPrint&amp;lt;T&amp;gt;(_ message: T, file: String = #file, method: String = #function, line: Int = #line) { #if DEBUG print(&amp;#34;\((file as NSString).lastPathComponent)[\(line)], \(method): \(message)&amp;#34;) #endif }  å‚è€ƒèµ„æ–™ å‚è€ƒèµ„æ–™
</content>
    </entry>
    
     <entry>
        <title>CLion æ·»åŠ Google test</title>
        <url>https://iihui.github.io/post/clion-test/</url>
        <categories>
          <category>Code</category>
        </categories>
        <tags>
          <tag>CLion</tag>
        </tags>
        <content type="html">  é¦–å…ˆåœ¨githubä¸‹è½½æœ€æ–°çš„googletestï¼Œè§£å‹ä¹‹åé‡å‘½åä¸ºgoogletestã€‚ç„¶åå°†å…¶æ”¾å…¥åˆ°CLionå·¥ç¨‹ç›®å½•ä¸‹ï¼Œæ¥ç€ä¿®æ”¹å·¥ç¨‹çš„CMakeList.txtæ–‡ä»¶ã€‚æœ€åï¼Œä¿®æ”¹mainå‡½æ•°ï¼Œç¼–å†™å•å…ƒæµ‹è¯•ç”¨ä¾‹ã€‚
 ä¸‹è½½ åœ¨githubä¸‹è½½æœ€æ–°çš„googletestï¼Œè§£å‹ä¹‹åå‘½åä¸ºgoogletestï¼Œç„¶åå°†å…¶æ”¾åœ¨å·¥ç¨‹ç›®å½•ä¸‹ï¼š
ä¿®æ”¹CMkeLists æ¥ç€ä¿®æ”¹CMakeLists.txtæ–‡ä»¶ï¼Œä½¿å…¶å°†googletestçº³å…¥åˆ°å·¥ç¨‹ä¸­ï¼Œä»¥ä¾›ä½¿ç”¨ï¼š
cmake_minimum_required(VERSION 3.15) project(test) set(CMAKE_CXX_STANDARD 14) set(googleTestDir ./googletest) #Add the google test subdirectory add_subdirectory(${googleTestDir}) #include googletest/include dirinclude_directories(${googleTestDir}/googletest/include) #include the googlemock/include dirinclude_directories(${googleTestDir}/googlemock/include) set(SOURCE_FILE main.cpp) add_executable(test ${SOURCE_FILE}) # Link with GoogleTest target_link_libraries(test gtest gtest_main) #Link with GoogleMock target_link_libraries(test gmock gmock_main) ä¿®æ”¹main.cpp CLioné‡æ–°åŠ è½½CMakeLists.txtæ–‡ä»¶æœªæŠ¥é”™ä¹‹åï¼Œå¼€å§‹æŒ‰ä¸‹é¢ä¿®æ”¹main.cppæ–‡ä»¶ï¼š
#include &amp;lt;iostream&amp;gt;#include &amp;#34;gtest/gtest.h&amp;#34;int main(int argc, char** argv) { testing::InitGoogleTest(&amp;amp;argc, argv); return RUN_ALL_TESTS(); } å•å…ƒæµ‹è¯• æœ€åæŒ‰ç…§googletestçš„è¯­æ³•è§„åˆ™ç¼–å†™æµ‹è¯•ç”¨ä¾‹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
#include &amp;lt;iostream&amp;gt;#include &amp;#34;gtest/gtest.h&amp;#34; int add(int a, int b){ return a&#43;b; } TEST(test1, add){ EXPECT_EQ(3, add(1,2)); EXPECT_EQ(0, add(-1,1)); } int main(int argc, char** argv) { testing::InitGoogleTest(&amp;amp;argc, argv); return RUN_ALL_TESTS(); }  å‚è€ƒèµ„æ–™ å‚è€ƒèµ„æ–™
</content>
    </entry>
    
     <entry>
        <title>iOSå¼€å‘ä½¿ç”¨Safariè°ƒè¯•WebView</title>
        <url>https://iihui.github.io/post/ios-debug-safari/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html">  åœ¨Macä¸Šè°ƒè¯•iOS WebViewæ—¢éœ€è¦åœ¨Macä¸Šçš„Safariæµè§ˆå™¨ä¸Šå¼€å¯å¼€å‘è€…é€‰é¡¹ï¼Œä¹Ÿéœ€è¦åœ¨iOSè®¾å¤‡ä¸Šå¼€å¯Webæ£€æŸ¥åŠŸèƒ½ã€‚
 å¼€å¯Macçš„å¼€å‘è€…èœå• é¦–å…ˆéœ€è¦å¼€å¯Macä¸ŠSafariæµè§ˆå™¨çš„æ˜¾ç¤ºå¼€å‘è€…èœå•é€‰é¡¹ã€‚å³å…ˆè¿›å…¥åˆ°Safariæµè§ˆå™¨ä¸­çš„è®¾ç½®ï¼Œç„¶åç‚¹å‡»æœ€å³è¾¹çš„é«˜çº§ï¼Œå†å‹¾é€‰åœ¨èœå•æ ä¸­æ˜¾ç¤ºå¼€å‘èœå•ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
å¼€å¯iOSä¸ŠSafariä¸Šçš„Webæ£€æŸ¥ ç„¶åå¼€å¯iOSè®¾å¤‡ä¸­Safarié‡Œçš„ç½‘é¡µæ£€æŸ¥å™¨ï¼Œè®¾ç½®è·¯å¾„ä¸ºï¼šè®¾ç½®--&amp;gt;Safari-&amp;gt;é«˜çº§-&amp;gt;ç½‘é¡µæ£€æŸ¥å™¨ï¼š
å¼€å§‹è°ƒè¯• å°†æ‰‹æœºè¿æ¥åˆ°Macä¸Šï¼Œæ‰“å¼€WebViewé¡µé¢ï¼Œç„¶ååœ¨Macä¸Šçš„Safariæµè§ˆå™¨ä¸­çš„å¼€å‘è€…èœå•ä¸­æ‰¾åˆ°å¯¹åº”çš„iOSè®¾å¤‡ï¼š
 å‚è€ƒèµ„æ–™
</content>
    </entry>
    
     <entry>
        <title>where å…³é”®å­—</title>
        <url>https://iihui.github.io/post/ios-where/</url>
        <categories>
          <category>ios</category>
        </categories>
        <tags>
          <tag>swift</tag><tag>ios</tag>
        </tags>
        <content type="html">  Swiftä¸­çš„whereå…³é”®å­—ä¸»è¦ç”¨äºé™å®šæ¡ä»¶ï¼Œæ—¢å¯åœ¨switchè¯­å¥ä¸­ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥åœ¨forä¸­ä½¿ç”¨ï¼Œè¿˜å¯ä»¥ç”¨åœ¨æ‰©å±•ä¸­ç”¨äºé™å®šåº”è¯¥éµå¾ªæŸç§åè®®ã€‚
 switchä¸­ åœ¨switchè¯­å¥ä¸­ä½¿ç”¨ï¼Œwhereä¸€èˆ¬æ˜¯é…åˆif letæ¥ç”¨äºé™å®šæŸäº›æ¡ä»¶ï¼Œä¾‹å¦‚ï¼š
let names = [&amp;#34;dog&amp;#34;, &amp;#34;cat&amp;#34;, &amp;#34;fish&amp;#34;, &amp;#34;bigDog&amp;#34;, &amp;#34;bigCat&amp;#34;, &amp;#34;bigFish&amp;#34;] names.forEach { switch $0 { case let name where name.hasPrefix(&amp;#34;big&amp;#34;): print(&amp;#34;wow this is a \(name)&amp;#34;) default: break } }  for å¾ªç¯ä¸­ åœ¨for inä½¿ç”¨ï¼Œä¹Ÿæ˜¯ç”¨äºæ·»åŠ é™å®šæ¡ä»¶(è¿‡æ»¤)ï¼ŒåŒfilterå‡½æ•°å…·æœ‰ç›¸åŒçš„æ•ˆæœï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
let names = [&amp;#34;dog&amp;#34;, &amp;#34;cat&amp;#34;, &amp;#34;fish&amp;#34;, &amp;#34;bigDog&amp;#34;, &amp;#34;bigCat&amp;#34;, &amp;#34;bigFish&amp;#34;] for name in names where name == &amp;#34;dog&amp;#34; { print(&amp;#34;\(name)&amp;#34;) }  æ¥å£æ‰©å±•ä¸­ åœ¨æ‰©å±•ä¸­ä½¿ç”¨whereï¼Œç›®çš„ä¹Ÿæ˜¯è¿›è¡Œé™å®šï¼Œå³å¸Œæœ›æ‰©å±•éœ€è¦æ»¡è¶³æŸäº›é™å®šçš„æ¡ä»¶ä¸‹æ‰å¯ä»¥ç”¨ï¼Œå¦‚ä¸‹æ‰€ç¤º:
extension ContiguousArray where Element: BidirectionalCollection { public func joined() -&amp;gt; FlattenBidirectionalCollection&amp;lt;ContiguousArray&amp;lt;Element&amp;gt;&amp;gt; } extension ContiguousArray where Element: Sequence { public func joined&amp;lt;Separator&amp;gt;(separator: Separator) -&amp;gt; JoinedSequence&amp;lt;ContiguousArray&amp;lt;Element&amp;gt;&amp;gt; where Separator: Sequence, Separator.Element == Element.Element } extension Array where Element: Comparable { public var isSorted: Bool { var preIndex = startIndex var curIndex = startIndex &#43; 1 while curIndex != endIndex { if self[preIndex] &amp;gt; self[curIndex] { return false } preIndex = curIndex curIndex &#43; 1 } return true } }  å‚è€ƒèµ„æ–™
</content>
    </entry>
    
     <entry>
        <title>Swift æ–¹æ³•äº¤æ¢ä¸­çš„addMethod</title>
        <url>https://iihui.github.io/post/ios-addmethod/</url>
        <categories>
          <category>Swift</category><category>iOS</category>
        </categories>
        <tags>
          <tag>Swift</tag><tag>iOS</tag>
        </tags>
        <content type="html">  Swizzleæ˜¯OCçš„é»‘é­”æ³•ä¹‹ä¸€ï¼Œå¯ä»¥åœ¨è¿è¡Œæ—¶å¯¹ä¸¤ä¸ªæ–¹æ³•çš„å®ç°è¿›è¡Œäº¤æ¢ï¼Œä¹Ÿå°±æ˜¯ç”¨æˆ·å¯ä»¥ç”¨è‡ªå·±çš„æ–¹æ³•æ›¿æ¢åŸæ¥çš„æ–¹æ³•å®ç°ï¼Œåšä¸€äº›å…¶å®ƒäº‹æƒ…ã€‚Swiftä¹Ÿå¯ä»¥ä½¿ç”¨è¿è¡Œæ—¶çš„æ–¹æ³•äº¤æ¢ï¼Œå¦‚æœè¦äº†è§£Swiftçš„æ–¹æ³•äº¤æ¢ï¼Œé¦–å…ˆåº”è¯¥äº†è§£class_addMethodè¿™ä¸ªæ–¹æ³•çš„ä½œç”¨ã€‚
 class_addMethod ä¸ºäº†äº†è§£class_addMethodæ–¹æ³•çš„ä½œç”¨ï¼Œé¦–å…ˆçœ‹ä¸‹é¢çš„è¿™æ®µä»£ç ï¼Œåœ¨ä¸‹é¢çš„ä»£ç ä¸­ç›´æ¥äº¤æ¢äº†originalSelectorå’ŒswizzledSelector
extension NSObject { static func swizzlingForClass(_ forClass: AnyClass, originalSelector: Selector, swizzledSelector: Selector) { guard let originalMethod = class_getInstanceMethod(forClass, originalSelector), let swizzledMethod = class_getInstanceMethod(forClass, swizzledSelector) else { return } method_exchangeImplementations(originalMethod, swizzledMethod) } } å­˜åœ¨çš„é—®é¢˜ å‡è®¾çˆ¶ç±»åä¸ºmethodçš„æ–¹æ³•ï¼Œå­ç±»æœªé‡å†™è¿™ä¸ªmethodæ–¹æ³•ï¼Œå­ç±»çš„ä¸­æƒ³è¦ç”¨æ¥äº¤æ¢çš„æ–¹æ³•ä¸ºswizzledMethodã€‚å¦‚æœæŒ‰ç…§ä¸Šé¢çš„æ–¹æ³•äº¤æ¢æ—¶ï¼Œå› ä¸ºçˆ¶ç±»æœ‰è¯¥æ–¹æ³•ï¼Œè€Œå­ç±»æœªé‡å†™è¯¥æ–¹æ³•ï¼Œæ‰€ä»¥è°ƒç”¨class_getInstanceMethodå¾—åˆ°çš„æ˜¯çˆ¶ç±»çš„methodæ–¹æ³•ï¼Œæ‰€ä»¥å®ƒä¸å­ç±»çš„swizzledMethodæ–¹æ³•è¿›è¡Œäº¤æ¢éœ€è¦åˆ†ä¸¤ç§æƒ…å½¢æ¥è®¨è®ºï¼š
  å¦‚æœåœ¨å­ç±»å®ä¾‹ä¸­è°ƒç”¨methodæ–¹æ³•æ—¶ï¼Œå› ä¸ºå·²ç»ä¸è‡ªå·±çš„swizzledMethodæ–¹æ³•äº¤æ¢ï¼Œæ‰€ä»¥å®é™…ä¸Šè°ƒç”¨çš„è‡ªå·±swizzledMethodï¼Œæ‰€ä»¥èƒ½å¤Ÿæ­£å¸¸è¿è¡Œã€‚
  å¦‚æœåœ¨çˆ¶ç±»çš„å®ä¾‹ä¸­è°ƒç”¨methodæ–¹æ³•ï¼Œå› ä¸ºå·²ç»ä¸å­ç±»çš„swizzledMethodæ–¹æ³•äº¤æ¢ï¼Œæ‰€ä»¥è°ƒç”¨çš„æ˜¯å­ç±»çš„swizzledMethodæ–¹æ³•ã€‚ä¹Ÿå°±æ˜¯è¯´æ­¤æ—¶æ˜¯çˆ¶ç±»è°ƒç”¨å­ç±»çš„æ–¹æ³•ï¼Œæ‰€ä»¥ä¼šå´©æºƒã€‚
  æ ¹æ®ä¸Šé¢çš„è®¨è®ºï¼Œé¦–å…ˆåº”è¯¥åˆ¤æ–­å­ç±»æ˜¯å¦é‡å†™äº†methodæ–¹æ³•ï¼Œå¦‚æœå®é‡å†™äº†çˆ¶ç±»çš„è¯¥æ–¹æ³•åˆ™ç›´æ¥è¿›è¡Œäº¤æ¢ã€‚å¦‚æœæ²¡æœ‰é‡å†™çˆ¶ç±»çš„è¯¥æ–¹æ³•ï¼Œåˆ™åº”è¯¥å…ˆåœ¨çˆ¶ç±»ä¸­æ–°å»ºä¸€ä¸ªåŒåçš„æ–¹æ³•ã€‚ä¸ºäº†æ–°å»ºä¸€ä¸ªåŒåçš„æ–¹æ³•ï¼Œé¦–å…ˆåº”å½“äº†è§£class_addMethodè¿™ä¸ªå‡½æ•°ã€‚
å®Œå–„çš„æ–¹æ¡ˆ æ ¹æ®ä¸Šé¢çš„åˆ†æï¼Œå…ˆæ¥çœ‹ä¸€ä¸‹class_addMethodçš„å‡½æ•°åŸå‹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
@available(iOS 2.0, *) public func class_addMethod(_ cls: AnyClass?, _ name: Selector, _ imp: IMP, _ types: UnsafePointer&amp;lt;Int8&amp;gt;?) -&amp;gt; Bool è¿™ä¸ªæ–¹æ³•çš„ä½œç”¨æ˜¯åœ¨ä¸€ä¸ªç±»ä¸­æ·»åŠ ä¸€ä¸ªæ–°æ–¹æ³•(åå­—&#43;å®ç°ï¼‰,class_addMethodå‡½æ•°ä¸­å‚æ•°çš„å«ä¹‰ä¸ºä¸‹ï¼š
  clsè¡¨ç¤ºéœ€è¦æ·»åŠ æ–¹æ³•çš„ç±»
  nameè¡¨ç¤ºè¦æ·»åŠ çš„æ–¹æ³•çš„selectorï¼ˆæ–¹æ³•åï¼Œè¿™é‡Œçš„æ–¹æ³•åæ˜¯ä¸€ä¸ªç»“æ„ä½“ï¼‰
  imp è¡¨ç¤ºè¦æ·»åŠ çš„æ–¹æ³•çš„å®ç°çš„æŒ‡é’ˆIMPï¼ˆå®šä¹‰åœ¨è¿™é‡Œ)ï¼‰
  typesç”¨æ¥æè¿°æ–¹æ³•å‚æ•°çš„å­—ç¬¦ä¸²æ•°ç»„
  å¦‚æœclsä¸­å«æœ‰nameåˆ™æ·»åŠ å¤±è´¥ï¼Œè¿”å›falseã€‚è¿™ä¸ªæ–¹æ³•ä¼šé‡å†™clsçˆ¶ç±»ä¸­ä¸nameåŒåçš„æ–¹æ³•ï¼Œä½†æ˜¯ä¸ä¼šæ›¿æ¢clsä¸­å·²ç»å­˜åœ¨çš„ä¸clsåŒåçš„æ–¹æ³•ã€‚ä½†æ˜¯ï¼Œå¦‚æœæƒ³è¦æ›¿æ¢clsä¸­ä¸nameåŒåçš„æ–¹æ³•ï¼Œåº”è¯¥è°ƒç”¨method_setImplementationã€‚
  å› æ­¤ï¼Œå¯ä»¥ä½¿ç”¨class_addMethodæ–¹æ³•çš„è¿”å›å€¼æ¥ç¡®å®šå½“å‰ç±»ä¸­æ˜¯å¦å­˜åœ¨èƒ½å¤Ÿäº¤æ¢çš„æ–¹æ³•ï¼Œå¦‚æœå­˜åœ¨(æ·»åŠ å¤±è´¥)åˆ™ç›´æ¥äº¤æ¢ã€‚
let didAddMethod: Bool = class_addMethod(object, originalSelector, method_getImplementation(swizzledMethod), method_getTypeEncoding(swizzledMethod)) ä¸Šé¢çš„ä»£ç ä¸­å¦‚æœdidAddMethodè¿”å›ä¸ºfalseï¼Œåˆ™è¯´æ˜å¯ä»¥ç›´æ¥è¿›è¡Œæ–¹æ³•äº¤æ¢ï¼Œå¦‚æœè¿”å›å€¼ä¸ºtrueï¼Œåˆ™è¯´æ˜åœ¨å­ç±»ä¸­æ·»åŠ originalSelectoræˆåŠŸï¼Œå¹¶ä¸”originalSelectoræŒ‡å‘äº†å­ç±»çš„swizzledMethodçš„å®ç°ã€‚ä½†æ˜¯swizzledSelectorçš„å®ç°è¿˜æ˜¯å®ƒåŸæ¥çš„å®ç°ï¼Œæ¥ä¸‹æ¥å°±è¦å°†swizzledSelectoræŒ‡å‘originalMethodçš„å®ç°ã€‚å› æ­¤ï¼Œå®Œæ•´çš„ä»£ç åº”è¯¥å¦‚ä¸‹æ‰€ç¤ºï¼š
static func exchangeSelector(object:AnyClass,originalSelector: Selector, swizzledSelector: Selector) { guard let originalMethod = class_getInstanceMethod(object, originalSelector) else { return } guard let swizzledMethod = class_getInstanceMethod(object, swizzledSelector) else { return } let didAddMethod: Bool = class_addMethod(object, originalSelector, method_getImplementation(swizzledMethod), method_getTypeEncoding(swizzledMethod)) if didAddMethod { class_replaceMethod(object, swizzledSelector, method_getImplementation(originalMethod), method_getTypeEncoding(originalMethod)) } else { method_exchangeImplementations(originalMethod, swizzledMethod) } } æ„å»ºå·¥å…·ç±» å› ä¸ºå½“å‰AppåŸ‹ç‚¹çš„æ—¶å€™å¾ˆå¤šåœ°æ–¹éœ€è¦ä½¿ç”¨åˆ°æ–¹æ³•äº¤æ¢ï¼Œå› æ­¤å†³å®šå†™ä¸€ä¸ªä¸“é—¨çš„å·¥å…·ç±»æ¥å®ç°Swiftçš„æ–¹æ³•äº¤æ¢ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
class MethodSwizzlingTools { static func exchangeSelector(object: AnyClass, originalSelector: Selector, swizzledSelector: Selector) { //å¯¹äºclass_getInstanceMethodæ–¹æ³•ï¼Œè‹¥ç±»æ²¡æœ‰å®ç°å¯¹åº”çš„æ–¹æ³•ï¼Œä½†çˆ¶ç±»å®ç°äº†ï¼Œåˆ™è¿™ä¸ªå‡½æ•°ä¼šè¿”å›çˆ¶ç±»çš„æ–¹æ³• guard let originalMethod = class_getInstanceMethod(object, originalSelector) else { return } guard let swizzledMethod = class_getInstanceMethod(object, swizzledSelector) else { return } //å‚è€ƒhttps://juejin.im/post/5cb6df44e51d456e6f45c6f1 let didAddMethod: Bool = class_addMethod(object, originalSelector, method_getImplementation(swizzledMethod), method_getTypeEncoding(swizzledMethod)) if didAddMethod { class_replaceMethod(object, swizzledSelector, method_getImplementation(originalMethod), method_getTypeEncoding(originalMethod)) } else { method_exchangeImplementations(originalMethod, swizzledMethod) } } //äº¤æ¢ä¸¤ä¸ªä¸åŒç±»çš„æ–¹æ³•ï¼Œè¿™ä¸¤ä¸ªç±»åº”è¯¥æ»¡è¶³çˆ¶å­å…³ç³» static func exchangeSelector(originalClass: AnyClass, originalSelector: Selector, swizzledClass: AnyClass, swizzledSelector: Selector) { guard let originalMethod = class_getInstanceMethod(originalClass, originalSelector), let swizzledMethod = class_getInstanceMethod(swizzledClass, swizzledSelector) else { return } let didAddMethod: Bool = class_addMethod(originalClass, originalSelector, method_getImplementation(swizzledMethod), method_getTypeEncoding(swizzledMethod)) if didAddMethod { class_replaceMethod(swizzledClass, swizzledSelector, method_getImplementation(originalMethod), method_getTypeEncoding(originalMethod)) } else { method_exchangeImplementations(originalMethod, swizzledMethod) } } }  å‚è€ƒèµ„æ–™ å‚è€ƒèµ„æ–™
</content>
    </entry>
    
     <entry>
        <title>Any,AnyObject,AnyClass</title>
        <url>https://iihui.github.io/post/ios-any/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>swift</tag><tag>iOS</tag>
        </tags>
        <content type="html">  æœ€è¿‘åœ¨çœ‹Swiftä¸­çš„æ–¹æ³•äº¤æ¢ï¼Œé‡åˆ°Anyã€AnyObjectä¸AnyClassæ¬¡æ•°è¾ƒå¤šï¼Œæ‰€ä»¥åœ¨ç½‘ä¸Šæ‰¾äº†ä¸€äº›æ–‡ç« çœ‹äº†ä¸€ä¸‹ï¼Œä»¥æ­¤ç¯‡ä¸ºè®°ã€‚
 AnyObject AnyObjectç±»ä¼¼äºOCä¸­çš„idç±»å‹ï¼Œè¡¨ç¤ºä»»æ„çš„classç±»å‹ã€‚ä½†åœ¨Swiftä¸­ç”±äºStringã€Arrayç­‰éƒ½å˜æˆç»“æ„ä½“äº†ï¼ŒAnyObjectçš„é€‚ç”¨èŒƒå›´å°±å˜çª„äº†ã€‚
å®é™…ä¸ŠAnyObjectæ˜¯ä¸€ä¸ªæˆå‘˜ä¸ºç©ºçš„åè®®@objc public protocol AnyObject {}ã€‚å®ƒæ³¨é‡Šçš„ç¬¬ä¸€è¡Œ:The protocol to which all classes implicitly conformè¡¨æ˜æ‰€æœ‰çš„ç±»éƒ½éšå¼éµå®ˆäº†è¿™ä¸ªåè®®ã€‚
Any Anyä¹Ÿæ˜¯ä¸€ä¸ªåè®®ï¼Œæ ¹æ®å…¶æ³¨é‡ŠThe protocol to which all types implicitly conform.è¡¨æ˜æ‰€æœ‰çš„ç±»å‹éƒ½éµå®ˆè¯¥åè®®ï¼ŒåŒ…æ‹¬åŸºæœ¬æ•°æ®ç±»å‹ï¼Œenum, struct, funcç­‰ç­‰ã€‚å› æ­¤Anyå¯ä»¥è¡¨ç¤ºä»»ä½•ç±»å‹çš„å®ä¾‹ï¼ŒåŒ…æ‹¬å‡½æ•°ç±»å‹
AnyClass AnyClassè¡¨ç¤ºä»»æ„ç±»çš„å…ƒç±»å‹ï¼Œå…¶å®šä¹‰å¦‚ä¸‹æ‰€ç¤º:
typealias AnyClass = AnyObject.Type æ ¹æ®å®šä¹‰å¯çŸ¥å®ƒä¸ºAnyObject.Typeçš„åˆ«åã€‚AnyObject.Typeä¸­çš„.Typeå°±æ˜¯è·å–å…ƒç±»å‹ã€‚ä¾‹å¦‚ï¼Œå¯¹äºStudentç±»ï¼ŒStudent.Typeå°±æ˜¯è·å–Studentçš„å…ƒç±»å‹ã€‚
å†æ ¹æ®æ³¨é‡ŠThe protocol to which all class types implicitly conformï¼Œå¯çŸ¥é“æ‰€æœ‰çš„ç±»çš„ç±»å‹éƒ½éšå¼éµå®ˆè¿™ä¸ªåè®®ã€‚
self åœ¨Swiftä¸­ï¼Œ.selfå¯ä»¥ç”¨åœ¨ç±»å‹åé¢å–å¾—ç±»å‹æœ¬èº«ï¼Œä¹Ÿå¯ä»¥åœ¨æŸä¸ªå®ä¾‹åé¢å–å¾—è¿™ä¸ªå®ä¾‹æœ¬èº«ã€‚
é‡è¦åŒºåˆ« AnyObjectä»£è¡¨ä»»æ„classç±»å‹çš„å¯¹è±¡å®ä¾‹ï¼ŒAnyä»£è¡¨ä»»æ„ç±»å‹ï¼Œç”šè‡³åŒ…æ‹¬æ–¹æ³•ç±»å‹ï¼Œæ‰€ä»¥AnyObjectæ˜¯Anyçš„å­é›†ã€‚
 ç±»å‹è½¬æ¢ æ“ä½œç¬¦isæ£€æŸ¥ä¸€ä¸ªå®ä¾‹æ˜¯å¦æŸä¸ªç¡®å®šçš„ç±»æˆ–è€…å…¶å­ç±»ç±»å‹ï¼Œå¦‚æœæ˜¯åˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚
class Cat { func hairColor() -&amp;gt; String { return &amp;#34;äº”é¢œå…­è‰²&amp;#34; } } class WhiteCat: Cat { override func hairColor() -&amp;gt; String { return &amp;#34;ç™½è‰²&amp;#34; } } class BlackCat: Cat { override func hairColor() -&amp;gt; String { return &amp;#34;é»‘è‰²&amp;#34; } } //å¿…é¡»ç¬¦åˆ`Cat`ç±»ä»¥åŠå…¶å­ç±»ï¼Œç±»å‹æ¨æ–­éœ€è¦ let kinds = [WhiteCat(),BlackCat(),WhiteCat(),WhiteCat()] for item in kinds { if item is WhiteCat { print(&amp;#34;ç™½çŒ«&amp;#34;)// 3æ¬¡ } if item is BlackCat { print(&amp;#34;é»‘çŒ«&amp;#34;)// 1æ¬¡ } if item is Cat { print(&amp;#34;çŒ«&amp;#34;)// 4æ¬¡ } } å‘ä¸‹è½¬æ¢ æŸä¸ªç±»å‹çš„å¸¸é‡æˆ–å˜é‡å¯èƒ½æ˜¯å…¶å­ç±»çš„å®ä¾‹ï¼Œæ­¤æ—¶éœ€è¦ç”¨åˆ°ç±»å‹è½¬æ¢æ“ä½œasï¼Ÿæˆ–as!å‘ä¸‹è½¬æ¢ä¸ºå­ç±»ç±»å‹
as?ï¼šç±»å‹è½¬æ¢çš„æ¡ä»¶å½¢å¼ï¼Œå‘ä¸‹è½¬æ¢ä¸ºæŸä¸ªç±»å‹æ—¶ï¼Œè¿”å›è¯¥ç±»å‹çš„å¯é€‰å€¼ï¼Œå³è½¬æ¢å¤±è´¥æ—¶è¿”å›nilã€‚
as!ï¼šç±»å‹è½¬æ¢çš„å¼ºåˆ¶å½¢å¼ï¼Œå‘ä¸‹è½¬æ¢ä¸ºæŸä¸ªç±»å‹æ—¶ï¼Œä¼šè¿›è¡Œå¼ºåˆ¶è§£åŒ…ï¼Œå³ï¼šè½¬æ¢å¤±è´¥æ—¶è§¦å‘è¿è¡Œæ—¶é”™è¯¯ã€‚é™¤éååˆ†ç¡®å®šç±»å‹è½¬æ¢ä¼šæˆåŠŸï¼Œå¦åˆ™ä¸å»ºè®®ä½¿ç”¨è¯¥æ¨¡å¼ã€‚
let statusHeight = UIApplication.shared.statusBarFrame.height
å‚è€ƒèµ„æ–™ å‚è€ƒèµ„æ–™ å‚è€ƒèµ„æ–™
</content>
    </entry>
    
     <entry>
        <title>UIControl</title>
        <url>https://iihui.github.io/post/ios-uicontrol/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html">  UIControlæ˜¯UIViewçš„å­ç±»ï¼Œä¹Ÿæ˜¯UIResponderçš„å­ç±»ã€‚æ˜¯UIButtonï¼ŒUISwitchï¼ŒUITextFieldç­‰æ§ä»¶çš„çˆ¶ç±»ã€‚å®ƒæœ¬èº«å®šä¹‰äº†ä¸€äº›å±æ€§å’Œæ–¹æ³•ï¼Œä½†æ˜¯ä¸èƒ½ç›´æ¥ä½¿ç”¨ã€‚
 æ–¹æ³•äº¤æ¢ extension UIControl { class func swizzleMethod() { struct Static { static var token = NSUUID().uuidString } // ç¡®ä¿ä¸æ˜¯å­ç±» if self != UIControl.self { return } // é˜²æ­¢æ‰‹åŠ¨è°ƒç”¨ï¼Œé€ æˆäº¤æ¢å¤šæ¬¡ DispatchQueue.once(token: Static.token) { MethodSwizzlingTools.exchangeSelector(object: self, originalSelector: #selector(UIControl.sendAction(_:to:for:)), swizzledSelector: #selector(userSendAction(_:to:for:))) } } @objc func userSendAction(_ action: Selector, to target: Any?, for event: UIEvent?) { self.userSendAction(action, to: target, for: event) } </content>
    </entry>
    
     <entry>
        <title>Swift ä¸­çš„åå°„</title>
        <url>https://iihui.github.io/post/ios-reflection/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>swift</tag><tag>iOS</tag>
        </tags>
        <content type="html">  åœ¨è®¡ç®—æœºå­¦ä¸­ï¼Œreflection(åå°„)æ˜¯æŒ‡è®¡ç®—æœºç¨‹åºåœ¨runtimeæ—¶å¯ä»¥è®¿é—®ã€æ£€æµ‹å’Œä¿®æ”¹å®ƒæœ¬èº«çŠ¶æ€æˆ–è¡Œä¸ºçš„ä¸€ç§èƒ½åŠ›ã€‚æ¯”è¾ƒå½¢è±¡çš„è¯´æ³•å°±æ˜¯ï¼Œåå°„æ˜¯ç¨‹åºåœ¨è¿è¡Œçš„æ—¶å€™èƒ½å¤Ÿè§‚å¯Ÿå¹¶ä¸”ä¿®æ”¹è‡ªå·±çš„è¡Œä¸ºã€‚
 @objc Swiftæ˜¯ä¸€é—¨é™æ€è¯­è¨€ï¼Œå’ŒOCä¸åŒï¼Œä¸èƒ½åœ¨è¿è¡Œæ—¶åšå¾ˆå¤šå¤æ‚çš„æ“ä½œã€‚Swiftè™½ç„¶ä¸èƒ½åƒOCä¸€æ ·åœ¨è¿è¡Œæ—¶åšå¾ˆå¤šäº‹ï¼Œä½†æ˜¯è¿˜æ˜¯åšä¸€äº›å°åŠ¨ä½œï¼Œæ¯”å¦‚å’ŒJavaç±»ä¼¼çš„åå°„æœºåˆ¶ç­‰ã€‚
@objcï¼Œå¯ä»¥ç”¨æ¥æ ‡è®°å‡½æ•°å’Œç±»ã€åè®®ç­‰ç­‰ã€‚è¿™ä¸ªæ ‡è®°è¡¨ç¤ºè¯¥æ–¹æ³•æˆ–è€…è¯¥ç±»å¯ä»¥è¢«ç”¨äºè¿è¡Œæ—¶ã€‚ä¾‹å¦‚ï¼Œåœ¨Swiftä¸­ç±»ä¼¼æŒ‰é’®ç‚¹å‡»çš„selectoréƒ½å¿…é¡»ç”¨@objcæ ‡è®°ï¼Œè¡¨ç¤ºè¯¥æ–¹æ³•æ˜¯è¿è¡Œæ—¶è°ƒç”¨ï¼ˆæŒ‰é’®ç‚¹å‡»æ˜¯è¿è¡Œæ—¶äº‹ä»¶ï¼Œç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶å¯¹æ²¡æœ‰è°ƒç”¨åˆ°çš„éè¿è¡Œæ—¶å‡½æ•°ä¼šä¼˜åŒ–æ‰ï¼‰ã€‚
åœ¨Swift 4ä¹‹åçš„ç‰ˆæœ¬é‡Œï¼Œç±»ç»§æ‰¿ NSObjctä¸ä¼šå†é»˜è®¤å¸¦@objc æ ‡è®°ï¼Œå½“é‡å†™NSObjctç¼–è¾‘å™¨ä¼šè‡ªåŠ¨æç¤ºå¸¦ä¸Š @objcã€‚
é™¤äº†ä¸Šé¢ç”¨@objcæ ‡è®°è¿™ç§æ–¹æ³•å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡åå°„(Reflection)æ¥å®ç°ä¸€äº›è¯¸å¦‚è¿è¡Œæ—¶è·å–ç±»å‹ã€æˆå‘˜ä¿¡æ¯ï¼Œè°ƒç”¨ä»»æ„æ–¹æ³•ç­‰è¡Œä¸ºã€‚Reflectionä¸»è¦ä½¿ç”¨Mirrorè¿™ä¸ªç»“æ„ä½“æ¥åšä¸€äº›äº‹æƒ…ã€‚
Swiftåå°„ Swiftçš„åå°„æœºåˆ¶æ˜¯åŸºäºä¸€ä¸ªå«Mirrorçš„Stuctæ¥å®ç°çš„ã€‚å…·ä½“çš„æ“ä½œæ–¹å¼ä¸ºï¼šé¦–å…ˆåˆ›å»ºä¸€ä¸ªä½ æƒ³è¦åå°„çš„ç±»çš„å®ä¾‹ï¼Œå†ä¼ ç»™Mirrorçš„æ„é€ å™¨æ¥å®ä¾‹åŒ–ä¸€ä¸ªMirrorå¯¹è±¡ï¼Œæœ€åä½¿ç”¨è¿™ä¸ªMirroræ¥è·å–ä½ æƒ³è¦çš„ä¸œè¥¿ã€‚
å°½ç®¡Swiftä¸€ç›´éƒ½åœ¨å¼ºè°ƒå¼ºç±»å‹ã€ç¼–è¯‘æ—¶å®‰å…¨å¹¶æ¨èä½¿ç”¨é™æ€è°ƒåº¦ï¼Œä½†å®ƒçš„æ ‡å‡†åº“ä»ç„¶æä¾›äº†ä¸€ä¸ªåŸºäºMirrorçš„Structæ¥å®ç°çš„åå°„æœºåˆ¶ã€‚ç®€å•æ¥è¯´ï¼Œä¾‹å¦‚ä½ æœ‰ä¸€ä¸ªClass Aå¹¶åˆ›å»ºäº†ä¸€ä¸ªAçš„å®ä¾‹å¯¹è±¡aï¼Œæ­¤æ—¶ä½ å°±å¯ä»¥é€šè¿‡Mirror(reflecting: a)æ¥ç”Ÿæˆä¸€ä¸ªMirrorå¯¹è±¡mï¼Œç„¶åéå†m.childrenå°±å¯ä»¥è·å–åˆ°aå¯¹è±¡çš„æ‰€æœ‰å±æ€§ï¼š
// // main.swift import Foundation protocol Drive { func run() } public class Tire { //è½®èƒ var brand: String? //å“ç‰Œ var size: Float = 0 //å¤§å° } public class Vehicle: Drive { var carType: String? var tires: [Tire]? var host: String?// ä¸»äºº var brand: String?//æ±½è½¦å“ç‰Œ func run() { if let h = host { print(&amp;#34;\(h)Drive a \(brand)\(carType)car run&amp;#34;) } else { print(&amp;#34;this car is not selled&amp;#34;) } } } public class Trunk: Vehicle { public var packintBox: String? } public struct TranGroup { //è´§è¿é›†å›¢ var trunks = { return [Trunk]() }() var country: String? var turnover: Float? } //ä¸€ä¸ªä¸­å›½çš„è´§è¿é›†å›¢ var tranGroup = TranGroup() tranGroup.country = &amp;#34;å¤©æœ&amp;#34; tranGroup.turnover = 2222 let trunk1 = Trunk() trunk1.brand = &amp;#34;MAN&amp;#34; trunk1.host = &amp;#34;Stan&amp;#34; trunk1.packintBox = &amp;#34;Big And Long&amp;#34; tranGroup.trunks.append(trunk1) let mirrorTran = Mirror(reflecting: tranGroup) print(tranGroup) //æ‰“å°å‡º TranGroup ç›¸å…³ä¿¡æ¯ print(mirrorTran.subjectType) //æ‰“å°å‡º TranGroup print(mirrorTran.displayStyle) //Optional(Swift.Mirror.DisplayStyle.Struct)ï¼Œæ˜¯ä¸ªStructç±»å‹ print(mirrorTran.superclassMirror) //nilï¼Œå› ä¸ºæ²¡æœ‰çˆ¶ç±» for (key, value) in mirrorTran.children { print(&amp;#34;\(key): \(value)&amp;#34;) } æ‰“å°çš„ç»“æœï¼š
TranGroup(trunks: [test.Trunk], country: Optional(&amp;#34;å¤©æœ&amp;#34;), turnover: Optional(2222.0)) TranGroup Optional(Swift.Mirror.DisplayStyle.struct) nil Optional(&amp;#34;trunks&amp;#34;) : [test.Trunk] Optional(&amp;#34;country&amp;#34;) : Optional(&amp;#34;å¤©æœ&amp;#34;) Optional(&amp;#34;turnover&amp;#34;) : Optional(2222.0) </content>
    </entry>
    
     <entry>
        <title>KVC é”®å€¼ç¼–ç </title>
        <url>https://iihui.github.io/post/ios-kvc/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>iOS</tag><tag>oc</tag>
        </tags>
        <content type="html">  KVC(Key Value Coding)é”®å€¼ç¼–ç ï¼ŒæŒ‡å…è®¸é€šè¿‡Keyåå­—æ¥ç›´æ¥è®¿é—®å¯¹è±¡çš„å±æ€§ï¼Œè€Œä¸éœ€è¦è°ƒç”¨æ˜ç¡®çš„å­˜å–æ–¹æ³•ã€‚è¿™æ ·ï¼Œä¾¿èƒ½åœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°è®¿é—®å’Œä¿®æ”¹å¯¹è±¡çš„å±æ€§å€¼ã€‚åœ¨iOSä¸­ï¼Œæ— è®ºæ˜¯Swiftè¿˜æ˜¯OCï¼ŒKVCéƒ½æ˜¯é€šè¿‡å¯¹NSObjectçš„æ‰©å±•æ¥å®ç°çš„ã€‚æ‰€ä»¥ï¼Œç»§æ‰¿äº†NSObjectçš„ç±»å‹çš„å¯¹è±¡éƒ½èƒ½ä½¿ç”¨KVCã€‚
 KVC KVCæ˜¯ä¸€ç§é€šè¿‡å­—ç¬¦ä¸²é—´æ¥è®¿é—®å¯¹è±¡çš„å±æ€§çš„æ–¹æ³•ï¼Œè€Œä¸æ˜¯é€šè¿‡è°ƒç”¨å­˜å–æ–¹æ³•ï¼ˆsetter/getterï¼‰æ¥è·å–å±æ€§ï¼Œä¸‹é¢æ˜¯KVCæœ€ä¸ºé‡è¦çš„å››ä¸ªæ–¹æ³•ï¼š
- (nullable id)valueForKey:(NSString *)key; //ç›´æ¥é€šè¿‡Key(NSStringå±æ€§çš„åå­—)æ¥å–å€¼ - (void)setValue:(nullable id)value forKey:(NSString *)key; //é€šè¿‡Key(NSStringå±æ€§çš„åå­—)æ¥è®¾å€¼ - (nullable id)valueForKeyPath:(NSString *)keyPath; //é€šè¿‡KeyPath(xx.xx)æ¥å–å€¼ - (void)setValue:(nullable id)value forKeyPath:(NSString *)keyPath; //é€šè¿‡KeyPath(xx.xx)æ¥è®¾å€¼ å¯»æ‰¾Keyæœºåˆ¶ åœ¨èµ‹å€¼å’Œå–ä¹‹çš„æ—¶å€™éƒ½è¦å…ˆå¯»æ‰¾Keyï¼Œä½†è¿™ä¸¤è€…åœ¨å¯»æ‰¾Keyçš„æ–¹å¼æ˜¯æœ‰åŒºåˆ«çš„ï¼Œæ¥ä¸‹æ¥ä¸€ä¸€è¯´æ˜å®ƒä»¬å¯»æ‰¾Keyçš„æœºåˆ¶ã€‚
è®¾ç½®å€¼ å½“è°ƒç”¨setValueï¼šå±æ€§å€¼ forKeyï¼š@â€nameâ€œï¼Œæ¥è®¾ç½®å€¼æ—¶ï¼Œåº•å±‚çš„æ‰§è¡Œæœºåˆ¶å¦‚ä¸‹ï¼š
  ç¨‹åºä¼˜å…ˆè°ƒç”¨set&amp;lt;Key&amp;gt;:å±æ€§å€¼æ–¹æ³•ï¼Œä»£ç é€šè¿‡setteræ–¹æ³•å®Œæˆè®¾ç½®ã€‚è¿™é‡Œçš„Keyæ˜¯æŒ‡æˆå‘˜å˜é‡åï¼Œè€Œä¸æ˜¯forKeyè¡¨ç¤ºçš„å€¼ã€‚
  å¦‚æœæ²¡æœ‰æ‰¾åˆ°setName:æ–¹æ³•ï¼ŒKVCæœºåˆ¶ä¼šæ£€æŸ¥&#43; (BOOL)accessInstanceVariablesDirectlyæ–¹æ³•æœ‰æ²¡æœ‰è¿”å›YESï¼ˆé»˜è®¤è¿”å›ï¼‰ã€‚å¦‚æœé‡å†™äº†è¯¥æ–¹æ³•å¹¶è¿”å›NOçš„è¯ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥æ‰§è¡ŒsetValueï¼šforUndefinedKeyæ–¹æ³•ï¼Œä¸è¿‡ä¸€èˆ¬å¼€å‘è€…ä¸ä¼šè¿™ä¹ˆåšã€‚æ‰€ä»¥KVCæœºåˆ¶ä¼šæœç´¢è¯¥ç±»é‡Œé¢æœ‰æ²¡æœ‰åä¸º_&amp;lt;key&amp;gt;çš„æˆå‘˜å˜é‡ï¼Œæ— è®ºè¯¥å˜é‡æ˜¯åœ¨ç±»æ¥å£å¤„å®šä¹‰ï¼Œè¿˜æ˜¯åœ¨ç±»å®ç°å¤„å®šä¹‰ï¼Œä¹Ÿæ— è®ºç”¨äº†ä»€ä¹ˆæ ·çš„è®¿é—®ä¿®é¥°ç¬¦ï¼Œåªåœ¨å­˜åœ¨ä»¥_&amp;lt;key&amp;gt;å‘½åçš„å˜é‡ï¼ŒKVCéƒ½å¯ä»¥å¯¹è¯¥æˆå‘˜å˜é‡èµ‹å€¼ã€‚
  å¦‚æœè¯¥ç±»æ—¢æ²¡æœ‰set&amp;lt;key&amp;gt;æ–¹æ³•ï¼Œä¹Ÿæ²¡æœ‰_&amp;lt;key&amp;gt;æˆå‘˜å˜é‡ï¼ŒKVCæœºåˆ¶ä¼šæœç´¢_is&amp;lt;Key&amp;gt;çš„æˆå‘˜å˜é‡ã€‚
  å¦‚æœè¯¥ç±»æ—¢æ²¡æœ‰set&amp;lt;Key&amp;gt;æ–¹æ³•ï¼Œä¹Ÿæ²¡æœ‰_&amp;lt;key&amp;gt;å’Œ_is&amp;lt;Key&amp;gt;æˆå‘˜å˜é‡ï¼ŒKVCæœºåˆ¶å†ä¼šç»§ç»­æœç´¢æ˜¯å¦å­˜åœ¨&amp;lt;key&amp;gt;å’Œis&amp;lt;Key&amp;gt;çš„æˆå‘˜å˜é‡ï¼Œå†ç»™å®ƒä»¬èµ‹å€¼ã€‚
  å¦‚æœä¸Šé¢åˆ—å‡ºçš„æ–¹æ³•æˆ–è€…æˆå‘˜å˜é‡éƒ½ä¸å­˜åœ¨ï¼Œç³»ç»Ÿå°†ä¼šæ‰§è¡Œè¯¥å¯¹è±¡çš„setValueï¼šforUndefinedKeyæ–¹æ³•ï¼Œé»˜è®¤æ˜¯æŠ›å‡ºå¼‚å¸¸ã€‚
  å¦‚æœæƒ³è®©è¿™ä¸ªç±»ç¦ç”¨KVCï¼Œåªè¦é‡å†™&#43; (BOOL)accessInstanceVariablesDirectlyæ–¹æ³•ï¼Œå¹¶è®©å®ƒè¿”å›NOå³å¯ã€‚
@interface Dog : NSObject @end @implementation Dog { NSString* toSetName; NSString* isName; //NSString* name;  NSString* _name; NSString* _isName; } // -(void)setName:(NSString*)name{ // toSetName = name; // } //-(NSString*)getName{ // return toSetName; //} &#43;(BOOL)accessInstanceVariablesDirectly{ return NO; } -(id)valueForUndefinedKey:(NSString *)key{ NSLog(@&amp;#34;å‡ºç°å¼‚å¸¸ï¼Œè¯¥keyä¸å­˜åœ¨%@&amp;#34;,key); return nil; } -(void)setValue:(id)value forUndefinedKey:(NSString *)key{ NSLog(@&amp;#34;å‡ºç°å¼‚å¸¸ï¼Œè¯¥keyä¸å­˜åœ¨%@&amp;#34;,key); } @end int main(int argc, const char * argv[]) { @autoreleasepool { // insert code here...  Dog* dog = [Dog new]; [dog setValue:@&amp;#34;newName&amp;#34; forKey:@&amp;#34;name&amp;#34;]; NSString* name = [dog valueForKey:@&amp;#34;toSetName&amp;#34;]; NSLog(@&amp;#34;%@&amp;#34;,name); } return 0; } ä¸Šé¢ä»£ç çš„è¾“å‡ºä¸ºï¼š
2020-02-15 09:33:48.596397&#43;0800 test[52035:3057928] å‡ºç°å¼‚å¸¸ï¼Œè¯¥keyä¸å­˜åœ¨name 2020-02-15 09:33:48.596949&#43;0800 test[52035:3057928] å‡ºç°å¼‚å¸¸ï¼Œè¯¥keyä¸å­˜åœ¨toSetName 2020-02-15 09:33:48.596987&#43;0800 test[52035:3057928] (null) è¿™æ˜¯å› ä¸ºé‡å†™äº†&#43;(BOOL)accessInstanceVariablesDirectlyï¼Œå¹¶è®©å®ƒè¿”å›äº†NOä¹‹åï¼ŒKVCä¸å†å»æ‰¾nameç³»åˆ—æˆå‘˜å˜é‡ï¼Œè€Œæ˜¯ç›´æ¥è°ƒç”¨setValueï¼šforUndefinedKeyï¼šã€‚æ‰€ä»¥å¦‚æœä¸æƒ³è®©è‡ªå®šä¹‰çš„ç±»å®ç°KVCï¼Œåˆ™å¯ä»¥åƒä¸Šé¢é‚£æ ·åšã€‚
å¦‚æœå°†ä¸‹é¢çš„æ³¨é‡Šå–æ¶ˆï¼š
-(void)setName:(NSString*)name{ toSetName = name; } -(NSString*)getName{ return toSetName; } å¹¶å°†NSString* name = [dog valueForKey:@&amp;quot;toSetName&amp;quot;]; æ¢æˆ NSString* name = [dog valueForKey:@&amp;quot;name&amp;quot;];å°±å¯ä»¥å¾—åˆ°æ­£ç¡®çš„ç»“æœäº†ï¼š
2020-02-15 09:59:52.961889&#43;0800 test[52736:3072979] newName æ ¹æ®ä¸Šé¢çš„å¯»æ‰¾æœºåˆ¶ï¼ŒæŒ‰ç…§å¦‚ä¸‹ä¿®æ”¹ï¼Œä»ç„¶å¯ä»¥è®¾ç½®nameçš„å€¼ï¼š
#import &amp;#34;Dog.h&amp;#34;  @implementation Dog { NSString* toSetName; NSString* isName; //NSString* name;  NSString* _name; NSString* _isName; } // -(void)setName:(NSString*)name{ // toSetName = name; // } //-(NSString*)getName{ // return toSetName; //} &#43;(BOOL)accessInstanceVariablesDirectly{ return YES; } -(id)valueForUndefinedKey:(NSString *)key{ NSLog(@&amp;#34;å‡ºç°å¼‚å¸¸ï¼Œè¯¥keyä¸å­˜åœ¨%@&amp;#34;,key); return nil; } -(void)setValue:(id)value forUndefinedKey:(NSString *)key{ NSLog(@&amp;#34;å‡ºç°å¼‚å¸¸ï¼Œè¯¥keyä¸å­˜åœ¨%@&amp;#34;,key); } @end #import &amp;lt;Foundation/Foundation.h&amp;gt; #import &amp;#34;Dog.h&amp;#34;  int main(int argc, const char * argv[]) { @autoreleasepool { // insert code here...  Dog * dog = [Dog new]; [dog setValue:@&amp;#34;newName&amp;#34; forKey:@&amp;#34;name&amp;#34;]; NSString* name = [dog valueForKey:@&amp;#34;name&amp;#34;]; NSLog(@&amp;#34;%@&amp;#34;,name); } return 0; } æ‰“å°çš„ç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š
2020-02-15 10:09:25.756648&#43;0800 test[52930:3077204] newName å–å€¼ å½“è°ƒç”¨valueForKeyï¼š@â€nameâ€œçš„ä»£ç æ—¶ï¼ŒKVCå¯¹keyçš„æœç´¢æ–¹å¼ä¸åŒäºsetValueï¼šå±æ€§å€¼ forKeyï¼š@â€nameâ€œï¼Œå…¶æœç´¢æ–¹å¼å¦‚ä¸‹ï¼š
  é¦–å…ˆæŒ‰get&amp;lt;Key&amp;gt;,&amp;lt;key&amp;gt;,is&amp;lt;Key&amp;gt;çš„é¡ºåºæ–¹æ³•æŸ¥æ‰¾getteræ–¹æ³•ï¼Œæ‰¾åˆ°çš„è¯ä¼šç›´æ¥è°ƒç”¨ã€‚å¦‚æœæ˜¯BOOLæˆ–è€…Intç­‰å€¼ç±»å‹ï¼Œ ä¼šå°†å…¶åŒ…è£…æˆä¸€ä¸ªNSNumberå¯¹è±¡ã€‚
  å¦‚æœä¸Šé¢çš„getteræ²¡æœ‰æ‰¾åˆ°ï¼ŒKVCåˆ™ä¼šæŸ¥æ‰¾countOf&amp;lt;Key&amp;gt;,objectIn&amp;lt;Key&amp;gt;AtIndexæˆ–&amp;lt;Key&amp;gt;AtIndexesæ ¼å¼çš„æ–¹æ³•ã€‚å¦‚æœcountOf&amp;lt;Key&amp;gt;æ–¹æ³•å’Œå¦å¤–ä¸¤ä¸ªæ–¹æ³•ä¸­çš„ä¸€ä¸ªè¢«æ‰¾åˆ°ï¼Œé‚£ä¹ˆå°±ä¼šè¿”å›ä¸€ä¸ªå¯ä»¥å“åº”NSArrayæ‰€æœ‰æ–¹æ³•çš„ä»£ç†é›†åˆ(å®ƒæ˜¯NSKeyValueArrayï¼Œä¸ºNSArrayçš„å­ç±»)ï¼Œè°ƒç”¨è¿™ä¸ªä»£ç†é›†åˆçš„æ–¹æ³•ï¼Œæˆ–è€…è¯´ç»™è¿™ä¸ªä»£ç†é›†åˆå‘é€å±äºNSArrayçš„æ–¹æ³•ï¼Œå°±ä¼šä»¥countOf&amp;lt;Key&amp;gt;,objectIn&amp;lt;Key&amp;gt;AtIndexæˆ–&amp;lt;Key&amp;gt;AtIndexesè¿™å‡ ä¸ªæ–¹æ³•ç»„åˆçš„å½¢å¼è°ƒç”¨ã€‚è¿˜æœ‰ä¸€ä¸ªå¯é€‰çš„get&amp;lt;Key&amp;gt;:range:æ–¹æ³•ã€‚æ‰€ä»¥ä½ æƒ³é‡æ–°å®šä¹‰KVCçš„ä¸€äº›åŠŸèƒ½ï¼Œä½ å¯ä»¥æ·»åŠ è¿™äº›æ–¹æ³•ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ä½ çš„æ–¹æ³•åè¦ç¬¦åˆKVCçš„æ ‡å‡†å‘½åæ–¹æ³•ï¼ŒåŒ…æ‹¬æ–¹æ³•ç­¾åã€‚  å¦‚æœä¸Šé¢çš„æ–¹æ³•æ²¡æœ‰æ‰¾åˆ°ï¼Œé‚£ä¹ˆä¼šåŒæ—¶æŸ¥æ‰¾countOf&amp;lt;Key&amp;gt;ï¼ŒenumeratorOf&amp;lt;Key&amp;gt;,memberOf&amp;lt;Key&amp;gt;æ ¼å¼çš„æ–¹æ³•ã€‚å¦‚æœè¿™ä¸‰ä¸ªæ–¹æ³•éƒ½æ‰¾åˆ°ï¼Œé‚£ä¹ˆå°±è¿”å›ä¸€ä¸ªå¯ä»¥å“åº”NSSetæ‰€çš„æ–¹æ³•çš„ä»£ç†é›†åˆï¼Œå’Œä¸Šé¢ä¸€æ ·ï¼Œç»™è¿™ä¸ªä»£ç†é›†åˆå‘NSSetçš„æ¶ˆæ¯ï¼Œå°±ä¼šä»¥countOf&amp;lt;Key&amp;gt;ï¼ŒenumeratorOf&amp;lt;Key&amp;gt;,memberOf&amp;lt;Key&amp;gt;ç»„åˆçš„å½¢å¼è°ƒç”¨ã€‚
  å¦‚æœè¿˜æ²¡æœ‰æ‰¾åˆ°ï¼Œå†æ£€æŸ¥ç±»æ–¹æ³•&#43;(BOOL)accessInstanceVariablesDirectly,å¦‚æœè¿”å›YES(é»˜è®¤è¡Œä¸º)ï¼Œé‚£ä¹ˆå’Œå…ˆå‰çš„è®¾å€¼ä¸€æ ·ï¼Œä¼šæŒ‰_&amp;lt;key&amp;gt;,_is&amp;lt;Key&amp;gt;,&amp;lt;key&amp;gt;,is&amp;lt;Key&amp;gt;çš„é¡ºåºæœç´¢æˆå‘˜å˜é‡åï¼Œè¿™é‡Œä¸æ¨èè¿™ä¹ˆåšï¼Œå› ä¸ºè¿™æ ·ç›´æ¥è®¿é—®å®ä¾‹å˜é‡ç ´åäº†å°è£…æ€§ï¼Œä½¿ä»£ç æ›´è„†å¼±ã€‚å¦‚æœé‡å†™äº†ç±»æ–¹æ³•&#43; (BOOL)accessInstanceVariablesDirectlyè¿”å›NOçš„è¯ï¼Œé‚£ä¹ˆä¼šç›´æ¥è°ƒç”¨valueForUndefinedKey:
  è¿˜æ²¡æœ‰æ‰¾åˆ°çš„è¯ï¼Œè°ƒç”¨valueForUndefinedKey:
  KeyPath ä¸€ä¸ªç±»çš„æˆå‘˜å˜é‡æœ‰å¯èƒ½æ˜¯è‡ªå®šä¹‰ç±»æˆ–å…¶ä»–çš„å¤æ‚æ•°æ®ç±»å‹ï¼Œå¯ä»¥å…ˆç”¨KVCè·å–è¯¥å±æ€§ï¼Œç„¶åå†æ¬¡ç”¨KVCæ¥è·å–è¿™ä¸ªè‡ªå®šä¹‰ç±»çš„å±æ€§ï¼Œä½†è¿™æ ·æ˜¯æ¯”è¾ƒç¹ççš„ã€‚å› æ­¤ï¼ŒKVCæä¾›äº†ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼Œé‚£å°±æ˜¯é”®è·¯å¾„keyPathã€‚
KeyPathï¼Œè¡¨ç¤ºé”®è·¯å¾„ï¼Œæ˜¯ä¸€ä¸ªç”±ç‚¹ä½œåˆ†éš”ç¬¦çš„é”®ç»„æˆçš„å­—ç¬¦ä¸²ï¼ˆç‚¹è¯­æ³•ï¼‰ï¼Œç”¨äºè¡¨ç¤ºä¸€ä¸ªè¿æ¥åœ¨ä¸€èµ·çš„å¯¹è±¡åºåˆ—ã€‚å…¶ä¸­ï¼Œåä¸€ä¸ªé”®çš„æ€§è´¨æ˜¯ç”±å‰ä¸€ä¸ªé”®çš„æ€§è´¨å†³å®šçš„ï¼ˆå¦‚åŒç°ä»£é¢å‘å¯¹è±¡è¯­è¨€å–æˆå‘˜ï¼‰ã€‚æ‰€ä»¥ï¼ŒKVCå¯¹äºkeyPathæ˜¯æœç´¢æœºåˆ¶ç¬¬ä¸€æ­¥å°±æ˜¯åˆ†ç¦»keyï¼Œç”¨å°æ•°ç‚¹.æ¥åˆ†å‰²keyï¼Œç„¶åå†åƒæ™®é€škeyä¸€æ ·æŒ‰ç…§å…ˆå‰ä»‹ç»çš„é¡ºåºæœç´¢ä¸‹å»ã€‚
æœ‰äº†é”®è·¯å¾„ï¼Œå°±å¯ä»¥ä¸é€šè¿‡ç›¸åº”çš„æ–¹æ³•æ¥ç›´æ¥å–ç›¸å…³çš„æ€§è´¨ï¼ˆå±æ€§/æ–¹æ³•ï¼‰ã€‚é€šè¿‡é”®è·¯å¾„ï¼Œå¯ä»¥æŒ‡å®šå¯¹è±¡ä¸­çš„ä¸€ä¸ªä»»æ„æ·±åº¦çš„è·¯å¾„ï¼Œä½¿å…¶æŒ‡å‘ç›¸å…³å¯¹è±¡çš„ç‰¹å®šå±æ€§ã€‚
- (nullable id)valueForKeyPath:(NSString *)keyPath; //é€šè¿‡KeyPathæ¥å–å€¼ - (void)setValue:(nullable id)value forKeyPath:(NSString *)keyPath; //é€šè¿‡KeyPathæ¥è®¾å€¼ ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼š
@interface Address : NSObject @end @interface Address() @property (nonatomic,copy)NSString* country; @end @implementation Address @end @interface People : NSObject @end @interface People() @property (nonatomic,copy) NSString* name; @property (nonatomic,strong) Address* address; @property (nonatomic,assign) NSInteger age; @end @implementation People @end int main(int argc, const char * argv[]) { @autoreleasepool { People* people1 = [People new]; Address* addr = [Address new]; addr.country = @&amp;#34;China&amp;#34;; people1.address = addr; NSString* country1 = people1.address.country; NSString * country2 = [people1 valueForKeyPath:@&amp;#34;address.country&amp;#34;]; NSLog(@&amp;#34;country1:%@ country2:%@&amp;#34;,country1,country2); [people1 setValue:@&amp;#34;USA&amp;#34; forKeyPath:@&amp;#34;address.country&amp;#34;]; country1 = people1.address.country; country2 = [people1 valueForKeyPath:@&amp;#34;address.country&amp;#34;]; NSLog(@&amp;#34;country1:%@ country2:%@&amp;#34;,country1,country2); } return 0; } //æ‰“å°ç»“æœ 2020-02-15 11:13:48.223700&#43;0800 test[54340:3105892] country1:China country2:China 2020-02-15 11:13:48.224670&#43;0800 test[54340:3105892] country1:USA country2:USA å¼‚å¸¸å¤„ç† KVCä¸­æœ€å¸¸è§çš„å¼‚å¸¸å°±æ˜¯ä¸å°å¿ƒä½¿ç”¨äº†é”™è¯¯çš„keyï¼Œæˆ–è€…åœ¨è®¾ç½®å€¼çš„æ—¶å€™ä¸å°å¿ƒä¼ é€’äº†nilã€‚å¦‚æœä¸å°å¿ƒä¼ é€’äº†nilå€¼ï¼ŒKVCä¼šè°ƒç”¨setNilValueForKey:æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•é»˜è®¤æ˜¯æŠ›å‡ºå¼‚å¸¸ï¼Œæ‰€ä»¥ä¸€èˆ¬è€Œè¨€è¿˜æ˜¯é‡å†™è¿™ä¸ªæ–¹æ³•ï¼š
@implementation People -(void)setNilValueForKey:(NSString *)key{ NSLog(@&amp;#34;ä¸èƒ½å°†%@è®¾æˆnil&amp;#34;,key); } @end éå¯¹è±¡å’Œè‡ªå®šä¹‰å¯¹è±¡ ä¸æ˜¯æ¯ä¸€ä¸ªæ–¹æ³•éƒ½è¿”å›å¯¹è±¡ï¼Œä½†æ˜¯valueForKeyï¼šæ€»æ˜¯è¿”å›ä¸€ä¸ªidå¯¹è±¡ã€‚å¦‚æœåŸæœ¬çš„å˜é‡ç±»å‹æ˜¯å€¼ç±»å‹æˆ–è€…ç»“æ„ä½“ï¼Œè¿”å›å€¼ä¼šå°è£…æˆNSNumberæˆ–è€…NSValueå¯¹è±¡ã€‚è¿™ä¸¤ä¸ªç±»ä¼šå¤„ç†ä»æ•°å­—ï¼Œå¸ƒå°”å€¼åˆ°æŒ‡é’ˆå’Œç»“æ„ä½“çš„ä»»ä½•ç±»å‹ã€‚ç„¶åï¼Œå¦‚æœéœ€è¦ä½¿ç”¨çš„è¯ï¼Œéœ€æ‰‹åŠ¨è½¬æ¢æˆåŸæ¥çš„ç±»å‹ã€‚å°½ç®¡valueForKeyä¼šè‡ªåŠ¨å°†å€¼ç±»å‹å°è£…æˆå¯¹è±¡ï¼Œä½†æ˜¯setValueï¼šforKeyï¼šå´ä¸è¡Œã€‚å¿…é¡»æ‰‹åŠ¨å°†å€¼ç±»å‹è½¬æ¢æˆNSNumberæˆ–è€…NSValueç±»å‹ï¼Œæ‰èƒ½ä¼ é€’è¿‡å»ã€‚
Address* add2 = [Address new]; add2.country = @&amp;#34;England&amp;#34;; [people1 setValue:add2 forKey:@&amp;#34;address&amp;#34;]; NSString* country1 = people1.address.country; NSString * country2 = [people1 valueForKeyPath:@&amp;#34;address.country&amp;#34;]; NSLog(@&amp;#34;country1:%@ country2:%@&amp;#34;,country1,country2); ç¼ºç‚¹   ä¸€æ—¦ä½¿ç”¨KVCï¼Œç¼–è¯‘å™¨å°†æ— æ³•æ£€æŸ¥å‡ºé”™è¯¯ï¼Œå³ä¸ä¼šå¯¹è®¾ç½®çš„é”®ã€é”®è·¯å¾„è¿›è¡Œé”™è¯¯æ£€æŸ¥ã€‚
  æ‰§è¡Œæ•ˆç‡è¦ä½äºåˆæˆå­˜å–å™¨æ–¹æ³•å’Œè‡ªå®šä¹‰çš„setterå’Œgetteræ–¹æ³•ã€‚æ•ˆç‡ä½çš„åŸå› æ˜¯ä½¿ç”¨KVCé”®å€¼ç¼–ç ï¼Œå®ƒå¿…é¡»å…ˆè§£æå­—ç¬¦ä¸²ï¼Œç„¶ååœ¨è®¾ç½®æˆ–è€…è®¿é—®å¯¹è±¡çš„å®ä¾‹å˜é‡ã€‚
  KVCçš„ä½¿ç”¨ KVCåœ¨iOSå¼€å‘ä¸­æ˜¯ç»ä¸å¯å°‘çš„åˆ©å™¨ï¼Œè¿™ç§åŸºäºè¿è¡Œæ—¶çš„ç¼–ç¨‹æ–¹å¼æå¤§åœ°æé«˜äº†çµæ´»æ€§ï¼Œç®€åŒ–äº†ä»£ç ï¼Œä¸‹é¢æ¥åˆ—ä¸¾iOSå¼€å‘ä¸­KVCçš„ä½¿ç”¨åœºæ™¯ã€‚
åŠ¨æ€çš„å–å€¼å’Œè®¾å€¼ ä¸Šé¢å¾ˆå¤šä¾‹å­å°±æ˜¯ä½¿ç”¨KVCåŠ¨æ€åœ°å–å€¼å’Œè®¾å€¼ï¼Œè¿™æ˜¯æœ€åŸºæœ¬çš„ç”¨é€”äº†ï¼Œæ¯ä¸€ä¸ªiOS developeréƒ½åº”è¯¥è¦æŒæ¡ã€‚
è®¿é—®ç§æœ‰æˆå‘˜ å¯¹äºç±»ä¸­çš„ç§æœ‰æˆå‘˜ï¼ŒOCæ˜¯æ— æ³•ç›´æ¥è®¿é—®çš„ï¼Œä½†æ˜¯KVCæ˜¯å¯ä»¥çš„ï¼Œå¯ä»¥å‚è€ƒå‰é¢Dogçš„ä¾‹å­ã€‚
Modelå’Œå­—å…¸çš„ç›¸äº’è½¬æ¢ Modelå’Œå­—å…¸çš„ç›¸äº’è½¬æ¢ï¼Œå…·ä½“å‚è€ƒã€‚å……åˆ†åœ°è¿ç”¨äº†KVCå’ŒRuntimeç»„åˆçš„æŠ€å·§ï¼Œåªç”¨äº†çŸ­çŸ­æ•°è¡Œä»£ç å°±æ˜¯å®Œæˆäº†å¾ˆå¤šåŠŸèƒ½ã€‚
ä¿®æ”¹ä¸€äº›æ§ä»¶çš„å†…éƒ¨å±æ€§ ä¼—æ‰€å‘¨çŸ¥å¾ˆå¤šUIæ§ä»¶éƒ½ç”±å¾ˆå¤šå†…éƒ¨UIæ§ä»¶ç»„åˆè€Œæˆçš„ï¼Œä½†æ˜¯Appleæ²¡æœ‰æä¾›è¿™è®¿é—®è¿™äº›æ§ä»¶çš„APIï¼Œè¿™æ ·æˆ‘ä»¬å°±æ— æ³•æ­£å¸¸åœ°è®¿é—®å’Œä¿®æ”¹è¿™äº›æ§ä»¶çš„æ ·å¼ã€‚è€ŒKVCåœ¨å¤§å¤šæ•°æƒ…å†µå¯ä¸‹å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæœ€å¸¸ç”¨çš„å°±æ˜¯ä¸ªæ€§åŒ–UITextFieldä¸­çš„placeHolderTextäº†ã€‚ä¸‹é¢æ¼”ç¤ºå¦‚æœä¿®æ”¹placeHolderçš„æ–‡å­—æ ·å¼ã€‚è¿™é‡Œçš„å…³é”®ç‚¹æ˜¯å¦‚ä½•è·å–è¦ä¿®æ”¹çš„æ ·å¼çš„å±æ€§åï¼Œä¹Ÿå°±æ˜¯keyæˆ–è€…keyPathï¼š
let count:UnsafeMutablePointer&amp;lt;UInt32&amp;gt; = UnsafeMutablePointer&amp;lt;UInt32&amp;gt;() var properties = class_copyIvarList(UITextField.self, count) while properties.memory.debugDescription != &amp;#34;0x0000000000000000&amp;#34;{ let t = ivar_getName(properties.memory) let n = NSString(CString: t, encoding: NSUTF8StringEncoding) print(n) //æ‰“å°å‡ºæ‰€æœ‰å±æ€§ï¼Œè¿™é‡Œæˆ‘ç”¨äº†Swiftè¯­è¨€  properties = properties.successor() } //ä¸Šé¢çœç•¥äº†éƒ¨åˆ†å±æ€§ Optional(_disabledBackgroundView) Optional(_systemBackgroundView) Optional(_floatingContentView) Optional(_contentBackdropView) Optional(_fieldEditorBackgroundView) Optional(_fieldEditorEffectView) Optional(_displayLabel) Optional(_placeholderLabel) //è¿™ä¸ªæ­£æ˜¯æˆ‘æƒ³è¦ä¿®æ”¹çš„å±æ€§ã€‚ Optional(_dictationLabel) Optional(_suffixLabel) Optional(_prefixLabel) Optional(_iconView) //ä¸‹é¢çœç•¥äº†éƒ¨åˆ†å±æ€§ æ“ä½œé›†åˆ Appleå¯¹KVCçš„valueForKey:æ–¹æ³•ä½œäº†ä¸€äº›ç‰¹æ®Šçš„å®ç°ï¼Œæ¯”å¦‚è¯´NSArrayå’ŒNSSetè¿™æ ·çš„å®¹å™¨ç±»å°±å®ç°äº†è¿™äº›æ–¹æ³•ï¼Œæ‰€ä»¥å¯ä»¥ç”¨KVCå¾ˆæ–¹ä¾¿åœ°æ“ä½œé›†åˆã€‚
é«˜é˜¶æ¶ˆæ¯ä¼ é€’ å½“å¯¹å®¹å™¨ç±»ä½¿ç”¨KVCæ—¶ï¼ŒvalueForKey:å°†ä¼šè¢«ä¼ é€’ç»™å®¹å™¨ä¸­çš„æ¯ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œä¸æ˜¯å®¹å™¨æœ¬èº«è¿›è¡Œæ“ä½œã€‚ç»“æœä¼šè¢«æ·»åŠ è¿›è¿”å›çš„å®¹å™¨ä¸­ã€‚è¿™æ ·ï¼Œå¼€å‘è€…å¯ä»¥å¾ˆæ–¹ä¾¿çš„æ“ä½œé›†åˆæ¥è¿”å›å¦ä¸€ä¸ªé›†åˆã€‚
NSArray* arrStr = @[@&amp;#34;english&amp;#34;,@&amp;#34;franch&amp;#34;,@&amp;#34;chinese&amp;#34;]; NSArray* arrCapStr = [arrStr valueForKey:@&amp;#34;capitalizedString&amp;#34;]; for (NSString* str in arrCapStr) { NSLog(@&amp;#34;%@&amp;#34;,str); } NSArray* arrCapStrLength = [arrStr valueForKeyPath:@&amp;#34;capitalizedString.length&amp;#34;]; for (NSNumber* length in arrCapStrLength) { NSLog(@&amp;#34;%ld&amp;#34;,(long)length.integerValue); } //ç»“æœ 2020-02-15 13:08:35.863142&#43;0800 test[55706:3138103] English 2020-02-15 13:08:35.863904&#43;0800 test[55706:3138103] Franch 2020-02-15 13:08:35.863924&#43;0800 test[55706:3138103] Chinese 2020-02-15 13:08:35.864765&#43;0800 test[55706:3138103] 7 2020-02-15 13:08:35.864805&#43;0800 test[55706:3138103] 6 2020-02-15 13:08:35.864820&#43;0800 test[55706:3138103] 7 æ–¹æ³•capitalizedStringè¢«ä¼ é€’åˆ°NSArrayä¸­çš„æ¯ä¸€é¡¹ã€‚NSArrayçš„æ¯ä¸€å‘˜éƒ½ä¼šæ‰§è¡ŒcapitalizedStringå¹¶è¿”å›ä¸€ä¸ªåŒ…å«ç»“æœçš„æ–°çš„NSArrayã€‚
å‚è€ƒèµ„æ–™ å‚è€ƒèµ„æ–™
</content>
    </entry>
    
     <entry>
        <title>å·¥å…·ä½¿ç”¨å¤‡å¿˜å½•</title>
        <url>https://iihui.github.io/post/tool-usage/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>vs</tag>
        </tags>
        <content type="html">  ä½¿ç”¨Macæ—¶å€™ä¼šå®‰è£…å„ç§å·¥å…·ï¼Œä¾‹å¦‚Visual Studio Codeï¼ŒXCodeï¼Œitemr2ï¼ŒAppCodeç­‰ç­‰ã€‚åœ¨è¿™äº›å·¥å…·çš„ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œç»å¸¸ä¹Ÿä¼šé‡åˆ°ä¸€äº›é—®é¢˜ï¼ŒæŸ¥äº†ä¹‹åå®¹æ˜“å¿˜è®°ï¼Œä»¥æ­¤ä¸ºè®°ï¼Œä»¥æœŸèŠ‚çœæ—¶é—´ã€‚
 Visual Studio Code åˆ—æ¨¡å¼ å¿«æ·é”®ä¸ºshift &#43; option &#43; å•å‡»ï¼Œå³å¯å¼€å¯åˆ—æ¨¡å¼ï¼Œç„¶åé¼ æ ‡æ‹–åŠ¨ï¼Œå³å¯é€‰æ‹©èŒƒå›´ï¼š
ç”Ÿæˆhtmlæ¨¡ç‰ˆ é¦–å…ˆæ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œä¿å­˜ä¸ºåç¼€ä¸ºhtmlï¼Œç„¶åè¾“å…¥!,å†é”®å…¥Tabï¼Œåˆ™å¯æŒ‰æç¤ºç”Ÿæˆhtmlæ¨¡ç‰ˆæ–‡ä»¶ã€‚
AppCode åˆ—æ¨¡å¼ ç›´æ¥æŒ‰ä½optionå³å¯è¿›å…¥åˆ—é€‰æ‹©æ¨¡å¼ï¼Œç„¶åæ‹–åŠ¨é¼ æ ‡ï¼Œå³å¯é€‰æ‹©ç›¸åº”çš„èŒƒå›´ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º:
iterm2 è®¾ç½®ä¸ºé»˜è®¤ç»ˆç«¯ å› ä¸ºç»å¸¸ä½¿ç”¨iterm2ï¼Œæ‰€ä»¥æƒ³å°†å…¶è®¾ç½®ä¸ºé»˜è®¤çš„ç»ˆç«¯ï¼Œè¿˜å¥½iterm2æœ¬èº«æ”¯æŒä¿®æ”¹ï¼Œåªè¦åœ¨åº”ç”¨çš„èœå•æ ï¼Œç‚¹å‡»Make Iterm2 to default Termå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
å¸¸ç”¨å¿«æ·é”®   CMD&#43;D çºµå‘å°†å½“å‰çª—å£åˆ†ä¸ºå¤§å°ç›¸åŒçš„ä¸¤ä¸ªçª—å£
  SHIFT&#43;CMD&#43;D æ¨ªè¡Œå°†å½“å‰çª—å£åˆ†ä¸ºå¤§å°ç›¸åŒçš„ä¸¤ä¸ªçª—å£
  homebrew æ›¿æ¢æº ä½¿ç”¨homebrewå®‰è£…è½¯ä»¶æ—¶ï¼Œé»˜è®¤ä¼šå…ˆè¿›è¡Œæ›´æ–°ï¼Œç”±äºå›½å†…è®¿é—®è®¿é—®githubä¸ç¨³å®šï¼Œå¯¼è‡´æ›´æ–°çš„æ—¶å€™ç‰¹åˆ«æ…¢ã€‚å¯è¡Œçš„æ–¹æ³•æ˜¯æ›¿æ¢æºï¼Œå¯¹äºhomebrewè€Œè¨€ï¼Œéœ€è¦æ›¿æ¢4ä¸ªæ¨¡å—çš„é•œåƒï¼š
 Homebrew Homebrew Core Homebrew Cask Homebrew-bottles  æœ€å…¨çš„æ˜¯ä¸­ç§‘å¤§é•œåƒï¼Œå…¶ä»–å®¶éƒ½ç¼ºå°‘ç¬¬4ä¸ªï¼Œæ‰€ä»¥æ¢äº†å‰ä¸‰ä¸ªåï¼Œæ‰§è¡Œbrew updateä¾ç„¶å¾ˆæ…¢ï¼Œå…·ä½“æ›¿æ¢æ–¹å¼å¦‚ä¸‹ï¼š
# æ›¿æ¢ Homebrew git -C &amp;#34;$(brew --repo)&amp;#34; remote set-url origin https://mirrors.ustc.edu.cn/brew.git # æ›¿æ¢ Homebrew Core git -C &amp;#34;$(brew --repo homebrew/core)&amp;#34; remote set-url origin https://mirrors.ustc.edu.cn/homebrew-core.git # æ›¿æ¢ Homebrew Cask git -C &amp;#34;$(brew --repo homebrew/cask)&amp;#34; remote set-url origin https://mirrors.ustc.edu.cn/homebrew-cask.git # æ›¿æ¢ Homebrew-bottles # å¯¹äº bash ç”¨æˆ·ï¼š echo &amp;#39;export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.ustc.edu.cn/homebrew-bottles&amp;#39; &amp;gt;&amp;gt; ~/.bash_profile source ~/.bash_profile # å¯¹äº zsh ç”¨æˆ·ï¼š echo &amp;#39;export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.ustc.edu.cn/homebrew-bottles&amp;#39; &amp;gt;&amp;gt; ~/.zshrc source ~/.zshrc å‚è€ƒèµ„æ–™
 ideviceinstaller å®‰è£…App ä½¿ç”¨ideviceinstallerå®‰è£…Appï¼Œè‹¥Macä¸Šåªè¿äº†ä¸€å°æ‰‹æœºï¼Œç›´æ¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š
ideviceinstaller -i xxx.ipa å¦‚æœè¿æ¥äº†å¤šéƒ¨æ‰‹æœºï¼Œéœ€è¦æ›´åŠ è®¾å¤‡çš„UDIDæ¥åŒºåˆ†ï¼Œåˆ™ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š
ideviceinstaller -u xxx -i xxx.ipa å¦‚æœè¦æŸ¥çœ‹è¿æ¥åˆ°ç”µè„‘ä¸Šçš„æ‰€æœ‰æ‰‹æœºçš„UDIDï¼Œéœ€è¦ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š
idevice_id -l å¦‚æœè¦æŸ¥çœ‹è¯¦ä¿¡æ¯ï¼Œéœ€è¦ç”¨åˆ°ideviceinfoå‘½ä»¤ï¼Œä¸‹é¢çš„-sé€‰é¡¹è¡¨ç¤ºåªæ˜¯å±•ç¤ºä¸€äº›ç®€å•çš„ä¿¡æ¯ï¼š
ideviceinfo -s æŸ¥çœ‹å®‰è£…çš„App å¦‚æœè¦æŸ¥çœ‹æ‰‹æœºå®‰è£…çš„ç¬¬ä¸‰æ–¹Appï¼Œåˆ™ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š
ideviceinstaller -l å¸è½½åº”ç”¨ ideviceinstaller -u [udid] -U [bundleId]  wordé»˜è®¤è¯­è¨€ defaults write com.microsoft.Word AppleLanguages &amp;#39;(&amp;#34;zh-cn&amp;#34;)&amp;#39; defaults write com.microsoft.Powerpoint AppleLanguages &amp;#39;(&amp;#34;zh-cn&amp;#34;)&amp;#39; defaults write com.microsoft.Excel AppleLanguages &amp;#39;(&amp;#34;zh-cn&amp;#34;)&amp;#39; </content>
    </entry>
    
     <entry>
        <title>é£ä¹¦ç‰¹è‰²åŠŸèƒ½</title>
        <url>https://iihui.github.io/post/ios-feishu/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html">  é£ä¹¦æŠŠæ›´å¤šçš„éœ€æ±‚ä¼˜åŒ–å€¾å‘äºå›¢é˜Ÿæˆå‘˜ï¼Œè€Œä¸æ˜¯ç®¡ç†è€…ã€‚æ‰€ä»¥å®ƒä»¥ã€Œå³æ—¶æ²Ÿé€šã€ä¸ºä¸­å¿ƒï¼Œå°†åœ¨çº¿æ–‡æ¡£ã€äº‘ç›˜ã€æ—¥å†ç­‰åŠŸèƒ½å…¨éƒ¨æ•´åˆåœ¨ä¸€èµ·ã€‚ ä¾‹å¦‚ï¼Œå¯ä»¥åœ¨IMï¼ˆå³æ—¶é€šè®¯ï¼‰ç•Œé¢ç›´æ¥åˆ›å»ºæ–‡æ¡£ï¼Œå…±åŒç¼–è¾‘ï¼Œä¹Ÿå¯ä»¥åœ¨æ–‡æ¡£ä¸­è¿›ä¸€æ­¥è®¨è®ºç»†èŠ‚é—®é¢˜ï¼›æˆ–æ˜¯å‘èµ·ä¸€ä¸ªæ—¥ç¨‹ï¼Œåœ¨æ—¥ç¨‹ä¸­ç›´æ¥åˆ›å»ºä¸€ä¸ªæ‰§è¡Œç¾¤ç»„ç­‰ç­‰ã€‚è¿™æ˜¯ä¸€å¥—å›´ç»•å·¥ä½œæœ¬èº«è€Œå±•å¼€çš„æµåŠ¨ç³»ç»Ÿï¼Œæ›´åŠ ç¬¦åˆæ‰å¹³åŒ–ç®¡ç†æ¨¡å¼ã€‚
@ç¬¦å· åœ¨ä¼ ç»Ÿçš„IMå·¥å…·é‡Œï¼Œ@ä¸€ç›´æ˜¯ä¸ªæ ‡å¿—æ€§ç¬¦å·ï¼Œä½ å¯ä»¥ç”¨å®ƒæ¥æåŠæŸä¸ªäººï¼Œæˆ–è€…è®©è‡ªå·±çš„å‘è¨€æŒ‡å‘æŸä¸ªå…·ä½“å¯¹è±¡ã€‚ä½†åœ¨é£ä¹¦çš„æ–‡æ¡£åŠŸèƒ½é‡Œï¼Œ@ ç¬¦å·å˜æˆäº†èƒ½å¤Ÿå¿«é€Ÿæ’å…¥å„ç§æ–‡æ¡£å…ƒç´ çš„å¯åŠ¨å™¨ï¼Œè®©ä½ å¯ä»¥åœ¨è¾“å…¥æ–‡å­—æ—¶ä»¥æœ€å°‘çš„æ“ä½œæ­¥éª¤å°†æ–‡ä»¶ã€è¡¨æ ¼ã€è§†é¢‘ç­‰å…ƒç´ æ¤å…¥æ–‡æ¡£ã€‚
åœ¨é£ä¹¦æ–‡æ¡£é‡Œï¼Œè¾“å…¥@ç¬¦å·å°±èƒ½ç¬é—´è°ƒèµ·æ¨¡å—æ’å…¥åŠŸèƒ½ï¼Œæ— è®ºæ˜¯æåŠIMé‡Œçš„åŒäº‹ã€æ’å…¥ç¾¤åç‰‡ç”šè‡³æåŠå¤–éƒ¨åˆä½œä¼™ä¼´ï¼Œè¿˜æ˜¯æ’å…¥äº‘ç©ºé—´çš„æ–‡ä»¶ã€è¡¨æ ¼ã€æŠ•ç¥¨ã€è§†é¢‘ã€åœ°å›¾ç­‰ç½‘é¡µå…ƒç´ ï¼Œéƒ½èƒ½ç«‹åˆ»å®Œæˆï¼Œä¸å¿…åœ¨å·¥å…·æ é‡Œå¯»æ‰¾å’Œç‚¹æŒ‰ã€‚
IMå³æ—¶æ¶ˆæ¯ ç¾¤ä¸­å‘æ¶ˆæ¯å¯ä»¥çœ‹æ‰€æœ‰æˆå‘˜æŸ¥çœ‹çŠ¶æ€ å¾€ç¾¤é‡Œå‘æ¶ˆæ¯ä¹‹åï¼Œå‘é€æ¶ˆæ¯çš„äººå¯ä»¥æŸ¥çœ‹ç¾¤é‡Œå…¶ä»–æˆå‘˜æŸ¥çœ‹è¿™æ¡æ¶ˆæ¯çš„é˜…è¯»çŠ¶æ€ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
ç¾¤ä¸­æ–°æˆå‘˜å¯çœ‹æ—§æ¶ˆæ¯ åœ¨å·²æœ‰çš„å·¥ä½œç¾¤æ‹‰å…¥æ–°æˆå‘˜æ—¶ï¼Œæ–°æˆå‘˜å…¥ç¾¤åä¹Ÿèƒ½å¤Ÿçœ‹åˆ°æ­¤å‰çš„ç¾¤æ¶ˆæ¯ï¼Œä¸éœ€è¦å†å°†ä¹‹å‰çš„å·¥ä½œå®‰æ’ä»å¤´é‡æ–°æˆªå›¾æˆ–è€…è½¬å‘ä¸€æ¬¡ï¼Œå‡å°‘æ¶ˆæ¯é‡å å’Œå†—ä½™ã€‚
å¿«æ·å›å¤ä¸åˆ·å± å¯¹äºæŸæ¡æ¶ˆæ¯æ˜¯åœ¨å¾æ±‚æ„è§çš„æ—¶å€™ï¼Œæ”¶åˆ°æ¶ˆæ¯çš„äººé•¿æŒ‰è¿™æ¡æ¶ˆæ¯å¯ä»¥å›å¤ï¼Œæ²¡æœ‰é—®é¢˜çš„äººå¯ä»¥ç›´æ¥ä»¥å¿«æ·é”®ã€ŒOKã€æˆ–è€… ã€Œç‚¹èµã€å›å¤ï¼Œæœ‰é—®é¢˜çš„äººåˆ™å¯ä»¥é’ˆå¯¹è¿™æ¡æ¶ˆæ¯è¿›è¡Œå›å¤ï¼Œæ‰€æœ‰çš„è¯é¢˜éƒ½å¯ä»¥ä¸²è”åœ¨ä¸€èµ·è¿½æº¯ï¼Œé¿å…åˆ·å±ã€‚
èšç„¦æ¶ˆæ¯ä¸² IMåœ¨ç¾¤èŠæ—¶æœ€å¤§çš„é—®é¢˜å°±æ˜¯æ— æ³•ç²¾å‡†å›å¤ï¼Œå½“ç¾¤é‡Œä¸åŒæˆå‘˜åœ¨è®²ä¸åŒä¸»é¢˜çš„å†…å®¹æ—¶ï¼Œç›´æ¥å›å¤å¸¸å¸¸å®¹æ˜“èŠä¸²ï¼Œå¯¼è‡´ç¾¤è®¨è®ºè¶ŠèŠè¶Šä¹±ã€‚åœ¨é£ä¹¦ä¸­ï¼Œã€Œæ¶ˆæ¯ä¸²ã€å¯ä»¥å¾ˆå¥½åœ°è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å½“ä½ éœ€è¦å›å¤æŸä¸ªç¾¤æˆå‘˜çš„å‘è¨€æ—¶ï¼Œåªéœ€è¦ç›´æ¥åœ¨å…¶å‘è¨€ä¸Šä½¿ç”¨å›å¤åŠŸèƒ½ï¼ŒåŒæ–¹çš„è®¨è®ºå°±ä¼šè‡ªç„¶å½¢æˆä¸€ä¸ªã€Œæ¶ˆæ¯ä¸²ã€ï¼Œèšç„¦è¦ç‚¹ã€‚ç‚¹å‡»æ¶ˆæ¯ï¼Œå³ä¾§è¿˜èƒ½è‡ªåŠ¨æ˜¾ç¤ºæ•´ä¸ªæ¶ˆæ¯ä¸²ä¸­çš„å†…å®¹ï¼Œæ–¹ä¾¿å›æº¯ä¸Šä¸‹æ–‡ï¼š
å›åˆ°æœ€åçœ‹æœ€æ–°æ¶ˆæ¯ æ¶ˆæ¯åˆ—è¡¨è¾ƒé•¿æ—¶ï¼Œä¸‹æ‹‰æ—¶ä¼šæ‚¬æµ®æ˜¾ç¤ºå›åˆ°æœ€åæŒ‰é’®ï¼š åœ¨çº¿æ–‡æ¡£ é£ä¹¦çš„åœ¨çº¿æ–‡æ¡£å¯ä»¥ä½œä¸ºæ–‡æ¡£ä¸­è½¬ç«™ï¼Œå°†å…¶ç¬¬ä¸‰æ–¹çš„æ–‡ä»¶å¯¼å…¥åˆ°äº‘ç©ºé—´ã€‚ä¹Ÿå¯ä»¥å°†äº‘æ–‡æ¡£åˆ†å‘ç»™ç¬¬ä¸‰æ–¹åº”ç”¨ã€‚é‚€è¯·é‚€è¯·ä¼™ä¼´è¿›å…¥æ–‡æ¡£åä½œä¹‹åï¼Œå„ä¸ªä¼™ä¼´å¯ä»¥ä¿®æ”¹ã€æ‰¹æ³¨ã€è¯„è®ºç­‰ã€‚
æ–‡æ¡£ä¸­è½¬ç«™ å½“æ”¶åˆ°ä»»ä½•éœ€è¦å¤‡ä»½çš„æ–‡ä»¶æ—¶ï¼Œéƒ½å¯ä»¥å°†å…¶å¯¼å…¥é£ä¹¦çš„ä¸ªäººç©ºé—´éšæ—¶æŸ¥çœ‹ï¼Œä¸ç”¨å†æ‹…å¿ƒæŠŠæ–‡ä»¶æä¸¢ã€‚åŒæ—¶ï¼Œæ–‡ä»¶è¿˜å¯ä»¥æ–¹ä¾¿åœ°åˆ†äº«ç»™é£ä¹¦é‡Œçš„åŒäº‹å¼€å¯åä½œï¼Œè®©å¤–éƒ¨æ–‡ä»¶æ— ç¼èå…¥å·¥ä½œæµã€‚ä¾‹å¦‚åœ¨ä½¿ç”¨å¾®ä¿¡æ—¶ï¼Œç‚¹å‡»ã€Œç”¨å…¶å®ƒåº”ç”¨æ‰“å¼€ã€- é€‰æ‹©ã€Œé£ä¹¦ã€- ã€Œå‘é€ç»™è‡ªå·±ã€ï¼Œæœ€åç‚¹å‡»ã€Œä¿å­˜åˆ°äº‘ç©ºé—´ã€å³å¯ã€‚
å¤–éƒ¨åä½œ æ‰€æœ‰æ–‡æ¡£éƒ½å¯ä»¥åˆ†äº«ç»™ç¬¬ä¸‰æ–¹ï¼Œç”¨äºåä½œå’Œæ¶ˆæ¯äº’é€šã€‚è¿™ä¸ªåŠŸèƒ½æ›´æ–°å……åˆ†é‡Šæ”¾äº†é£ä¹¦æ–‡æ¡£ä½œä¸ºäº’è”ç½‘å·¥å…·çš„è¿æ¥å±æ€§ï¼Œå³ä½¿å¯¹æ–¹ä¸æ˜¯é£ä¹¦ç”¨æˆ·ï¼Œä¾ç„¶å¯ä»¥æ¥æ”¶å’ŒæŸ¥çœ‹æ–‡æ¡£ä¿¡æ¯ã€‚
æ–‡æ¡£åä½œ é£ä¹¦åœ¨çº¿æ–‡æ¡£å’ŒIMè¿›è¡Œäº†æ·±åº¦æ‰“é€šï¼Œåˆ›ä½œè€…å’Œè¯„è®ºè€…å¯ä»¥åœ¨æ–‡æ¡£ä¸­éšæ—¶@å‚ä¸äººï¼Œé‚€è¯·å¯¹æ–¹åŠ å…¥ç¼–è¾‘æˆ–è¯„è®ºï¼Œç”šè‡³ç›´æ¥é€šè¿‡@åˆ†é…å‚ä¸è€…çš„è§’è‰²å’Œå·¥ä½œï¼Œè¢«@çš„äººä¼šåœ¨IMä¸­å®æ—¶æ”¶åˆ°æ–‡æ¡£æ¶ˆæ¯å¹¶äº’åŠ¨ï¼Œå¯ä»¥å»ºç«‹æ²Ÿé€šé—­ç¯ã€‚
  å¯ä»¥åœ¨æ–‡æ¡£ä¸­@ç›¸å…³äººå‘˜ï¼Œè¯·ä»–å‚ä¸æŸä¸€ç»†èŠ‚è®¨è®ºï¼Œæˆ–æä¾›ååŠ©ï¼Œæˆ–å¯¹æ–‡æ¡£ç»™äºˆå…³æ³¨ï¼Œä»–å°±ä¼šåœ¨æ¶ˆæ¯ä¸­æ”¶åˆ°æé†’ï¼Œå®Œå…¨ä¸ç”¨æ‰“å¼€è¯¥æ–‡æ¡£ï¼Œå°±å¯ç›´æ¥åœ¨æ¶ˆæ¯æé†’é¡µè¿›è¡Œæ²Ÿé€š/ç¼–è¾‘ã€‚
  å°†æ–‡æ¡£åˆ†äº«åˆ°ç¾¤ç»„æ—¶ï¼Œå¯ä»¥è¿›è¡Œæƒé™ç®¡ç†ï¼Œé€‰æ‹©æˆäºˆç¾¤ç»„æˆå‘˜æŸ¥çœ‹/ç¼–è¾‘çš„æƒé™ï¼Œé¿å…å¤šç‰ˆæœ¬æ¥å›ä¿®æ”¹å¸¦æ¥çš„ä½æ•ˆå’Œæ··ä¹±ã€‚
  æ—¥å†  æ—¥å†ä¸å³æ—¶æ²Ÿé€šï¼Œåœ¨çº¿æ–‡æ¡£æ·±åº¦æ•´åˆï¼Œå¯ä»¥äº’ç›¸æŸ¥çœ‹å¿™é—²çŠ¶æ€ï¼Œä»è€Œåˆç†åˆ¶å®šæ—¥ç¨‹ã€‚
 è®¢é˜…æˆå‘˜æ—¥å† å½“ä½ ä¸ç¡®å®šéœ€è¦æ²Ÿé€šçš„é¢†å¯¼ã€åŒäº‹è¡Œç¨‹å’Œæ¡£æœŸæ—¶ï¼Œåªéœ€è®¢é˜…ä»–ä»¬çš„æ—¥å†ï¼Œå°±èƒ½å¯¹ä»–ä»¬ä½•æ—¶æœ‰ç©ºã€æ¡£æœŸå¦‚ä½•å®‰æ’ä¸€ç›®äº†ç„¶ï¼š
ä»ä¼šè®®é‚€çº¦åˆ›å»ºç¾¤èŠ å‘å‡ºä¼šè®®é‚€çº¦åï¼Œä¹Ÿå¯ä»¥ä¸€é”®åˆ›å»ºä¼šè®®ç¾¤èŠï¼Œå°†æ–‡æ¡£è¿›è¡Œå…±äº«ï¼Œä»¥ä¾¿åšå¥½ä¼šå‰å‡†å¤‡å’Œä¼šåæ€»ç»“ï¼Œå¯ä»¥åšåˆ°ä¸“ä¼šä¸“ç¾¤ã€å³ç”¨å³èµ°ï¼Œå¤§å¹…æå‡å¼€ä¼šæ•ˆç‡ï¼š
ä¼šè®®çºªè¦è‡ªåŠ¨ç”Ÿæˆ æ¯æ¬¡å¼€ä¼šéƒ½è¦å¡«å†™ä¸€äº›æ—¶é—´ã€åœ°ç‚¹ã€ä¸»é¢˜ã€å‚ä¼šäººä¹‹ç±»çš„åŸºç¡€ä¿¡æ¯ï¼Œä¸ä»…å†™èµ·æ¥å¾ˆéº»çƒ¦ï¼Œè€Œä¸”è¿™äº›ä¿¡æ¯éƒ½ä¸æ˜¯æ ¸å¿ƒå†…å®¹ï¼Œæ—¶é—´çš„æŠ•å…¥äº§å‡ºæ¯”å¾ˆä½ã€‚
é£ä¹¦æ‰“é€šäº†æ—¥ç¨‹å’Œæ–‡æ¡£ï¼Œå·§å¦™åœ°è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚åœ¨ä¼šè®®ç»“æŸåï¼Œåªéœ€è¦åœ¨æ—¥ç¨‹ä¸­é€‰æ‹©å½“å‰ä¼šè®®çš„ã€Œç”Ÿæˆä¼šè®®çºªè¦ã€åŠŸèƒ½ï¼Œç³»ç»Ÿå°±ä¼šè‡ªåŠ¨æŠ“å–ä¼šè®®çš„åŸºç¡€ä¿¡æ¯ï¼Œä¸ç”¨å†äººå·¥å¡«å†™ï¼š
è½¬è®©æ—¥ç¨‹ å½“æ—¥ç¨‹çš„ç»„ç»‡è€…å› ä¸ºæŸç§åŸå› ä¸èƒ½å®æ–½è¯¥æ—¥ç¨‹ï¼Œåˆ™å¯ä»¥å°†è¯¥æ—¥ç¨‹è½¬è®©ç»™å…¶ä»–äººï¼š
å…¨å±€å’Œè¿‡æ»¤æœç´¢ é£ä¹¦æ¶ˆæ¯é¡µçš„æœç´¢åŠŸèƒ½æ¯”è¾ƒå¼ºå¤§ï¼Œå¯ä»¥è¿›è¡Œå…¨å±€æœç´¢ï¼Œä¹Ÿå¯ä»¥è¿›è¡Œè¿‡æ»¤æœç´¢ï¼š
æœºå™¨äºº é£ä¹¦æä¾›äº†ç§ç±»ä¸°å¯Œçš„æœºå™¨äººï¼Œä¸»è¦åˆ†ä¸ºåŠ©æ‰‹å‹çš„æœºå™¨äººå’Œå¤–æ¥åŠŸèƒ½å‹çš„æœºå™¨äººã€‚åŠ©æ‰‹å‹æœºå™¨äººä¾¿äºåˆ†ç±»ç®¡ç†æ¶ˆæ¯ï¼›è¿˜æœ‰ä¸€ç±»å¤–æ¥åŠŸèƒ½å‹çš„æœºå™¨äººï¼Œå¯ä»¥å°†å¤–éƒ¨å·¥å…·é€šè¿‡æ¥å£æ¥å…¥åˆ°é£ä¹¦ï¼ˆè¯¦æƒ…è¯·æŸ¥çœ‹é£ä¹¦å®˜æ–¹æ–‡æ¡£ï¼‰ï¼š
 </content>
    </entry>
    
     <entry>
        <title>iOS å¯è§†åŒ–åŸ‹ç‚¹</title>
        <url>https://iihui.github.io/post/ios-log-point/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>iOS</tag><tag>oc</tag>
        </tags>
        <content type="html">  åŸ‹ç‚¹æ–¹æ¡ˆå¤§ä½“ä¸Šå¯ä»¥å½’ä¸º3ç±»ï¼šä»£ç åŸ‹ç‚¹ï¼Œå¯è§†åŒ–åŸ‹ç‚¹ï¼Œæ— åŸ‹ç‚¹ã€‚ä»£ç åŸ‹ç‚¹ï¼Œç”±å¼€å‘äººå‘˜åœ¨è§¦å‘äº‹ä»¶çš„å…·ä½“æ–¹æ³•é‡Œï¼Œæ¤å…¥å¤šè¡Œä»£ç æŠŠéœ€è¦ä¸Šä¼ çš„æ•°æ®å‘é€è‡³æœåŠ¡ç«¯ã€‚å¯è§†åŒ–åŸ‹ç‚¹ï¼Œæ ¹æ®æ ‡è¯†æ¥è¯†åˆ«æ¯ä¸€ä¸ªäº‹ä»¶ï¼Œé’ˆå¯¹æŒ‡å®šçš„äº‹ä»¶è¿›è¡Œå–å‚åŸ‹ç‚¹ã€‚è€Œäº‹ä»¶çš„æ ‡è¯†ä¸å‚æ•°ä¿¡æ¯éƒ½å†™åœ¨é…ç½®è¡¨ä¸­ï¼Œé€šè¿‡åŠ¨æ€ä¸‹å‘é…ç½®è¡¨æ¥å®ç°åŸ‹ç‚¹ç»Ÿè®¡ã€‚æ— åŸ‹ç‚¹ï¼Œæ— åŸ‹ç‚¹å¹¶ä¸æ˜¯ä¸éœ€è¦åŸ‹ç‚¹ï¼Œæ›´å‡†ç¡®çš„è¯´åº”è¯¥æ˜¯â€œå…¨åŸ‹ç‚¹â€ï¼Œå‰ç«¯çš„ä»»æ„ä¸€ä¸ªäº‹ä»¶éƒ½è¢«ç»‘å®šä¸€ä¸ªæ ‡è¯†ï¼Œæ‰€æœ‰çš„äº‹ä»¶éƒ½è¢«è®°å½•ä¸‹æ¥ã€‚é€šè¿‡å®šæœŸä¸Šä¼ è®°å½•æ–‡ä»¶ï¼Œé…åˆæ–‡ä»¶è§£æï¼Œè§£æå‡ºæƒ³è¦çš„æ•°æ®ï¼Œå¹¶ä»¥æ­¤ç”Ÿæˆå¯è§†åŒ–æŠ¥å‘Šä¾›ä¸“ä¸šäººå‘˜åˆ†æï¼Œå› æ­¤å®ç°æ— åŸ‹ç‚¹ç»Ÿè®¡ã€‚
 å¯è§†åŒ–åŸ‹ç‚¹ å¯è§†åŒ–åŸ‹ç‚¹å¹¶éå®Œå…¨æ‘’å¼ƒäº†ä»£ç åŸ‹ç‚¹ï¼Œè€Œæ˜¯åœ¨ä»£ç åŸ‹ç‚¹çš„ä¸Šå±‚å°è£…çš„ä¸€å¥—é€»è¾‘æ¥ä»£æ›¿æ‰‹å·¥åŸ‹ç‚¹ï¼Œå¤§ä½“ä¸Šæ¶æ„å¦‚ä¸‹å›¾ï¼š
è¦å®ç°å¯è§†åŒ–åŸ‹ç‚¹ä¹Ÿæœ‰å¾ˆå¤šé—®é¢˜éœ€è¦è§£å†³ï¼Œæ¯”å¦‚äº‹ä»¶å”¯ä¸€æ ‡è¯†çš„ç¡®å®šï¼Œä¸šåŠ¡å‚æ•°çš„è·å–ï¼Œæœ‰é€»è¾‘åˆ¤æ–­çš„åŸ‹ç‚¹é…ç½®é¡¹ä¿¡æ¯ç­‰ç­‰ã€‚
äº‹ä»¶å”¯ä¸€æ ‡è¯† å”¯ä¸€æ ‡è¯†çš„ç»„æˆæ–¹å¼ä¸»è¦æ˜¯ç”±target &#43; actionæ¥ç¡®å®šï¼Œå³ä»»ä½•ä¸€ä¸ªäº‹ä»¶éƒ½å­˜åœ¨ä¸€ä¸ªtargetä¸actionã€‚åœ¨æ­¤å¼•å…¥AOPç¼–ç¨‹ï¼ŒAOPï¼ˆAspect-Oriented-Programmingï¼‰å³é¢å‘åˆ‡é¢ç¼–ç¨‹çš„æ€æƒ³ï¼ŒåŸºäºRuntimeçš„ Method Swizzlingèƒ½åŠ›ï¼Œæ¥hookç›¸åº”çš„æ–¹æ³•ï¼Œä»è€Œåœ¨hookæ–¹æ³•ä¸­è¿›è¡Œç»Ÿä¸€çš„åŸ‹ç‚¹å¤„ç†ã€‚ä¾‹å¦‚æ‰€æœ‰çš„æŒ‰é’®è¢«ç‚¹å‡»æ—¶ï¼Œéƒ½ä¼šè§¦å‘UIApplicationçš„sendActioæ–¹æ³•ï¼Œæˆ‘ä»¬hookè¿™ä¸ªæ–¹æ³•ï¼Œå³å¯æ‹¦æˆªæ‰€æœ‰æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶:
äº‹ä»¶çš„é”å®šä¸»è¦æ˜¯é äº‹ä»¶å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œè€Œäº‹ä»¶çš„å”¯ä¸€æ ‡è¯†æ˜¯äº‹å…ˆå†™å…¥é…ç½®è¡¨ä¸­ï¼Œç„¶åæ ¹æ®é…ç½®è¡¨æ¥è§£æå…·ä½“æ˜¯å“ªä¸ªç•Œé¢çš„å“ªä¸ªäº‹ä»¶ã€‚
åŸ‹ç‚¹æ•°æ®åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼šå›ºå®šæ•°æ®ä¸å¯å˜çš„ä¸šåŠ¡æ•°æ®ï¼Œå›ºå®šæ•°æ®å¯ä»¥ç›´æ¥å†™åˆ°é…ç½®è¡¨ä¸­ï¼Œé€šè¿‡å”¯ä¸€æ ‡è¯†æ¥è·å–ã€‚å¯¹äºä¸šåŠ¡æ•°æ®ï¼Œå¯ä»¥è¿™ä¹ˆç†è§£ï¼šæ•°æ®æ˜¯æœ‰æŒæœ‰è€…çš„ï¼Œä¾‹å¦‚Controllerçš„ä¸€ä¸ªå±æ€§å€¼ï¼Œåˆå¦‚æ•°æ®åœ¨Modelçš„æŸä¸€ä¸ªå±‚çº§ã€‚ è¿™æ ·å°±å¯ä»¥é€šè¿‡KVC(å…¨ç§°æ˜¯Key Value Coding)çš„æ–¹å¼æ¥é€’å½’è·å–è¯¥å±æ€§çš„å€¼æ¥å–åˆ°ä¸šåŠ¡æ•°æ®ã€‚
ç»Ÿè®¡æœ¯è¯­ UV(Unique Visitor)ï¼šç‹¬ç«‹è®¿å®¢ï¼Œå°†æ¯ä¸ªç‹¬ç«‹ä¸Šç½‘ç”µè„‘ï¼ˆä»¥cookieä¸ºä¾æ®ï¼‰è§†ä¸ºä¸€ä½è®¿å®¢ï¼Œä¸€å¤©ä¹‹å†…ï¼ˆ00:00-24:00ï¼‰ï¼Œè®¿é—®æ‚¨ç½‘ç«™çš„è®¿å®¢æ•°é‡ã€‚ä¸€å¤©ä¹‹å†…ç›¸åŒcookieçš„è®¿é—®åªè¢«è®¡ç®—1æ¬¡ã€‚
PVï¼ˆPage Viewï¼‰ï¼šè®¿é—®é‡ï¼Œå³é¡µé¢æµè§ˆé‡æˆ–è€…ç‚¹å‡»é‡ï¼Œç”¨æˆ·æ¯æ¬¡å¯¹ç½‘ç«™çš„è®¿é—®å‡è¢«è®°å½•1æ¬¡ï¼Œç”¨æˆ·å¯¹åŒä¸€é¡µé¢çš„å¤šæ¬¡è®¿é—®ï¼Œè®¿é—®é‡å€¼ç´¯è®¡ã€‚
ç»Ÿè®¡ç‹¬ç«‹IPï¼š00:00-24:00å†…ç›¸åŒIPåœ°å€åªè¢«è®¡ç®—ä¸€æ¬¡ï¼Œåšç½‘ç«™ä¼˜åŒ–çš„æœ‹å‹æœ€å…³å¿ƒè¿™ä¸ªã€‚
</content>
    </entry>
    
     <entry>
        <title>H5 æ€§èƒ½ç›‘æ§</title>
        <url>https://iihui.github.io/post/ios-h5-monitoring/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html"> UIWebView å’Œ UIWKWebView ç›®å‰iOSä¸­æœ‰ä¸¤ä¸ªåŠ è½½ç½‘é¡µçš„ç±»ï¼Œåˆ†åˆ«æ˜¯UIWebViewå’ŒWKWebViewï¼ŒUIWebViewæ˜¯UIKitæ¡†æ¶ä¸­çš„ä¸€ä¸ªç±»ï¼Œè€ŒWKWebViewæ˜¯WebKitæ¡†æ¶ä¸­çš„ç±»ã€‚
  ä»æ€§èƒ½ä¸Šæ¥è¯´WKWebViewçš„æ€§èƒ½é«˜ã€ç¨³å®šæ€§å¥½ã€å ç”¨å†…å­˜å°ï¼Œå®Œå…¨ä¼˜äºUIWebViewã€‚
  ç”±äºWKWebViewæ˜¯iOS 8.0æä¾›çš„ç»„ä»¶ï¼Œå› æ­¤ç³»ç»Ÿç‰ˆæœ¬ä½äºiOS 8.0çš„iPhone/iPadç”¨æˆ·å°±æ— æ³•æ­£å¸¸ä½¿ç”¨WKWebViewç»„ä»¶å¼€å‘å‡ºæ¥çš„APPã€‚æ‰€ä»¥ç›®å‰å¤§éƒ¨åˆ†å¼€å‘äººå‘˜è¿˜åœ¨ä½¿ç”¨æ€§èƒ½ã€ç¨³å®šæ€§å¹¶ä¸ç†æƒ³çš„UIWebViewè¿›è¡ŒWebAPPå¼€å‘ã€‚
  H5é¡µé¢çš„ä½“éªŒé—®é¢˜ ä»ç”¨æˆ·è§’åº¦ï¼Œç›¸æ¯”Nativeé¡µé¢ï¼ŒH5é¡µé¢çš„ä½“éªŒé—®é¢˜ä¸»è¦æœ‰ä¸¤ç‚¹ï¼š
H5 åŠ è½½è¿‡ç¨‹ åˆå§‹åŒ– å½“Appé¦–æ¬¡æ‰“å¼€æ—¶ï¼Œé»˜è®¤æ˜¯å¹¶ä¸åˆå§‹åŒ–æµè§ˆå™¨å†…æ ¸çš„ï¼›åªæœ‰å½“åˆ›å»ºWebViewå®ä¾‹çš„æ—¶å€™ï¼Œæ‰ä¼šåˆ›å»ºWebViewçš„åŸºç¡€æ¡†æ¶ã€‚æ‰€ä»¥ä¸æµè§ˆå™¨ä¸åŒï¼ŒAppä¸­æ‰“å¼€WebViewçš„ç¬¬ä¸€æ­¥å¹¶ä¸æ˜¯å»ºç«‹è¿æ¥ï¼Œè€Œæ˜¯å¯åŠ¨æµè§ˆå™¨å†…æ ¸ã€‚
  é¦–æ¬¡åˆå§‹åŒ–æ—¶é—´ï¼šå®¢æˆ·ç«¯å†·å¯åŠ¨åï¼Œç¬¬ä¸€æ¬¡æ‰“å¼€WebViewï¼Œä»å¼€å§‹åˆ›å»ºWebViewåˆ°å¼€å§‹å»ºç«‹ç½‘ç»œè¿æ¥ä¹‹é—´çš„æ—¶é—´ã€‚
  äºŒæ¬¡åˆå§‹åŒ–æ—¶é—´ï¼šåœ¨æ‰“å¼€è¿‡WebViewåï¼Œé€€å‡ºWebViewï¼Œå†é‡æ–°æ‰“å¼€WebViewï¼Œä»å¼€å§‹åˆ›å»ºWebViewåˆ°å¼€å§‹å»ºç«‹ç½‘ç»œè¿æ¥ä¹‹é—´çš„æ—¶é—´ã€‚
  Webviewæ€»æ˜¯å¾ˆæ…¢çš„åŸå› ä¹‹ä¸€ï¼šå®¢æˆ·ç«¯éœ€è¦å…ˆèŠ±è´¹æ—¶é—´åˆå§‹åŒ–WebViewå®Œæˆåï¼Œæ‰å¼€å§‹åŠ è½½ã€‚è€Œè¿™æ®µæ—¶é—´ï¼Œç”±äºWebViewè¿˜ä¸å­˜åœ¨ï¼Œæ‰€æœ‰åç»­çš„è¿‡ç¨‹æ˜¯å®Œå…¨é˜»å¡çš„ï¼Œå¯ä»¥è¿™æ ·å½¢å®¹WebViewåˆå§‹åŒ–è¿‡ç¨‹ï¼š
æ€§èƒ½æ•°æ® æ€§èƒ½æ•°æ®åŒ…æ‹¬ç™½å±æ—¶é—´ï¼Œç™½å±æ—¶é—´æ— è®ºå®‰å“è¿˜æ˜¯iOSåœ¨åŠ è½½ç½‘é¡µçš„æ—¶å€™éƒ½ä¼šå­˜åœ¨çš„é—®é¢˜ï¼Œä¹Ÿæ˜¯ç›®å‰æ— æ³•è§£å†³çš„ã€‚
é¡µé¢è€—æ—¶ï¼Œé¡µé¢è€—æ—¶æŒ‡çš„æ˜¯å¼€å§‹åŠ è½½è¿™ä¸ªç½‘é¡µåˆ°æ•´ä¸ªé¡µé¢loadå®Œæˆå³æ¸²æŸ“å®Œæˆçš„æ—¶é—´ï¼›
</content>
    </entry>
    
     <entry>
        <title>Objective-C Runtime</title>
        <url>https://iihui.github.io/post/oc-runtime/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>oc</tag><tag>iOS</tag>
        </tags>
        <content type="html">  Objective-Cæ‰©å±•äº†Cè¯­è¨€ï¼Œå¹¶åŠ å…¥äº†é¢å‘å¯¹è±¡ç‰¹æ€§å’ŒSmalltalkå¼çš„æ¶ˆæ¯ä¼ é€’æœºåˆ¶ã€‚è€Œè¿™ä¸ªæ‰©å±•çš„æ ¸å¿ƒæ˜¯ä¸€ä¸ªç”¨Cå†™çš„Runtimeåº“ï¼Œå®ƒæ˜¯OCé¢å‘å¯¹è±¡å’ŒåŠ¨æ€æœºåˆ¶çš„åŸºçŸ³ã€‚OCçš„Runtimeç”¨äºåˆ›å»ºç±»å¯¹è±¡ã€è¿›è¡Œæ¶ˆæ¯ä¼ é€’å’Œè½¬å‘ã€‚ç†è§£OCçš„Runtimeæœºåˆ¶å¯ä»¥æ›´å¥½åœ°äº†è§£è¿™ä¸ªè¯­è¨€ï¼Œé€‚å½“çš„æ—¶å€™è¿˜èƒ½å¯¹è¯­è¨€è¿›è¡Œæ‰©å±•ï¼Œä»ç³»ç»Ÿå±‚é¢è§£å†³é¡¹ç›®ä¸­çš„ä¸€äº›è®¾è®¡æˆ–æŠ€æœ¯é—®é¢˜ã€‚ç†è§£Runtimeï¼Œé¦–å…ˆåº”è¯¥äº†è§£å®ƒçš„æ ¸å¿ƒâ€”â€”æ¶ˆæ¯ä¼ é€’ï¼ˆMessagingï¼‰æœºåˆ¶ã€‚
 Runtimeç‰ˆæœ¬ Runtimeæœ‰ä¸¤ä¸ªç‰ˆæœ¬: modernå’Œlegacyç‰ˆã€‚ç°ç”¨çš„Objective-C 2.*æ˜¯Modern ç‰ˆï¼Œåªèƒ½è¿è¡Œåœ¨iOSå’ŒmacOS 10.5ä¹‹åçš„64ä½ç¨‹åºä¸­ã€‚è€ŒmacOSè¾ƒè€çš„32ä½ç¨‹åºä»é‡‡ç”¨Objective-C 1.*ä¸­çš„Legacyç‰ˆæœ¬ã€‚ä¸¤ä¸ªç‰ˆæœ¬æœ€å¤§çš„åŒºåˆ«åœ¨äºï¼šå½“æ›´æ”¹ä¸€ä¸ªç±»çš„å®ä¾‹å˜é‡å¸ƒå±€æ—¶ï¼Œåœ¨æ—©æœŸç‰ˆæœ¬ä¸­éœ€è¦é‡æ–°ç¼–è¯‘å®ƒçš„å­ç±»ï¼Œè€ŒModernç‰ˆä¸éœ€è¦é‡æ–°ç¼–è¯‘å­ç±»ã€‚
é«˜çº§ç¼–ç¨‹è¯­è¨€æƒ³è¦æˆä¸ºå¯æ‰§è¡Œæ–‡ä»¶éœ€è¦å…ˆç¼–è¯‘ä¸ºæ±‡ç¼–è¯­è¨€ï¼Œå†å°†æ±‡ç¼–è¯­è¨€è½¬æ¢ä¸ºæœºå™¨è¯­è¨€ï¼ˆæœºå™¨è¯­è¨€æ˜¯è®¡ç®—æœºèƒ½å¤Ÿè¯†åˆ«çš„å”¯ä¸€è¯­è¨€ï¼‰ã€‚ä½†æ˜¯ï¼ŒOCå¹¶ä¸èƒ½ç›´æ¥ç¼–è¯‘ä¸ºæ±‡ç¼–è¯­è¨€ï¼Œè€Œæ˜¯è¦å…ˆè½¬å†™ä¸ºçº¯Cè¯­è¨€å†è¿›è¡Œç¼–è¯‘å’Œæ±‡ç¼–æ“ä½œï¼Œä»OCåˆ°Cçš„è¿‡æ¸¡æ˜¯ç”±runtimeåº“æ¥å®ç°çš„ã€‚å› ä¸ºOCä¸»è¦è¿›è¡Œé¢å‘å¯¹è±¡å¼€å‘ï¼Œè€ŒCè¯­è¨€æ˜¯é¢å‘è¿‡ç¨‹å¼€å‘ï¼Œè¿™å°±éœ€è¦å°†é¢å‘å¯¹è±¡çš„ç±»è½¬å˜ä¸ºé¢å‘è¿‡ç¨‹çš„ç»“æ„ä½“ã€‚
æ¶ˆæ¯ä¼ é€’ æ‰€æœ‰çš„OCæ–¹æ³•è°ƒç”¨[receiver selector]åœ¨ç¼–è¯‘æ—¶éƒ½ä¼šè½¬åŒ–ä¸ºå¯¹åº”çš„Cå‡½æ•°objc_msgSend(receiverï¼Œselector)çš„è°ƒç”¨ã€‚ä¾‹å¦‚ä¸€ä¸ªå¯¹è±¡æ–¹æ³•è°ƒç”¨[obj,foo]ï¼ŒRuntimeæ‰§è¡Œæ–¹æ³•è°ƒç”¨çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š
  é¦–å…ˆï¼Œé€šè¿‡objçš„isaæŒ‡é’ˆæ‰¾åˆ°å®ƒçš„class
  ç„¶åï¼Œåœ¨objçš„classçš„objc_method_listæ‰¾foo
  å¦‚æœclassçš„objc_method_listä¸­æ²¡åˆ°fooï¼Œç»§ç»­å¾€å®ƒçš„super_classä¸­å¯»æ‰¾foo
  è‹¥æ‰¾åˆ°fooè¿™ä¸ªå‡½æ•°ï¼Œå°±å»æ‰§è¡Œå®ƒçš„å®ç°IMPï¼Œå¦åˆ™æŠ¥é”™
  ä½†ä¸Šè¿°æµç¨‹å­˜åœ¨æ•ˆç‡ä½çš„é—®é¢˜ï¼šé€šå¸¸ä¸€ä¸ªclassåªæœ‰20%çš„å‡½æ•°ç»å¸¸è¢«è°ƒç”¨ï¼Œå¯èƒ½å æ€»è°ƒç”¨æ¬¡æ•°çš„80%ï¼Œæ‰€ä»¥æ¯æ¬¡æ¶ˆæ¯ä¼ é€’çš„æ—¶å€™éƒ½éå†ä¸€æ¬¡objc_method_listå¹¶ä¸åˆç†ã€‚å¦‚æœæŠŠç»å¸¸è¢«è°ƒç”¨çš„å‡½æ•°ç¼“å­˜ä¸‹æ¥ï¼Œå°±å¯ä»¥å¤§å¤§æé«˜å‡½æ•°çš„æŸ¥è¯¢æ•ˆç‡ã€‚objc_cacheå°±æ˜¯åšè¿™æ ·çš„äº‹æƒ…ï¼Œå½“æ‰¾åˆ°selectoråï¼Œå®ƒå°†selectorçš„method_nameä½œä¸ºkeyï¼Œmethod_impä½œä¸ºvalueå­˜å‚¨èµ·æ¥ï¼Œå½“å†æ¬¡æ”¶åˆ°selectoræ¶ˆæ¯æ—¶ï¼Œå¯ä»¥ç›´æ¥åœ¨objc_cacheé‡Œæ‰¾åˆ°ï¼Œé¿å…å»éå†objc_method_listã€‚
objc_msgSendå®šä¹‰ åœ¨runtimeä¸­ï¼Œobjc_msgSendçš„å®šä¹‰å¦‚ä¸‹ï¼š
OBJC_EXPORT id objc_msgSend(id self, SEL op, ...) è¦äº†è§£æ¶ˆæ¯ä¼ é€’æœºåˆ¶ï¼Œé¦–å…ˆéœ€è¦äº†è§£ç±»objc_classã€å¯¹è±¡objc_objectã€æ–¹æ³•objc_methodè¿™å‡ ä¸ªç»“æ„ä½“ã€‚
//å¯¹è±¡ struct objc_object { Class isa OBJC_ISA_AVAILABILITY; }; //ç±» struct objc_class { Class isa OBJC_ISA_AVAILABILITY; #if !__OBJC2__  Class super_class OBJC2_UNAVAILABLE; const char *name OBJC2_UNAVAILABLE; long version OBJC2_UNAVAILABLE; long info OBJC2_UNAVAILABLE; long instance_size OBJC2_UNAVAILABLE; struct objc_ivar_list *ivars OBJC2_UNAVAILABLE; struct objc_method_list **methodLists OBJC2_UNAVAILABLE; struct objc_cache *cache OBJC2_UNAVAILABLE; struct objc_protocol_list *protocols OBJC2_UNAVAILABLE; #endif } OBJC2_UNAVAILABLE; //æ–¹æ³•åˆ—è¡¨ struct objc_method_list { struct objc_method_list *obsolete OBJC2_UNAVAILABLE; int method_count OBJC2_UNAVAILABLE; #ifdef __LP64__  int space OBJC2_UNAVAILABLE; #endif  /* variable length structure */ struct objc_method method_list[1] OBJC2_UNAVAILABLE; } OBJC2_UNAVAILABLE; //æ–¹æ³• struct objc_method { SEL method_name OBJC2_UNAVAILABLE; char *method_types OBJC2_UNAVAILABLE; IMP method_imp OBJC2_UNAVAILABLE; } ç±»å¯¹è±¡objc_class åœ¨OCä¸­ï¼Œç±»æ˜¯ç”±Classç±»å‹æ¥è¡¨ç¤ºçš„ï¼Œå®ƒå®é™…ä¸Šæ˜¯ä¸€ä¸ªæŒ‡å‘objc_classç»“æ„ä½“çš„æŒ‡é’ˆï¼š
typedef struct objc_class *Class; //Classæ˜¯ä¸€ä¸ªæŒ‡å‘objc_class çš„æŒ‡é’ˆ å…¶ä¸­objc_classç»“æ„ä½“åœ¨objc/runtime.hä¸­çš„å®šä¹‰å¦‚ä¸‹ï¼š
struct objc_class { Class _Nonnull isa OBJC_ISA_AVAILABILITY; #if !__OBJC2__  Class _Nullable super_class OBJC2_UNAVAILABLE; // æŒ‡å‘çˆ¶ç±»çš„æŒ‡é’ˆ  const char * _Nonnull name OBJC2_UNAVAILABLE; // ç±»çš„åå­—  long version OBJC2_UNAVAILABLE; // ç±»çš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œé»˜è®¤ä¸º 0  long info OBJC2_UNAVAILABLE; // ç±»çš„ä¿¡æ¯ï¼Œä¾›è¿è¡ŒæœŸä½¿ç”¨çš„ä¸€äº›ä½æ ‡è¯†  long instance_size OBJC2_UNAVAILABLE; // è¯¥ç±»çš„å®ä¾‹å˜é‡å¤§å°;  struct objc_ivar_list * _Nullable ivars OBJC2_UNAVAILABLE; // è¯¥ç±»çš„å®ä¾‹å˜é‡åˆ—è¡¨  struct objc_method_list * _Nullable * _Nullable methodLists OBJC2_UNAVAILABLE; // æ–¹æ³•å®šä¹‰çš„åˆ—è¡¨  struct objc_cache * _Nonnull cache OBJC2_UNAVAILABLE; // æ–¹æ³•ç¼“å­˜  struct objc_protocol_list * _Nullable protocols OBJC2_UNAVAILABLE; // éµå®ˆçš„åè®®åˆ—è¡¨ #endif } OBJC2_UNAVAILABLE; ç±»å¯¹è±¡å°±æ˜¯ä¸€ä¸ªç»“æ„ä½“struct objc_classï¼Œè¿™ä¸ªç»“æ„ä½“å­˜æ”¾çš„æ•°æ®ç§°ä¸ºå…ƒæ•°æ®(metadata)ã€‚è¯¥ç»“æ„ä½“çš„ç¬¬ä¸€ä¸ªæˆå‘˜å˜é‡ä¹Ÿæ˜¯isaæŒ‡é’ˆï¼Œè¿™è¯´æ˜äº†Classæœ¬èº«å…¶å®æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç§°ä¹‹ä¸ºç±»å¯¹è±¡ã€‚ç±»å¯¹è±¡åœ¨ç¼–è¯‘æœŸäº§ç”Ÿç”¨äºåˆ›å»ºå®ä¾‹å¯¹è±¡ï¼Œæ˜¯å•ä¾‹ã€‚
å®ä¾‹å¯¹è±¡(object) åœ¨objc/runtime.hä¸­ï¼Œå¯¹è±¡è¢«å®šä¹‰ä¸ºæŒ‡å‘objc_objectç»“æ„ä½“çš„æŒ‡é’ˆï¼Œobjc_objectç»“æ„ä½“çš„å®šä¹‰å¦‚ä¸‹ï¼š
//runtimeå¯¹objc_objectç»“æ„ä½“çš„å®šä¹‰ struct objc_object { Class isa OBJC_ISA_AVAILABILITY; //objc_objectåªæœ‰ä¸€ä¸ªæˆå‘˜ï¼Œå°±æ˜¯æŒ‡å‘O }; //idæ˜¯ä¸€ä¸ªæŒ‡å‘objc_objectç»“æ„ä½“çš„æŒ‡é’ˆï¼š typedef struct objc_object *id; //idæ˜¯æŒ‡å‘objc_classæŒ‡é’ˆçš„æŒ‡é’ˆ ç±»å¯¹è±¡ä¸­çš„å…ƒæ•°æ®å­˜å‚¨çš„éƒ½æ˜¯å¦‚ä½•åˆ›å»ºä¸€ä¸ªå®ä¾‹çš„ç›¸å…³ä¿¡æ¯ï¼Œé‚£ä¹ˆç±»å¯¹è±¡å’Œç±»æ–¹æ³•åº”è¯¥ä»å“ªé‡Œåˆ›å»ºå‘¢ï¼Ÿå°±æ˜¯ä»isaæŒ‡é’ˆæŒ‡å‘çš„ç»“æ„ä½“åˆ›å»ºï¼Œç±»å¯¹è±¡çš„isaæŒ‡é’ˆæŒ‡å‘çš„æˆ‘ä»¬ç§°ä¹‹ä¸ºå…ƒç±»(meatclass)ï¼Œå…ƒç±»ä¸­ä¿å­˜äº†åˆ›å»ºç±»å¯¹è±¡ä»¥åŠç±»æ–¹æ³•æ‰€éœ€çš„æ‰€æœ‰ä¿¡æ¯ï¼Œå› æ­¤æ•´ä¸ªç»“æ„åº”è¯¥å¦‚ä¸‹å›¾æ‰€ç¤º:
å…ƒç±»(meta class) é€šè¿‡ä¸Šå›¾å¯ä»¥çœ‹å‡ºæ•´ä¸ªä½“ç³»æ„æˆäº†ä¸€ä¸ªè‡ªé—­ç¯ï¼Œstruct objc_objectç»“æ„ä½“å®ä¾‹çš„isaæŒ‡é’ˆæŒ‡å‘ç±»å¯¹è±¡ï¼Œç±»å¯¹è±¡çš„isaæŒ‡é’ˆæŒ‡å‘äº†å…ƒç±»ï¼Œsuper_classæŒ‡é’ˆæŒ‡å‘äº†çˆ¶ç±»çš„ç±»å¯¹è±¡ï¼Œè€Œå…ƒç±»çš„super_classæŒ‡é’ˆæŒ‡å‘äº†çˆ¶ç±»çš„å…ƒç±»ï¼Œé‚£å…ƒç±»çš„isaæŒ‡é’ˆåˆæŒ‡å‘äº†è‡ªå·±(è¿˜ä¸ç†è§£ä¸ºä»€ä¹ˆä¼šæŒ‡å‘è‡ªå·±)ã€‚
å…ƒç±»(Meta Class)æ˜¯ä¸€ä¸ªç±»å¯¹è±¡çš„ç±»ã€‚åœ¨ä¸Šé¢æˆ‘ä»¬æåˆ°ï¼Œæ‰€æœ‰çš„ç±»è‡ªèº«ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥å‘è¿™ä¸ªå¯¹è±¡å‘é€æ¶ˆæ¯(å³è°ƒç”¨ç±»æ–¹æ³•)ã€‚ä¸ºäº†è°ƒç”¨ç±»æ–¹æ³•ï¼Œè¿™ä¸ªç±»çš„isaæŒ‡é’ˆå¿…é¡»æŒ‡å‘ä¸€ä¸ªåŒ…å«è¿™äº›ç±»æ–¹æ³•çš„ä¸€ä¸ªobjc_classç»“æ„ä½“ã€‚è¿™å°±å¼•å‡ºäº†meta-classçš„æ¦‚å¿µï¼Œå…ƒç±»ä¸­ä¿å­˜äº†åˆ›å»ºç±»å¯¹è±¡ä»¥åŠç±»æ–¹æ³•æ‰€éœ€çš„æ‰€æœ‰ä¿¡æ¯ã€‚
ä»»ä½•NSObjectç»§æ‰¿ä½“ç³»ä¸‹çš„meta-classéƒ½ä½¿ç”¨NSObjectçš„meta-classä½œä¸ºè‡ªå·±çš„æ‰€å±ç±»ï¼Œè€ŒåŸºç±»çš„meta-classçš„isaæŒ‡é’ˆæ˜¯æŒ‡å‘å®ƒè‡ªå·±ã€‚
æ–¹æ³•(method) é¦–å…ˆçœ‹ä¸€ä¸‹objc_methodçš„å®šä¹‰ï¼š
runtime.h /// An opaque type that represents a method in a class definition.ä»£è¡¨ç±»å®šä¹‰ä¸­ä¸€ä¸ªæ–¹æ³•çš„ä¸é€æ˜ç±»å‹ typedef struct objc_method *Method; struct objc_method { SEL method_name OBJC2_UNAVAILABLE; //æ–¹æ³•å  char *method_types OBJC2_UNAVAILABLE; //æ–¹æ³•ç±»å‹  IMP method_imp OBJC2_UNAVAILABLE; //æ–¹æ³•å®ç° åœ¨objc_methodçš„å®šä¹‰ä¸­ï¼Œå¯ä»¥çœ‹åˆ°SELå’ŒIMPï¼Œè¿™è¯´æ˜SELå’ŒIMPéƒ½æ˜¯æ–¹æ³•çš„å±æ€§:
  SEL method_nameæ–¹æ³•å
  char * method_types æ–¹æ³•ç±»å‹
  IMP method_imp æ–¹æ³•å®ç°
  SELæ–¹æ³•é€‰æ‹©å™¨ ojbc_msgSendå‡½æ•°ç¬¬äºŒä¸ªå‚æ•°ç±»å‹ä¸ºSELï¼Œå¯ä»¥ç†è§£ä¸ºç”¨äºåŒºåˆ†æ–¹æ³•çš„IDï¼Œè¿™ä¸ªIDçš„æ•°æ®ç»“æ„å°±æ˜¯SELï¼š
åœ¨objc/runtime.h,SELè¢«å®šä¹‰ä¸ºæŒ‡å‘objc_selectorç»“æ„ä½“çš„æŒ‡é’ˆï¼š
///objc.h /// An opaque type that represents a method selector.ä»£è¡¨ä¸€ä¸ªæ–¹æ³•çš„ä¸é€æ˜ç±»å‹ typedef struct objc_selector *SEL; è€Œselectoræ˜¯SELçš„ä¸€ä¸ªå®ä¾‹ï¼š
@property SEL selector; selectorçš„è§£é‡Šä¸ºï¼š
A method selector is a C string that has been registered (or â€œmappedâ€œ) with the Objective-C runtime. Selectors generated by the compiler are automatically mapped by the runtime when the class is loaded. ä¹Ÿå°±æ˜¯è¯´selectorå°±æ˜¯ä¸ªæ˜ å°„åˆ°æ–¹æ³•çš„Cå­—ç¬¦ä¸²ï¼Œå¯ä»¥ç”¨OCç¼–è¯‘å™¨å‘½ä»¤@selector()æˆ–è€…Runtimeç³»ç»Ÿçš„sel_registerNameå‡½æ•°æ¥è·å¾—ä¸€ä¸ªSELç±»å‹çš„æ–¹æ³•é€‰æ‹©å™¨ã€‚
selectoræ—¢ç„¶æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œåº”è¯¥ç±»ä¼¼className&#43;methodçš„ç»„åˆï¼Œå‘½åçš„è§„åˆ™æœ‰ä¸¤æ¡ï¼š
  åŒä¸€ä¸ªç±»ï¼Œselectorä¸èƒ½é‡å¤
  ä¸åŒçš„ç±»ï¼Œselectorå¯ä»¥é‡å¤
  è¿™ä¹Ÿå¸¦æ¥ä¸ªå¼Šç«¯ï¼Œå°±æ˜¯åœ¨å†™Cä»£ç çš„æ—¶å€™ï¼Œç»å¸¸ä¼šç”¨åˆ°å‡½æ•°é‡è½½ï¼Œå°±æ˜¯å‡½æ•°åç›¸åŒï¼Œå‚æ•°ä¸åŒã€‚ä½†åœ¨OCä¸­è¡Œä¸é€šï¼Œå› ä¸ºselectoråªè®°äº†methodçš„nameï¼Œæ²¡æœ‰å‚æ•°ï¼Œæ‰€ä»¥æ²¡æ³•åŒºåˆ†ä¸åŒçš„methodã€‚
æ¯”å¦‚ä¸‹é¢ä»£ç åœ¨OCä¸­æ˜¯ä¼šæŠ¥é”™çš„ï¼š
- (void)caculate(NSInteger)num; - (void)caculate(CGFloat)num; æ‰€ä»¥åªèƒ½é€šè¿‡å‘½åæ¥åŒºåˆ†ï¼š
- (void)caculateWithInt(NSInteger)num; - (void)caculateWithFloat(CGFloat)num; IMP IMPæ˜¯æŒ‡å‘ä¸€ä¸ªæ–¹æ³•å®ç°çš„æŒ‡é’ˆï¼Œå®è´¨ä¸Šå°±æ˜¯æŒ‡å‘æœ€ç»ˆå®ç°ç¨‹åºçš„å†…å­˜åœ°å€çš„æŒ‡é’ˆï¼Œå®ƒçš„å®šä¹‰ä¸ºï¼š
/// A pointer to the function of a method implementation. æŒ‡å‘ä¸€ä¸ªæ–¹æ³•å®ç°çš„æŒ‡é’ˆ typedef id (*IMP)(id, SEL, ...); #endif åœ¨iOSçš„runtimeä¸­ï¼Œæ–¹æ³•é€šè¿‡selectorå’ŒIMPä¸¤ä¸ªå±æ€§ï¼Œå®ç°äº†å¿«é€ŸæŸ¥è¯¢æ–¹æ³•åŠå…¶å®ç°ï¼Œç›¸å¯¹æé«˜äº†æ€§èƒ½ï¼Œåˆä¿æŒäº†çµæ´»æ€§ã€‚
Objective-Cåœ¨ç¼–è¯‘æ—¶ï¼Œä¼šä¾æ®æ¯ä¸€ä¸ªæ–¹æ³•çš„åå­—ã€å‚æ•°åºåˆ—ï¼Œç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„æ•´å‹æ ‡è¯†(Intç±»å‹çš„åœ°å€)ï¼Œè¿™ä¸ªæ ‡è¯†å°±æ˜¯SEL
Category(objc_catory) å½“Catrgoryè¡¨ç¤ºä¸€ä¸ªæŒ‡å‘åˆ†ç±»çš„ç»“æ„ä½“çš„æŒ‡é’ˆï¼Œå®ƒçš„å®šä¹‰å¦‚ä¸‹ï¼š
struct category_t { const char *name; classref_t cls; struct method_list_t *instanceMethods; struct method_list_t *classMethods; struct protocol_list_t *protocols; struct property_list_t *instanceProperties; };   nameæ˜¯class_nameè€Œä¸æ˜¯category_nameã€‚
  clsè¡¨ç¤ºè¦æ‰©å±•çš„ç±»å¯¹è±¡ï¼Œç¼–è¯‘æœŸé—´æ˜¯ä¸ä¼šå®šä¹‰çš„ï¼Œè€Œæ˜¯åœ¨Runtimeé˜¶æ®µé€šè¿‡nameå¯¹åº”åˆ°ç›¸åº”çš„ç±»å¯¹è±¡ã€‚
  instanceMethodsè¡¨ç¤ºcategoryä¸­æ‰€æœ‰ç»™ç±»æ·»åŠ çš„å®ä¾‹æ–¹æ³•çš„åˆ—è¡¨ã€‚  classMethodsè¡¨ç¤ºcategoryä¸­æ‰€æœ‰æ·»åŠ çš„ç±»æ–¹æ³•çš„åˆ—è¡¨ã€‚  protocols è¡¨ç¤ºcategoryå®ç°çš„æ‰€æœ‰åè®®çš„åˆ—è¡¨ã€‚
  instanceProperties è¡¨ç¤ºcategoryé‡Œæ‰€æœ‰çš„Propertiesï¼Œè¿™å°±æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡objc_setAssociatedObjectå’Œobjc_getAssociatedObjectå¢åŠ å®ä¾‹å˜é‡çš„åŸå› ï¼Œä¸è¿‡è¿™ä¸ªå’Œä¸€èˆ¬çš„å®ä¾‹å˜é‡æ˜¯ä¸ä¸€æ ·çš„ã€‚
  ä»ä¸Šé¢çš„category_tç»“æ„ä½“ä¸­å¯ä»¥çœ‹å‡ºï¼Œåˆ†ç±»ä¸­å¯ä»¥æ·»åŠ å®ä¾‹æ–¹æ³•ï¼Œç±»æ–¹æ³•ï¼Œç”šè‡³å¯ä»¥å®ç°åè®®ï¼Œæ·»åŠ å±æ€§ï¼Œä¸å¯ä»¥æ·»åŠ æˆå‘˜å˜é‡ã€‚
Runtimeæ¶ˆæ¯è½¬å‘ OCåœ¨å‘é€æ¶ˆæ¯æ—¶ä¼šåœ¨ç›¸å…³çš„ç±»å¯¹è±¡ä¸­æœç´¢æ–¹æ³•åˆ—è¡¨ï¼Œå¦‚æœæ‰¾ä¸åˆ°åˆ™ä¼šæ²¿ç€ç»§æ‰¿æ ‘å‘ä¸Šä¸€ç›´æœç´¢ç›´åˆ°æ ‘æ ¹éƒ¨ï¼ˆNSObjectï¼‰ï¼Œå¦‚æœè¿˜æ˜¯æ‰¾ä¸åˆ°ï¼Œé‚£ä¹ˆæ¶ˆæ¯è½¬å‘å°±æ˜¯å¤±è´¥äº†ã€‚æ­¤æ—¶ï¼Œä¼šæ‰§è¡ŒdoesNotRecognizeSelector:æ–¹æ³•ï¼ŒæŠ¥unrecognized selectoré”™ã€‚
åŠ¨æ€æ–¹æ³•è½¬å‘ é¦–å…ˆï¼ŒOCè¿è¡Œæ—¶ä¼šè°ƒç”¨&#43;resolveInstanceMethod:æˆ–è€… &#43;resolveClassMethod:ï¼Œè®©ä½ æœ‰æœºä¼šæä¾›ä¸€ä¸ªå‡½æ•°å®ç°ã€‚å¦‚æœæ·»åŠ äº†å‡½æ•°å¹¶è¿”å›YESï¼Œé‚£è¿è¡Œæ—¶ç³»ç»Ÿå°±ä¼šé‡æ–°å¯åŠ¨ä¸€æ¬¡æ¶ˆæ¯å‘é€çš„è¿‡ç¨‹ã€‚
å®ç°ä¸€ä¸ªåŠ¨æ€æ–¹æ³•è§£æçš„ä¾‹å­ï¼š
- (void)viewDidLoad { [super viewDidLoad]; // Do any additional setup after loading the view, typically from a nib.  //æ‰§è¡Œfooå‡½æ•°  [self performSelector:@selector(foo:)]; } &#43; (BOOL)resolveInstanceMethod:(SEL)sel { if (sel == @selector(foo:)) {//å¦‚æœæ˜¯æ‰§è¡Œfooå‡½æ•°ï¼Œå°±åŠ¨æ€è§£æï¼ŒæŒ‡å®šæ–°çš„IMP  class_addMethod([self class], sel, (IMP)fooMethod, &amp;#34;v@:&amp;#34;); return YES; } return [super resolveInstanceMethod:sel]; } void fooMethod(id obj, SEL _cmd) { NSLog(@&amp;#34;Doing foo&amp;#34;);//æ–°çš„fooå‡½æ•° } å¯ä»¥çœ‹åˆ°è™½ç„¶æ²¡æœ‰å®ç°foo:è¿™ä¸ªå‡½æ•°ï¼Œä½†æ˜¯é€šè¿‡class_addMethodåŠ¨æ€æ·»åŠ fooMethodå‡½æ•°ï¼Œå¹¶æ‰§è¡ŒfooMethodè¿™ä¸ªå‡½æ•°çš„IMPã€‚ä½†å¦‚æœresolveæ–¹æ³•è¿”å›NOï¼Œè¿è¡Œæ—¶å°±ä¼šç§»åˆ°ä¸‹ä¸€æ­¥ï¼šforwardingTargetForSelectorã€‚
å¤‡ç”¨æ¥æ”¶è€… å¦‚æœç›®æ ‡å¯¹è±¡å®ç°äº†-forwardingTargetForSelector:ï¼ŒRuntimeè¿™æ—¶å°±ä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œç»™ä½ æŠŠè¿™ä¸ªæ¶ˆæ¯è½¬å‘ç»™å…¶ä»–å¯¹è±¡çš„æœºä¼šã€‚
å®ç°ä¸€ä¸ªå¤‡ç”¨æ¥æ”¶è€…ï¼š
#import &amp;#34;ViewController.h&amp;#34; #import &amp;#34;objc/runtime.h&amp;#34;  @interface Person: NSObject @end @implementation Person - (void)foo { NSLog(@&amp;#34;Doing foo&amp;#34;);//Personçš„fooå‡½æ•° } @end @interface ViewController () @end @implementation ViewController - (void)viewDidLoad { [super viewDidLoad]; // Do any additional setup after loading the view, typically from a nib.  //æ‰§è¡Œfooå‡½æ•°  [self performSelector:@selector(foo)]; } &#43; (BOOL)resolveInstanceMethod:(SEL)sel { return NO;//è¿”å›NOï¼Œè¿›å…¥ä¸‹ä¸€æ­¥è½¬å‘ } - (id)forwardingTargetForSelector:(SEL)aSelector { if (aSelector == @selector(foo)) { return [Person new];//è¿”å›Personå¯¹è±¡ï¼Œè®©Personå¯¹è±¡æ¥æ”¶è¿™ä¸ªæ¶ˆæ¯  } return [super forwardingTargetForSelector:aSelector]; } @end å®Œæ•´æ¶ˆæ¯è½¬å‘ å¦‚æœåœ¨ä¸Šä¸€æ­¥è¿˜ä¸èƒ½å¤„ç†æœªçŸ¥æ¶ˆæ¯ï¼Œåˆ™å”¯ä¸€èƒ½åšçš„å°±æ˜¯å¯ç”¨å®Œæ•´çš„æ¶ˆæ¯è½¬å‘æœºåˆ¶äº†ã€‚
é¦–å…ˆå®ƒä¼šå‘é€-methodSignatureForSelector:æ¶ˆæ¯è·å¾—å‡½æ•°çš„å‚æ•°å’Œè¿”å›å€¼ç±»å‹ã€‚å¦‚æœ-methodSignatureForSelector:è¿”å›nilï¼Œåˆ™Runtimeåˆ™ä¼šå‘å‡º-doesNotRecognizeSelector:æ¶ˆæ¯ï¼Œç¨‹åºè¿™æ—¶ä¹Ÿå°±æŒ‚æ‰äº†ã€‚å¦‚æœè¿”å›äº†ä¸€ä¸ªå‡½æ•°ç­¾åï¼ŒRuntimeå°±ä¼šåˆ›å»ºä¸€ä¸ªNSInvocationå¯¹è±¡å¹¶å‘é€ -forwardInvocation:æ¶ˆæ¯ç»™ç›®æ ‡å¯¹è±¡ã€‚
#import &amp;#34;ViewController.h&amp;#34; #import &amp;#34;objc/runtime.h&amp;#34;  @interface Person: NSObject @end @implementation Person - (void)foo { NSLog(@&amp;#34;Doing foo&amp;#34;);//Personçš„fooå‡½æ•° } @end @interface ViewController () @end @implementation ViewController - (void)viewDidLoad { [super viewDidLoad]; // Do any additional setup after loading the view, typically from a nib.  //æ‰§è¡Œfooå‡½æ•°  [self performSelector:@selector(foo)]; } &#43; (BOOL)resolveInstanceMethod:(SEL)sel { return YES;//è¿”å›YESï¼Œè¿›å…¥ä¸‹ä¸€æ­¥è½¬å‘ } - (id)forwardingTargetForSelector:(SEL)aSelector { return nil;//è¿”å›nilï¼Œè¿›å…¥ä¸‹ä¸€æ­¥è½¬å‘ } - (NSMethodSignature *)methodSignatureForSelector:(SEL)aSelector { if ([NSStringFromSelector(aSelector) isEqualToString:@&amp;#34;foo&amp;#34;]) { return [NSMethodSignature signatureWithObjCTypes:&amp;#34;v@:&amp;#34;];//ç­¾åï¼Œè¿›å…¥forwardInvocation  } return [super methodSignatureForSelector:aSelector]; } - (void)forwardInvocation:(NSInvocation *)anInvocation { SEL sel = anInvocation.selector; Person *p = [Person new]; if([p respondsToSelector:sel]) { [anInvocation invokeWithTarget:p]; } else { [self doesNotRecognizeSelector:sel]; } } @end instancetypeå’Œidçš„åŒºåˆ« instancetypeå’Œidéƒ½å¯ä»¥ç”¨æ¥è¡¨ç¤ºä»»æ„ç±»å‹ï¼Œå°†å¯¹è±¡çš„ç±»å‹ç¡®å®šå¾€åæ¨è¿Ÿï¼Œç”¨äºä½“ç°OCè¯­è¨€çš„åŠ¨æ€æ€§ï¼Œä½¿å…¶å£°æ˜çš„å¯¹è±¡å…·æœ‰è¿è¡Œæ—¶ç‰¹æ€§ã€‚åŒºåˆ«æ˜¯ï¼š
  instancetypeåªèƒ½ä½œä¸ºè¿”å›å€¼ç±»å‹ï¼Œä½†åœ¨ç¼–è¯‘æœŸinstancetypeä¼šè¿›è¡Œç±»å‹æ£€æµ‹ï¼Œå› æ­¤å¯¹äºæ‰€æœ‰è¿”å›ç±»çš„å®ä¾‹çš„ç±»æ–¹æ³•æˆ–å®ä¾‹æ–¹æ³•ï¼Œå»ºè®®è¿”å›ç±»å‹instancetypeè€Œä¸æ˜¯idã€‚
  idç±»å‹æ—¢å¯ä»¥ä½œä¸ºè¿”å›ç±»å‹ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå‚æ•°ç±»å‹ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå˜é‡ç±»å‹ï¼Œä½†idç±»å‹åœ¨ç¼–è¯‘æœŸä¸ä¼šè¿›è¡Œç±»å‹æ£€æµ‹ã€‚
  selector selectoræ˜¯ä¸€ä¸ªæ–¹æ³•çš„åå­—ã€‚åŸºäºåŠ¨æ€ç»‘å®šç¯å¢ƒä¸‹ï¼Œmethodæ˜¯ä¸€ä¸ªç»„åˆä½“ï¼ŒåŒ…å«äº†åå­—å’Œå®ç°ã€‚å¯ä»¥ç†è§£@selector()å°±æ˜¯å–ç±»æ–¹æ³•çš„ç¼–å·ï¼Œä»–çš„è¡Œä¸ºåŸºæœ¬å¯ä»¥ç­‰åŒCè¯­è¨€ä¸­çš„å‡½æ•°æŒ‡é’ˆï¼Œåªä¸è¿‡Cè¯­è¨€ä¸­ï¼Œå¯ä»¥æŠŠå‡½æ•°åç›´æ¥èµ‹å€¼ç»™ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆï¼Œè€ŒOCçš„ç±»ä¸èƒ½ç›´æ¥åº”ç”¨å‡½æ•°æŒ‡é’ˆï¼Œè¿™æ ·åªèƒ½åšä¸€ä¸ª@selectorè¯­æ³•æ¥å–ï¼Œå®ƒçš„ç»“æœæ˜¯ä¸€ä¸ªSELç±»å‹ã€‚è€Œè¿™ä¸ªç±»å‹æœ¬è´¨æ˜¯ç±»æ–¹æ³•çš„ç¼–å·ï¼ˆå‡½æ•°åœ°å€ï¼‰ã€‚
target-actionæœºåˆ¶ ç›®æ ‡æ˜¯åŠ¨ä½œæ¶ˆæ¯çš„æ¥æ”¶è€…ã€‚ä¾‹# ç›®æ ‡æ˜¯åŠ¨ä½œæ¶ˆæ¯çš„æ¥æ”¶è€…ã€‚ä¾‹ç›®æ ‡æ˜¯åŠ¨ä½œæ¶ˆæ¯çš„æ¥æ”¶è€…ã€‚ä¾‹å¦‚ä¸€ä¸ªæ§ä»¶ï¼Œæˆ–è€…æ›´ä¸ºå¸¸è§çš„æ˜¯å®ƒçš„å•å…ƒï¼Œä»¥æ’åº§å˜é‡çš„å½¢å¼ä¿æœ‰å…¶åŠ¨ä½œçš„ç›®æ ‡ã€‚åŠ¨ä½œæ˜¯æ§ä»¶å‘é€ç»™ç›®æ ‡çš„æ¶ˆæ¯ï¼Œæˆ–è€…ä»ç›®æ ‡çš„è§’åº¦çœ‹ï¼Œä»–æ˜¯ç›®æ ‡ä¸ºäº†å“åº”åŠ¨ä½œè€Œå®ç°çš„æ–¹æ³•ã€‚ç¨‹åºéœ€è¦æŸäº›æœºåˆ¶æ¥è¿›è¡Œå®è·µå’ŒæŒ‡ä»¤çš„ç¿»è¯‘ï¼Œè¿™ä¸ªæœºåˆ¶å°±æ˜¯ç›®æ ‡-åŠ¨ä½œæœºåˆ¶ã€‚
Runtimeçš„åº”ç”¨ Runtimeçš„åº”ç”¨åœºæ™¯æœ‰å¾ˆå¤šï¼Œå¸¸è§çš„å¦‚ä¸‹ï¼š
  å…³è”å¯¹è±¡(Objective-C Associated Objects)ï¼Œç»™åˆ†ç±»æ·»åŠ å±æ€§
  æ–¹æ³•é­”æ³•(Method Swizzling),æ·»åŠ å’Œæ›¿æ¢KVOå®ç°
  å®ç°NSCodingçš„è‡ªåŠ¨å½’æ¡£å’Œè‡ªåŠ¨è§£æ¡£
  å®ç°å­—å…¸å’Œæ¨¡å‹çš„è‡ªåŠ¨è½¬æ¢(MJExtension)
  å…³è”å¯¹è±¡ åœ¨OCä¸­åˆ†ç±»æ˜¯ä¸èƒ½è‡ªå®šä¹‰å±æ€§å’Œå˜é‡çš„ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡å…³è”å¯¹è±¡å®ç°ç»™åˆ†ç±»æ·»åŠ å±æ€§ã€‚Runtimeç»™å…³è”å¯¹è±¡æ·»åŠ äº†ä»¥ä¸‹å‡ ä¸ªæ¥å£ï¼š
3ä¸ªæ¥å£ //å…³è”å¯¹è±¡ void objc_setAssociatedObject(id object, const void *key, id value, objc_AssociationPolicy policy) //è·å–å…³è”çš„å¯¹è±¡ id objc_getAssociatedObject(id object, const void *key) //ç§»é™¤å…³è”çš„å¯¹è±¡ void objc_removeAssociatedObjects(id object) å‚æ•°è§£é‡Š id objectï¼šè¢«å…³è”çš„å¯¹è±¡ const void *keyï¼šå…³è”çš„keyï¼Œè¦æ±‚å”¯ä¸€ id valueï¼šå…³è”çš„å¯¹è±¡ objc_AssociationPolicy policyï¼šå†…å­˜ç®¡ç†çš„ç­–ç•¥ å†…å­˜ç®¡ç†ç­–ç•¥çš„å®šä¹‰ï¼š
typedef OBJC_ENUM(uintptr_t, objc_AssociationPolicy) { OBJC_ASSOCIATION_ASSIGN = 0, /**&amp;lt; Specifies a weak reference to the associated object. */ OBJC_ASSOCIATION_RETAIN_NONATOMIC = 1, /**&amp;lt; Specifies a strong reference to the associated object. * The association is not made atomically. */ OBJC_ASSOCIATION_COPY_NONATOMIC = 3, /**&amp;lt; Specifies that the associated object is copied. * The association is not made atomically. */ OBJC_ASSOCIATION_RETAIN = 01401, /**&amp;lt; Specifies a strong reference to the associated object. * The association is made atomically. */ OBJC_ASSOCIATION_COPY = 01403 /**&amp;lt; Specifies that the associated object is copied. * The association is made atomically. */ }; å†…å­˜åˆ†é…å„ä¸ªå€¼çš„å«ä¹‰å¦‚ä¸‹æ‰€ç¤ºï¼š ä¸‹é¢æ˜¯OCä¸­ä¸‹å®ç°ä¸€ä¸ªUIViewçš„Categoryæ·»åŠ è‡ªå®šä¹‰å±æ€§defaultColorï¼š
#import &amp;#34;ViewController.h&amp;#34; #import &amp;#34;objc/runtime.h&amp;#34;  @interface UIView (DefaultColor) @property (nonatomic, strong) UIColor *defaultColor; @end @implementation UIView (DefaultColor) @dynamic defaultColor; static char kDefaultColorKey; - (void)setDefaultColor:(UIColor *)defaultColor { objc_setAssociatedObject(self, &amp;amp;kDefaultColorKey, defaultColor, OBJC_ASSOCIATION_RETAIN_NONATOMIC); } - (id)defaultColor { return objc_getAssociatedObject(self, &amp;amp;kDefaultColorKey); } @end @interface ViewController () @end @implementation ViewController - (void)viewDidLoad { [super viewDidLoad]; // Do any additional setup after loading the view, typically from a nib.  UIView *test = [UIView new]; test.defaultColor = [UIColor blackColor]; NSLog(@&amp;#34;%@&amp;#34;, test.defaultColor); } @end åœ¨Swiftä¸­æ˜¯æŒ‰å¦‚ä¸‹ä½¿ç”¨æ–¹æ³•ä½¿ç”¨çš„ï¼š
extension NSObject { func setAssociated&amp;lt;T&amp;gt;(value: T, associatedKey: UnsafeRawPointer, policy: objc_AssociationPolicy = objc_AssociationPolicy.OBJC_ASSOCIATION_RETAIN_NONATOMIC) -&amp;gt; Void { objc_setAssociatedObject(self, associatedKey, value, policy) } func getAssociated&amp;lt;T&amp;gt;(associatedKey: UnsafeRawPointer) -&amp;gt; T? { let value = objc_getAssociatedObject(self, associatedKey) as? T return value } } Method Swizzling æ–¹æ³•æ·»åŠ  æ·»åŠ æ–¹æ³•çš„å®é™…ä¸Šåœ¨ä¸Šé¢çš„æ¶ˆæ¯è½¬å‘æœºåˆ¶ä¸­å·²ç»æåˆ°äº†ï¼Œå…¶å‡½æ•°å®šä¹‰ä¸ºï¼š
//class_addMethod(Class _Nullable __unsafe_unretained cls, SEL _Nonnull name, IMP _Nonnull imp, const char * _Nullable types) class_addMethod([self class], sel, (IMP)fooMethod, &amp;#34;v@:&amp;#34;); å…¶ä¸­ï¼Œå‚æ•°çš„è§£é‡Šå¦‚ä¸‹ï¼š
 clsè¡¨ç¤ºè¢«æ·»åŠ çš„ç±» nameæ·»åŠ çš„æ–¹æ³•çš„åç§°SEL impæ–¹æ³•çš„å®ç°ï¼Œè¯¥å‡½æ•°å¿…é¡»è‡³å°‘æœ‰ä¸¤ä¸ªå‚æ•°self,_cmd  æ–¹æ³•æ›¿æ¢ ä¸‹é¢OCä»£ç å®ç°æ›¿æ¢ViewControllerçš„viewDidLoadæ–¹æ³•ï¼š
@implementation ViewController &#43; (void)load { static dispatch_once_t onceToken; dispatch_once(&amp;amp;onceToken, ^{ Class class = [self class]; SEL originalSelector = @selector(viewDidLoad); SEL swizzledSelector = @selector(jkviewDidLoad); Method originalMethod = class_getInstanceMethod(class,originalSelector); Method swizzledMethod = class_getInstanceMethod(class,swizzledSelector); //judge the method named swizzledMethod is already existed.  BOOL didAddMethod = class_addMethod(class, originalSelector, method_getImplementation(swizzledMethod), method_getTypeEncoding(swizzledMethod)); // if swizzledMethod is already existed.  if (didAddMethod) { class_replaceMethod(class, swizzledSelector, method_getImplementation(originalMethod), method_getTypeEncoding(originalMethod)); } else { method_exchangeImplementations(originalMethod, swizzledMethod); } }); } - (void)jkviewDidLoad { NSLog(@&amp;#34;æ›¿æ¢çš„æ–¹æ³•&amp;#34;); [self jkviewDidLoad]; } - (void)viewDidLoad { NSLog(@&amp;#34;è‡ªå¸¦çš„æ–¹æ³•&amp;#34;); [super viewDidLoad]; } @end OCçš„swizzlingåº”è¯¥åªåœ¨&#43;loadä¸­å®Œæˆã€‚åœ¨OCçš„Runtimeä¸­ï¼Œæ¯ä¸ªç±»æœ‰ä¸¤ä¸ªæ–¹æ³•éƒ½ä¼šè‡ªåŠ¨è°ƒç”¨ã€‚&#43;loadæ˜¯åœ¨ä¸€ä¸ªç±»è¢«åˆå§‹è£…è½½æ—¶è°ƒç”¨ï¼Œ&#43;initializeæ˜¯åœ¨åº”ç”¨ç¬¬ä¸€æ¬¡è°ƒç”¨è¯¥ç±»çš„ç±»æ–¹æ³•æˆ–å®ä¾‹æ–¹æ³•å‰è°ƒç”¨çš„ã€‚ä¸¤ä¸ªæ–¹æ³•éƒ½æ˜¯å¯é€‰çš„ï¼Œå¹¶ä¸”åªæœ‰åœ¨æ–¹æ³•è¢«å®ç°çš„æƒ…å†µä¸‹æ‰ä¼šè¢«è°ƒç”¨ã€‚
swizzlingåº”è¯¥åªåœ¨dispatch_onceä¸­å®Œæˆï¼Œç”±äºswizzlingæ”¹å˜äº†å…¨å±€çš„çŠ¶æ€ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ç¡®ä¿æ¯ä¸ªé¢„é˜²æªæ–½åœ¨è¿è¡Œæ—¶éƒ½æ˜¯å¯ç”¨çš„ã€‚åŸå­æ“ä½œå°±æ˜¯è¿™æ ·ä¸€ä¸ªç”¨äºç¡®ä¿ä»£ç åªä¼šè¢«æ‰§è¡Œä¸€æ¬¡çš„é¢„é˜²æªæ–½ï¼Œå°±ç®—æ˜¯åœ¨ä¸åŒçš„çº¿ç¨‹ä¸­ä¹Ÿèƒ½ç¡®ä¿ä»£ç åªæ‰§è¡Œä¸€æ¬¡ã€‚Grand Central Dispatchçš„dispatch_onceæ»¡è¶³äº†æ‰€éœ€è¦çš„éœ€æ±‚ï¼Œå¹¶ä¸”åº”è¯¥è¢«å½“åšä½¿ç”¨swizzlingçš„åˆå§‹åŒ–å•ä¾‹æ–¹æ³•çš„æ ‡å‡†ã€‚
åœ¨ä¸Šå›¾ä¸­ï¼Œé€šè¿‡Swizzlingç‰¹æ€§ï¼Œå°†selectorCçš„æ–¹æ³•å®ç°IMPcä¸selectorNçš„æ–¹æ³•å®ç°IMPnäº¤æ¢äº†ï¼Œå½“è°ƒç”¨selectorCï¼Œä¹Ÿå°±æ˜¯ç»™å¯¹è±¡å‘é€selectorCæ¶ˆæ¯æ—¶ï¼Œæ‰€æŸ¥æ‰¾åˆ°çš„æ–¹æ³•å®ç°å°±æ˜¯IMPnè€Œä¸æ˜¯IMPcäº†ã€‚
KVOå®ç° KVOçš„å…¨ç§°æ˜¯Key-value observingï¼Œè¯‘ä¸ºé”®å€¼è§‚å¯Ÿã€‚æä¾›äº†ä¸€ç§å½“å…¶å®ƒå¯¹è±¡å±æ€§è¢«ä¿®æ”¹çš„æ—¶å€™èƒ½é€šçŸ¥å½“å‰å¯¹è±¡çš„æœºåˆ¶ã€‚å†MVCå¤§è¡Œå…¶é“çš„Cocoaä¸­ï¼ŒKVOæœºåˆ¶å¾ˆé€‚åˆå®ç°modelå’Œcontrollerç±»ä¹‹é—´çš„é€šä¿¡ã€‚
KVOçš„å®ç°ä¾èµ–äºOCå¼ºå¤§çš„Runtimeï¼Œå½“è§‚å¯ŸæŸå¯¹è±¡Aæ—¶ï¼ŒKVOæœºåˆ¶åŠ¨æ€åˆ›å»ºä¸€ä¸ªå¯¹è±¡Aå½“å‰ç±»çš„å­ç±»ï¼Œå¹¶ä¸ºè¿™ä¸ªæ–°çš„å­ç±»é‡å†™äº†è¢«è§‚å¯Ÿå±æ€§keyPathçš„setteræ–¹æ³•ã€‚setteræ–¹æ³•éšåè´Ÿè´£é€šçŸ¥è§‚å¯Ÿå¯¹è±¡å±æ€§çš„æ”¹å˜çŠ¶å†µã€‚
Appleä½¿ç”¨äº†isa-swizzlingæ¥å®ç°KVOã€‚å½“è§‚å¯Ÿå¯¹è±¡Aæ—¶ï¼ŒKVOæœºåˆ¶åŠ¨æ€åˆ›å»ºä¸€ä¸ªæ–°çš„åä¸ºï¼šNSKVONotifying_Açš„æ–°ç±»ï¼Œè¯¥ç±»ç»§æ‰¿è‡ªå¯¹è±¡Açš„æœ¬ç±»ï¼Œä¸”KVOä¸º NSKVONotifying_Aé‡å†™è§‚å¯Ÿå±æ€§çš„setteræ–¹æ³•ï¼Œsetteræ–¹æ³•ä¼šè´Ÿè´£åœ¨è°ƒç”¨åŸsetteræ–¹æ³•ä¹‹å‰å’Œä¹‹åï¼Œé€šçŸ¥æ‰€æœ‰è§‚å¯Ÿå¯¹è±¡å±æ€§å€¼çš„æ›´æ”¹æƒ…å†µã€‚
NSKVONotifying_Aç±»å‰–æï¼š
NSLog(@&amp;#34;self-&amp;gt;isa:%@&amp;#34;,self-&amp;gt;isa); NSLog(@&amp;#34;self class:%@&amp;#34;,[self class]); åœ¨å»ºç«‹KVOç›‘å¬å‰ï¼Œæ‰“å°ç»“æœä¸ºï¼š
self-&amp;gt;isa:A self class:A åœ¨å»ºç«‹KVOç›‘å¬ä¹‹åï¼Œæ‰“å°ç»“æœä¸ºï¼š
self-&amp;gt;isa:NSKVONotifying_A self class:A åœ¨è¿™ä¸ªè¿‡ç¨‹ï¼Œè¢«è§‚å¯Ÿå¯¹è±¡çš„isaæŒ‡é’ˆä»æŒ‡å‘åŸæ¥çš„Aç±»ï¼Œè¢«KVOæœºåˆ¶ä¿®æ”¹ä¸ºæŒ‡å‘ç³»ç»Ÿæ–°åˆ›å»ºçš„å­ç±»NSKVONotifying_Aç±»ï¼Œæ¥å®ç°å½“å‰ç±»å±æ€§å€¼æ”¹å˜çš„ç›‘å¬ï¼›
æ‰€ä»¥å½“æˆ‘ä»¬ä»åº”ç”¨å±‚é¢ä¸Šçœ‹æ¥ï¼Œå®Œå…¨æ²¡æœ‰æ„è¯†åˆ°æœ‰æ–°çš„ç±»å‡ºç°ï¼Œè¿™æ˜¯ç³»ç»Ÿéšç’äº†å¯¹KVOçš„åº•å±‚å®ç°è¿‡ç¨‹ï¼Œè®©æˆ‘ä»¬è¯¯ä»¥ä¸ºè¿˜æ˜¯åŸæ¥çš„ç±»ã€‚ä½†æ˜¯æ­¤æ—¶å¦‚æœæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°çš„åä¸ºNSKVONotifying_Açš„ç±»ï¼Œå°±ä¼šå‘ç°ç³»ç»Ÿè¿è¡Œåˆ°æ³¨å†ŒKVOçš„é‚£æ®µä»£ç æ—¶ç¨‹åºå°±å´©æºƒï¼Œå› ä¸ºç³»ç»Ÿåœ¨æ³¨å†Œç›‘å¬çš„æ—¶å€™åŠ¨æ€åˆ›å»ºäº†åä¸ºNSKVONotifying_Açš„ä¸­é—´ç±»ï¼Œå¹¶æŒ‡å‘è¿™ä¸ªä¸­é—´ç±»äº†ã€‚
å­ç±»setteræ–¹æ³•å‰–æï¼š
KVOçš„é”®å€¼è§‚å¯Ÿé€šçŸ¥ä¾èµ–äºNSObjectçš„ä¸¤ä¸ªæ–¹æ³•willChangeValueForKey:å’Œ didChangeValueForKey:ï¼Œåœ¨å­˜å–æ•°å€¼çš„å‰ååˆ†åˆ«è°ƒç”¨2ä¸ªæ–¹æ³•ï¼šè¢«è§‚å¯Ÿå±æ€§å‘ç”Ÿæ”¹å˜ä¹‹å‰ï¼ŒwillChangeValueForKey:è¢«è°ƒç”¨ï¼Œé€šçŸ¥ç³»ç»Ÿè¯¥keyPathçš„å±æ€§å€¼å³å°†å˜æ›´ï¼› å½“æ”¹å˜å‘ç”Ÿåï¼ŒdidChangeValueForKey:è¢«è°ƒç”¨ï¼Œé€šçŸ¥ç³»ç»Ÿè¯¥keyPathçš„å±æ€§å€¼å·²ç»å˜æ›´ï¼›ä¹‹åï¼ŒobserveValueForKey:ofObject:change:context:ä¹Ÿä¼šè¢«è°ƒç”¨ã€‚ä¸”é‡å†™è§‚å¯Ÿå±æ€§çš„setteræ–¹æ³•è¿™ç§ç»§æ‰¿æ–¹å¼çš„æ³¨å…¥æ˜¯åœ¨è¿è¡Œæ—¶è€Œä¸æ˜¯ç¼–è¯‘æ—¶å®ç°çš„ã€‚
KVOä¸ºå­ç±»çš„è§‚å¯Ÿè€…å±æ€§é‡å†™è°ƒç”¨å­˜å–æ–¹æ³•çš„å·¥ä½œåŸç†åœ¨ä»£ç ä¸­ç›¸å½“äºï¼š
- (void)setName:(NSString *)newName { [self willChangeValueForKey:@&amp;#34;name&amp;#34;]; //KVO åœ¨è°ƒç”¨å­˜å–æ–¹æ³•ä¹‹å‰æ€»è°ƒç”¨  [super setValue:newName forKey:@&amp;#34;name&amp;#34;]; //è°ƒç”¨çˆ¶ç±»çš„å­˜å–æ–¹æ³•  [self didChangeValueForKey:@&amp;#34;name&amp;#34;]; //KVO åœ¨è°ƒç”¨å­˜å–æ–¹æ³•ä¹‹åæ€»è°ƒç”¨ } çƒ­æ›´æ–°JSPatch JSPatchæ˜¯ä¸€ä¸ªiOSåŠ¨æ€æ›´æ–°æ¡†æ¶ï¼Œåªéœ€åœ¨é¡¹ç›®ä¸­å¼•å…¥æå°çš„å¼•æ“ï¼Œå°±å¯ä»¥ä½¿ç”¨ JavaScriptè°ƒç”¨ä»»ä½•OCåŸç”Ÿæ¥å£ï¼Œè·å¾—è„šæœ¬è¯­è¨€çš„ä¼˜åŠ¿ï¼šä¸ºé¡¹ç›®åŠ¨æ€æ·»åŠ æ¨¡å—ï¼Œæˆ–æ›¿æ¢é¡¹ç›®åŸç”Ÿä»£ç åŠ¨æ€ä¿®å¤bugã€‚
å…³äºæ¶ˆæ¯è½¬å‘ï¼Œå‰é¢å·²ç»è®²åˆ°è¿‡äº†ï¼Œæ¶ˆæ¯è½¬å‘åˆ†ä¸ºä¸‰çº§ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ¯çº§å®ç°æ›¿æ¢åŠŸèƒ½ï¼Œå®ç°æ¶ˆæ¯è½¬å‘ï¼Œä»è€Œä¸ä¼šé€ æˆå´©æºƒã€‚JSPatchä¸ä»…èƒ½å¤Ÿå®ç°æ¶ˆæ¯è½¬å‘ï¼Œè¿˜å¯ä»¥å®ç°æ–¹æ³•æ·»åŠ ã€æ›¿æ¢ç­‰ä¸€ç³»åˆ—åŠŸèƒ½ã€‚
å®ç°NSCodingçš„è‡ªåŠ¨å½’æ¡£å’Œè‡ªåŠ¨è§£æ¡£ ç”¨Runtimeæä¾›çš„å‡½æ•°éå†Modelè‡ªèº«æ‰€æœ‰å±æ€§ï¼Œå¹¶å¯¹å±æ€§è¿›è¡Œencodeå’Œdecodeæ“ä½œã€‚ æ ¸å¿ƒæ–¹æ³•ï¼šåœ¨Modelçš„åŸºç±»ä¸­é‡å†™æ–¹æ³•ï¼š
- (id)initWithCoder:(NSCoder *)aDecoder { if (self = [super init]) { unsigned int outCount; Ivar * ivars = class_copyIvarList([self class], &amp;amp;outCount); for (int i = 0; i &amp;lt; outCount; i &#43;&#43;) { Ivar ivar = ivars[i]; NSString * key = [NSString stringWithUTF8String:ivar_getName(ivar)]; [self setValue:[aDecoder decodeObjectForKey:key] forKey:key]; } } return self; } - (void)encodeWithCoder:(NSCoder *)aCoder { unsigned int outCount; Ivar * ivars = class_copyIvarList([self class], &amp;amp;outCount); for (int i = 0; i &amp;lt; outCount; i &#43;&#43;) { Ivar ivar = ivars[i]; NSString * key = [NSString stringWithUTF8String:ivar_getName(ivar)]; [aCoder encodeObject:[self valueForKey:key] forKey:key]; } } å®ç°å­—å…¸å’Œæ¨¡å‹çš„è‡ªåŠ¨è½¬æ¢(MJExtension) ç”¨runtimeæä¾›çš„å‡½æ•°éå†Modelè‡ªèº«æ‰€æœ‰å±æ€§ï¼Œå¦‚æœå±æ€§åœ¨jsonä¸­æœ‰å¯¹åº”çš„å€¼ï¼Œåˆ™å°†å…¶èµ‹å€¼ã€‚ æ ¸å¿ƒæ–¹æ³•ï¼šåœ¨NSObjectçš„åˆ†ç±»ä¸­æ·»åŠ æ–¹æ³•ã€‚
- (instancetype)initWithDict:(NSDictionary *)dict { if (self = [self init]) { //(1)è·å–ç±»çš„å±æ€§åŠå±æ€§å¯¹åº”çš„ç±»å‹  NSMutableArray * keys = [NSMutableArray array]; NSMutableArray * attributes = [NSMutableArray array]; /* * ä¾‹å­ * name = value3 attribute = T@&amp;#34;NSString&amp;#34;,C,N,V_value3 * name = value4 attribute = T^i,N,V_value4 */ unsigned int outCount; objc_property_t * properties = class_copyPropertyList([self class], &amp;amp;outCount); for (int i = 0; i &amp;lt; outCount; i &#43;&#43;) { objc_property_t property = properties[i]; //é€šè¿‡property_getNameå‡½æ•°è·å¾—å±æ€§çš„åå­—  NSString * propertyName = [NSString stringWithCString:property_getName(property) encoding:NSUTF8StringEncoding]; [keys addObject:propertyName]; //é€šè¿‡property_getAttributeså‡½æ•°å¯ä»¥è·å¾—å±æ€§çš„åå­—å’Œ@encodeç¼–ç   NSString * propertyAttribute = [NSString stringWithCString:property_getAttributes(property) encoding:NSUTF8StringEncoding]; [attributes addObject:propertyAttribute]; } //ç«‹å³é‡Šæ”¾propertiesæŒ‡å‘çš„å†…å­˜  free(properties); //(2)æ ¹æ®ç±»å‹ç»™å±æ€§èµ‹å€¼  for (NSString * key in keys) { if ([dict valueForKey:key] == nil) continue; [self setValue:[dict valueForKey:key] forKey:key]; } } return self; } å‚è€ƒèµ„æ–™ å‚è€ƒèµ„æ–™ å‚è€ƒèµ„æ–™
</content>
    </entry>
    
     <entry>
        <title>é™ˆå°å¨ä½œå“</title>
        <url>https://iihui.github.io/post/food-2020/</url>
        <categories>
          <category>ç¾é£Ÿ</category>
        </categories>
        <tags>
          <tag>ç¾é£Ÿ</tag>
        </tags>
        <content type="html">  2020å¹´ç»™è‡ªå·±å®šäº†äº›å¹´åº¦ç›®æ ‡ï¼Œç”¨å¿ƒä¸‹å¨æ˜¯å…¶ä¸­ä¸€é¡¹ã€‚æˆ‘æ˜¯ä¸€ä¸ªå–œæ¬¢å€’è…¾åƒçš„äººï¼Œæ¯æ¬¡çœ‹åˆ°è‡ªå·±åšçš„ä¸œè¥¿æ—¢ç¾å‘³åˆæœ‰é¢œå€¼çš„æ—¶å€™ï¼Œæ€»ä¼šå¾ˆå¼€å¿ƒï¼Œä½†å¤šæ•°æ—¶å€™éƒ½å¿˜äº†è®°å½•å¤§è‡´çš„æ­¥éª¤å’Œæ‹ç…§ç•™å­˜ï¼Œ2020å¹´æƒ³ç»™è‡ªå·±å¤šç•™ç‚¹å€¼å¾—å›å¿†çš„ä¸œè¥¿ï¼Œæ•…ä»¥æ­¤ä¸ºè®°ã€‚
 äºŒæœˆä½œå“ çŒªè¡€ä¸¸å­ã€è…Šè‚‰ç‚’è¾£æ¤’ï¼ˆçŒªè¡€ä¸¸å­å…ˆæ•´ä¸ªç…®ï¼Œå†ç”¨å†·æ°´å†·å´ï¼Œè¶çƒ­åˆ‡ç‰‡ï¼Œå†æ”¾æ²¹å°ç«ç…ï¼Œéšåæ”¾ä½æ–™å’Œè¾£æ¤’ä¸­ç«ç¿»ç‚’ï¼‰
èŠ±ä»™å­æ¡‚èŠ±æ±¤åœ†ã€æ¹¾ä»”ç å¤´æ°´æ™¶æ±¤åœ†ï¼ˆçƒ§å¼€æ°´å†æ”¾æ±¤åœ†ï¼Œå†å°ç«æ…¢ç…®ï¼Œæ°´å¼€ä¹‹ååŠ ä¸€æ¯å†·æ°´ï¼Œå†å¼€ä¹‹åå†åŠ ä¸€æ¯å†·æ°´ï¼Œç„¶åç…®åˆ°ä¸‹é¢æ ·å­çš„æ—¶å€™æå‡ºæ¥ï¼‰
èåœå’ŒåœŸè±†ç‚–ç‰›è…©å’Œæ’éª¨ï¼ˆç‰›è…©å’Œæ’éª¨å…ˆç…®ï¼Œç„¶åæå‡ºæ¥ï¼Œæ´—å¹²å‡€ï¼Œå†å’ŒåœŸè±†èåœä¸€èµ·æ”¾ç”µé¥­ç…²é‡Œç‚–ï¼Œç‚–å·®ä¸å¤šä¸€ä¸ªåŠå°æ—¶ï¼‰
æ’éª¨ç‚–åœŸè±†ï¼ˆé¦–å…ˆå°†æ’éª¨æ´—å‡€ï¼Œç„¶ååœ¨æ”¾é”…é‡Œç…®ï¼Œç…®ç†Ÿä¹‹åæå‡ºæ¥æ™¾å¹²ï¼Œè¿™ä¸€æ­¥ä¸»è¦æ˜¯å»æµ®æ²«ï¼Œç„¶åå†æ”¾æ²¹ç…ä¸€ä¸‹æ’éª¨ï¼Œç…å®Œä¹‹åæ”¾åœŸè±†ç‚’ï¼Œä¹‹åæ”¾æ°´ç…®å³å¯ï¼Œï¼‰
è¥¿å…°èŠ±ç‚’è‚‰ï¼ˆé¦–å…ˆå°†è¥¿å…°èŠ±ç„¯æ°´ï¼Œæ³¨æ„åƒä¸‡ä¸è¦å¤ªä¹…ï¼Œç„¶åç‚’è‚‰ï¼Œè‚‰ç‚’å¾—å·®ä¸å¤šçš„æ—¶å€™æ”¾è¥¿å…°èŠ±ï¼Œå†ç‚’ä¸€æ®µæ—¶é—´ï¼Œç‚’å¾—æ—¶é—´åƒä¸‡ä¸è¦è¿‡é•¿ï¼‰ æ¸…ç‚’èƒ¡èåœï¼ˆç‚’èƒ¡èåœæœ€å…³é”®çš„æ˜¯åˆ‡èƒ¡èä¸ï¼Œä¸€å®šè¦æœ‰è€å¿ƒï¼Œåšåº¦å°½é‡ä¿æŒä¸€è‡´ï¼Œç‚’çš„æ—¶å€™ä¸è¦å¤ªè¦å¤ªä¹…ï¼Œè‘±èŠ±æœ€åè¦èµ·é”…çš„æ—¶å€™æ”¾ï¼‰
ç‚’é•¿è±†è§’ä¸ï¼ˆè‚‰åº”è¯¥é€‰é‚£ç§è‚¥ç˜¦ç›¸é—´çš„ï¼Œåˆ‡æˆè‚‰æ²«ï¼Œè‚‰æ²«åº”è¯¥å…ˆå•ç‹¬ç‚’ï¼Œæ”¾ä¸€äº›é…¸è¾£æ¤’æˆ–è€…æ©„æ¦„èœæˆ–è®¸æ›´å¥½ï¼‰
é’æ¤’ç‚’è‚‰(å…ˆç‚’è‚‰ï¼Œç‚’ç†Ÿä¹‹åï¼Œå†æ”¾å§œè’œå’Œå°ç±³æ¤’å¤§ç«ç‚’å‡ ç§’é’Ÿï¼Œå†æ”¾é’æ¤’ï¼Œç¿»ç‚’ä¸€å°ä¼šï¼Œæœ€åå’Œè‚‰ä¸€èµ·ç‚’ï¼Œä¸´è¿‘èµ·é”…çš„æ—¶å€™æ”¾äº›ç”ŸæŠ½å‘³é“ä¼šæ›´å¥½)
æ—©é¤é¢ï¼ˆé¢ä¸Šæ˜¯å¤è±†è…ï¼Œç‰›è…©ï¼Œè…ŠçŒªè¡€ä¸¸å­ï¼‰
 </content>
    </entry>
    
     <entry>
        <title>macOS å®‰è£…Homebrew æŠ¥é”™</title>
        <url>https://iihui.github.io/post/qa_install_brew/</url>
        <categories>
          <category>QA</category>
        </categories>
        <tags>
          <tag>QA</tag>
        </tags>
        <content type="html">  é‡è£…äº†macOS Catalina 10.15.2ï¼Œä½†ä½¿ç”¨/usr/bin/ruby -e &amp;quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&amp;quot;å®‰è£…Homebrewæ—¶æŠ¥curl: (7) Failed to connect to raw.githubusercontent.com port 443: Connection refusedé”™è¯¯ï¼Œç½‘ä¸Šå¤§å¤šæ•°è¯´è¦è®¾ç½®ä»£ç†ï¼Œä½†äºæˆ‘è€Œè¨€æ²¡æœ‰ä»»ä½•æ•ˆæœã€‚ç¿»äº†ä¸€åœˆèµ„æ–™ï¼ŒçŒœæµ‹æ˜¯ç³»ç»Ÿçš„curlæœ‰é—®é¢˜ï¼ŒæŒ‰ç…§è¿™ä¸ªæ€è·¯ï¼Œé¦–å…ˆåº”è¯¥ä½¿ç”¨å¦ä¸€ç§æ–¹å¼å®‰è£…Homebrewï¼Œç„¶åå†åˆ©ç”¨Homebrewå®‰è£…curlï¼Œæœ€åè®¾ç½®Homebrewå®‰è£…çš„curlä¼˜å…ˆçº§é«˜äºç³»ç»Ÿçš„curlã€‚
 å®‰è£…Homebrew é¦–å…ˆåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€https://raw.githubusercontent.com/Homebrew/install/master/installã€‚è‹¥ä¸èƒ½æ‰“å¼€ï¼Œå°±æ˜¯ç½‘ç»œé—®é¢˜ï¼›å¦‚æœèƒ½æ‰“å¼€å°±å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
ç„¶åå°†è¿™ä¸ªç½‘é¡µçš„å†…å®¹å¤åˆ¶ç²˜è´´ä¿å­˜ï¼Œå¹¶å‘½åä¸ºbrew_install.rbã€‚å†å†ç»ˆç«¯ä¸­è¾“å…¥curlå‘½ä»¤ï¼Œå¦‚æœå‡ºç°curl: try &#39;curl --help&#39; or &#39;curl --manual&#39; for more informationåˆ™è¡¨ç¤ºcurlæœ¬èº«æ²¡æœ‰é—®é¢˜ï¼š
æ¥ç€åœ¨ç»ˆç«¯è·³è½¬åˆ°ä¿å­˜brew_install.rbçš„ç›®å½•ä¸‹ï¼Œè¾“å…¥å‘½ä»¤ruby brew_install.rbï¼Œä»¥å®Œæˆå®‰è£…Homebrewã€‚
å®‰è£…å¹¶å¯ç”¨æ–°curl å½“ä¸Šä¸€æ­¥æç¤ºå®‰è£…æˆåŠŸä¹‹åï¼Œåˆ™å¯ä»¥é€šè¿‡Homebrewå®‰è£…curlï¼Œå³åœ¨ç»ˆç«¯è¾“å…¥brew install curlï¼Œå®‰è£…æˆåŠŸä¹‹åï¼Œå¦‚æœåœ¨ç»ˆç«¯é€šè¿‡sh -c &amp;quot;$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&amp;quot;å‘½ä»¤å®‰è£…oh my zsh ä¾ç„¶ä¼šæŠ¥é”™curl: (35) Server aborted the SSL handshake é”™è¯¯ï¼Œè¿™æ˜¯å› ä¸ºbrewå®‰è£…çš„curlçš„ä¼˜å…ˆçº§ä½äºç³»ç»Ÿçš„ã€‚
æ¥ç€å°±éœ€è¦å°†Homebrewå®‰è£…çš„curlçš„ä¼˜å…ˆçº§è°ƒé«˜ï¼Œä½¿å…¶é«˜äºç³»ç»Ÿçš„curlï¼Œä½¿ç”¨å‘½ä»¤ brew link curl --forceä¼šæç¤º æŒ‰ç…§ä¸Šé¢çš„æç¤ºï¼Œé¦–å…ˆæ‰§è¡Œecho &#39;export PATH=&amp;quot;/usr/local/opt/curl/bin:$PATH&amp;quot;&#39; &amp;gt;&amp;gt; ~/.zshrc ç„¶åå°†export LDFLAGS=&amp;quot;-L/usr/local/opt/curl/lib&amp;quot;å’Œexport CPPFLAGS=&amp;quot;-I/usr/local/opt/curl/include&amp;quot;æ”¾åˆ°.zshrcï¼ˆæˆ‘ç”¨çš„zshï¼Œå¦‚æœç”¨æˆ·çš„æ˜¯å…¶ä»–shellåˆ™ä¿®æ”¹å¯¹åº”çš„é…ç½®æ–‡ä»¶ï¼‰ä¸­ï¼Œè‡³æ­¤é—®é¢˜è§£å†³ã€‚
å‚è€ƒèµ„æ–™ å‚è€ƒèµ„æ–™
 å¦ä¸€ç§æ–¹å¼ ç”±äºä¼—æ‰€å‘¨çŸ¥çš„åŸå› ï¼Œå®‰è£…homebrewç»å¸¸æŠ¥é”™ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹å¼å®‰è£…ï¼š
/bin/zsh -c &amp;#34;$(curl -fsSL https://gitee.com/cunkai/HomebrewCN/raw/master/Homebrew.sh)&amp;#34; å‚è€ƒèµ„æ–™
</content>
    </entry>
    
     <entry>
        <title>Almofireçš„ä½¿ç”¨</title>
        <url>https://iihui.github.io/post/ios-alamofire/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html">  å¦‚æœä½¿ç”¨è¿‡OCè¿›è¡Œå¼€å‘ï¼Œé‚£ä¹ˆçŸ¥é“AFNetworkingè¿™ä¸ªç½‘ç»œæ“ä½œåº“ã€‚Mattt Thompsonä½œä¸ºAFNetworkingçš„å‘èµ·äººï¼ŒåˆåŸºäºSwiftè¯­è¨€å¼€å‘äº†ä¸€ä¸ªæ–°çš„ç½‘ç»œæ“ä½œåº“ Alamofireã€‚Alamofireçš„ä¼˜é›…ä¹‹å¤„åœ¨äºå®ƒå®Œå®Œå…¨å…¨æ˜¯ç”±Swiftå†™æˆçš„ï¼Œå¹¶ä¸”æ²¡æœ‰ä»AFNetworkingé‚£é‡Œç»§æ‰¿ä»»ä½•ç‰¹æ€§ã€‚Alamofireç½‘ç»œåº“é€‚ç”¨äºiOSå’ŒmacOSï¼Œå®ƒæä¾›äº†é“¾å¼request/responseæ–¹æ³•ï¼ŒJSONçš„ä¼ å‚å’Œå“åº”åºåˆ—åŒ–ï¼Œèº«ä»½è®¤è¯å’Œå…¶ä»–ç‰¹æ€§ã€‚
 ä¸Šä¼  func upLoadStaticsFile(){ do { guard let sessionID = userInfoService.activeUser?.sessionID, let sessionIDSM = userInfoService.activeUse return } let parameters = [&amp;#34;sessionID&amp;#34;: sessionID] let formatter = DateFormatter() formatter.dateFormat = &amp;#34;yyyy-MM-dd HH:mm:ss&amp;#34; let temName = &amp;#34;\(formatter.string(from: Date()))-\(deviceID).txt&amp;#34; let temPath = self.statisticsDir.path.stringByAppendingPathComponent(temName) let path = self.statisticsDir.path.stringByAppendingPathComponent(fileName) try FileManager.default.moveItem(atPath: path, toPath: temPath) // éå†åŸ‹ç‚¹æ–‡ä»¶å¤¹ä¸‹çš„åŸ‹ç‚¹æ•°æ®æ–‡ä»¶,ä»¥è·å– let fileList = try FileManager.default.contentsOfDirectory(atPath: statisticsDir.path) let needUploadFileList = fileList.filter { $0 != self.fileName } for file in needUploadFileList { let path = self.statisticsDir.path.stringByAppendingPathComponent(file) let dataURL = URL(fileURLWithPath: path) let data = try Data(contentsOf: dataURL) self.uploadFile(data: data, parameters: parameters, file: file, path: path) } } catch let error as NSError { log.error(error.localizedDescription) } } private func uploadFile(data: Data, parameters: [String: String], file: String, path: String) { Alamofire.upload(multipartFormData: { multipartFormData in multipartFormData.append(data, withName: &amp;#34;file&amp;#34;, fileName: file, mimeType: &amp;#34;text/plain&amp;#34;) for (key, value) in parameters { if let valueData = value.data(using: .utf8) { multipartFormData.append(valueData, withName: key) } } }, to: addreess, method: .post) { result in switch result { case .success: do { try FileManager.default.removeItem(atPath: path) } catch let error as NSError { log.error(error.localizedDescription) } case let .failure(error): log.error(error.localizedDescription) } } } ä¸‹è½½ func requestScreenImage(url:String,completionHandler:@escaping (_ :Data?) -&amp;gt;Void){ Alamofire.request(url, method: .get).response { response in if response.error == nil{ completionHandler(response.data) }else{ completionHandler(nil) } } } func requestImage(url: String, completionHandler: @escaping (_ image: UIImage?) -&amp;gt; Void) { self.tokenHttpController.requestLoginDataAndToken(type: .base64, success: { (data, token) in let data = data?.extStringByUrlEncode ?? &amp;#34;&amp;#34; let token = token?.extStringByUrlEncode ?? &amp;#34;&amp;#34; let header: HTTPHeaders = [ &amp;#34;data&amp;#34;: data, &amp;#34;token&amp;#34;: token ] Alamofire.request(url, method: .get, headers: header).response { (response) in if let data = response.data { let image = UIImage(data: data) completionHandler(image) }else{ completionHandler(nil) } } }) { completionHandler(nil) } } func requestScreenADConfigInfo(completionHandler:@escaping (JSON) -&amp;gt; Void){ let url = ConfigRequestUrl let op = ConfigRequestAction.getScreenPictureInfo let meta = getDefaultMetaData(op) var data = [String:String]() if let model = ScreenADConfigDBRepository.Instance.getScreenConfigModel(),let jsonStr = model.screenConfigJsonStr{ if let dataJson = jsonStr.data(using: String.Encoding.utf8) { do{ let json = try JSON(data:dataJson) data[&amp;#34;configHash&amp;#34;] = json[&amp;#34;configHash&amp;#34;].stringValue }catch{ data[&amp;#34;configHash&amp;#34;] = &amp;#34;&amp;#34; } } }else{ data[&amp;#34;configHash&amp;#34;] = &amp;#34;&amp;#34; } switch UIDevice.current.userInterfaceIdiom{ case .pad: data[&amp;#34;type&amp;#34;] = &amp;#34;Pad&amp;#34; case .phone: data[&amp;#34;type&amp;#34;] = &amp;#34;Phone&amp;#34; default:break } var bodyData = [String:Any]() bodyData[&amp;#34;meta&amp;#34;] = meta bodyData[&amp;#34;data&amp;#34;] = data Alamofire.request(url, method: .post, parameters: bodyData,encoding: JSONEncoding.default).responseJSON{ response in switch response.result{ case .success(let value): let json = JSON(value) let subJSON = json[&amp;#34;data&amp;#34;] let retCode = subJSON[&amp;#34;retCode&amp;#34;].stringValue //retCode ä¸º1è¡¨ç¤ºæœ‰æ›´æ–°ï¼Œ0è¡¨ç¤ºæ²¡æœ‰æ›´æ–°ï¼Œå…¶å®ƒè¡¨ç¤ºå‡ºé”™ switch retCode{ case &amp;#34;1&amp;#34;: completionHandler(subJSON) case &amp;#34;0&amp;#34;: break default: let msg = subJSON[&amp;#34;retMsg&amp;#34;].stringValue DPrint(msg) } case .failure(let error): Dprint(error.localizedDescription) } } } func bindUserDevice(with model: LoginUserModel, and existUsers: ExistUsers, block: @escaping (_ model: UserInfoModel?, _ errorMsg: String?) -&amp;gt; Void) { var dataDic = Dictionary&amp;lt;String, String&amp;gt;() dataDic[&amp;#34;rand&amp;#34;] = UUID().uuidString var metaDic = self.getDefaultMetaDic(forAction: ConfigRequestAction.bindUserDeviceV2) metaDic[&amp;#34;ystID&amp;#34;] = model.ystId metaDic[&amp;#34;sapID&amp;#34;] = model.sapId metaDic[&amp;#34;inuseID&amp;#34;] = model.inUseId let parameters = self.getRequestPostParameters(metaDic: metaDic, dataDic: dataDic) Alamofire.request(ConfigRequestMoUrl, method: .post, parameters: parameters, encoding: JSONEncoding.default, headers: nil).responseJSON { (response) in switch response.result { case .success(let value): let json = JSON(value) if let retCode = json[&amp;#34;data&amp;#34;][&amp;#34;retCode&amp;#34;].string, retCode == &amp;#34;0&amp;#34; { let model = UserInfoModel(from: json[&amp;#34;data&amp;#34;]) block(model, nil) } else { block(nil, json[&amp;#34;data&amp;#34;][&amp;#34;retMsg&amp;#34;].stringValue) } case .failure(_): block(nil, &amp;#34;network is poor&amp;#34;) } } }  å‚è€ƒèµ„æ–™ å‚è€ƒèµ„æ–™ å¯¹æ¯”
</content>
    </entry>
    
     <entry>
        <title>UITableView ä½¿ç”¨</title>
        <url>https://iihui.github.io/post/ios-uitableview/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html">  åœ¨iOSå¼€å‘ä¸­ï¼ŒUITableViewçš„ä½¿ç”¨é¢‘ç‡è¾ƒé«˜ï¼Œè¿™ç¯‡æ–‡ç« ä¸»è¦ç”¨äºè®°å½•ä¸€äº›å¸¸ç”¨çš„ä½¿ç”¨æ–¹æ³•å’Œé—®é¢˜è§£å†³æ–¹æ¡ˆã€‚
 ç‚¹å‡»cellä¸å˜è‰² func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&amp;gt; UITableViewCell { let cell = tableView.dequeueReusableCell(withIdentifier: cellId, for: indexPath) as! NoteDetailInfoCell cell.selectionStyle = .none //ç‚¹å‡»è¯¥cellä¸å˜è‰² return cell }  Cellå¼‚æ­¥æ›´æ–° åœ¨UITableViewä¸­ç»å¸¸è¦ä½¿ç”¨åˆ°å¼‚æ­¥è¯·æ±‚ï¼Œè¯·æ±‚å›æ¥ä¹‹åè¦æ›´æ–°ç›¸åº”cellçš„å¤–è§‚ï¼Œç”±äºUITableViewä¸­çš„cellå­˜åœ¨å¤ç”¨é—®é¢˜ï¼Œå› æ­¤å¼‚æ­¥è¯·æ±‚è¿”å›ä¹‹åè¦ç‰¹åˆ«å°å¿ƒå¤„ç†ã€‚ç›®å‰ä¸ªäººæ€»ç»“å¯ä»¥æœ‰ä¸‰ç§æ–¹å¼ã€‚
ä½¿ç”¨å†…å­˜ç¼“å­˜ åœ¨presenterä¸­å¢åŠ ç¼“å­˜ï¼Œä¸€èˆ¬ä½¿ç”¨mapæ¥å®ç°ï¼Œç„¶åä¸€èˆ¬ä»¥indexPathä½œä¸ºkeyï¼ˆä¹Ÿå¯ä»¥å…¶ä»–å…·æœ‰å”¯ä¸€æ€§çš„idä½œä¸ºkeyï¼‰ï¼Œä»¥å¼‚æ­¥è¯·æ±‚ä¹‹åè¿”å›çš„æŸé¡¹æ•°æ®ä½œä¸ºvalueã€‚å¼‚æ­¥è¿”å›ä¹‹åï¼Œæ›´æ–°ç¼“å­˜ï¼Œç„¶åå†åœ¨ä¸»çº¿ç¨‹ä¸­è°ƒç”¨reloadæ–¹æ³•ã€‚
override func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&amp;gt; UITableViewCell { let cell = tableView.dequeueReusableCell(withIdentifier: self.zhGroupCellIdentifier, for: indexPath) let model = self.presenter.dataSource[indexPath.row] if let groupCell: ZHGroupCell = cell as? ZHGroupCell { groupCell.nameLbl.text = model.sessionName if let image = self.presenter.headCache[model.sessionID] { groupCell.imgView.image = image } else { self.presenter.requestImage(id: model.sessionID,indexPath: indexPath) { [weak self] index in DispatchQueue.main.async { [weak self] in tableView.reloadRows(at: [index], with: .none) } } } } } return cell } /// ä»æœåŠ¡ç«¯è·å–ç”¨æˆ·å¤´åƒ private func getHeaderImageFromRemote(user: ContactsUser, indexPath: IndexPath) { self.contactsHeadPhotoService.getServerImage(user: user) { [weak self] _ in DispatchQueue.main.async { [weak self] in if self?.tableView.cellForRow(at: indexPath) != nil { if self?.isSearching == true { self?.tableView.reloadRows(at: [indexPath], with: .none) } else { //éæœç´¢çŠ¶æ€æ—¶æœ‰å¯èƒ½æœ‰ç›¸åŒçš„è”ç³»äººåœ¨ä¸åŒçš„åˆ†ç»„ï¼Œæ‰€ä»¥é€‰æ‹©å…¨éƒ¨reload self?.tableView.reloadData() } } } } } ä½¿ç”¨prepareForReuse() ä½¿ç”¨KingFisherè¯·æ±‚å›¾ç‰‡èµ„æºæ—¶ï¼Œç”±äºæœ‰äº›å›¾ç‰‡è¿”å›è¾ƒæ…¢ï¼Œå› ä¸ºcellå¤ç”¨ï¼Œå¯èƒ½ä¼šå¯¼è‡´å›¾ç‰‡å‡ºç°é”™ä¹±ï¼Œæ­¤æ—¶å¯ä»¥åœ¨prepareForReuseå…ˆå–æ¶ˆç›¸åº”çš„ç½‘ç»œè¯·æ±‚ã€‚
/// å› ä¸ºä½¿ç”¨kingfisherè¿›è¡Œå›¾ç‰‡ä¸‹è½½ä¸ºå¼‚æ­¥çš„ï¼Œæ‰€ä»¥è¦è§£å†³å¤ç”¨é—®é¢˜ override func prepareForReuse() { super.prepareForReuse() self.headerImageView.kf.cancelDownloadTask() self.dkImageView.kf.cancelDownloadTask() } è®¾ç½®å¯¹åº”cell é¦–å…ˆå¼‚æ­¥è¯·æ±‚æ—¶å¤šåŠ ä¸€ä¸ªindexPathå‚æ•°ï¼Œå¼‚æ­¥è¿”å›æ—¶æŠŠè¿”å›çš„æ•°æ®å’ŒindexPathä½œä¸ºå›è°ƒå‚æ•°ï¼Œç„¶åæ ¹æ®indexPathæ‰¾åˆ°å¯¹åº”çš„cellï¼Œæœ€åæ›´æ–°cellçš„å¤–è§‚ã€‚
override func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&amp;gt; UITableViewCell { let cell = tableView.dequeueReusableCell(withIdentifier: self.zhGroupCellIdentifier, for: indexPath) let model = self.presenter.dataSource[indexPath.row] if let groupCell: ZHGroupCell = cell as? ZHGroupCell { groupCell.nameLbl.text = model.sessionName if let image = self.presenter.headCache[model.sessionID] { groupCell.imgView.image = image } else { self.presenter.requestImage(id: model.sessionID,indexPath: indexPath) { [weak self] index in DispatchQueue.main.async { [weak self] in if let cell = tableView.cellForRow(at: index) as? ZHGroupCell,let model = self?.presenter.dataSource[index.row] { cell.imgView?.image = self?.presenter.headCache[model.sessionID] } } } } } return cell } åˆ†ç»„æ˜¾ç¤º é“¾æ¥
range
åŠ¨æ€è°ƒæ•´footeré«˜åº¦ override func viewDidLayoutSubviews() { super.viewDidLayoutSubviews() guard let footerView = self.tableView.tableFooterView else { return } let width = self.tableView.bounds.size.width let size = footerView.systemLayoutSizeFitting(CGSize(width: width, height: UIView.layoutFittingCompressedSize.height)) if footerView.frame.size.height != size.height { footerView.frame.size.height = size.height self.tableView.tableFooterView = footerView } } å‚è€ƒ
 </content>
    </entry>
    
     <entry>
        <title>è´µå·ä¹‹è¡Œ</title>
        <url>https://iihui.github.io/post/travel-guizhou/</url>
        <categories>
          <category>æ—…è¡Œ</category>
        </categories>
        <tags>
          <tag>æ—…è¡Œ</tag><tag>è´µå·</tag>
        </tags>
        <content type="html"> é»„æœæ ‘ç€‘å¸ƒæ™¯åŒº å¨„å±±å…³ å¤–ä¼¶ä»ƒå²› </content>
    </entry>
    
     <entry>
        <title>Cocoapods ä½¿ç”¨</title>
        <url>https://iihui.github.io/post/ios-cocoapods-storage/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html"> æ”¾å…¥åˆ¶å“åº“  é¡¹ç›®éœ€è¦å¼•å…¥ç™¾åº¦è¯­éŸ³åˆæˆSDKï¼Œä½†è¿™ä¸ªç¬¬ä¸‰æ–¹åº“ä¸­åŒ…å«çš„.aæ–‡ä»¶è¿‡äºåºå¤§ï¼ŒæŒ‰è§„å®šä¸èƒ½ç›´æ¥æ”¾åˆ°ä»£ç ä»“åº“é‡Œï¼Œéœ€è¦ç§»åˆ°Cocoapodsåˆ¶å“åº“ä¸­ï¼Œç„¶åå†åœ¨é¡¹ç›®ä¸­ä¾èµ–è¿™ä¸ªç»„ä»¶ã€‚ç”¨å·²æœ‰çš„æ¨¡æ¿ï¼Œåªè¦æŒ‰ç…§è¦æ±‚ä¿®æ”¹å¯¹åº”æ–‡ä»¶ï¼Œç„¶åæ‰§è¡Œç›¸åº”ä¸Šä¼ å‘½ä»¤å³å¯ï¼Œè¿™ä¸€è¿‡ç¨‹å¯ä»¥æ€»ç»“ä¸º5ä¸ªæ­¥éª¤ã€‚
 ç¬¬ä¸€æ­¥ é¦–å…ˆä¿®æ”¹.podspecæ–‡ä»¶ã€‚ä¸ºäº†ä¿®æ”¹.podspecæ–‡ä»¶ï¼Œé¦–å…ˆå¿…é¡»åˆ›å»ºç¬¬ä¸‰æ–¹åº“ç›®å½•ã€‚ä¸‹å›¾ä¸ºç¬¬ä¸‰æ–¹åº“å­˜æ”¾çš„ç›®å½•ç»“æ„ï¼Œå¦‚éœ€æ–°å»ºä¸€ä¸ªç¬¬ä¸‰æ–¹åº“ç›®å½•ï¼Œåˆ™é€‰ä¸­ä»»æ„ä¸€ä¸ªæ‹·è´ä¸€ä»½:
æ‹·è´å®Œäº†ä¹‹åä¿®æ”¹ä¸‹å›¾ä¸­é•¿æ–¹å½¢å†…æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹(å…±3å¤„)çš„åå­—ï¼Œç„¶ååˆ é™¤ä¸‹å›¾æ¤­åœ†å†…çš„æ–‡ä»¶ï¼š
ä¸ºäº†æµ‹è¯•ï¼Œå°†ä¸Šå›¾çš„å‰¯æœ¬é‡å‘½åä¸ºBaiduTestï¼Œä¿®æ”¹ä¸Šé¢çš„3ä¸ªåœ°æ–¹çš„æ–‡ä»¶åï¼Œå†åˆ é™¤æ–‡ä»¶åå¦‚ä¸‹å›¾æ‰€ç¤º:
ç„¶åä¿®æ”¹.podspecæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶çš„ä¿®æ”¹å¿…é¡»ä½¿ç”¨ç»ˆç«¯æ–‡æœ¬ç¼–è¾‘å™¨ï¼ˆæˆ‘ä½¿ç”¨vimç¼–è¾‘å™¨ï¼‰ï¼Œå¦åˆ™å¯èƒ½å‡ºé”™ï¼Œè¿™ä¸ªæ–‡ä»¶ä¹Ÿæœ‰ä¸‰ä¸ªåœ°æ–¹éœ€è¦ä¿®æ”¹ã€‚
ç¬¬ä¸€ä¸ªåœ°æ–¹ é¦–å…ˆä¿®æ”¹s.name,s.version,s.summary,s.descriptionè¿™å››ä¸ªåœ°æ–¹ï¼Œå…¶ä¸­s.nameä¿æŒä¸ºä¸Šé¢ä¿®æ”¹çš„åå­—ï¼Œç‰ˆæœ¬å·ä¸º0.0.1ï¼š
ç¬¬äºŒä¸ªåœ°æ–¹ æ¥ä¸‹æ¥ä¿®æ”¹s.homepage,åªè¦å°†æœ€åçš„åå­—ä¿®æ”¹ä¸ºBaiduTest:
ç¬¬ä¸‰ä¸ªåœ°æ–¹ æœ€åä¿®æ”¹s.source,å°†åé¢ä¸¤é¡¹ä¿®æ”¹å³å¯ï¼Œè¿™ä¸¤é¡¹çš„åå­—è¦å’Œs.nameå’Œs.versionä¿æŒä¸€è‡´:
 ç¬¬äºŒæ­¥ ç¬¬äºŒæ­¥ä¿®æ”¹push.py,ç›®çš„æ˜¯å°†LC10_01_BaiduTestè¿™ä¸ªç›®å½•æ‰“åŒ…å¹¶ä¸Šä¼ åˆ°ä»“åº“ä¸­ï¼Œè¿™ä¸ªæ–‡ä»¶è¦ä¿®æ”¹ä¸¤å¤„:
ç¬¬ä¸€ä¸ªåœ°æ–¹ å°†zipCommandsåé¢çš„åå­—æ”¹ä¸ºLC10_01_BaiduTestï¼š
ç¬¬äºŒä¸ªåœ°æ–¹ å°†uploadCommandå‘½ä»¤åæ‰“åŒ…ç›®å½•å’Œæ‰“åŒ…åçš„æ–‡ä»¶çš„åå­—æ”¹æˆLC10_01_BaiduTestï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
 ç¬¬ä¸‰æ­¥ ç¬¬ä¸‰æ­¥æ‰§è¡Œpush.pyï¼Œå³è½¬åˆ°push.pyè„šæœ¬æ‰€åœ¨ç›®å½•æ‰§è¡Œ./push.pyå³å¯ã€‚
ç¬¬å››æ­¥ ä¿®æ”¹å·¥ç¨‹æ‰€ä½¿ç”¨çš„podfileï¼Œåœ¨å…¶ä¸­æ·»åŠ LC10_01_BaiduTestè¿™ä¸€æ¡ç›®ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
 ç¬¬äº”æ­¥ ç¬¬äº”æ­¥ï¼Œåœ¨ç»ˆç«¯é‡Œé¦–å…ˆæ‰§è¡Œpod repo-art update CocoaPods-cmbå‘½ä»¤ï¼ˆå¯åœ¨ä»»ä½•ç›®å½•ï¼‰ï¼Œç„¶åè½¬åˆ°å·¥ç¨‹ç›®å½•ä¸‹æ‰§è¡Œpod updateå‘½ä»¤:
  pod repo-art update CocoaPods-cmb
  pod update
   incompatible target å‘å¸ƒMoUserç»„ä»¶æ—¶ï¼Œä½¿ç”¨pod lib lintè¿›è¡Œæœ¬åœ°æ£€æŸ¥ï¼Œå‘ç°æŠ¥é”™ä¿¡æ¯ä¸ºnot found for architecture ...
é€šè¿‡å¯ä»¥ä¿®æ”¹podspceæ–‡ä»¶ï¼Œå¢åŠ s.pod_target_xcconfig = { &#39;VALID_ARCHS&#39; =&amp;gt; &#39;arm64 armv7&#39;, &#39;EXCLUDED_ARCHS[sdk=iphonesimulator*]&#39; =&amp;gt; &#39;arm64&#39; }å¯ä»¥è§„é¿è¿™ä¸ªé—®é¢˜ã€‚
å‚è€ƒèµ„æ–™
@objc requires iOS 13.0.0 ç»„ä»¶çš„äºŒè¿›åˆ¶å‘å¸ƒæ—¶ï¼Œé‡åˆ°äº†&#39;@objc&#39; instance method in extension of subclass of &#39;ModalViewController&#39; requires iOS 13.0.0 è¿™æ ·çš„æŠ¥é”™ä¿¡æ¯ã€‚è¿™æ˜¯å› ä¸ºç»„ä»¶è®¾ç½®BUILD_LIBRARY_FOR_DISTRIBUTION = YESï¼Œè¿™æ˜¯å› ä¸ºSwiftçš„ABIä¸ç¨³å®šå¯¼è‡´çš„ï¼Œå…·ä½“å‚è€ƒ
</content>
    </entry>
    
     <entry>
        <title>å¼•å…¥ç™¾åº¦è¯­éŸ³åˆæˆ</title>
        <url>https://iihui.github.io/post/ios-synthesizer/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html">  é¡¹ç›®ä¸­éœ€è¦ç”¨ç™¾åº¦è¯­éŸ³åˆæˆSDKï¼Œå› æ­¤è‡ªå·±å…ˆå»ºäº†ä¸€ä¸ªå·¥ç¨‹ä½œä¸ºå¼•å…¥æµ‹è¯•ä¸€ä¸‹ï¼Œæ€»ç»“ä¸‹æ¥ä¸ºå‡†å¤‡&amp;ndash;&amp;gt;å¯¼å…¥&amp;ndash;&amp;gt;åˆ›å»ºåº”ç”¨&amp;ndash;&amp;gt;æµ‹è¯•ã€‚
 å‡†å¤‡ é¦–å…ˆä»ç™¾åº¦å®˜ç½‘ä¸‹è½½ç™¾åº¦è¯­éŸ³åˆæˆçš„SDK,å¦‚ä¸‹å›¾æ‰€ç¤ºé¦–å…ˆåœ¨å·¦è¾¹é€‰æ‹©è¯­éŸ³åˆæˆï¼Œç„¶ååœ¨å³è¾¹é€‰æ‹©iOSç‰ˆçš„ç¦»åœ¨çº¿èåˆSDK:
å¯¼å…¥ æœ‰ä¸¤éƒ¨åˆ†éœ€è¦å¯¼å…¥ï¼Œç¬¬ä¸€éƒ¨åˆ†æ˜¯å¯¼å…¥ç™¾åº¦è¯­éŸ³åˆæˆæ‰€éœ€çš„æ–‡ä»¶ï¼Œç¬¬äºŒéƒ¨åˆ†æ˜¯å¯¼å…¥ç™¾åº¦è¯­éŸ³åˆæˆä¾èµ–çš„æ¡†æ¶ï¼Œä¸‹é¢åˆ†åˆ«è®²è§£ï¼š
å¯¼å…¥æ–‡ä»¶å¤¹ æ¥ç€æ–°å»ºä¸€ä¸ªæµ‹è¯•å·¥ç¨‹ï¼Œå¹¶å°†ä¸‹è½½åˆ°çš„SDKè§£å‹ï¼Œå°†ä¸‹é¢çš„3ä¸ªæ–‡ä»¶å¤¹å¯¼å…¥åˆ°é¡¹ç›®ä¸­ï¼Œ3ä¸ªæ–‡ä»¶å¤¹çš„åç§°å¦‚ä¸‹å›¾æ‰€ç¤º:
 å¯¼å…¥æ¡†æ¶ ç™¾åº¦è¯­éŸ³ä¾èµ–å¦‚ä¸‹çº¢æ¡†é‡Œæ ‡è¯†çš„frameworkï¼Œå› æ­¤éœ€è¦åœ¨TARGETS--&amp;gt;Build Phases-&amp;gt;LikBinary With Librariesä¸­å°†è¿™äº›frameworkå¯¼å…¥åˆ°é¡¹ç›®ä¸­ï¼š
åˆ›å»ºåº”ç”¨ è¦ä½¿ç”¨ç™¾åº¦è¯­éŸ³åˆæˆï¼Œé¦–å…ˆéœ€è¦åˆ›å»ºç›¸å…³çš„åº”ç”¨ï¼Œè€Œåˆ›å»ºåº”ç”¨çš„å‰ææ˜¯æœ‰ç™¾åº¦äº‘å¸å·ã€‚æ³¨å†Œå¥½ç™¾åº¦äº‘å¸å·ä¹‹åç™»å½•ï¼Œåœ¨æ§åˆ¶å°é€‰æ‹©ç™¾åº¦è¯­éŸ³ï¼š
ç„¶åé€‰æ‹©åˆ›å»ºç™¾åº¦è¯­éŸ³åº”ç”¨ï¼š
æ¥ç€å¡«å†™ç›¸å…³ä¿¡æ¯ï¼Œè¦æ³¨æ„çš„æ˜¯è¯­éŸ³åŒ…åè¦ä¸æµ‹è¯•å·¥ç¨‹çš„Bundle Identifierä¸€è‡´ï¼ˆç§°ä¸ºç»‘å®šï¼‰ï¼Œæ‰å¯ä»¥ä½¿ç”¨ç™¾åº¦è¯­éŸ³åˆæˆçš„ç¦»åœ¨çº¿æ¨¡å¼:
 æµ‹è¯•ä»£ç  import UIKit let APP_ID = &amp;#34;XXXXX&amp;#34; let API_KEY = &amp;#34;XXXXX&amp;#34; let SECRET_KEY = &amp;#34;XXXXX&amp;#34; class ViewController: UIViewController, BDSSpeechSynthesizerDelegate { fileprivate var synthesiser: BDSSpeechSynthesizer = BDSSpeechSynthesizer.sharedInstance() @IBOutlet weak var synthesisButton: UIButton! @IBOutlet weak var textView: UITextView! @IBOutlet weak var offlineSwitch: UISwitch! override func viewDidLoad() { super.viewDidLoad() BDSSpeechSynthesizer.setLogLevel(BDS_PUBLIC_LOG_VERBOSE) self.synthesiser.setSynthesizerDelegate(self) self.textView.delegate = self self.configOffline() } @IBAction func clickedSynthesis(_ sender: UIButton) { if let sentence = self.textView.text { self.synthesiser.speakSentence(sentence, withError: nil) } } @IBAction func offlineSwitchClicked(_ sender: UISwitch) { if sender.isOn { self.configOffline() } else { self.configOnline() } } func configOnline() { self.synthesiser.setApiKey(API_KEY, withSecretKey: SECRET_KEY) var error = self.synthesiser.setSynthParam(4, for: BDS_SYNTHESIZER_PARAM_PITCH) if let err = error { print(err.localizedDescription) } error = self.synthesiser.setSynthParam(5, for: BDS_SYNTHESIZER_PARAM_SPEED) if let err = error { print(err.localizedDescription) } error = self.synthesiser.setSynthParam(9, for: BDS_SYNTHESIZER_PARAM_VOLUME) if let err = error { print(err.localizedDescription) } self.synthesiser.unloadDomainDataFromOfflineEngine() } func configOffline() { let offlineEngineSpeechData = Bundle.main.path(forResource: &amp;#34;Chinese_And_English_Speech_Female&amp;#34;, ofType: &amp;#34;dat&amp;#34;) let offlineChineseAndEnglishTextData = Bundle.main.path(forResource: &amp;#34;Chinese_And_English_Text&amp;#34;, ofType: &amp;#34;dat&amp;#34;) let error = self.synthesiser.loadOfflineEngine(offlineChineseAndEnglishTextData, speechDataPath: offlineEngineSpeechData, licenseFilePath: nil, withAppCode: APP_ID) if let err = error { print(err.localizedDescription) } } func synthesizerNewDataArrived(_ newData: Data!, dataFormat fmt: BDSAudioFormat, characterCount newLength: Int32, sentenceNumber SynthesizeSentence: Int) { } func synthesizerErrorOccurred(_ error: Error!, speaking SpeakSentence: Int, synthesizing SynthesizeSentence: Int) { print(error.localizedDescription) } override func viewDidDisappear(_ animated: Bool) { super.viewDidDisappear(animated) self.synthesiser.speakSentence(&amp;#34;è¿›å…¥åå°&amp;#34;, withError: nil) } } extension ViewController: UITextViewDelegate { func textViewDidChange(_ textView: UITextView) { if let text = textView.text { //self.synthesiser?.speakSentence(text, withError: nil) print(text) } } }  å‚è€ƒèµ„æ–™
</content>
    </entry>
    
     <entry>
        <title>H5è§†é¢‘æ’­æ”¾</title>
        <url>https://iihui.github.io/post/ios-html-player/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html">  è¿‘æœŸAPPå‡ºç°äº†åœ¨iPhoneä¸Šæ‹çš„è§†é¢‘ï¼ŒåŒæ­¥åˆ°Androidæ‰‹æœºåæ’­æ”¾ä¸äº†çš„é—®é¢˜ï¼Œç¬¬ä¸€ç›´è§‰åº”è¯¥æ˜¯iPhoneä¸Šå½•åˆ¶è§†é¢‘æ‰€ä½¿ç”¨çš„ç¼–ç ä¸å…¼å®¹Androidã€‚ç»è¿‡æ²Ÿé€šï¼Œäº†è§£åˆ°æ’­æ”¾è§†é¢‘æ˜¯ç”¨H5åµŒå…¥çš„ï¼Œå› ä¸ºæ‰‹è¾¹æ²¡æœ‰è§†é¢‘æ’­æ”¾æºç å’Œå¯æµ‹è¯•çš„Androidè®¾å¤‡ï¼Œä¸ºäº†éªŒè¯æˆ‘çš„çŒœæµ‹ï¼Œå°è¯•ç€å…ˆæ”¹å˜iPhoneå½•åˆ¶è§†é¢‘æ—¶çš„ç¼–ç æ–¹å¼ï¼Œç„¶åå†™ä¸€æ®µæ’­æ”¾è§†é¢‘çš„H5ï¼Œç”¨Chromeæµè§ˆå™¨è¿›è¡Œæµ‹è¯•ã€‚
 ç¡®è®¤ç¼–ç  é¦–å…ˆæ‰¾åˆ°è§†é¢‘è¾“å‡ºçš„ç¼–ç æ–¹å¼ï¼Œé€šè¿‡å¯¹æ¯”iOS 11.3ï¼ŒiOS 12.0ä»¥åŠiOS 12.01å‘ç°é»˜è®¤çš„è¾“å‡ºç¼–ç æ ¼å¼ä»avc1å˜æˆäº†hcv1ï¼š
å¯¹åº”çš„ä»£ç å¦‚ä¸‹ï¼š
if self.captureSession.canAddOutput(self.captureMovieFileOutput) { self.captureSession.addOutput(self.captureMovieFileOutput) if let outPutConnection = self.captureMovieFileOutput.connection(withMediaType:AVMediaTypeVideo){ let out = self.captureMovieFileOutput.outputSettings(for: outPutConnection) } }  æ”¹å˜ç¼–ç  å› æ­¤éœ€è¦æ˜¾å¼æŒ‡å®šè§†é¢‘çš„è¾“å‡ºç¼–ç æ ¼å¼ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ä¹‹å‰çš„é»˜è®¤ç¼–ç æ ¼å¼ï¼Œä»£ç ç‰‡æ®µå¦‚ä¸‹ï¼š
if self.captureSession.canAddOutput(self.captureMovieFileOutput) { self.captureSession.addOutput(self.captureMovieFileOutput) if let outPutConnection = self.captureMovieFileOutput.connection(withMediaType:AVMediaTypeVideo){ if #available(iOS 10.0, *){ let outputSettings = [AVVideoCodecKey:AVVideoCodecH264] self.captureMovieFileOutput.setOutputSettings(outputSettings, for: outPutConnection) //let out = self.captureMovieFileOutput.outputSettings(for: outPutConnection) } } } æ’­æ”¾ä»£ç  ä¸ºäº†æµ‹è¯•æ”¹å˜ç¼–ç åç”Ÿæˆçš„è§†é¢‘æ–‡ä»¶èƒ½å¦åœ¨Chromeæµè§ˆå™¨ä¸­æ’­æ”¾ï¼Œéœ€è¦å†™å‡ºç›¸åº”çš„H5æ’­æ”¾ä»£ç ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
&amp;lt;!DOCTYPE html&amp;gt; &amp;lt;html&amp;gt; &amp;lt;head&amp;gt; &amp;lt;meta charset=&amp;#34;utf-8&amp;#34; /&amp;gt; &amp;lt;meta http-equiv=&amp;#34;X-UA-Compatible&amp;#34; content=&amp;#34;IE=edge&amp;#34;&amp;gt; &amp;lt;title&amp;gt;Page Title&amp;lt;/title&amp;gt; &amp;lt;meta name=&amp;#34;viewport&amp;#34; content=&amp;#34;width=device-width, initial-scale=1&amp;#34;&amp;gt; &amp;lt;/head&amp;gt; &amp;lt;body&amp;gt; &amp;lt;video id=&amp;#34;video&amp;#34; src=&amp;#34;video13.mp4&amp;#34; controls = &amp;#34;true&amp;#34; poster=&amp;#34;images.jpg&amp;#34; /*è§†é¢‘å°é¢*/ preload=&amp;#34;auto&amp;#34; webkit-playsinline=&amp;#34;true&amp;#34; /*è¿™ä¸ªå±æ€§æ˜¯ios 10ä¸­è®¾ç½®å¯ä»¥ è®©è§†é¢‘åœ¨å°çª—å†…æ’­æ”¾ï¼Œä¹Ÿå°±æ˜¯ä¸æ˜¯å…¨å±æ’­æ”¾*/ playsinline=&amp;#34;true&amp;#34; /*IOSå¾®ä¿¡æµè§ˆå™¨æ”¯æŒå°çª—å†…æ’­æ”¾*/ x-webkit-airplay=&amp;#34;allow&amp;#34; x5-video-player-type=&amp;#34;h5&amp;#34; /*å¯ç”¨H5æ’­æ”¾å™¨,æ˜¯wechatå®‰å“ç‰ˆç‰¹æ€§*/ x5-video-player-fullscreen=&amp;#34;true&amp;#34; /*å…¨å±è®¾ç½®ï¼Œ è®¾ç½®ä¸º true æ˜¯é˜²æ­¢æ¨ªå±*/ x5-video-orientation=&amp;#34;portraint&amp;#34; //æ’­æ”¾å™¨æ”¯ä»˜çš„æ–¹å‘ï¼Œ landscapeæ¨ªå±ï¼Œportraintç«–å±ï¼Œé»˜è®¤å€¼ä¸ºç«–å± &amp;lt;/video&amp;gt; &amp;lt;/body&amp;gt; &amp;lt;/html&amp;gt; ç„¶åå‘ç°ä½¿ç”¨è¿™æ®µä»£ç åœ¨ä¿®æ”¹ç¼–ç ä¹‹å‰ä¸å¯æ’­æ”¾è§†é¢‘ï¼Œä¿®æ”¹ç¼–ç ä¹‹åå¯ä»¥æ’­æ”¾ç›¸åº”çš„è§†é¢‘ã€‚æœ€ååœ¨æ‰¾åˆ°Androidæµ‹è¯•æœºå‘ç°ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œè‡³æ­¤é—®é¢˜è§£å†³ã€‚
 </content>
    </entry>
    
     <entry>
        <title>åŠé€æ˜çš„æ‚¬æµ®æç¤ºçª—</title>
        <url>https://iihui.github.io/post/ios-alert-window/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html">  é¡¹ç›®ä¸­éœ€è¦ä¸€ä¸ªæ‚¬æµ®æç¤ºçª—ï¼Œä»ç½‘ä¸Šæ‰¾åˆ°ä¸€ç¯‡ä»¥OCä¸ºç¤ºä¾‹çš„æ–‡ç« ï¼Œå› ä¸ºå…¬å¸é¡¹ç›®æ˜¯Swiftå†™çš„ï¼Œå› æ­¤éœ€è¦å°†OCè½¬ä¸ºSwiftã€‚
 OCä»£ç  .hæ–‡ä»¶ //CustomAlertWindow.h #import &amp;lt;UIKit/UIKit.h&amp;gt; typedef NS_ENUM(NSInteger, AlertWindowPositionOption) { AlertWindowPositionTopMiddle = 0, AlertWindowPositionCenter, AlertWindowPositionBottomMiddle }; @interface CustomAlertWindow : UIWindow &#43; (instancetype)aletWindowWithPositionOption:(AlertWindowPositionOption)positionType andInfoText:(NSString *)text; //æ˜¾ç¤º - (void)show; // æ¶ˆå¤± - (void)dismiss; @end .mæ–‡ä»¶ //CustomAlertWindow.m  #import &amp;#34;CustomAlertWindow.h&amp;#34;  #define LABEL_MARGIN 10 //Labelçš„å¤–è¾¹è· #define CENTER_Y_TO_EDGE 80 //æ‚¬æµ®çª—ä¸­å¿ƒç‚¹è·è¾¹ç¼˜çš„çºµåæ ‡å€¼  @implementation CustomAlertWindow &#43; (instancetype)aletWindowWithPositionOption:(AlertWindowPositionOption)positionType andInfoText:(NSString *)text { return [[CustomAlertWindow alloc] initWithPositionOption:positionType andInfoText:text]; } - (instancetype)initWithPositionOption:(AlertWindowPositionOption)positionType andInfoText:(NSString *)text { self = [super init]; if (self) { UILabel *infoLabel = [[UILabel alloc] initWithFrame:CGRectMake(0, 0, 40, 15)]; infoLabel.text = text; infoLabel.textAlignment = NSTextAlignmentCenter; infoLabel.font = [UIFont systemFontOfSize:13]; infoLabel.textColor = [UIColor whiteColor]; //labelå°ºå¯¸é€‚åº”æ–‡å­—å¤§å°  [infoLabel sizeToFit]; //æ ¹æ®labelSizeç¡®å®šwindowçš„å¤§å°  CGSize labelSize = infoLabel.frame.size; CGSize windowSize = CGSizeMake(labelSize.width &#43; 2*LABEL_MARGIN, labelSize.height &#43; 2*LABEL_MARGIN); //æ ¹æ®windowçš„å°ºå¯¸ç¡®å®šlabelçš„ä¸­å¿ƒç‚¹ä½ç½®  infoLabel.center = CGPointMake(windowSize.width / 2, windowSize.height / 2); //å¾—åˆ°å±å¹•çš„å°ºå¯¸  CGRect superRect = [[UIScreen mainScreen] bounds]; CGSize superSize = superRect.size; //è®¡ç®—windowçš„å¤§å°  self.frame = CGRectMake((superSize.width - windowSize.width) / 2, 0, windowSize.width, windowSize.height); //æ ¹æ®æŒ‡å®šçš„positionTypeè®¾ç½®windowçš„center  switch (positionType) { case AlertWindowPositionTopMiddle: self.center = CGPointMake(superSize.width / 2, CENTER_Y_TO_EDGE); break; case AlertWindowPositionCenter: self.center = CGPointMake(superSize.width / 2, superSize.height / 2); break; case AlertWindowPositionBottomMiddle: self.center = CGPointMake(superSize.width / 2, superSize.height - CENTER_Y_TO_EDGE); break; default: break; } self.windowLevel = UIWindowLevelAlert &#43; 1; self.backgroundColor = [UIColor colorWithRed:64 / 255.0 green:64 / 255.0 blue:64 / 255.0 alpha:0.7]; self.layer.cornerRadius = 5; [self addSubview:infoLabel]; } return self; } //æ˜¾ç¤ºwindow - (void)show { [self makeKeyAndVisible]; } //windowæ¶ˆå¤± - (void)dismiss { [self resignKeyWindow]; } @end  Swiftå®ç° æ ¹æ®ä¸Šé¢çš„OCä»£ç ï¼Œå°†å…¶æ”¹é€ ä¸ºSwiftä»£ç ï¼š
import Foundation //å‚è€ƒè‡ª https://www.jianshu.com/p/e31eeb26cdce enum positionStyle: Int { case TopMiddle = 0 case Center = 1 case BottomMiddle = 2 } class NoteAlertWindow: UIWindow { fileprivate var style = positionStyle.TopMiddle fileprivate var infoLabel: UILabel? fileprivate var labelMargin: CGFloat = 10 fileprivate var centerYToEdge: CGFloat = 80 required init?(coder aDecoder: NSCoder) { super.init(coder: aDecoder) } init(option: positionStyle, text: String) { let frame = CGRect() super.init(frame: frame) self.style = option if self.infoLabel == nil { self.infoLabel = UILabel(frame: CGRect(x: 0, y: 0, width: 30, height: 15)) adjustWindow(message: text) self.addSubview(self.infoLabel!) } } func show() { self.makeKeyAndVisible() } func dismiss() { self.resignKey() } func moveCenter(center: CGPoint) { self.center = center } func setMessage(text: String) { adjustWindow(message: text) } fileprivate func adjustWindow(message: String) { self.infoLabel?.text = message self.infoLabel?.textAlignment = .center self.infoLabel?.font = UIFont.systemFont(ofSize: 13) self.infoLabel?.textColor = UIColor.white self.infoLabel?.sizeToFit() if let labelSize = self.infoLabel?.frame.size { let windowSize = CGSize(width: labelSize.width &#43; 2 * self.labelMargin, height: labelSize.height &#43; 2 * self.labelMargin) self.infoLabel?.center = CGPoint(x: windowSize.width / 2, y: windowSize.height / 2) let superGect = UIScreen.main.bounds let superSize = superGect.size self.frame = CGRect(x: (superSize.width - windowSize.width) / 2, y: 0, width: windowSize.width, height: windowSize.height) switch self.style { case .TopMiddle: self.center = CGPoint(x: superSize.width / 2, y: self.centerYToEdge) case .Center: self.center = CGPoint(x: superSize.width / 2, y: superSize.height / 2) case .BottomMiddle: self.center = CGPoint(x: superSize.width / 2, y: superSize.height / 2 - self.centerYToEdge) } self.windowLevel = UIWindowLevelAlert &#43; 1 self.backgroundColor = UIColor(red: 64 / 255.0, green: 64 / 255.0, blue: 64 / 255.0, alpha: 0.7) self.layer.cornerRadius = 5 } } }  </content>
    </entry>
    
     <entry>
        <title>UIWebview åŠ è½½å«ç‰¹æ®Šå­—ç¬¦ç½‘é¡µ</title>
        <url>https://iihui.github.io/post/ios-webview-html/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>iOS</tag><tag>UIWebView</tag>
        </tags>
        <content type="html">  UIWebviewä¸­åŠ è½½çš„htmlæ–‡ä»¶ä¸­å¦‚æœå«æœ‰\n,&#39;ç­‰ç‰¹æ®Šå­—ç¬¦æ—¶ï¼Œæ˜¾ç¤ºä¸ºä¸€ç‰‡ç©ºç™½ã€‚æŸ¥é˜…èµ„æ–™å¾—çŸ¥éœ€è¦å°†è¿™äº›ç‰¹æ®Šå­—ç¬¦è¿›è¡Œé¢„å¤„ç†ã€‚
 é¢„å¤„ç† class HTMLUtils{ static func escapsedHTML(html: String)-&amp;gt;String{ var result = html if !result.isEmpty{ result = result.replacingOccurrences(of: &amp;#34;\\&amp;#34;, with: &amp;#34;\\\\&amp;#34;) result = result.replacingOccurrences(of: &amp;#34;\&amp;#34;&amp;#34;, with: &amp;#34;\\\&amp;#34;&amp;#34;) result = result.replacingOccurrences(of: &amp;#34;&amp;#39;&amp;#34;, with: &amp;#34;\\&amp;#39;&amp;#34;) result = result.replacingOccurrences(of: &amp;#34;\r&amp;#34;, with: &amp;#34;\\r&amp;#34;) result = result.replacingOccurrences(of: &amp;#34;\n&amp;#34;, with: &amp;#34;\\n&amp;#34;) } return result } }  </content>
    </entry>
    
     <entry>
        <title>JSäº‹ä»¶æ•è·</title>
        <url>https://iihui.github.io/post/js-event/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>JS</tag>
        </tags>
        <content type="html">  DOMäº‹ä»¶ä»å‘ç”Ÿåˆ°å¼€å§‹ç»å†äº†ä¸‰ä¸ªé˜¶æ®µï¼Œåˆ†åˆ«ä¸ºæ•è·é˜¶æ®µã€å‘½ä¸­é˜¶æ®µä»¥åŠå†’æ³¡é˜¶æ®µã€‚æ•è·é˜¶æ®µè¡¨ç¤ºä»æœ€ä¸Šå±‚å¼€å§‹ï¼Œç›´åˆ°æœ€ä¸‹å±‚(ç‚¹å‡»çš„é‚£ä¸ªtargetå…ƒç´ )ï¼Œè·¯è¿‡çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½å¯ä»¥æ•è·åˆ°è¯¥äº‹ä»¶ã€‚å‘½ä¸­é˜¶æ®µ:å¦‚æœæŸä¸ªäº‹ä»¶åˆ°è¾¾äº†targetï¼Œå®ƒå°±ä¼šè¿›è¡Œå¤„ç†ã€‚å†’æ³¡é˜¶æ®µ:äº‹ä»¶ä»æœ€ä¸‹å±‚å‘ä¸Šä¼ é€’ï¼Œä¾æ¬¡è§¦å‘çˆ¶å…ƒç´ çš„è¯¥äº‹ä»¶å¤„ç†ã€‚
 </content>
    </entry>
    
     <entry>
        <title>ä½¿ç”¨Visual Codeçš„æ–‡ä»¶å¯¹æ¯”åŠŸèƒ½</title>
        <url>https://iihui.github.io/post/qa-compare/</url>
        <categories>
          <category>QA</category>
        </categories>
        <tags>
          <tag>QA</tag>
        </tags>
        <content type="html">  åœ¨ä½¿ç”¨åšæœäº‘çš„æ—¶å€™ï¼Œç”±äºè¾ƒé•¿æ—¶é—´æ²¡æœ‰åŒæ­¥ï¼Œå¯¼è‡´æœ¬åœ°æ–‡ä»¶å’Œäº‘ç«¯æ–‡ä»¶å†²çªï¼Œå†æ¬¡åŒæ­¥æ—¶ï¼Œåšæœäº‘ä¿ç•™äº†ä¸¤ä¸ªç‰ˆæœ¬ã€‚ä¸ºäº†å¼„æ¸…ä¸¤ä¸ªæ–‡ä»¶çš„å·®å¼‚ï¼Œä»¥è¿›è¡Œä¿®æ”¹ï¼Œéœ€è¦ä¸€ä¸ªå·¥å…·æ¥æ¯”å¯¹ã€‚æœ€åˆæ˜¯æƒ³ä¸‹è½½ä¸€ä¸ªä¸“é—¨çš„æ–‡ä»¶å¯¹æ¯”è½¯ä»¶ï¼Œä½†è½¬å¿µä¸€æƒ³æˆ–è®¸Visual Codeå¯ä»¥å‘¢ï¼Œä¸€æœæœçœŸVisual Codeè‡ªå¸¦æ–‡ä»¶å¯¹æ¯”åŠŸèƒ½ã€‚
 åºŸè¯ä¸å¤šè¯´ï¼Œé¦–å…ˆæ”¾ä¸ŠåŠ¨å›¾ï¼š
ä¸Šé¢åŠ¨å›¾çš„æ“ä½œå¯ä»¥åˆ†è§£ä¸º3æ­¥ï¼Œç¬¬ä¸€æ­¥ä¸ºæ‰“å¼€å·¦ä¾§è¾¹æ ï¼Œç¬¬äºŒæ­¥ä¸ºæ‰“å¼€éœ€è¦æ¯”è¾ƒçš„æ–‡ä»¶ï¼Œç¬¬ä¸‰æ­¥ä¸ºå¯¹æ¯”ã€‚
 ç¬¬ä¸€æ­¥ é¦–å…ˆæ‰“å¼€SideBarï¼Œåœ¨èœå•æ ä¸­ä¾æ¬¡ç‚¹å‡»View--&amp;gt;Appearance--&amp;gt;Toggle Side Bar,å¦‚ä¸‹å›¾æ‰€ç¤º:
 ç¬¬äºŒæ­¥ æŒ‰ä½Command &#43; o(å­—æ¯)æ‰“å¼€è¦æ¯”è¾ƒçš„æ–‡ä»¶ï¼Œæˆ–è€…åœ¨èœå•æ æ‰¾åˆ°File---&amp;gt;Openï¼š  ç¬¬ä¸‰æ­¥ åœ¨å·¦ä¾§çš„Open Editorsç›®å½•ä¸‹æ‰¾åˆ°ä¸Šä¸€æ­¥éœ€è¦æ¯”è¾ƒçš„æ–‡ä»¶ï¼Œç„¶åç‚¹å‡»é¼ æ ‡å³é”®ï¼Œé€‰ä¸­Compare Selectedè¿›è¡Œæ¯”å¯¹ï¼š  </content>
    </entry>
    
     <entry>
        <title>åˆ›å»ºæ–°çš„Target</title>
        <url>https://iihui.github.io/post/ios-new-target/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html">  é¡¹ç›®éœ€è¦æ–°å»ºä¸€æ¡ä¼—æµ‹æµæ°´çº¿ï¼Œå› æ­¤é¦–å…ˆéœ€è¦åŸºäºDEVç¯å¢ƒæ–°å»ºä¸€ä¸ªTargetï¼Œç„¶åå°†æ–°å»ºçš„Targeté…ç½®åˆ°æ–°å»ºçš„æµæ°´çº¿ä¸Šã€‚
 Duplicate æ–°Targetçš„åˆ›å»ºä¸€èˆ¬ä»¥å·²æœ‰çš„Targetä¸ºæ¨¡æ¿ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œé¦–å…ˆé€‰ä¸­æ¨¡æ¿Targetï¼Œç„¶åå³é”®ç‚¹å‡»é€‰ä¸­Duplicateå°±èƒ½åˆ›å»ºæ–°çš„Target:
 ä¿®æ”¹Targetåå­— é¦–å…ˆç‚¹å‡»æ–°çš„Targetç„¶åæŒ‰å›è½¦é”®ä¿®æ”¹åå­—ï¼Œæ­¤æ—¶ä¿®æ”¹çš„åå­—
ä¿®æ”¹plist ä¸€æ—¦ç‚¹å‡»Duplicateå°±ä¼šç”Ÿæˆä¸€ä¸ªæ¨¡æ¿çš„copy,åŒæ—¶ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„plistæ–‡ä»¶ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š æ–°çš„plistæ–‡ä»¶å’Œ
</content>
    </entry>
    
     <entry>
        <title>Rangeçš„ä¿å­˜ä¸æ¢å¤</title>
        <url>https://iihui.github.io/post/js-focus-save/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>JS</tag>
        </tags>
        <content type="html">  åœ¨iOS 11.3ä»¥ä¸‹çš„UIWebviewä¸­æ’å…¥å›¾ç‰‡æ—¶ï¼Œå› å›¾ç‰‡é€‰æ‹©å™¨çš„å¼¹å‡ºå¯¼è‡´UIWebviewå¤±å»ç„¦ç‚¹ï¼Œæ•…åœ¨æ’å…¥å›¾ç‰‡å‰éœ€å…ˆä¿å­˜å›¾ç‰‡å°†è¦æ’å…¥çš„ä½ç½®ã€‚
 ä¿å­˜rangeåŒºåŸŸ å›¾ç‰‡é€‰æ‹©å™¨æ‰“å¼€å‰ï¼Œåˆ©ç”¨ä¸€ä¸ªå…¨å±€çš„Rangeå¯¹è±¡ä¿å­˜æ’å…¥å‰å…‰æ ‡æ‰€åœ¨çš„ä½ç½®çš„Rangeå¯¹è±¡ï¼š
//æ’å…¥å›¾ç‰‡å’Œè¶…é“¾æ¥çš„æ—¶å€™å› ä¸ºwebviewä¼šå¤±å»ç„¦ç‚¹ï¼Œå› æ­¤éœ€è¦ä¿å­˜rangeåŒºåŸŸ let currentSelection; function backupRange() { let selection = window.getSelection(); if (selection.rangeCount) { let range = selection.getRangeAt(0); this.currentSelection = { &amp;#34;startContainer&amp;#34;: range.startContainer, &amp;#34;startOffset&amp;#34;: range.startOffset, &amp;#34;endContainer&amp;#34;: range.endContainer, &amp;#34;endOffset&amp;#34;: range.endOffset } } }  æ¢å¤RangeåŒºåŸŸ é€‰æ‹©å›¾ç‰‡åï¼Œæ’å…¥æ—¶è¦æ‰¾åˆ°å›¾ç‰‡é€‰æ‹©å™¨æ‰“å¼€å‰å…‰æ ‡æ‰€åœ¨çš„Rangeï¼Œä»¥ä¾¿æ’å…¥åˆ°æ­£ç¡®çš„ä½ç½®ï¼š
//æ¢å¤ä¿å­˜çš„rangeåŒºåŸŸ function restoreRange() { if (this.currentSelection) { let selection = window.getSelection(); selection.removeAllRanges(); let range = document.createRange(); range.setStart(this.currentSelection.startContainer, this.currentSelection.startOffset); range.setEnd(this.currentSelection.endContainer, this.currentSelection.endOffset); selection.addRange(range); // å‘é€‰åŒºä¸­æ·»åŠ ä¸€ä¸ªåŒºåŸŸ  } }  </content>
    </entry>
    
     <entry>
        <title>Swiftè®¿é—®æƒé™</title>
        <url>https://iihui.github.io/post/ios-access-level/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html">  è®¿é—®æƒé™ç”¨äºé™åˆ¶éƒ¨åˆ†ä»£ç è¢«å…¶å®ƒæºæ–‡ä»¶æˆ–è€…æ¨¡å—è®¿é—®ï¼Œç›®çš„æ˜¯éšè—æŸäº›ä»£ç çš„å®ç°ç»†èŠ‚ã€‚åœ¨Swiftä¸­å¯ä»¥è®¾ç½®ç±»å‹(ç±»ã€ç»“æ„å’Œæšä¸¾)çš„è®¿é—®æƒé™ï¼Œä¹Ÿå¯ä»¥è®¾ç½®å±æ€§å’Œæ–¹æ³•çš„è®¿é—®æƒé™ã€‚Swiftæä¾›äº†5ä¸ªè®¿é—®çº§åˆ«ï¼Œè¿™äº›è®¿é—®çº§åˆ«ä»¥æ¨¡å—å’Œæºæ–‡ä»¶ä¸ºåŒºåˆ†ç²’åº¦ã€‚
 æ¨¡å—å’Œæºæ–‡ä»¶ æ¨¡å— æ¨¡å—æ˜¯æŒ‡ç‹¬ç«‹çš„ä»£ç å•å…ƒï¼Œåœ¨iOSä¸­æ¡†æ¶æˆ–åº”ç”¨ç¨‹åºå°±æ˜¯ä¸€ä¸ªç‹¬ç«‹æ¨¡å—ã€‚åœ¨ä¸€ä¸ªæ¨¡å—ä¸­å¯ä»¥ç”¨importå…³é”®å­—å¯¼å…¥å¦ä¸€ä¸ªæ¨¡å—ã€‚
æºæ–‡ä»¶ æºæ–‡ä»¶å³Swiftä¸­çš„æºä»£ç æ–‡ä»¶ï¼Œå®ƒé€šå¸¸å±äºä¸€ä¸ªæ¨¡å—ï¼Œå³ä¸€ä¸ªæ¡†æ¶ï¼ˆFrameworkï¼‰æˆ–è€…åº”ç”¨ç¨‹åºã€‚
è®¿é—®çº§åˆ« Swiftæœ‰5ä¸ªçº§åˆ«çš„è®¿é—®æƒé™ï¼Œä»é«˜åˆ°ä½ä¾æ¬¡ä¸ºopenï¼Œpublicï¼Œinternalï¼Œfileprivateå’Œprivateã€‚å®ƒä»¬éµå¾ªçš„åŸåˆ™æ˜¯ï¼Œé«˜çº§åˆ«çš„å˜é‡ä¸å…è®¸è¢«å®šä¹‰ä¸ºä½çº§åˆ«å˜é‡çš„æˆå‘˜å˜é‡ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªprivateçš„ç±»ä¸­ä¸åº”è¯¥å‡ºç°publicçš„Stringã€‚ä½†æ˜¯ï¼Œä½çº§åˆ«çš„å˜é‡å¯ä»¥å®šä¹‰åœ¨é«˜çº§åˆ«çš„å˜é‡ä¸­ã€‚ä¾‹å¦‚ï¼Œpublicçš„classä¸­å¯ä»¥å«æœ‰privateçš„Intå€¼ã€‚
open openå…·æœ‰æœ€é«˜çš„è®¿é—®æƒé™ã€‚å…¶ä¿®é¥°çš„ç±»å’Œæ–¹æ³•å¯ä»¥åœ¨ä»»æ„Moduleä¸­è¢«è®¿é—®å’Œé‡å†™ï¼Œå®ƒæ˜¯Swift3ä¸­æ–°æ·»åŠ çš„è®¿é—®æƒé™ã€‚
public publicçš„æƒé™ä»…æ¬¡äºopenã€‚ä¸openå”¯ä¸€çš„åŒºåˆ«åœ¨äºï¼Œå®ƒä¿®é¥°çš„å¯¹è±¡å¯ä»¥åœ¨ä»»æ„moduleä¸­è¢«è®¿é—®ï¼Œä½†æ˜¯ä¸èƒ½è¢«å…¶ä»–moduleé‡å†™æˆ–ç»§æ‰¿ã€‚
openä¸publicçš„åŒºåˆ« è™½ç„¶openå’Œpublicéƒ½æœ‰æœ€é«˜çš„è®¿é—®çº§åˆ«ï¼Œä½†openè®¿é—®æƒé™åªé€‚ç”¨äºä¿®é¥°classå’Œclassçš„æˆå‘˜ï¼Œå®ƒä¸publicæœ‰æ˜æ˜¾çš„ä¸åŒï¼š
  publicä¿®é¥°çš„classåªå…è®¸å¤–éƒ¨æ¨¡å—è°ƒç”¨ï¼Œä½†æ˜¯ä¸å…è®¸å¤–éƒ¨æ¨¡å—ç»§æ‰¿ï¼Œæœ¬æ¨¡å—å¯ä»¥ç»§æ‰¿ã€‚è€Œopenä¿®é¥°çš„classæ—¢å…è®¸å…¶ä»–æ¨¡å—è°ƒç”¨ï¼Œä¹Ÿå…è®¸è¢«å­ç±»ç»§æ‰¿ã€‚
  publicä¿®é¥°çš„æˆå‘˜åªå…è®¸å…¶ä»–æ¨¡å—è°ƒç”¨ï¼Œä½†ä¸èƒ½è¢«å¤–éƒ¨æ¨¡å—é‡å†™(override)ï¼Œæœ¬æ¨¡å—å¯ä»¥é‡å†™ã€‚è€Œopenä¿®é¥°çš„æˆå‘˜æ—¢å…è®¸è¢«å…¶ä»–æ¨¡å—è°ƒç”¨ï¼Œä¹Ÿå…è®¸æˆå‘˜è¢«è¦†ç›–ã€‚
  openå’Œpublicå¦‚æœæ˜¯ç”¨äºç»§æ‰¿æŸä¸ªç±»çš„è¯ï¼Œé‚£ä¹ˆopenå’Œpublicå¿…é¡»æ˜¯åœ¨çˆ¶ç±»çš„çº¦æŸé™å®šä¹‹ä¸‹ã€‚ä¾‹å¦‚ï¼šä¸èƒ½çˆ¶ç±»æ˜¯ç”¨publicä¿®é¥°ï¼Œè€Œå­ç±»å´ç”¨openä¿®é¥°ã€‚
  å…¶ä»–æ¨¡å—ç»§æ‰¿è¦†ç›–çˆ¶ç±»çš„æˆå‘˜æ—¶ï¼Œä¹Ÿéœ€è¦æŠŠæˆå‘˜å£°æ˜ä¸ºopenã€‚
  open class SubclassableParentClass { public func foo() { } open func bar() { } public final func baz() { } } open class SubclassC: SubclassableParentClass { //éæ³•ï¼Œæˆå‘˜æ²¡æœ‰è¢«å£°æ˜ä¸ºopen override func bar() { } } internal internalæ˜¯é»˜è®¤çš„æƒé™ã€‚å®ƒè¡¨ç¤ºåªèƒ½åœ¨å½“å‰å®šä¹‰çš„moduleä¸­è®¿é—®å’Œé‡å†™ã€‚å®ƒå¯ä»¥è¢«ä¸€ä¸ªmoduleä¸­çš„å¤šä¸ªæ–‡ä»¶è®¿é—®ï¼Œä½†ä¸èƒ½è¢«å…¶ä»–moduleè®¿é—®ã€‚
fileprivate ç”±fileprivateä¿®é¥°çš„å®ä½“å¯ä»¥åœ¨å½“å‰æ–‡ä»¶å†…è¢«è®¿é—®ã€‚è‹¥æŸä¸ªåŠŸèƒ½åªè¦åœ¨æ–‡ä»¶å†…ä½¿ç”¨ï¼Œåˆ™å¯ä»¥ä½¿ç”¨è¿™ä¸ªè®¿é—®ç¬¦ä¿®é¥°ï¼Œè¿™ä¹Ÿæ˜¯Swift 3æ–°æ·»åŠ çš„æƒé™ã€‚
private privateæ˜¯æœ€ä½é˜¶åˆ«çš„è®¿é—®æƒé™ï¼Œå®ƒçš„å¯¹è±¡åªèƒ½åœ¨å®šä¹‰çš„ä½œç”¨åŸŸå†…ä½¿ç”¨ï¼Œç¦»å¼€äº†è¿™ä¸ªä½œç”¨åŸŸï¼Œå³æ—¶æ˜¯åŒä¸€ä¸ªæ–‡ä»¶çš„å…¶ä»–ä½œç”¨åŸŸï¼Œä¹Ÿæ— æ³•è®¿é—®ã€‚
 </content>
    </entry>
    
     <entry>
        <title>imgæ·»åŠ å’Œå–æ¶ˆç‚¹å‡»ç›‘å¬</title>
        <url>https://iihui.github.io/post/js-image-addclicklistener/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>JS</tag>
        </tags>
        <content type="html">  ä¸€ç¯‡å›¾æ–‡ç¬”è®°å¯èƒ½æœ‰å¤šå¼ å›¾ç‰‡ï¼Œç›®å‰çš„éœ€æ±‚ä¸ºå•å‡»å›¾ç‰‡åå¼€å§‹é¢„è§ˆå›¾ç‰‡ã€‚æƒ³åˆ°çš„è§£å†³æ€è·¯æœ‰ä¸¤ç§ï¼Œç¬¬ä¸€ç§æ˜¯ä¸ºæ¯å¼ å›¾ç‰‡æ·»åŠ ç‚¹å‡»äº‹ä»¶çš„ç›‘å¬ï¼Œè¿™ç§æ–¹å¼çš„éº»çƒ¦åœ¨äºè¦ç›‘å¬æ˜¯å¦æœ‰æ–°å›¾ç‰‡æ’å…¥ï¼Œä¸€æ—¦æœ‰æ–°å›¾ç‰‡æ’å…¥æ—¶åˆ™è¦å¯¹å…¶åŠ å…¥ç‚¹å‡»äº‹ä»¶çš„ç›‘å¬ï¼›ç¬¬äºŒç§åˆ™æ˜¯å…¨å±€ç›‘å¬ç‚¹å‡»äº‹ä»¶ï¼Œç”¨æˆ·ä¸€æ—¦ç‚¹å‡»ï¼Œåˆ™åˆ¤æ–­è¯¥ç‚¹å‡»äº‹ä»¶æ˜¯å¦åœ¨imgæ ‡ç­¾ä¸Šï¼Œå¦‚æœæ˜¯åˆ™è¿›å…¥å›¾ç‰‡é¢„è§ˆï¼Œå¦åˆ™ä»€ä¹ˆä¹Ÿä¸åšã€‚
 ç¬¬ä¸€ç§æ–¹å¼ æ¯æ¬¡è¿›å…¥å›¾æ–‡ç¬”è®°çš„æµè§ˆæ¨¡å¼æ—¶ä¸ºæ‰€æœ‰imgæ·»åŠ ç‚¹å‡»äº‹ä»¶çš„ç›‘å¬ã€‚å› æ­¤ï¼Œéœ€è¦ç›‘å¬æ˜¯å¦æœ‰æ–°å›¾ç‰‡æ’å…¥ï¼Œä¸€æ—¦æœ‰æ–°å›¾ç‰‡æ’å…¥æ—¶éœ€è¦å°†åŸæ¥æ‰€æœ‰å›¾ç‰‡çš„ç‚¹å‡»äº‹ä»¶çš„ç›‘å¬åˆ é™¤ï¼Œå†é‡æ–°ä¸ºæ‰€æœ‰å›¾ç‰‡æ·»åŠ æ–°çš„ç‚¹å‡»ç›‘å¬ã€‚
æ·»åŠ ç›‘å¬ function addImagesClickListener(){ $(&amp;#39;body&amp;#39;).on(&amp;#39;click&amp;#39;, &amp;#39;img&amp;#39;, function () { let position = this.offsetTop; this.focus(); let result = {}; result.position = position.toString(); //é¡ºä¾¿å°†å›¾ç‰‡æ‰€åœ¨çºµä½ç½®è¿”å›  result.src = $(this).attr(&amp;#34;src&amp;#34;); let jsonString = JSON.stringify(result); let escapedJsonString = encodeURI(jsonString); //é‡æ–°ç¼–ç   let scheme = &amp;#34;position://&amp;#34;; document.location.href = scheme &#43; &amp;#34;#&amp;#34; &#43; escapedJsonString; //å‘ioså‘é€  }); }  å–æ¶ˆç›‘å¬ function removeImagesClickListener() { // let pic = document.getElementsByTagName(&amp;#39;img&amp;#39;);  // for (i = 0; i &amp;lt; pic.length; i&#43;&#43;) {  // pic[i].off(&amp;#39;click&amp;#39;);  // }  $(&amp;#39;img&amp;#39;).each(function () { $(this).off(&amp;#39;click&amp;#39;); //ç§»é™¤æ‰€æœ‰å›¾ç‰‡çš„ç‚¹å‡»ç›‘å¬  }) }  ç¬¬äºŒç§æ–¹å¼ åˆ©ç”¨å…¨å±€ç›‘å¬ç‚¹å‡»äº‹ä»¶ï¼Œæ£€æŸ¥è¯¥ç‚¹å‡»äº‹ä»¶çš„å…ƒç´ æ˜¯å¦åœ¨imgä¸Šï¼Œå¦‚æœæ˜¯åˆ™è¿›å…¥å›¾ç‰‡é¢„è§ˆæ¨¡å¼ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼ä¼šä¸UIWebviewé”®ç›˜å¼¹å‡ºæœ‰å†²çªï¼Œå› æ­¤è¿›å…¥å›¾ç‰‡æµè§ˆæ—¶éœ€è¦å…ˆå…³æ‰é”®ç›˜ï¼š
//ä¸è½¯é”®ç›˜å¼¹å‡ºæœ‰å†²çªï¼Œåº”è¯¥å…ˆå…³é—­é”®ç›˜ function clickHandler(event) { if (event.target instanceof HTMLImageElement) { //ç‚¹å‡»çš„æ˜¯å›¾ç‰‡æ ‡ç­¾,åˆ™è·å–ç‚¹å‡»å›¾ç‰‡çš„src  $(&amp;#39;img&amp;#39;).each(function () { if (this.isSameNode(event.target)) { //https://segmentfault.com/q/1010000000156830/a-1020000000156902  document.activeElement.blur(); //é¦–å…ˆå…³é—­é”®ç›˜ä»¥å…å†²çª  let result = {}; result.src = $(this).attr(&amp;#34;src&amp;#34;); let jsonString = JSON.stringify(result); let escapedJsonString = encodeURI(jsonString); //é‡æ–°ç¼–ç   let scheme = &amp;#34;position://&amp;#34;; document.location.href = scheme &#43; &amp;#34;#&amp;#34; &#43; escapedJsonString; //å‘ioså‘é€  } }); } }  </content>
    </entry>
    
     <entry>
        <title>imgç‚¹å‡»ç›‘å¬</title>
        <url>https://iihui.github.io/post/js-image-clickedlistener/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>JS</tag>
        </tags>
        <content type="html">  ä¸€ç¯‡å›¾æ–‡ç¬”è®°å¯èƒ½æœ‰å¤šå¼ å›¾ç‰‡ï¼Œç›®å‰çš„éœ€æ±‚ä¸ºå•å‡»å›¾ç‰‡åå¼€å§‹é¢„è§ˆå›¾ç‰‡ã€‚æƒ³åˆ°çš„è§£å†³æ€è·¯æœ‰ä¸¤ç§ï¼Œç¬¬ä¸€ç§æ˜¯ä¸ºæ¯å¼ å›¾ç‰‡æ·»åŠ ç‚¹å‡»äº‹ä»¶çš„ç›‘å¬ï¼Œè¿™ç§æ–¹å¼çš„éº»çƒ¦åœ¨äºè¦ç›‘å¬æ˜¯å¦æœ‰æ–°å›¾ç‰‡æ’å…¥ï¼Œä¸€æ—¦æœ‰æ–°å›¾ç‰‡æ’å…¥æ—¶åˆ™è¦å¯¹å…¶åŠ å…¥ç‚¹å‡»äº‹ä»¶çš„ç›‘å¬ï¼›ç¬¬äºŒç§åˆ™æ˜¯å…¨å±€ç›‘å¬ç‚¹å‡»äº‹ä»¶ï¼Œç”¨æˆ·ä¸€æ—¦ç‚¹å‡»ï¼Œåˆ™åˆ¤æ–­è¯¥ç‚¹å‡»äº‹ä»¶æ˜¯å¦åœ¨imgæ ‡ç­¾ä¸Šï¼Œå¦‚æœæ˜¯åˆ™è¿›å…¥å›¾ç‰‡é¢„è§ˆï¼Œå¦åˆ™ä»€ä¹ˆä¹Ÿä¸åšã€‚
 ç¬¬ä¸€ç§æ–¹å¼ æ¯æ¬¡è¿›å…¥å›¾æ–‡ç¬”è®°çš„æµè§ˆæ¨¡å¼æ—¶ä¸ºæ‰€æœ‰imgæ·»åŠ ç‚¹å‡»äº‹ä»¶çš„ç›‘å¬ã€‚å› æ­¤ï¼Œéœ€è¦ç›‘å¬æ˜¯å¦æœ‰æ–°å›¾ç‰‡æ’å…¥ï¼Œä¸€æ—¦æœ‰æ–°å›¾ç‰‡æ’å…¥æ—¶éœ€è¦å°†åŸæ¥æ‰€æœ‰å›¾ç‰‡çš„ç‚¹å‡»äº‹ä»¶çš„ç›‘å¬åˆ é™¤ï¼Œå†é‡æ–°ä¸ºæ‰€æœ‰å›¾ç‰‡æ·»åŠ æ–°çš„ç‚¹å‡»ç›‘å¬ã€‚
æ·»åŠ ç›‘å¬ function addImagesClickListener(){ $(&amp;#39;body&amp;#39;).on(&amp;#39;click&amp;#39;, &amp;#39;img&amp;#39;, function () { let position = this.offsetTop; this.focus(); let result = {}; result.position = position.toString(); //é¡ºä¾¿å°†å›¾ç‰‡æ‰€åœ¨çºµä½ç½®è¿”å›  result.src = $(this).attr(&amp;#34;src&amp;#34;); let jsonString = JSON.stringify(result); let escapedJsonString = encodeURI(jsonString); //é‡æ–°ç¼–ç   let scheme = &amp;#34;position://&amp;#34;; document.location.href = scheme &#43; &amp;#34;#&amp;#34; &#43; escapedJsonString; //å‘ioså‘é€  }); }  å–æ¶ˆç›‘å¬ function removeImagesClickListener() { // let pic = document.getElementsByTagName(&amp;#39;img&amp;#39;);  // for (i = 0; i &amp;lt; pic.length; i&#43;&#43;) {  // pic[i].off(&amp;#39;click&amp;#39;);  // }  $(&amp;#39;img&amp;#39;).each(function () { $(this).off(&amp;#39;click&amp;#39;); //ç§»é™¤æ‰€æœ‰å›¾ç‰‡çš„ç‚¹å‡»ç›‘å¬  }) }  ç¬¬äºŒç§æ–¹å¼ åˆ©ç”¨å…¨å±€ç›‘å¬ç‚¹å‡»äº‹ä»¶ï¼Œä¸€æ—¦å‡ºç°ç‚¹å‡»äº‹ä»¶ï¼Œåˆ™åˆ¤æ–­è¯¥ç‚¹å‡»äº‹ä»¶çš„å…ƒç´ æ˜¯å¦åœ¨imgä¸Šï¼Œå¦‚æœæ˜¯åˆ™è¿›å…¥å›¾ç‰‡é¢„è§ˆæ¨¡å¼ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼ä¼šä¸UIWebviewé”®ç›˜å¼¹å‡ºæœ‰å†²çªï¼Œå› æ­¤è¿›å…¥å›¾ç‰‡æµè§ˆå‰éœ€è¦å…ˆå…³æ‰é”®ç›˜ï¼š
//ä¸è½¯é”®ç›˜å¼¹å‡ºæœ‰å†²çªï¼Œåº”è¯¥å…ˆå…³é—­é”®ç›˜ function clickHandler(event) { if (event.target instanceof HTMLImageElement) { //ç‚¹å‡»çš„æ˜¯å›¾ç‰‡æ ‡ç­¾,åˆ™è·å–ç‚¹å‡»å›¾ç‰‡çš„src  $(&amp;#39;img&amp;#39;).each(function () { if (this.isSameNode(event.target)) { //https://segmentfault.com/q/1010000000156830/a-1020000000156902  document.activeElement.blur(); //é¦–å…ˆå…³é—­é”®ç›˜ä»¥å…å†²çª  let result = {}; result.src = $(this).attr(&amp;#34;src&amp;#34;); let jsonString = JSON.stringify(result); let escapedJsonString = encodeURI(jsonString); //é‡æ–°ç¼–ç   let scheme = &amp;#34;position://&amp;#34;; document.location.href = scheme &#43; &amp;#34;#&amp;#34; &#43; escapedJsonString; //å‘ioså‘é€  } }); } }  </content>
    </entry>
    
     <entry>
        <title>å•ä¾‹æ¨¡å¼</title>
        <url>https://iihui.github.io/post/ios-singleton/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html">  å•ä¾‹æ¨¡å¼(Singleton Pattern)å±äºåˆ›å»ºå‹æ¨¡å¼ï¼Œè¯¥æ¨¡å¼æ¶‰åŠåˆ°ä¸€ä¸ªå•ä¸€çš„ç±»ï¼Œè¯¥ç±»è´Ÿè´£åˆ›å»ºè‡ªå·±çš„å¯¹è±¡ï¼ŒåŒæ—¶ç¡®ä¿åªæœ‰ä¸€ä¸ªå•ä¾‹å¯¹è±¡è¢«åˆ›å»ºã€‚
 ç¬¬ä¸€ç§æ–¹å¼ åˆ©ç”¨Swiftä¸­å…¨å±€å˜é‡çš„æ‡’åŠ è½½å’Œå…¨å±€å˜é‡åˆå§‹åŒ–æ—¶é»˜è®¤ä½¿ç”¨dispatch_onceä»¥ä¿è¯å…¨å±€å˜é‡çš„æ„é€ å™¨åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡:
let sharedManager = MyManager(string: someString) //å®šä¹‰å…¨å±€å˜é‡ class MyManager { let string: String //åˆå§‹åŒ–å™¨ init(string: String) { self.string = string } }  ç¬¬äºŒç§æ–¹å¼ åˆ©ç”¨staticå’Œprivateä¸¤ä¸ªå…³é”®å­—,staticå…³é”®å­—è¯´æ˜è¯¥å˜é‡æ˜¯ç±»å˜é‡è€Œä¸æ˜¯å®ä¾‹å˜é‡ï¼›è€Œprivateä¿è¯äº†è¯¥ç±»å˜é‡ä¸ºå•ä¾‹ï¼š
class MyManager { // å…¨å±€å˜é‡ static let shared = MyManager(string: someString) // å±æ€§ let string: String // åˆå§‹åŒ–å™¨ private init(string: String) { self.string = string } } // ä½¿ç”¨ print(MyManager.shared)  ç¬¬ä¸‰ç§æ–¹å¼ ç¬¬ä¸‰ç§æ–¹å¼æ˜¯è®©å•ä¾‹åœ¨é—­åŒ…ä¸­åˆå§‹åŒ–ï¼ŒåŒæ—¶åŠ å…¥ç±»æ–¹æ³•ä»¥è·å–å•ä¾‹ã€‚è¿™ç§æ–¹å¼çš„å¥½å¤„æ˜¯å¯ä»¥åœ¨é—­åŒ…ä¸­åšä¸€äº›é¢å¤–çš„é…ç½®ï¼š
class MyManager { // private ä¿®é¥° private static let sharedManager: MyManager = { let shared = MyManager(string: someString) // å¯ä»¥åšä¸€äº›å…¶ä»–çš„é…ç½® // ... return shared }() // Properties let string: String // æ„é€ å‡½æ•°ï¼Œç”±privateä¿®é¥° private init(string: String) { self.string = string } // è®¿é—®å™¨ class func shared() -&amp;gt; MyManager { return sharedManager } } //ä½¿ç”¨ print(MyManager.shared()) å•ä¾‹çš„ç¼ºé™·   ç”±äºå•ä¾‹æ˜¯å…±äº«çš„ï¼Œå› æ­¤ç¨‹åºå‘˜æ— æ³•é¢„æµ‹å•ä¾‹å½“å‰çš„çŠ¶æ€ã€‚
  å› ä¸ºå…¶å®ƒå…±äº«çš„å®ä¾‹å¯ä»¥ä¿®æ”¹ï¼Œå› æ­¤æµ‹è¯•å›°éš¾ã€‚
  æ— æ³•å¯¹è®¿é—®æƒé™ä½œå‡ºé™å®šï¼Œå®¹æ˜“é€ æˆç®¡ç†ä¸Šçš„æ··ä¹±ã€‚
   å‚è€ƒèµ„æ–™
</content>
    </entry>
    
     <entry>
        <title>åŸºäºPageControllerçš„å›¾ç‰‡é¢„è§ˆ</title>
        <url>https://iihui.github.io/post/ios-image-preview/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html"> å‚è€ƒèµ„æ–™ å‚è€ƒèµ„æ–™ å‚è€ƒèµ„æ–™ å‚è€ƒèµ„æ–™
</content>
    </entry>
    
     <entry>
        <title>LLDB è°ƒè¯•</title>
        <url>https://iihui.github.io/post/ios-debug/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html">  LLDBæ˜¯ä¸€ä¸ªåºå¤§çš„å·¥å…·,å†…ç½®äº†è®¸å¤šæœ‰ç”¨çš„å‘½ä»¤ã€‚
 å‘½ä»¤è¯­æ³•ç»“æ„ &amp;lt;command&amp;gt; [&amp;lt;subcommand&amp;gt; [&amp;lt;subcommand&amp;gt;...]] &amp;lt;action&amp;gt; [-options [option-value]] [argument [argument...]] å…¶ä¸­ï¼š
 commandå’Œsubcommandä¸ºLLDBè°ƒè¯•å‘½ä»¤çš„åç§°ï¼Œå‘½ä»¤å’Œå­å‘½ä»¤æŒ‰ç…§å±‚çº§ç»“æ„æ¥æ’åˆ—ï¼šä¸€ä¸ªå‘½ä»¤å¯¹è±¡ä¸ºè·Ÿéšå…¶çš„å­å‘½ä»¤å¯¹è±¡åˆ›å»ºä¸€ä¸ªä¸Šä¸‹æ–‡ï¼Œå­å‘½ä»¤åˆä¸ºå…¶å­å‘½ä»¤åˆ›å»ºä¸€ä¸ªä¸Šä¸‹æ–‡ï¼Œä¾æ­¤ç±»æ¨ã€‚ action  ä¸Šé¢çš„è¿™äº›å…ƒç´ ä¹‹é—´é€šè¿‡ç©ºæ ¼æ¥åˆ†å‰²ï¼Œå¦‚æœæŸä¸€å…ƒç´ è‡ªèº«å«æœ‰ç©ºæ ¼ï¼Œåˆ™å¯ä»¥ä½¿ç”¨åŒå¼•ç”¨ã€‚è€Œå¦‚æœå…ƒç´ ä¸­åˆåŒ…å«åŒå¼•å·ï¼Œåˆ™å¯ä»¥ä½¿ç”¨åæ–œæ ï¼›æˆ–è€…å…ƒç´ ä½¿ç”¨å•å¼•å·ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š
(lldb) command [subcommand] -option &amp;#34;some \&amp;#34;quoted\&amp;#34; string&amp;#34; (lldb) command [subcommand] -option &amp;#39;some &amp;#34;quoted&amp;#34; string&amp;#39; è·å–å˜é‡å€¼å’ŒçŠ¶æ€ ä½¿ç”¨expressionå’Œeå¯ä»¥è·å–å’Œæ”¹å˜å˜é‡çš„å€¼
è·å–æ•´ä¸ªAPPçš„çŠ¶æ€å’ŒæŒ‡å®šè¯­è¨€çš„å‘½ä»¤  bugreport:ç”Ÿæˆå½“å‰åº”ç”¨çŠ¶æ€çš„å®Œæ•´æŠ¥å‘Š frame:è·å–å½“å‰çº¿ç¨‹çš„å½“å‰æ ˆå¸§çš„æ¦‚è¿°  å‚è€ƒèµ„æ–™ å‚è€ƒèµ„æ–™
</content>
    </entry>
    
     <entry>
        <title>å¤šå›¾ç‰‡é€‰æ‹©</title>
        <url>https://iihui.github.io/post/ios-image-selector/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html"> ç¬¬ä¸€æ­¥ JSAPIä¸­æœ‰ä¸ªæ–‡ä»¶é€‰æ‹©å™¨ï¼Œè€Œæ–‡ä»¶é€‰æ‹©å™¨ä¸­æœ‰é€‰æ‹©å¤šä¸ªå›¾ç‰‡çš„åŠŸèƒ½ã€‚é¦–å…ˆåœ¨WebviewController.swiftä¸­æ‰¾åˆ°:
case UrlSchema.fileSelectorSchema.rawValue: //æ–‡ä»¶é€‰æ‹©å™¨ fileSelectorService.presentFileSelector(self.webConfig, params: paramDic)  ç¬¬äºŒæ­¥ é¦–å…ˆæŸ¥çœ‹fileSelectorServiceçš„åˆ›å»º:
fileprivate lazy var fileSelectorService: FileSelectorService = FileSelectorService(callbackDelegate: self) è€ŒFileSelectorServiceç»§æ‰¿è‡ªBaseCallbackService:
class FileSelectorService: BaseCallbackService { } func presentFileSelector(_ webConfig: WebConfig, params: NSDictionary) { self.urlParams = params var webFileType:WebFileType? if let type = params[&amp;#34;type&amp;#34;] as? String ,type != &amp;#34;&amp;#34;{ switch type { case &amp;#34;video&amp;#34;: webFileType = .video break case &amp;#34;photo&amp;#34;: webFileType = .image break case &amp;#34;audio&amp;#34;: webFileType = .audio break case &amp;#34;document&amp;#34;: webFileType = .doc break case &amp;#34;compressed&amp;#34;: webFileType = .compressed break default : webFileType = .other break } } let maxCount = (params[&amp;#34;maxCount&amp;#34;] as? NSString)?.integerValue let showDownloadFile = (params[&amp;#34;showDownloadFile&amp;#34;] as? String) == &amp;#34;false&amp;#34; ? false : true // ç”±äºImageSelectorï¼ˆUIViewControllerï¼‰æ— æ³•ç»§æ‰¿FileSelectorBaseViewController(UITableViewController) // æ‰€ä»¥æ”¹ç”¨è¿™ç§æ–¹å¼å®ç°åˆ¤æ–­ // æ ¹æ®versionå’Œtypeå†³å®šä½¿ç”¨æ–‡ä»¶é€‰æ‹©/å›¾ç‰‡é€‰æ‹© let version = params[&amp;#34;version&amp;#34;] as! String if version == &amp;#34;1&amp;#34; { self.presentFileSelector(type: webFileType, showDownloadFile: showDownloadFile, webConfig: webConfig, maxCount: maxCount, fileSelectorProtocol: self) } else if version == &amp;#34;2&amp;#34; { if webFileType == .video || webFileType == .image { self.presentImageSelector(type: webFileType, showDownloadFile: showDownloadFile, webConfig: webConfig, maxCount: maxCount, fileSelectorProtocol: self) }else { self.presentFileSelector(type: webFileType, showDownloadFile: showDownloadFile, webConfig: webConfig, maxCount: maxCount, fileSelectorProtocol: self) } } } åŒæ—¶FileSelectorServiceç»§æ‰¿äº†FileSelectorRouterå’ŒImageSelectorRouteråè®®
extension FileSelectorService:FileSelectorRouter,ImageSelectorRouter{} ç¬¬ä¸‰æ­¥ æ¥ç€åœ¨FileSelectorServiceç±»ä¸­çš„presentFileSelectoræ–¹æ³•ä¸­å‡ºç°è°ƒç”¨å¤šå›¾ç‰‡é€‰æ‹©å™¨ï¼š
if webFileType == .video || webFileType == .image { self.presentImageSelector(type: webFileType, showDownloadFile: showDownloadFile, webConfig: webConfig, maxCount: maxCount, fileSelectorProtocol: self) }  ç„¶åè¿›å…¥åˆ°presentImageSelector:
import Foundation protocol ImageSelectorRouter:BaseRouter{} extension ImageSelectorRouter { var newInstance:ImageSelectorViewController { return router.sbFileManage.instantiateViewController(withIdentifier: &amp;#34;ImageSelectorViewController&amp;#34;) as! ImageSelectorViewController } func presentImageSelector(type:WebFileType?, showDownloadFile: Bool, webConfig:WebConfig,maxCount:Int?,fileSelectorProtocol:FileSelectorCallbackProtocol?,albumModel:AlbumSelectorViewModel? = nil) { guard let fromVC = keyWindow?.safeRootViewController else { return } let vc = newInstance if let webFileType = type { vc.presenter.type = webFileType } vc.presenter.albumModel = albumModel vc.presenter.webConfig = webConfig vc.presenter.showDownloadFile = showDownloadFile vc.fileSelectorProtocol = fileSelectorProtocol let nc = RotatableNavigationController(rootViewController: vc) if let count = maxCount { vc.presenter.maxCount = count } present(fromVC, toVC: nc) } //é¦–é¡µæ‰«ä¸€æ‰«ä½¿ç”¨ å’Œ jsapi func presentImageSelector(fileSelectorProtocol: FileSelectorCallbackProtocol) { guard let fromVC = (UIApplication.shared.delegate as? AppDelegate)?.topViewController else { return } let vc = newInstance vc.presenter.type = .image vc.presenter.webConfig = nil vc.presenter.showDownloadFile = true vc.fileSelectorProtocol = fileSelectorProtocol vc.presenter.maxCount = 1 vc.isSingleSelection = true let nc = RotatableNavigationController(rootViewController: vc) present(fromVC, toVC: nc) } }  ç¬¬å››æ­¥ æ ¹æ®ç¬¬ä¸‰æ­¥çš„ä»£ç ï¼Œå°†ä¸Šé¢çš„presentImageSelectoræ–¹æ³•ä¸­çš„ä»£ç åŠ å…¥åˆ°NewNoteViewControllerä¸­:
fileprivate var imageSelectorPicker:ImageSelectorViewController{ let instance = router.sbFileManage.instantiateViewController(withIdentifier: &amp;#34;ImageSelectorViewController&amp;#34;) as! ImageSelectorViewController instance.presenter.type = .image instance.presenter.albumModel = nil //instance.presenter.maxCount = 10 instance.presenter.showDownloadFile = true instance.fileSelectorProtocol = self return instance } ç„¶åå†å¤„ç†å›è°ƒï¼Œå°†è·å¾—çš„å›¾ç‰‡å…ˆè¿›è¡Œå‹ç¼©ç„¶åè¿›è¡Œæ‹¦æˆªå±•ç¤ºï¼š
extension NewNoteViewController:FileSelectorCallbackProtocol { // æ–‡ä»¶é€‰æ‹©å›è°ƒ func didFinishSelectFile(_ files: [FileSelectorCallbackModel]) { for file in files { if let image = file.fileImage { let imageSrc = self.newNoteViewControllerPresenter.insertImage(image: image) var isNeedRestoreRange = &amp;#34;N&amp;#34; if self.newNoteViewControllerPresenter.isLowerBoundaryVersion(boundaryVersion: self.boundaryVersion){ isNeedRestoreRange = &amp;#34;Y&amp;#34; } self.webView.stringByEvaluatingJavaScript(from: &amp;#34;insertImage(&amp;#39;\(imageSrc)&amp;#39;,&amp;#39;\(isNeedRestoreRange)&amp;#39;)&amp;#34;) } } }  </content>
    </entry>
    
     <entry>
        <title>Swiftä¸­forå¾ªç¯</title>
        <url>https://iihui.github.io/post/swift-for-in/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html">  Swiftä¸­åªæœ‰ä¸€ç§å½¢å¼forå¾ªç¯ï¼Œå³for inã€‚ä½†æ˜¯for-inæœ‰å¤šç§å½¢å¼ï¼Œæ—¢åŒ…æ‹¬å¸¸è§„ç”¨æ³•åˆåŒ…æ‹¬åŒºé—´å¾ªç¯ã€‚
 å¸¸è§„ç”¨æ³• å¸¸è§„ç”¨æ³•ä¸€èˆ¬ç”¨äºç›´æ¥è®¿é—®æ•°ç»„ä¸­çš„å…ƒç´ ï¼Œå¯ä»¥åˆ†ä¸ºç›´æ¥è®¿é—®å’ŒæŒ‰ç´¢å¼•è®¿é—®ï¼š
let arr = [34,78,789,-12] for item in arr{ print(item) } åœ¨OCä¸­æ˜¯é€šè¿‡ç´¢å¼•iæ¥è®¿é—®æ•°ç»„ä¸­çš„å…ƒç´ ï¼Œåœ¨Swiftä¸­éœ€è¦å€ŸåŠ©æšä¸¾enumerated()æ¥å®ç°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
for item in arr.enumerated(){ print(item.offset,item.element) } for (i,num) in arr.enumerated(){ print(i,num) }  åŒºé—´å¾ªç¯ åœ¨Swiftä¸­...è¡¨ç¤ºé—­åŒºé—´ï¼Œä¾‹å¦‚0...10è¡¨ç¤º0ï¼Œ1ï¼Œ2ï¼Œ...ï¼Œ10ï¼›è€Œ..&amp;lt;è¡¨ç¤ºå‰é—­åå¼€åŒºé—´ï¼Œä¾‹å¦‚0..&amp;lt;10è¡¨ç¤º0ï¼Œ1ï¼Œ2ï¼Œ...ï¼Œ9ã€‚
for i in 0...10{ print(i) } for i in 0..&amp;lt;10{ print(i) } å¦‚æœè¦ä½¿ç”¨å€’åºï¼Œåˆ™éœ€è¦å°†é¡ºåºåŒºé—´è¿›è¡Œreversed()ï¼Œåœ¨...å’Œ..&amp;lt;è¿™ä¸¤ç§è¡¨ç¤ºä¸­è¦æ±‚å·¦è¾¹ç•Œå°äºç­‰äºå³è¾¹ç•Œã€‚
for i in (0 ... 10).reversed() { print(i) } æ­¤å¤–ï¼ŒSwiftè¿˜æä¾›äº†ä¸€ç§æ›´çµæ´»çš„strideï¼Œä»¥æ»¡è¶³ä¸åŒçš„é€’å¢æ¡ä»¶ä»¥å’Œå¼€é—­åŒºé—´çš„ç»“åˆï¼š
func stride&amp;lt;T&amp;gt;(from start: T, to end: T, by stride: T.Stride) func stride&amp;lt;T&amp;gt;(from start: T, through end: T, by stride: T.Stride) //from:å¼€å§‹ä½ç½®åŒ…æ‹¬ä¸Šè¾¹ç•Œ byï¼šé€’å¢æ­¥é•¿ //toï¼šç»“æŸä½ç½®ï¼Œå‰é—­åå¼€åŒºé—´ï¼Œä¸åŒ…å«å³è¾¹ç•Œ //throughï¼šç»“æŸä½ç½®ï¼Œå…¨é—­åŒºé—´ï¼ŒåŒ…å«å³è¾¹ç•Œ for i in stride(from: 0, to: 10, by: 2){ print(i, terminator: &amp;#34;\t&amp;#34;) //0 2 4 6 8 } for i in stride(from: 0, through: 10, by: 2){ print(i, terminator: &amp;#34;\t&amp;#34;) //0 2 4 6 8 10 } å¦‚æœè¦å®ç°é€’å‡ï¼Œåˆ™éœ€è¦å°†byæ”¹æˆè´Ÿæ•°:
for i in stride(from: 10, through: 0, by: -2){ print(i, terminator: &amp;#34;\t&amp;#34;) //10 8 6 4 2 0 } å¦‚æœä¸­é€”æ”¹å˜byçš„å€¼ï¼Œä¸ä¼šèµ·ä½œç”¨ï¼ŒæŸ¥çœ‹æºç å‘ç°byæ˜¯ä»¥ä¼ å€¼çš„æ–¹å¼ä¼ é€’åˆ°strideå‡½æ•°ä¸­çš„ï¼š
var step = -3 for i in stride(from: 10, through: 0, by: step){ print(i, terminator: &amp;#34;\t&amp;#34;) //10 7 4 1 step -= 2 //è™½ç„¶æ”¹å˜äº†stepä½†ç»“æœä¾ç„¶æ˜¯10 7 4 1 }  å‚è€ƒèµ„æ–™ å‚è€ƒèµ„æ–™
 </content>
    </entry>
    
     <entry>
        <title>åŸºæœ¬å†…æ’åºç®—æ³•Swiftå®ç°</title>
        <url>https://iihui.github.io/post/ios-sort/</url>
        <categories>
          <category>ç®—æ³•</category>
        </categories>
        <tags>
          <tag>ç®—æ³•</tag>
        </tags>
        <content type="html">  æ’åºå°±æ˜¯é‡æ–°æ’åˆ—è¡¨ä¸­çš„å…ƒç´ ï¼Œä½¿è¡¨ä¸­çš„å…ƒç´ æ»¡è¶³æŒ‰å…³é”®å­—é€’å¢æˆ–è€…é€’å‡çš„æ’åˆ—è¿‡ç¨‹ã€‚æ’åºç®—æ³•åˆ†ä¸ºå†…æ’åºå’Œå¤–æ’åºã€‚å†…æ’åºæ˜¯æŒ‡æ’åºæœŸé—´å…ƒç´ å…¨éƒ¨æ”¾åœ¨å†…å­˜ä¸­çš„æ’åºï¼›è€Œå¤–æ’åºæ˜¯æŒ‡åœ¨æ’åºæœŸé—´å…ƒç´ å¤ªå¤šï¼Œä¸èƒ½åŒæ—¶å­˜æ”¾åœ¨å†…å­˜ä¸­ï¼Œå¿…é¡»åœ¨æ’åºè¿‡ç¨‹ä¸­æ ¹æ®è¦æ±‚ï¼Œä¸æ–­åœ¨å†…ï¼Œå¤–å­˜ä¹‹é—´ç§»åŠ¨çš„æ’åºã€‚å†…æ’åºå¯å½’çº³ä¸ºæ’å…¥æ’åºï¼Œé€‰æ‹©æ’åºï¼Œäº¤æ¢æ’åºã€å½’å¹¶æ’åºï¼Œè®¡æ•°æ’åºï¼ŒåŸºæ•°æ’åºç­‰ã€‚
 æ’å…¥æ’åº ç›´æ¥æ’å…¥æ’åº ç›´æ¥æ’å…¥æ’åºæ˜¯åœ¨æœ‰åºçš„åŸºç¡€ä¸Šè¿›è¡Œæ’åºã€‚å¯¹äºæ•°ç»„æ¥è¯´ç¬¬ä¸€ä¸ªå…ƒç´ é»˜è®¤æ˜¯æœ‰åºçš„ï¼Œä»ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹ï¼Œåœ¨å‰é¢å·²ç»æœ‰åºçš„å…ƒç´ ä¸­æ‰¾åˆ°å½“å‰å…ƒç´ åº”è¯¥åœ¨çš„ä½ç½®è¿›è¡Œæ’å…¥ï¼š
//ç›´æ¥æ’å…¥æ’åºï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n^2)ï¼Œç©ºé—´å¤æ‚åº¦ä¸ºO(1)ï¼Œç¨³å®šçš„æ’åºç®—æ³• static func insertSort&amp;lt;T: Comparable&amp;gt;(data: [T]) -&amp;gt; [T] { var result = data var j: Int for i in 1 ..&amp;lt; result.count { let tmp = result[i] j = i - 1 while j &amp;gt;= 0 { if result[j] &amp;gt; tmp { result[j &#43; 1] = result[j] j -= 1 } else { break } } result[j &#43; 1] = tmp } return result }  ç›´æ¥æ’å…¥æ’åºæ˜¯ç¨³å®šçš„æ’åºç®—æ³• æ—¶é—´å¤æ‚åº¦ä¸º$O(n^2)$ ç©ºé—´å¤æ‚åº¦ä¸º$O(1)$   æŠ˜åŠæ’å…¥æ’åº æŠ˜åŠæ’å…¥æ’åºï¼Œåœ¨æŸ¥æ‰¾å½“å‰å…ƒç´ åº”è¯¥æ’å…¥çš„ä½ç½®æ—¶ï¼Œåˆ©ç”¨å‰é¢å…ƒç´ å·²ç»æœ‰åºçš„ç‰¹ç‚¹ï¼Œä»¥äºŒåˆ†æ³•è¿›è¡ŒæŸ¥æ‰¾ï¼š
//äºŒåˆ†æ’å…¥æ’åº,æ—¶é—´å¤æ‚åº¦ä¸ºO(nlog(n))ï¼Œç©ºé—´å¤æ‚åº¦ä¸ºO(1)ï¼Œä¸ç¨³å®šçš„æ’åºç®—æ³•,ä¾‹å­ä¸º(2,2,2) static func binarySort&amp;lt;T: Comparable&amp;gt;(data: [T]) -&amp;gt; [T] { var result = data var start, end, mid: Int for i in 1 ..&amp;lt; result.count { let tmp = result[i] start = 0 end = i - 1 while start &amp;lt;= end { mid = start &#43; (end - start) / 2 if result[mid] == result[i] { end = mid break } else if result[mid] &amp;gt; result[i] { end = mid - 1 } else { start = mid &#43; 1 } } for j in stride(from: i - 1, through: end &#43; 1, by: -1) { result[j &#43; 1] = result[j] } result[end &#43; 1] = tmp } return result }  æ˜¯ä¸ç¨³å®šçš„æ’åºç®—æ³•ï¼Œä¾‹å¦‚(1,1,1,1,1) æ—¶é—´å¤æ‚åº¦ä¸º$O(n^2)$ï¼ŒäºŒåˆ†æŸ¥æ‰¾æ’å…¥ä½ç½®ï¼Œå› ä¸ºä¸æ˜¯æŸ¥æ‰¾ç›¸ç­‰å€¼ï¼Œè€Œæ˜¯åŸºäºæ¯”è¾ƒæŸ¥æ’å…¥åˆé€‚çš„ä½ç½®ï¼Œæ‰€ä»¥å¿…é¡»æŸ¥åˆ°æœ€åä¸€ä¸ªå…ƒç´ æ‰çŸ¥é“æ’å…¥ä½ç½®ã€‚ ç©ºé—´å¤æ‚åº¦ä¸º$O(1)$   Shellæ’åº å¸Œå°”æ’åºæ˜¯å…ˆå°†å¾…æ’åºçš„è¡¨åˆ†å‰²ä¸ºè‹¥å¹²å½¢å¦‚$L[i,i&#43;d,i&#43;2d,..i&#43;kd]$çš„å­è¡¨ï¼Œåˆ†åˆ«è¿›è¡Œç›´æ¥æ’å…¥æ’åºï¼Œå½“æ•´ä¸ªè¡¨ä¸­å…ƒç´ å·²å‘ˆåŸºæœ¬æœ‰åºæ—¶ï¼Œå†å¯¹å…¨ä½“è¿›è¡Œä¸€æ¬¡ç›´æ¥æ’å…¥æ’åºã€‚
//shellæ’åºï¼Œæ—¶é—´å¤æ‚åº¦O(nlog^k(n)),ç©ºé—´å¤æ‚åº¦ä¸ºO(1),ä¸ç¨³å®šçš„æ’åºç®—æ³•ï¼Œä¾‹å­ä¸º(2,2,1) static func shellSort&amp;lt;T: Comparable&amp;gt;(data: [T]) -&amp;gt; [T] { var result = data var step = result.count / 2 while step &amp;gt;= 1 { self.assistShellSort(data: &amp;amp;result, step: step) step /= 2 } return result } static private func assistShellSort&amp;lt;T: Comparable&amp;gt;(data: inout [T], step: Int) { guard step &amp;gt;= 1 else { return } var j = 0 for i in 1 ..&amp;lt; data.count { let tmp = data[i] j = i - step while j &amp;gt;= 0 { if data[j] &amp;gt; tmp { data[j &#43; step] = data[j] j -= step } else { break } } data[j &#43; step] = tmp } }  æ˜¯ä¸ç¨³å®šçš„æ’åºç®—æ³•ï¼Œä¾‹å¦‚(2,1,1) ç©ºé—´å¤æ‚åº¦ä¸º$O(1)$   é€‰æ‹©æ’åº ç®€å•é€‰æ‹©æ’åº ç®€å•é€‰æ‹©æ’åºï¼Œé¦–å…ˆä»æ•°ç»„æ‰€æœ‰å…ƒç´ ä¸­æ‰¾åˆ°æœ€å°çš„å…ƒç´ ï¼Œç„¶åå°†å…¶ä¸ç¬¬ä¸€ä¸ªå…ƒç´ è¿›è¡Œäº¤æ¢ï¼Œè¿™æ ·ç¬¬ä¸€ä¸ªå…ƒç´ å°±å˜æˆäº†æœ€å°å…ƒç´ ï¼›ç„¶åä»ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹æ‰¾å‰©ä¸‹å…ƒç´ ä¸­æœ€å°çš„é‚£ä¸€ä¸ªï¼Œå¹¶å°†è¿™ä¸ªæœ€å°å…ƒç´ ä¸ç¬¬äºŒä¸ªå…ƒç´ è¿›è¡Œäº¤æ¢ï¼Œå¦‚æ­¤ç¬¬äºŒä¸ªå…ƒç´ å°±å˜æˆç¬¬äºŒå°çš„å…ƒç´ ï¼Œä¾æ¬¡ç±»æ¨ï¼š
//é€‰æ‹©æ’åºï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n^2),ç©ºé—´å¤æ‚åº¦ä¸ºO(1),ä¸ç¨³å®šçš„æ’åºç®—æ³•ï¼Œä¾‹å­ä¸º(2,2,1) static func selectSort&amp;lt;T: Comparable&amp;gt;(data: [T]) -&amp;gt; [T] { var result = data var index: Int for i in 0 ..&amp;lt; result.count - 1 { index = i for j in i &#43; 1 ..&amp;lt; result.count { if result[j] &amp;lt; result[index] { index = j } } if index != i { (result[index], result[i]) = (result[i], result[index]) } } return result }  ä¸ç¨³å®šçš„æ’åºç®—æ³•ï¼Œä¾‹å¦‚2,2,1 æ—¶é—´å¤æ‚åº¦ä¸º$O(n^2)$ ç©ºé—´å¤æ‚åº¦ä¸º$O(1)$   å †æ’åº å †æ’åºç®—æ³•ï¼Œæ˜¯å…ˆå°†æ•°ç»„æ’æˆå¤§é¡¶å †ï¼ˆä¹Ÿå¯ä»¥æ˜¯å°é¡¶å †ï¼‰ã€‚ç„¶åå°†å †é¡¶å…ƒç´ ï¼ˆå½“å‰æœ€å¤§ï¼‰å’Œæ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ è¿›è¡Œäº¤æ¢ï¼Œé‚£ä¹ˆæ­¤æ—¶å †é¡¶åˆ°æ•°ç»„çš„å€’æ•°ç¬¬äºŒä¸ªå…ƒç´ ä¹‹é—´çš„å †å¯èƒ½å°±ä¸å†æ»¡è¶³å †çš„å®šä¹‰ï¼Œéœ€è¦è°ƒæ•´ã€‚è°ƒæ•´å¥½ä¹‹åï¼Œå †é¡¶å…ƒç´ å³ä¸ºå †é¡¶åˆ°æ•°ç»„çš„å€’æ•°ç¬¬äºŒä¸ªå…ƒç´ ä¹‹é—´æœ€å¤§çš„å…ƒç´ ï¼Œæ­¤æ—¶å°†å †é¡¶å…ƒç´ å’Œå€’æ•°ç¬¬äºŒä¸ªå…ƒç´ äº¤æ¢ï¼Œæ­¤æ—¶åˆå¯èƒ½ä¸æ»¡è¶³å †çš„å®šä¹‰äº†ï¼Œå› æ­¤å†è°ƒæ•´å †ï¼Œå¦‚æ­¤ç»§ç»­ï¼Œç›´åˆ°å¤„ç†å®Œæ‰€æœ‰æ•°æ®ã€‚
//å †æ’åºï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(nlog(n))ï¼Œç©ºé—´å¤æ‚åº¦ä¸ºO(1)ï¼Œä¸ç¨³å®šçš„æ’åºç®—æ³•ï¼Œä¾‹å­ä¸º(2,2,1) static func heapSort&amp;lt;T: Comparable&amp;gt;(data: [T]) -&amp;gt; [T] { var result = data //é¦–å…ˆæ’åºä¸ºå¤§é¡¶å † for i in stride(from: (result.count - 1) / 2, through: 0, by: -1) { self.adjustHeap(data: &amp;amp;result, start: i, end: result.count - 1) } //ç„¶åäº¤æ¢ï¼Œå†é‡æ–°è°ƒæ•´ä¸ºå¤§é¡¶å † for i in stride(from: result.count - 1, through: 1, by: -1) { (result[0], result[i]) = (result[i], result[0]) self.adjustHeap(data: &amp;amp;result, start: 0, end: i - 1) } return result } //è¾…åŠ©å‡½æ•°ï¼Œé»˜è®¤é™¤äº†ç¬¬ä¸€ä¸ªå…ƒç´ ä¸æ»¡è¶³å¤§é¡¶å †ï¼Œæ‰€ä»¥è¦è°ƒæ•´ç¬¬ä¸€ä¸ªå…ƒç´ åˆ°åˆé€‚ä½ç½® static private func adjustHeap&amp;lt;T: Comparable&amp;gt;(data: inout [T], start: Int, end: Int) var parent = start, child = 2 * start &#43; 1 while child &amp;lt;= end { if child &amp;lt; end, data[child] &amp;lt; data[child &#43; 1] { child &#43;= 1 } if data[parent] &amp;lt; data[child] { (data[parent], data[child]) = (data[child], data[parent]) parent = child child = 2 * parent &#43; 1 }else{ break } } }  æ˜¯ä¸ç¨³å®šçš„æ’åºç®—æ³•,ä¾‹å¦‚(1,2,2) æ—¶é—´å¤æ‚åº¦ä¸º$O(nlog(n))$ ç©ºé—´å¤æ‚åº¦ä¸º$O(1)$   äº¤æ¢æ’åº  äº¤æ¢æ’åºï¼Œå°±æ˜¯æ ¹æ®åºåˆ—ä¸­ä¸¤ä¸ªå…ƒç´ å…³é”®å­—çš„æ¯”è¾ƒç»“æœæ¥å¯¹æ¢è¿™ä¸¤ä¸ªè®°å½•åœ¨åºåˆ—ä¸­çš„ä½ç½®ã€‚
 å†’æ³¡æ’åº å†’æ³¡æ’åºå‡è®¾å¾…æ’åºè¡¨é•¿ä¸ºnï¼Œä»åå¾€å‰ï¼ˆæˆ–ä»å‰å¾€åï¼‰ä¸¤ä¸¤æ¯”è¾ƒç›¸é‚»å…ƒç´ çš„å€¼ï¼Œè‹¥ä¸ºé€†åº$A[i-1]&amp;gt;A[i]$ï¼Œåˆ™äº¤æ¢å®ƒä»¬ï¼Œç›´åˆ°åºåˆ—æ¯”è¾ƒå®Œã€‚ç§°ä¹‹ä¸ºä¸€è¶Ÿå†’æ³¡ï¼Œç»“æœå°†æœ€å°çš„å…ƒç´ äº¤æ¢åˆ°å¾…æ’åºåˆ—çš„ç¬¬ä¸€ä¸ªä½ç½®ï¼ˆå…³é”®å­—æœ€å°çš„å…ƒç´ å¦‚æ°”æ³¡ä¸€èˆ¬é€æ¸å¾€ä¸Šæ¼‚æµ®ï¼Œç›´åˆ°æ°´é¢ï¼Œè¿™å°±æ˜¯å†’æ³¡æ’åºçš„åå­—çš„ç”±æ¥ï¼‰ã€‚ä¸‹ä¸€è¶Ÿå†’æ³¡æ—¶ï¼Œå‰ä¸€è¶Ÿç¡®å®šçš„æœ€å°å…ƒç´ ä¸å†å‚ä¸æ¯”è¾ƒï¼Œå¾…æ’åºå‡å°‘ä¸€ä¸ªå…ƒç´ ï¼Œæ¯è¶Ÿå†’æ³¡çš„ç»“æœæŠŠåºåˆ—ä¸­çš„æœ€å°å…ƒç´ æ”¾åˆ°åºåˆ—çš„æœ€ç»ˆä½ç½®ï¼Œ&amp;hellip;ï¼Œè¿™æ ·æœ€å¤šåš$n-1$è¶Ÿå†’æ³¡å°±èƒ½æŠŠæ‰€æœ‰å…ƒç´ æ’å¥½åºã€‚
//äº¤æ¢æ’åºï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n^2),ç©ºé—´å¤æ‚åº¦ä¸ºO(1),ç¨³å®šçš„æ’åºç®—æ³• static func bubbleSort&amp;lt;T: Comparable&amp;gt;(data: [T]) -&amp;gt; [T] { var result = data var flag = false //ç”¨äºæ ‡è¯†æœ¬è¶Ÿæ˜¯å¦æœ‰äº¤æ¢ for i in 0 ..&amp;lt; result.count - 1 { flag = false for j in 0 ..&amp;lt; result.count - i - 1 { // å¤§æ•°æ²‰åº• if result[j] &amp;gt; result[j &#43; 1] { (result[j], result[j &#43; 1]) = (result[j &#43; 1], result[j]) flag = true } } if flag == false { break } } return result }  æ˜¯ç¨³å®šçš„æ’åºç®—æ³• æ—¶é—´å¤æ‚åº¦ä¸º$O(n^2)$ ç©ºé—´å¤æ‚åº¦ä¸º$O(1)$   å¿«é€Ÿæ’åº //å¿«é€Ÿæ’åºï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(nlog(n))ï¼Œç©ºé—´å¤æ‚åº¦ä¸ºlog(n),ä¸ç¨³å®šçš„æ’åºç®—æ³•ï¼Œä¾‹å­(2,2,1) static func quickSort&amp;lt;T: Comparable&amp;gt;(data: inout [T], start: Int, end: Int) { guard start &amp;lt; end else { return } let pivot = assistQuickSort(data: &amp;amp;data, start: start, end: end) if pivot &amp;gt; start { quickSort(data: &amp;amp;data, start: start, end: pivot - 1) } if end &amp;gt; pivot { quickSort(data: &amp;amp;data, start: pivot &#43; 1, end: end) } } //åœ¨start...endä¹‹é—´éšæœºæŠ½å–ä¸€ä¸ªæ•°å­—ï¼Œå¹¶å°†å…¶æ”¾ç½®å…¶æœ€ç»ˆçš„ä½ç½® static private func assistQuickSort&amp;lt;T: Comparable&amp;gt;(data: inout [T], start: Int, end: Int) -&amp;gt; Int { let index = Int.randomIntNumber(lower: start, upper: end &#43; 1) (data[end], data[index]) = (data[index], data[end]) var small = start - 1 for i in start ..&amp;lt; end { if data[i] &amp;lt; data[end] { small &#43;= 1 if small != i { (data[small], data[i]) = (data[i], data[small]) } } } small &#43;= 1 (data[small], data[end]) = (data[end], data[small]) return small } extension Int { //è¿”å›çš„ç»“æœï¼š [lower,upper) ä¹‹é—´çš„åŠå¼€åŠé—­åŒºé—´çš„æ•°ã€‚ public static func randomIntNumber(lower: Int = 0, upper: Int = Int(UInt32.max)) -&amp;gt; Int { return lower &#43; Int(arc4random_uniform(UInt32(upper - lower))) } //ç”ŸæˆæŸä¸ªåŒºé—´çš„éšæœºæ•° public static func randomIntNumber(range: Range&amp;lt;Int&amp;gt;) -&amp;gt; Int { return randomIntNumber(lower: range.lowerBound, upper: range.upperBound) } }   æ˜¯ä¸ç¨³å®šçš„æ’åºç®—æ³•ï¼Œä¾‹å¦‚(3,2,2)æ—¶ï¼ŒPivotä¸º0
  æ—¶é—´å¤æ‚åº¦ä¸º$O(nlog(n))$
  ç©ºé—´å¤æ‚åº¦ä¸º$O(log(n))$
  å¹³å‡æ¡ä»¶ä¸‹ï¼Œæœ€å¿«çš„æ’åºç®—æ³•
   å½’å¹¶æ’åº  å½’å¹¶çš„å«ä¹‰æ˜¯å°†ä¸¤ä¸ªæˆ–è€…ä¸¤ä¸ªä»¥ä¸Šçš„æœ‰åºè¡¨ç»„åˆæˆä¸€ä¸ªæ–°çš„æœ‰åºè¡¨ã€‚å‡å®šå¾…æ’åºè¡¨å«æœ‰nä¸ªè®°å½•ï¼Œåˆ™å¯ä»¥è§†ä¸ºnä¸ªæœ‰åºå­è¡¨ï¼Œæ¯ä¸ªè¡¨çš„é•¿åº¦ä¸º1ï¼Œç„¶åä¸¤ä¸¤å½’å¹¶ï¼Œå¾—åˆ°$\biggl\lceil\frac{n}{2}\biggr\rceil$ä¸ªé•¿åº¦ä¸º2æˆ–1çš„æœ‰åºè¡¨ï¼Œå†ä¸¤ä¸¤å½’å¹¶ï¼Œ&amp;hellip;ï¼Œå¦‚æ­¤é‡å¤ï¼Œç›´åˆ°åˆå¹¶æˆä¸€ä¸ªé•¿åº¦ä¸ºnçš„æœ‰åºè¡¨ä¸ºæ­¢ï¼Œè¿™ç§æ’åºæ–¹æ³•ç§°ä¸ºäºŒè·¯å½’å¹¶æ’åºã€‚
 //å½’å¹¶æ’åºï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(nlog(n)),ç©ºé—´å¤æ‚åº¦ä¸º(O(n),ç¨³å®šçš„æ’åºç®—æ³• static func mergeSort&amp;lt;T: Comparable&amp;gt;(data: [T]) -&amp;gt; [T] { var result = data var assist = data self.mergeSort(data: &amp;amp;result, assist: &amp;amp;assist, start: 0, end: result.count - 1) return result } static private func mergeSort&amp;lt;T: Comparable&amp;gt;(data: inout [T], assist: inout [T], start: Int, en if start &amp;lt; end { let mid = start &#43; (end - start) / 2 mergeSort(data: &amp;amp;data, assist: &amp;amp;assist, start: start, end: mid) mergeSort(data: &amp;amp;data, assist: &amp;amp;assist, start: mid &#43; 1, end: end) var index = start, i = start, j = mid &#43; 1 while i &amp;lt;= mid &amp;amp;&amp;amp; j &amp;lt;= end { if data[i] &amp;lt; data[j] { assist[index] = data[i] i &#43;= 1 } else { assist[index] = data[j] j &#43;= 1 } index &#43;= 1 } while i &amp;lt;= mid { assist[index] = data[i] index &#43;= 1 i &#43;= 1 } while j &amp;lt;= mid { assist[index] = data[j] index &#43;= 1 j &#43;= 1 } data = assist } } func mergeSort(data:inout Array&amp;lt;Int&amp;gt;){ var assist = data mergeSort(data: &amp;amp;data, assist: &amp;amp;assist,start: 0,end: data.count-1) } func mergeSort(data:inout Array&amp;lt;Int&amp;gt;,assist:inout Array&amp;lt;Int&amp;gt;,start:Int,end:Int){ if start == end{ assist[start] = data[start] return } let length = (end - start)/2 mergeSort(data: &amp;amp;data, assist: &amp;amp;assist, start: start, end: start &#43; length) mergeSort(data: &amp;amp;data, assist: &amp;amp;assist, start: start &#43; length &#43; 1, end: end) var i=start, j = start &#43; length &#43; 1,k = start while i &amp;lt;= start &#43; length &amp;amp;&amp;amp; j &amp;lt;= end{ if data[i] &amp;lt;= data[j]{ assist[k] = data[i] i &#43;= 1 }else{ assist[k] = data[j] j &#43;= 1 } k &#43;= 1 } if i &amp;lt;= start &#43; length { assist[k...(k &#43; (start &#43; length - i))] = data[i...start&#43;length] } if j &amp;lt;= end { assist[k...(k &#43; (end - j))] = data[j...end] } data = assist }  è®¡æ•°æ’åº è®¡æ•°æ’åºæ˜¯ä¸€ç§éæ¯”è¾ƒæ€§è´¨çš„æ’åºç®—æ³•ï¼Œå…ƒç´ ä»æœªæ’åºçŠ¶æ€å˜ä¸ºå·²æ’åºçŠ¶æ€çš„è¿‡ç¨‹ï¼Œæ˜¯ç”±é¢å¤–ç©ºé—´çš„è¾…åŠ©å’Œå…ƒç´ æœ¬èº«çš„å€¼å†³å®šçš„ã€‚è®¡æ•°æ’åºè¿‡ç¨‹ä¸­ä¸å­˜åœ¨å…ƒç´ ä¹‹é—´çš„æ¯”è¾ƒå’Œäº¤æ¢æ“ä½œï¼Œæ ¹æ®å…ƒç´ æœ¬èº«çš„å€¼ï¼Œå°†æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°è®°å½•åˆ°è¾…åŠ©ç©ºé—´åï¼Œé€šè¿‡å¯¹è¾…åŠ©ç©ºé—´å†…æ•°æ®çš„è®¡ç®—ï¼Œå³å¯ç¡®å®šæ¯ä¸€ä¸ªå…ƒç´ æœ€ç»ˆçš„ä½ç½®ã€‚
//è®¡æ•°æ’åºï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n&#43;K),ç©ºé—´å¤æ‚åº¦ä¸ºO(n&#43;K),ç¨³å®šçš„æ’åºç®—æ³• static func countSort(data: [Int]) -&amp;gt; [Int]? { guard let arr = preCountSort(data: data), let max = arr.max() else return nil } var countArr = [Int](repeating: 0, count: max &#43; 1) for item in arr { countArr[item] &#43;= 1 } for i in 1 ..&amp;lt; countArr.count { countArr[i] &#43;= countArr[i - 1] } var result = [Int](repeating: 0, count: arr.count) for i in stride(from: arr.count - 1, through: 0, by: -1) { result[countArr[arr[i]] - 1] = arr[i] countArr[arr[i]] -= 1 } let realResult = postCountSort(data: data, result: result) return realResult } static private func preCountSort(data: [Int]) -&amp;gt; [Int]? { guard let min = data.min() else { return nil } if min &amp;lt; 0 { let adder = abs(min) let result = data.map { $0 &#43; adder } return result } else { return data } } static private func postCountSort(data: [Int], result: [Int]) -&amp;gt; [Int]? guard data.count == result.count, let min = data.min() else { return nil } var realResult = result if min &amp;lt; 0 { realResult = result.map { $0 &#43; min } } return realResult } å‚è€ƒèµ„æ–™
 åŸºæ•°æ’åº åŸºæ•°æ’åº(Radix Sort)æ˜¯æ¡¶æ’åºçš„æ‰©å±•ï¼Œå®ƒçš„åŸºæœ¬æ€æƒ³æ˜¯ï¼šå°†æ•´æ•°æŒ‰ä½æ•°åˆ‡å‰²æˆä¸åŒçš„æ•°å­—ï¼Œç„¶åæŒ‰æ¯ä¸ªä½æ•°åˆ†åˆ«æ¯”è¾ƒã€‚å…·ä½“åšæ³•æ˜¯ï¼šå°†æ‰€æœ‰å¾…æ¯”è¾ƒæ•°å€¼ç»Ÿä¸€ä¸ºåŒæ ·çš„æ•°ä½é•¿åº¦ï¼Œæ•°ä½è¾ƒçŸ­çš„æ•°å‰é¢è¡¥é›¶ã€‚ç„¶åï¼Œä»æœ€ä½ä½å¼€å§‹ï¼Œä¾æ¬¡è¿›è¡Œä¸€æ¬¡æ’åºã€‚è¿™æ ·ä»æœ€ä½ä½æ’åºä¸€ç›´åˆ°æœ€é«˜ä½æ’åºå®Œæˆä»¥å,å¾…æ’åºåºåˆ—å°±å˜æˆä¸€ä¸ªæœ‰åºåºåˆ—ã€‚
//åè¿›åˆ¶çš„åŸºæ•°æ’åº static func radixSort(data: [Int]) -&amp;gt; [Int]? { guard var arr = preRadixSort(data: data), let max = arr.max() else { return nil } var assist = 1 while assist &amp;lt;= max { inRadixSort(data: &amp;amp;arr, assist: assist, radix: 10) assist *= 10 } return arr } static private func preRadixSort(data: [Int]) -&amp;gt; [Int]? { for item in data { if item &amp;lt; 0 { return nil } } return data } static private func inRadixSort(data: inout [Int], assist: Int, radix: Int) { var countArr = [Int](repeating: 0, count: 10) for item in data { countArr[(item / assist) % radix] &#43;= 1 } var tmpArr = data for i in 1 ..&amp;lt; countArr.count { countArr[i] &#43;= countArr[i - 1] } for i in stride(from: data.count - 1, through: 0, by: -1) { tmpArr[countArr[(data[i] / assist) % radix] - 1] = data[i] countArr[(data[i] / assist) % radix] -= 1 } data = tmpArr } æ€»ç»“  </content>
    </entry>
    
     <entry>
        <title>iOSå…è®¸HTTPè¯·æ±‚</title>
        <url>https://iihui.github.io/post/ios-http/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html"> åœ¨iOS 9ä¹‹åï¼Œè‹¹æœé»˜è®¤è¦æ±‚Appè®¿é—®çš„urlå¿…é¡»ä¸ºhttpsçš„å®‰å…¨é“¾æ¥ï¼Œä¸ºäº†èƒ½åœ¨é¡¹ç›®ä¸­è¯·æ±‚Httpé“¾æ¥ï¼Œéœ€è¦åœ¨é¡¹ç›®ä¸­è‡ªåŠ¨ç”Ÿæˆçš„Info.plistæ–‡ä»¶é‡Œï¼Œå°†App Transport Security Settingsä¸‹çš„Allow Arbitrary Loadsè®¾ç½®ä¸ºYESã€Œå¦‚æœæ²¡æœ‰åˆ™å…ˆæ·»åŠ è¿™ä¸¤é¡¹ã€:
 </content>
    </entry>
    
     <entry>
        <title>Framework</title>
        <url>https://iihui.github.io/post/ios-framework/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html"> é“¾æ¥åº“ åº“æ˜¯ä¸€ç§å…±äº«ç¨‹åºä»£ç çš„æ–¹å¼ï¼Œåˆ†ä¸ºé™æ€åº“å’ŒåŠ¨æ€åº“ã€‚é™æ€åº“é“¾æ¥æ—¶è¢«å®Œæ•´åœ°æ‹·è´åˆ°å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¤šæ¬¡ä½¿ç”¨æ—¶å°±ä¼šæœ‰å¤šä¸ªå‰¯æœ¬ã€‚
è€ŒåŠ¨æ€åº“åœ¨é“¾æ¥æ—¶ä¸å¤åˆ¶ï¼Œç¨‹åºè¿è¡Œæ—¶ç”±ç³»ç»ŸåŠ¨æ€åŠ è½½åˆ°å†…å­˜ï¼Œä¾›ç¨‹åºè°ƒç”¨ã€‚åŠ¨æ€åº“åªåŠ è½½ä¸€æ¬¡åˆ°å†…å­˜ï¼Œç„¶åä¾›å¤šä¸ªç¨‹åºå…±ç”¨ï¼Œä»¥èŠ‚çœå†…å­˜ã€‚
é™æ€åº“çš„å½¢å¼ åœ¨iOSä¸­é™æ€åº“åˆ†ä¸º.aå’Œ.frameworkã€‚.aæ˜¯ä¸€ä¸ªçº¯äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œ.frameworkä¸­é™¤äº†äºŒè¿›åˆ¶æ–‡ä»¶ä¹‹å¤–ï¼Œè¿˜æœ‰èµ„æºæ–‡ä»¶ã€‚.aæ–‡ä»¶ä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œè‡³å°‘è¦æœ‰.hæ–‡ä»¶é…åˆï¼Œè€Œ.frameworkæ–‡ä»¶å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚
$$ .a &#43; .h &#43; sourceFile = .framework$$
 åŠ¨æ€åº“çš„å½¢å¼ åœ¨iOSä¸­åŠ¨æ€åº“åˆ†ä¸º.dylibå’Œ.frameworkä¸¤ç§å½¢å¼ã€‚.frameworkæ—¢å¯ä»¥æ˜¯åŠ¨æ€åº“åˆå¯ä»¥æ˜¯é™æ€åº“ï¼Œéœ€è¦åœ¨æ„å»ºçš„æ—¶å€™è¿›è¡Œè®¾ç½®ï¼š
 æ„å»ºFramework ä¸€èˆ¬æ„å»º æ–°å»ºé¡¹ç›®æ—¶é€‰æ‹©Cocoa Touch Framworkï¼š ç„¶åè¾“å…¥Product Nameï¼š ä¸ºäº†è®©åˆ¶ä½œå‡ºçš„frameworkåœ¨ä½ç‰ˆæœ¬çš„ç³»ç»Ÿä¸Šä¹Ÿèƒ½ä½¿ç”¨ï¼Œå¯ä»¥åœ¨General-&amp;gt;Deployment Infoé‡Œè®¾ç½®ä¸€ä¸ªè¾ƒä½çš„å‘å¸ƒç‰ˆæœ¬: å°†éœ€è¦æ·»åŠ çš„æ–‡ä»¶åŠ å…¥åˆ°é¡¹ç›®ä¸­ï¼Œè¿›è¡Œç¼–è¯‘ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºé€‰æ‹©ä¸åŒçš„active schemeåˆ™ä¼šç”Ÿæˆå¯¹åº”äºä¸åŒå¹³å°çš„frameworkï¼š  å¼•å…¥OCä»£ç  å¦‚æœè¦åœ¨frameworkä¸­å¼•å…¥OCä»£ç ï¼Œåˆ™é¦–å…ˆå°†.må’Œ.hæ–‡ä»¶æ‹–å…¥åˆ°é¡¹ç›®ä¸­ã€‚ç„¶ååœ¨è®¾ç½®æ—¶é€‰ä¸­ç›¸åº”çš„tagertï¼Œæ‰¾åˆ°Build Phases,å†åœ¨å…¶ä¸‹çš„Headerä¸­æ‰¾åˆ°ç›¸åº”çš„å¤´æ–‡ä»¶ï¼Œå°†è¯¥å¤´æ–‡ä»¶ä»projectæ‹–åˆ°publicä¸‹:
å†åœ¨åˆ›å»ºå·¥ç¨‹æ—¶ï¼Œè‡ªåŠ¨ç”Ÿæˆçš„.hæ–‡ä»¶ä¸­å¼•å…¥åˆšåˆšæ‹–åˆ°å·¥ç¨‹ä¸­çš„.hæ–‡ä»¶ï¼š  ä½¿ç”¨Framework é¦–å…ˆå°†è‡ªå·±æ„å»ºçš„Frameworkæ‹–åˆ°ç›®æ ‡å·¥ç¨‹ä¸­ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š æ·»åŠ çš„æ—¶å€™é€‰ä¸­Copy items if neededå’ŒCreate groupsï¼Œç„¶åéœ€è¦åŠ åˆ°å“ªä¸ªtargetå°±åœ¨å¯¹åº”çš„targetå‰è¿›è¡Œå‹¾é€‰: æ·»åŠ å®Œæˆåå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ç„¶ååˆ°ç›¸åº”çš„targetçš„è®¾ç½®ä¸­ï¼Œæ‰¾åˆ°Generalä¸‹çš„Embedded Binariesï¼š
æ¥ç€ç‚¹å‡»&#43;å·æ·»åŠ ç›¸åº”çš„Frameworkï¼š æœ€åçš„æ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤º:  å‚è€ƒèµ„æ–™ å‚è€ƒ å‚è€ƒ
</content>
    </entry>
    
     <entry>
        <title>æ¡¥æ¥æ–‡ä»¶</title>
        <url>https://iihui.github.io/post/ios-bridge/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html"> å› ä¸ºå†å²åŸå› ï¼Œåœ¨ä½¿ç”¨Swiftç¼–ç¨‹æ—¶ï¼Œå¸¸å¸¸éœ€è¦ç”¨åˆ°OCç±»ä¸­çš„æ–¹æ³•ï¼Œæ­¤æ—¶å°±éœ€è¦ä½¿ç”¨æ¡¥æ¥æ–‡ä»¶æ¥å¼•å…¥OCä¸­çš„å¤´æ–‡ä»¶ï¼Œä»¥å‘Šè¯‰Swiftã€‚
æ‰‹åŠ¨åˆ›å»ºæ¡¥æ¥æ–‡ä»¶ ç¬¬ä¸€æ­¥ é¦–å…ˆä½¿ç”¨å¿«æ·é”®Command&#43;Næ¥æ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼š  ç¬¬äºŒæ­¥ é€‰æ‹©Header File:  ç¬¬ä¸‰æ­¥ ç»™Header Fileå‘½åï¼š  ç¬¬å››æ­¥ ç‚¹å‡»å·¥ç¨‹é…ç½®ï¼Œæ·»åŠ å…³è”ï¼š  ç¬¬äº”æ­¥ è®¾ç½®æ¡¥æ¥æ–‡ä»¶çš„è·¯å¾„ï¼š  ç¬¬å…­æ­¥ å°†è¦å¼•å…¥çš„OCå¤´æ–‡ä»¶ï¼ŒåŠ å…¥åˆ°æ¡¥æ¥æ–‡ä»¶ä¸­ï¼Œä¾‹å¦‚ï¼š
//é€äº‘QRè§£ç  #import &amp;#34;TYQRViewController.h&amp;#34; //æ˜¾ç¤ºGIFçš„Label #import &amp;#34;UIImage&#43;GIF.h&amp;#34; #import &amp;#34;CFTextModel.h&amp;#34; #import &amp;#34;CFLabel.h&amp;#34; #import &amp;#34;CFTableViewCell.h&amp;#34; #import &amp;#34;CFTextView.h&amp;#34; // ç™¾åº¦è¯­éŸ³ #import &amp;#34;BDSEventManager.h&amp;#34; #import &amp;#34;BDSASRDefines.h&amp;#34; #import &amp;#34;BDSASRParameters.h&amp;#34;  å‚è€ƒ å‚è€ƒèµ„æ–™
 </content>
    </entry>
    
     <entry>
        <title>WKWebView</title>
        <url>https://iihui.github.io/post/ios-wkwebview/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html"> self.webView.scrollView.addObserver(self, forKeyPath: &amp;#34;contentSize&amp;#34;, options: .new, context: nil) } override func observeValue(forKeyPath keyPath: String?, of object: Any?, change: [NSKeyValueChangeKey : Any]?, context: UnsafeMutableRawPointer?) { if let key = keyPath, key == &amp;#34;contentSize&amp;#34;{ let fittingSize = self.webView.sizeThatFits(CGSize.zero) self.webView.frame = CGRect(x: 0, y: noteTitleTextField.frame.height, width: fittingSize.width, height: fittingSize.height) } } </content>
    </entry>
    
     <entry>
        <title>JSçš„prototype</title>
        <url>https://iihui.github.io/post/js-prototype/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>js</tag>
        </tags>
        <content type="html">  åœ¨JSä¸­ï¼Œæ¯å½“å®šä¹‰ä¸€ä¸ªå¯¹è±¡(å‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡)æ—¶ï¼Œå¯¹è±¡ä¸­éƒ½ä¼šåŒ…å«ä¸€äº›é¢„å®šä¹‰çš„å±æ€§ï¼›æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªprototypeå¯¹è±¡ï¼Œè¿™ä¸ªå±æ€§æŒ‡å‘å‡½æ•°çš„åŸå‹å¯¹è±¡ã€‚
 åŸå‹å¯¹è±¡ ç¼˜ç”± Brendan Eichåœ¨è®¾è®¡JSæ—¶ï¼Œå°†æ‰€æœ‰çš„æ•°æ®ç±»å‹éƒ½è®¾è®¡ä¸ºå¯¹è±¡ï¼Œå› æ­¤éœ€è¦æœ‰ä¸€ç§æœºåˆ¶å°†è¿™äº›å¯¹è±¡éƒ½è”ç³»èµ·æ¥ã€‚ä½†ä»–åªæƒ³è®¾è®¡ä¸€ç§ç®€æ˜“çš„è„šæœ¬è¯­è¨€ï¼Œæ‰€ä»¥æ²¡æœ‰å¼•å…¥ç±»çš„æ¦‚å¿µï¼Œå› ä¸ºä¸€æ—¦æœ‰äº†ç±»çš„æ¦‚å¿µï¼ŒJSå°±æ˜¯ä¸€ç§å®Œæ•´çš„é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ã€‚
å€Ÿé‰´äº†Javaå’ŒC&#43;&#43;ä½¿ç”¨newæ¥ç”Ÿæˆå®ä¾‹ï¼ŒBrendan Eichåˆ©ç”¨newåé¢è·Ÿæ„é€ å‡½æ•°ã€Œå› ä¸ºæ²¡æœ‰ç±»çš„æ¦‚å¿µã€ç”Ÿæˆå¯¹è±¡ã€‚
function DOG(name) { this.name = name; this.species = &amp;#39;çŠ¬ç§‘&amp;#39;; } var dogA = new DOG(&amp;#34;å¤§æ¯›&amp;#34;); var dogB = new DOG(&amp;#34;äºŒæ¯›&amp;#34;); ä¸Šé¢è¿™ä¸¤ä¸ªå¯¹è±¡çš„specieså±æ€§éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œä¿®æ”¹å…¶ä¸­ä¸€ä¸ªï¼Œä¸ä¼šå½±å“åˆ°å¦å¤–ä¸€ä¸ªï¼Œå³æ¯ä¸€ä¸ªå®ä¾‹å¯¹è±¡éƒ½æœ‰è‡ªå·±å±æ€§å’Œæ–¹æ³•çš„å‰¯æœ¬ï¼Œé€šè¿‡è¿™ç§æ–¹å¼æ— æ³•è¾¾åˆ°æ•°æ®å…±äº«ã€‚
 å¼•å…¥ è€ƒè™‘åˆ°æ•°æ®å…±äº«çš„éœ€è¦ï¼ŒBrendan Eichæ‰“ç®—ä¸ºæ„é€ å‡½æ•°è®¾ç½®ä¸€ä¸ªprototypeå±æ€§ï¼Œè¿™ä¸ªå±æ€§åŒ…å«ä¸€ä¸ªå¯¹è±¡ï¼Œæ‰€æœ‰å®ä¾‹å¯¹è±¡éœ€è¦å…±äº«çš„å±æ€§å’Œæ–¹æ³•ï¼Œéƒ½æ”¾åœ¨è¿™ä¸ªå¯¹è±¡é‡Œé¢ï¼›é‚£äº›ä¸éœ€è¦å…±äº«çš„å±æ€§å’Œæ–¹æ³•ï¼Œå°±æ”¾åœ¨æ„é€ å‡½æ•°ä¸­ã€‚
å®ä¾‹å¯¹è±¡ä¸€æ—¦åˆ›å»ºï¼Œå°†è‡ªåŠ¨å¼•ç”¨prototypeå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ã€‚å³å®ä¾‹å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ï¼Œåˆ†ä¸ºä¸¤ç§ï¼Œä¸€ç§æ˜¯æœ¬åœ°çš„ï¼Œå¦ä¸€ç§æ˜¯å¼•ç”¨çš„ã€‚
function DOG(name) { this.name = name; } DOG.prototype = { species: &amp;#34;çŠ¬ç§‘&amp;#34; }; var dogA = new DOG(&amp;#34;å¤§æ¯›&amp;#34;); var dogB = new DOG(&amp;#34;äºŒæ¯›&amp;#34;); alert(dogA.species); // çŠ¬ç§‘ alert(dogB.species); // çŠ¬ç§‘  æ€»ç»“ ç”±äºæ‰€æœ‰çš„å®ä¾‹å¯¹è±¡å…±äº«ä¸€ä¸ªprototypeå¯¹è±¡ï¼Œå› æ­¤åœ¨å¤–ç•Œçœ‹èµ·æ¥ï¼Œprototypeå°±å¥½åƒæ˜¯å®ä¾‹å¯¹è±¡çš„åŸå‹ï¼Œè€Œå®ä¾‹å¯¹è±¡åˆ™å¥½åƒç»§æ‰¿äº†prototypeå¯¹è±¡ä¸€æ ·ã€‚
 å‚è€ƒèµ„æ–™ å‚è€ƒèµ„æ–™
 </content>
    </entry>
    
     <entry>
        <title>iOS ç‰ˆæœ¬æ£€æŸ¥</title>
        <url>https://iihui.github.io/post/ios-new-version/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html"> é¦–å…ˆç”±AboutViewControllerä¸­çš„presenterè°ƒç”¨å…¶requestLastestVersionæ–¹æ³•ï¼Œè€Œpresenteræ˜¯ AboutPresenterç±»çš„å®ä¾‹ï¼š
lazy var presenter:AboutPresenter = AboutPresenter(delegate:self) presenter.requestLatestVersion() AboutPresenterç±» è€ŒAboutPresenterç±»çš„å®ç°å¦‚ä¸‹æ‰€ç¤º:
import Foundation protocol AboutPresenterDelegate:class { func updateUIForLatestVersion(shouldUpdate:Bool,updateMessage:String,updateUrl:String,minOSVersion: String?) } class AboutPresenter:NSObject,WelcomeHttpProtocol { lazy var webConfigs:[WebConfig?] = [self.webConfigService.versionDescriptionWebConfig,self.webConfigService.teamWebConfig,self.webConfigService.statisticWebConfig] let publishVersion:String = UpdateService().publishVersion let appDelegate = UIApplication.shared.delegate as! AppDelegate let deviceID:String = EnvironmentService.shared.deviceID fileprivate lazy var welcomHttpController: WelcomeHttpController = WelcomeHttpController(delegate: self) fileprivate lazy var webConfigService = WebConfigService() fileprivate weak var delegate:AboutPresenterDelegate? init(delegate:AboutPresenterDelegate?) { self.delegate = delegate } func requestLatestVersion() { welcomHttpController.requestLatestVersion(false) } func didReceiveLatestVersion(_ jsonData: JSON) { let retCode = jsonData[&amp;#34;data&amp;#34;][&amp;#34;retCode&amp;#34;].stringValue let message = jsonData[&amp;#34;data&amp;#34;][&amp;#34;changeLog&amp;#34;].stringValue let updateUrl = jsonData[&amp;#34;data&amp;#34;][&amp;#34;appUrl&amp;#34;].stringValue let isLatest = (retCode == &amp;#34;0&amp;#34; || retCode == &amp;#34;&amp;#34;) let minOSVersion = jsonData[&amp;#34;data&amp;#34;][&amp;#34;minOSVersion&amp;#34;].string appDelegate.isLatest = isLatest delegate?.updateUIForLatestVersion(shouldUpdate: !isLatest, updateMessage: message, updateUrl: updateUrl, minOSVersion: minOSVersion) } func didError() { BaseHttpController.commonNetworkError() } }  WelcmeHttpControllerç±» åœ¨presenterä¸­çš„requestLastestVersionæ–¹æ³•ä¸­è°ƒç”¨äº†welcomHttpController.requestLatestVersion(false)ï¼Œè€ŒWelcmeHttpControllerçš„å®ç°ä¸ºï¼š
import UIKit protocol WelcomeHttpProtocol: BaseHttpProtocol { func didReceiveLatestVersion(_ jsonData: JSON) } class WelcomeHttpController: BaseHttpController { fileprivate weak var delegate: WelcomeHttpProtocol? fileprivate lazy var environmentService = EnvironmentService.shared fileprivate lazy var updateService = UpdateService() fileprivate lazy var userInfoService = UserInfoService() init(delegate: WelcomeHttpProtocol) { super.init() self.delegate = delegate } func requestLatestVersion(_ async: Bool) { let dataDic = NSMutableDictionary() dataDic[&amp;#34;rand&amp;#34;] = UUID().uuidString dataDic[&amp;#34;buildVersion&amp;#34;] = updateService.buildVersion dataDic[&amp;#34;pubVersion&amp;#34;] = updateService.publishVersion if let activeUser = userInfoService.activeUserEntity { dataDic[&amp;#34;pathID&amp;#34;] = activeUser.pathID } let metaDic = getDefaultMetaData(ConfigRequestAction.getLatestVersion) if async { startAsynchronousRequest(metaDic: metaDic, dataDic: dataDic, handler: {(response, data, error) -&amp;gt; Void in if error == nil { let jsonData = JSON(data: data!) self.delegate?.didReceiveLatestVersion(jsonData) } else { self.didError() } }) } else { if let result = startSynchronousRequest(metaDic: metaDic, dataDic: dataDic, timeoutInterval: 3) { if result.error == nil { let jsonData = JSON(data: result.data!) self.delegate?.didReceiveLatestVersion(jsonData) } else { self.didError() } } else { self.didError() } } } override func didError() { self.delegate?.didError() } } updateUIForLatestVersion æœ€åç”±AboutViewControllerä½œä¸ºä»£ç†å®ç°updateUIForLatestVersionæ–¹æ³•ï¼Œç”¨äºæ›´æ–°è¯¥ç‰ˆæœ¬çš„æç¤º
func updateUIForLatestVersion(shouldUpdate:Bool,updateMessage:String,updateUrl:String,minOSVersion: String?) { if shouldUpdate { if let minOS = minOSVersion { let minF = (minOS as NSString).floatValue let sysF = (UIDevice.current.systemVersion as NSString).floatValue if minF &amp;gt; sysF { let alertView = UIAlertView(title: &amp;#34;å‘ç°æ›´æ–°&amp;#34;, message: &amp;#34;æœ€æ–°ç‰ˆç§»äº‹é€šå·²ä¸å†æ”¯æŒæ‚¨çš„æ‰‹æœºç³»ç»Ÿç‰ˆæœ¬ï¼Œè¯·å‡çº§æ‰‹æœºç³»ç»Ÿåˆ°\(minOS)æˆ–ä»¥ä¸Šåå†æ£€æŸ¥æ›´æ–°&amp;#34;, delegate: self, cancelButtonTitle: nil otherButtonTitles: &amp;#34;ç¡®å®š&amp;#34;.localized) alertView.tag = 102 alertView.show() return } } self.newAppUrl = updateUrl let alertVC = UIAlertView(title: &amp;#34;å‘ç°æ›´æ–°&amp;#34;.localized, message: &amp;#34;&amp;#34;, delegate: self, cancelButtonTitle: &amp;#34;å–æ¶ˆ&amp;#34;.localized, otherButtonTitles: &amp;#34;æ›´æ–°&amp;#34;.localized) alertVC.tag = 100 alertVC.extShow(.left, messageStr: updateMessage) } else { let alertView = FlashAlertView(message: &amp;#34;å·²ç»æ˜¯æœ€æ–°ç‰ˆæœ¬&amp;#34;.localized, delegate: nil) alertView.show() } }  </content>
    </entry>
    
     <entry>
        <title>javascript ä¸­thisæŒ‡é’ˆ</title>
        <url>https://iihui.github.io/post/js-this/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>js</tag>
        </tags>
        <content type="html">  åœ¨JavaScriptä¸­ï¼Œthisæ˜¯åŠ¨æ€ç»‘å®šï¼Œæˆ–ç§°ä¸ºè¿è¡ŒæœŸç»‘å®šçš„ï¼Œè¿™å¯¼è‡´JavaScriptä¸­çš„thiså…³é”®å­—å…·æœ‰å¤šé‡å«ä¹‰ã€‚å®ƒå¯ä»¥æ˜¯å…¨å±€å¯¹è±¡ã€å½“å‰å¯¹è±¡æˆ–è€…ä»»æ„å¯¹è±¡ï¼Œè¿™å®Œå…¨å–å†³äºå‡½æ•°çš„è°ƒç”¨æ–¹å¼ã€‚
  ä½œä¸ºå¯¹è±¡æ–¹æ³•è°ƒç”¨ åœ¨JSä¸­ï¼Œå‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡ï¼Œå› æ­¤å‡½æ•°å¯ä»¥ä½œä¸ºä¸€ä¸ªå¯¹è±¡çš„å±æ€§ï¼Œæ­¤æ—¶è¯¥å‡½æ•°è¢«ç§°ä¸ºè¯¥å¯¹è±¡çš„æ–¹æ³•ï¼Œåœ¨ä½¿ç”¨è¿™ç§è°ƒç”¨æ–¹å¼æ—¶ï¼Œthisè¢«è‡ªç„¶åœ°ç»‘å®šåˆ°è¯¥å¯¹è±¡ã€‚
var point = { x : 0, y : 0, moveTo : function(x, y) { this.x = this.x &#43; x; this.y = this.y &#43; y; } }; point.moveTo(1, 1)//this ç»‘å®šåˆ°å½“å‰å¯¹è±¡ï¼Œå³ point å¯¹è±¡  ä½œä¸ºå‡½æ•°è°ƒç”¨ å‡½æ•°å¯ä»¥ç›´æ¥è°ƒç”¨ï¼Œæ­¤æ—¶thisç»‘å®šåˆ°å…¨å±€å¯¹è±¡ï¼Œåœ¨æµè§ˆå™¨ä¸­ï¼Œwindowå°±æ˜¯è¯¥å…¨å±€å¯¹è±¡ã€‚åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œå‡½æ•°è°ƒç”¨æ—¶ï¼Œthisè¢«ç»‘å®šåˆ°å…¨å±€å¯¹è±¡ï¼Œæ¥ä¸‹æ¥æ‰§è¡Œèµ‹å€¼è¯­å¥ï¼Œç›¸å½“äºéšå¼çš„å£°æ˜äº†ä¸€ä¸ªå…¨å±€å˜é‡ã€‚
function makeNoSense(x) { this.x = x; } makeNoSense(5); x;// x å·²ç»æˆä¸ºä¸€ä¸ªå€¼ä¸º 5 çš„å…¨å±€å˜é‡ å¯¹äºå†…éƒ¨å‡½æ•°(å³å£°æ˜åœ¨å¦ä¸€ä¸ªå‡½æ•°ä½“ä¸­çš„å‡½æ•°)ï¼Œå¦‚æœä½¿ç”¨thisæŒ‡é’ˆï¼Œé‚£ä¹ˆç»‘å®šçš„æ˜¯å…¨å±€å¯¹è±¡ï¼Œä¼šäº§ç”Ÿä¸‹é¢é—®é¢˜ï¼š
var point = { x: 0, y: 0, moveTo: function(x, y) { // å†…éƒ¨å‡½æ•°  var moveX = function(x) { this.x = x; //this ç»‘å®šåˆ°äº†å“ªé‡Œï¼Ÿ  }; // å†…éƒ¨å‡½æ•°  var moveY = function(y) { this.y = y; //this ç»‘å®šåˆ°äº†å“ªé‡Œï¼Ÿ  }; moveX(x); moveY(y); } }; point.moveTo(1, 1); point.x; //==&amp;gt;0 point.y; //==&amp;gt;0 x; //==&amp;gt;1 y; //==&amp;gt;1  è¿™å±äºJavaScriptçš„è®¾è®¡ç¼ºé™·ï¼Œæ­£ç¡®çš„è®¾è®¡æ–¹å¼æ˜¯å†…éƒ¨å‡½æ•°çš„thisåº”è¯¥ç»‘å®šåˆ°å…¶å¤–å±‚å‡½æ•°å¯¹åº”çš„å¯¹è±¡ä¸Šï¼Œä¸ºäº†è§„é¿è¿™ä¸€ç¼ºé™·ï¼Œä½¿ç”¨å˜é‡æ›¿æ¢çš„æ–¹å¼ï¼š
var point = { x: 0, y: 0, moveTo: function(x, y) { var that = this; // å†…éƒ¨å‡½æ•°  var moveX = function(x) { that.x = x; }; // å†…éƒ¨å‡½æ•°  var moveY = function(y) { that.y = y; }; moveX(x); moveY(y); } }; point.moveTo(1, 1); point.x; //==&amp;gt;1 point.y; //==&amp;gt;1   ä½œä¸ºæ„é€ å‡½æ•°è°ƒç”¨ JavaScriptæ”¯æŒé¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œä½†å®ƒæ²¡æœ‰ç±»çš„æ¦‚å¿µï¼Œè€Œæ˜¯ä½¿ç”¨åŸºäºåŸå‹prototypeçš„ç»§æ‰¿æ–¹å¼ã€‚
ç›¸åº”çš„JavaScriptä¸­çš„æ„é€ å‡½æ•°ä¹Ÿå¾ˆç‰¹æ®Šï¼Œå¦‚æœä¸ä½¿ç”¨newè°ƒç”¨ï¼Œåˆ™å’Œæ™®é€šå‡½æ•°ä¸€æ ·ã€‚çº¦å®šä¿—æˆï¼Œæ„é€ å‡½æ•°ä»¥å¤§å†™å­—æ¯å¼€å¤´ï¼Œä»¥æé†’è°ƒç”¨è€…ä½¿ç”¨æ­£ç¡®çš„æ–¹å¼è°ƒç”¨ã€‚
function Point(x, y){ this.x = x; this.y = y; }  ä½¿ç”¨applyæˆ–callè°ƒç”¨ åœ¨JSä¸­å‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡ï¼Œå¯¹è±¡åˆ™æœ‰æ–¹æ³•ï¼Œapplyå’Œcallå°±æ˜¯å‡½æ•°å¯¹è±¡çš„æ–¹æ³•ã€‚ä»–ä»¬å…è®¸åˆ‡æ¢å‡½æ•°æ‰§è¡Œçš„ä¸Šä¸‹æ–‡ç¯å¢ƒcontext,å³thisç»‘å®šçš„å¯¹è±¡ã€‚
function Point(x, y) { this.x = x; this.y = y; this.moveTo = function(x, y) { this.x = x; this.y = y; }; } var p1 = new Point(0, 0); var p2 = { x: 0, y: 0 }; p1.moveTo(1, 1); p1.moveTo.apply(p2, [10, 10]); //p1çš„æ–¹æ³•åº”ç”¨åˆ°p2 å‡½æ•°å­˜åœ¨â‘ å®šä¹‰æ—¶ä¸Šä¸‹æ–‡ï¼›â‘¡è¿è¡Œæ—¶ä¸Šä¸‹æ–‡ï¼›â‘¢ä¸Šä¸‹æ–‡æ˜¯å¯ä»¥æ”¹å˜çš„ã€‚åœ¨JSä¸­callå’Œapplyéƒ½æ˜¯ä¸ºäº†æ”¹å˜æŸä¸ªå‡½æ•°æ‰§è¡Œçš„ä¸Šä¸‹æ–‡contextè€Œå­˜åœ¨çš„ï¼Œå³æ˜¯æ”¹å˜å‡½æ•°ä½“å†…çš„thisçš„æŒ‡å‘ã€‚
var func = function(arg1, arg2) { //è¯­å¥ }; func.call(this, arg1, arg2); func.apply(this, [arg1, arg2])  å‚è€ƒèµ„æ–™ å‚è€ƒèµ„æ–™ ä¸€å®šè¦çœ‹
 </content>
    </entry>
    
     <entry>
        <title>html å…ƒç´ åˆ†ç±»</title>
        <url>https://iihui.github.io/post/html-element-category/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>html</tag>
        </tags>
        <content type="html"> å…ƒç´ åˆ†ç±» HTMLå…ƒç´ ï¼ŒæŒ‡çš„æ˜¯ä»å¼€å§‹æ ‡ç­¾(start tag)åˆ°ç»“æŸæ ‡ç­¾(end tag)çš„æ‰€æœ‰ä»£ç ã€‚ HTMLå…ƒç´ åŒ…æ‹¬é¡¶çº§å…ƒç´ ï¼Œå—çº§å…ƒç´ ï¼Œå†…è”å…ƒç´ ã€‚
 é¡¶çº§å…ƒç´    html
  body
  frameset
   å—çº§å…ƒç´  ä»¥å—æ˜¾ç¤ºçš„å…ƒç´ ï¼Œé«˜åº¦å®½åº¦éƒ½æ˜¯å¯ä»¥è®¾ç½®çš„ã€‚å—çº§å…ƒç´ é»˜è®¤çŠ¶æ€ä¸‹æ¯æ¬¡éƒ½å æ®ä¸€æ•´è¡Œï¼Œåé¢çš„å†…å®¹ä¹Ÿå¿…é¡»å†æ–°èµ·ä¸€è¡Œæ˜¾ç¤ºã€‚
å—çº§å…ƒç´ èƒ½å¤Ÿç‹¬ç«‹å­˜åœ¨ï¼Œå—çº§å…ƒç´ æ˜¯æ„æˆHTMLçš„ä¸»è¦å…ƒç´ ï¼Œä»»æ„ä¸€ä¸ªå—çº§å…ƒç´ å‡å¯ä»¥ç”¨ç›’æ¨¡å‹æ¥è§£é‡Šè¯´æ˜ï¼Œå¸¸ç”¨çš„å—çº§å…ƒç´ æœ‰:
  divå¸¸ç”¨æ¥ç»„åˆå—çº§å…ƒç´ ï¼Œåƒå‡ ä¸ªå°ç›’å­ç»„æˆçš„å¤§ç›’å­ä¸€æ ·ï¼Œä½œä¸ºä¸€ä¸ªåˆ†åŒºã€‚
  p æ®µè½ã€‚
  h1~h6 æ ‡é¢˜ã€‚
  table è¡¨æ ¼ã€‚
  ul æ— åºåˆ—è¡¨ã€‚
  ol æœ‰åºåˆ—è¡¨ã€‚
  li åˆ—è¡¨é¡¹ã€‚
  hr æ°´å¹³åˆ†éš”çº¿ã€‚
  form html è¡¨å•ã€‚
  dl å®šä¹‰åˆ—è¡¨ã€‚
  blockquote é•¿å¼•ç”¨ã€‚
   å†…è”å…ƒç´  å†…è”å…ƒç´ æ˜¯æ–‡æœ¬çš„æ˜¾ç¤ºæ–¹å¼ï¼Œä¸å—çº§å…ƒç´ ç›¸åï¼Œå†…è”å…ƒç´ çš„é«˜åº¦å’Œå®½åº¦æ˜¯ä¸å¯ä»¥è®¾ç½®çš„ï¼Œå…¶å®½åº¦å°±æ˜¯è‡ªèº«æ–‡å­—å’Œå›¾ç‰‡çš„å®½åº¦ï¼Œå†…è”å…ƒç´ éœ€ä¾é™„å…¶ä»–å—çº§å…ƒç´ å­˜åœ¨ã€‚
å†…è”å…ƒç´ çš„æ˜¾ç¤ºä¸ä¼šç‹¬è‡ªå æ®ä¸€ä¸ªè¡Œã€‚å†…è”å…ƒç´ å¯ä»¥å˜æˆå—çº§å…ƒç´ ï¼Œé€šè¿‡cssçš„display:inlineå’Œfloatæ¥å®ç°ã€‚
å¸¸ç”¨å†…è”å…ƒç´ 
  spanç±»ä¼¼äºdivå¯¹äºå—å…ƒç´ çš„ä½œç”¨ï¼Œspanç”¨æ¥ç»„åˆå†…è”å…ƒç´ ã€‚
  a é“¾æ¥
  input è¾“å…¥æ¡†
  button æŒ‰é’®
  select å•é€‰å’Œå¤šé€‰æ¡†
  br æ¢è¡Œ
  textarea å¤šè¡Œæ–‡æœ¬è¾“å…¥
  b,big,i,em
  q çŸ­å¼•ç”¨
   </content>
    </entry>
    
     <entry>
        <title>ç›’å­æ¨¡å‹</title>
        <url>https://iihui.github.io/post/html-box-model/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>JS</tag>
        </tags>
        <content type="html">  W3Cç»„ç»‡å»ºè®®æŠŠç½‘é¡µä¸Šæ‰€æœ‰çš„å¯¹è±¡éƒ½æ”¾åœ¨ä¸€ä¸ªç›’(box)ä¸­ï¼Œè®¾è®¡å¸ˆå¯ä»¥åœ¨å¯¹è±¡åˆ›å»ºæ—¶æ§åˆ¶è¿™ä¸ªç›’å­çš„å±æ€§ï¼Œè¿™äº›å¯¹è±¡åŒ…æ‹¬æ®µè½ã€åˆ—è¡¨ã€æ ‡é¢˜ã€å›¾ç‰‡ä»¥åŠå±‚ã€‚ç›’æ¨¡å‹ä¸»è¦å®šä¹‰å››ä¸ªåŒºåŸŸï¼šå†…å®¹(content)ã€å†…è¾¹è·(padding)ã€è¾¹æ¡†(border)å’Œå¤–è¾¹è·(margin)ã€‚
 æ¨¡å‹å›¾ç¤º åœ¨CSSä¸­marginæ˜¯æŒ‡ä»è‡ªèº«è¾¹æ¡†åˆ°å¦ä¸€ä¸ªå®¹å™¨è¾¹æ¡†ä¹‹é—´çš„è·ç¦»ï¼Œå°±æ˜¯å®¹å™¨å¤–è·ç¦»ã€‚paddingæ˜¯æŒ‡è‡ªèº«è¾¹æ¡†(border)åˆ°è‡ªèº«å†…å®¹ä¹‹é—´çš„è·ç¦»ï¼Œè¡¨ç¤ºå®¹å™¨å†…è·ç¦»ã€‚ ä¸‹é¢æ˜¯marginï¼Œbackground-colorï¼Œbackground-imageï¼Œpaddingï¼Œcontentï¼Œborderç›’æ¨¡å‹çš„3Dç¤ºæ„å›¾:
 margin å¤–è¾¹è·marginåŒ…æ‹¬margin-topã€margin-rightã€margin-bottomã€margin-leftï¼Œæ§åˆ¶å—çº§å…ƒç´ ä¹‹é—´çš„è·ç¦»ï¼Œå®ƒä»¬æ˜¯é€æ˜ä¸å¯è§çš„ã€‚ æ ¹æ®ä¸Šã€å³ã€ä¸‹ã€å·¦çš„é¡ºæ—¶é’ˆè§„åˆ™,å¯ä»¥å†™æˆï¼šmargin: 40px 40px 40px 40px;å½“ä¸Šä¸‹ã€ å·¦å³çš„marginå€¼å‡ä¸€è‡´ï¼Œå¯ç®€å†™margin: 40px 40px;å½“ä¸Šä¸‹å·¦å³éƒ½ç›¸åŒæ—¶å¯ä»¥å†™æˆmargin:40px;
 padding paddingåŒ…æ‹¬padding-topã€padding-rightã€padding-bottomã€padding-leftï¼Œæ§åˆ¶å—çº§å…ƒç´ å†…éƒ¨ï¼Œcontentä¸boarderä¹‹é—´çš„è·ç¦»ã€‚
body { padding: 36px;} //å¯¹è±¡å››è¾¹çš„è¡¥ä¸è¾¹è·å‡ä¸º36px body { padding: 36px 24px; } //ä¸Šä¸‹ä¸¤è¾¹çš„è¡¥ä¸è¾¹è·ä¸º36pxï¼Œå·¦å³ä¸¤è¾¹çš„è¡¥ä¸è¾¹è·ä¸º24px body { padding: 36px 24px 18px; } //ä¸Šã€ä¸‹ä¸¤è¾¹çš„è¡¥ä¸è¾¹è·åˆ†åˆ«ä¸º36pxã€18pxï¼Œå·¦å³ä¸¤è¾¹çš„è¡¥ä¸è¾¹è·ä¸º24px body { padding: 36px 24px 18px 12px; } //ä¸Šã€å³ã€ä¸‹ã€å·¦è¡¥ä¸è¾¹è·åˆ†åˆ«ä¸º36pxã€24pxã€18pxã€12px  å‚è€ƒèµ„æ–™ å‚è€ƒèµ„æ–™
 </content>
    </entry>
    
     <entry>
        <title>selection å¯¹è±¡</title>
        <url>https://iihui.github.io/post/js-selection/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html">  åœ¨å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ä¸­ï¼Œéœ€è¦æ§åˆ¶å…‰æ ‡çš„å„ç§çŠ¶æ€ä¿¡æ¯ï¼Œä½ç½®ä¿¡æ¯ã€‚æµè§ˆå™¨æä¾›äº†selectionå¯¹è±¡å’Œrangeå¯¹è±¡æ¥æ“ä½œå…‰æ ‡ã€‚
 selection Selectionå¯¹è±¡è¡¨ç¤ºç”¨æˆ·é€‰æ‹©çš„æ–‡æœ¬èŒƒå›´æˆ–æ’å…¥ç¬¦å·çš„å½“å‰ä½ç½®ã€‚å®ƒä»£è¡¨é¡µé¢ä¸­çš„æ–‡æœ¬é€‰åŒºï¼Œå¯èƒ½æ¨ªè·¨å¤šä¸ªå…ƒç´ (element)ï¼Œæ–‡æœ¬é€‰åŒºç”±ç”¨æˆ·æ‹–æ‹½é¼ æ ‡è€Œäº§ç”Ÿã€‚
let selection = window.getSelection(); é€šå¸¸éœ€è¦æ“ä½œselectionå¯¹è±¡æ‰€å¯¹åº”çš„ç”¨æˆ·é€‰æ‹©åŒº(range)(ä¿—ç§°æ‹–è“)ï¼Œè·å–æ–¹å¼ä¸º:
if (selection.rangeCount &amp;gt; 0) { let range = selection.getRangeAt(0); } //æˆ–è€… if (selection.rangeCount) { let range = selection.getRangeAt(0); }  rangeå¯¹è±¡ rangeå¯¹è±¡ä»£è¡¨é¡µé¢ä¸Šä¸€æ®µè¿ç»­çš„åŒºåŸŸï¼Œé€šè¿‡rangeå¯¹è±¡å¯ä»¥è·å–æˆ–è€…ä¿®æ”¹é¡µé¢ä¸Šçš„ä»»ä½•åŒºåŸŸï¼Œä¹Ÿå¯ä»¥é€šè¿‡Rangeçš„æ–¹æ³•è¿›è¡Œå¤åˆ¶å’Œç§»åŠ¨é¡µé¢ä¸Šçš„ä»»ä½•åŒºåŸŸã€‚
  startContainer: rangeèŒƒå›´çš„èµ·å§‹èŠ‚ç‚¹ã€‚
  endContainer:range èŒƒå›´çš„ç»“æŸèŠ‚ç‚¹ã€‚
  startOffset: å¦‚æœstartContaineræ˜¯æ–‡æœ¬èŠ‚ç‚¹ã€æ³¨é‡ŠèŠ‚ç‚¹ã€æˆ–è€…CDATAèŠ‚ç‚¹ï¼Œåˆ™è¿”å›èµ·ç‚¹åœ¨startContainerä¸­çš„å­—ç¬¦åç§»é‡ï¼Œå¦‚æœstartContaineræ˜¯å…ƒç´ èŠ‚ç‚¹ï¼Œåˆ™è¿”å›èµ·ç‚¹åœ¨startContainer.childNodesä¸­çš„æ¬¡åºã€‚
  endOffset: è¡¨ç¤ºç»ˆç‚¹ï¼Œå«ä¹‰ä¸startOffsetç±»ä¼¼ã€‚
  commonAncestorContainer: è¿”å›åŒ…å«startContainerå’ŒendContainerçš„æœ€è¿‘ç¥–å…ˆèŠ‚ç‚¹ã€‚
  collapsed:è¿”å›ä¸€ä¸ªç”¨äºåˆ¤æ–­rangeèµ·å§‹ä½ç½®å’Œç»ˆæ­¢ä½ç½®æ˜¯å¦ç›¸åŒçš„å¸ƒå°”å€¼ã€‚
   rangeå¸¸ç”¨æ–¹æ³•   setStart(node,offset):è®¾ç½®èµ·ç‚¹çš„ä½ç½®ï¼Œnodeæ˜¯å¯¹startContainerçš„å¼•ç”¨ï¼Œåç§»åˆ™æ˜¯startOffsetã€‚
  setEnd(node,offset): è®¾ç½®çš„ç»ˆç‚¹çš„ä½ç½®ï¼Œnodeæ˜¯å¯¹endContainerçš„å¼•ç”¨ï¼Œåç§»åˆ™æ˜¯endOffsetã€‚
  selectNode(referenceNode)ï¼šè®¾ç½®Rangeçš„èŒƒå›´ï¼ŒåŒ…æ‹¬referenceNodeå’Œå®ƒçš„æ‰€æœ‰å­å­™èŠ‚ç‚¹ã€‚
  selectNodeContents(referenceNode)è®¾ç½®Rangeçš„èŒƒå›´ï¼ŒåŒ…æ‹¬å®ƒçš„æ‰€æœ‰åä»£èŠ‚ç‚¹ï¼Œä½†ä¸åŒ…å«referenceNodeèŠ‚ç‚¹ã€‚ä¸selectNodeåŒºåˆ«è¾ƒå¤§ã€‚
  collapse(bool): å‘èµ·ç‚¹startæŠ˜å ã€‚
  insertNode(node): åœ¨rangeçš„èµ·å§‹å¤„æ’å…¥èŠ‚ç‚¹ã€‚
  cloneRange(): è¿”å›ä¸€ä¸ªå½“å‰Rangeçš„å‰¯æœ¬
  function resetRange(startContainer, startOffset, endContainer, endOffset) { let selection = window.getSelection(); selection.removeAllRanges(); let range = document.createRange(); range.setStart(startContainer, startOffset); range.setEnd(endContainer, endOffset); selection.addRange(range); } å‚è€ƒèµ„æ–™
 </content>
    </entry>
    
     <entry>
        <title>KVO ä»‹ç»</title>
        <url>https://iihui.github.io/post/ios-kvo/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>iOS</tag><tag>oc</tag><tag>swift</tag>
        </tags>
        <content type="html">  åœ¨åº”ç”¨å¼€å‘ä¸­ï¼Œç»å¸¸éœ€è¦ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼ï¼Œä»¥ç›‘å¬æŸäº›å¯¹è±¡å±æ€§çš„å˜åŒ–ï¼Œç„¶åè¿›è¡Œç›¸åº”æ“ä½œã€‚OCæä¾›äº†ä¸€å¥—ç®€æ´ä¼˜é›…çš„è§‚å¯Ÿæ–¹å¼â€”â€”KVOã€‚KVO(key-value observing)æ˜¯ä¸€ç§é€šçŸ¥æœºåˆ¶ï¼Œå½“æŒ‡å®šçš„è¢«è§‚å¯Ÿè€…å¯¹è±¡çš„å±æ€§è¢«ä¿®æ”¹æ—¶ï¼ŒKVOä¼šè‡ªåŠ¨é€šçŸ¥ç›¸åº”çš„è§‚å¯Ÿè€…ã€‚KVOç”±NSKeyValueObservingåè®®æä¾›æ”¯æŒï¼ŒNSObjectç±»ç»§æ‰¿äº†è¯¥åè®®ï¼Œæ‰€ä»¥ä»»ä½•NSObjectçš„å­ç±»éƒ½å¯ä½¿ç”¨è¯¥æ–¹æ³•ã€‚
 KVOçš„ä½¿ç”¨ KVOçš„ä½¿ç”¨æ¯”è¾ƒç®€å•ï¼Œåªéœ€è¦ç»™å¯¹è±¡çš„æŒ‡å®šå±æ€§æ·»åŠ ç›‘å¬ï¼Œå¹¶è®¾ç½®ç›‘å¬ç±»å‹ã€‚æ¯å½“å¯¹æŒ‡å®šçš„å±æ€§è¿›è¡Œè¯»å†™æ“ä½œæ—¶ï¼ŒOCå°±ä¼šè°ƒç”¨observeValueForKeyPathæ–¹æ³•ï¼Œåœ¨observeValueForKeyPathä¸­è¿›è¡Œåˆ¤æ–­ï¼Œç¡®å®šæ˜¯å“ªä¸ªå¯¹è±¡çš„äº‹ä»¶ã€‚
ä¸‹é¢çš„ä¾‹å­æ˜¯ä¾¿å®ç°ä¸€ä¸ªå±æ€§å€¼çš„ç›‘å¬ã€‚å¯æ€»ç»“ä¸ºä¸‰æ­¥ï¼šç¬¬ä¸€æ­¥æ˜¯æ·»åŠ ç›‘å¬ï¼›ç¬¬äºŒæ­¥æ˜¯å®ç°åè®®ï¼›ç¬¬ä¸‰æ­¥æ˜¯ç§»é™¤ç›‘å¬ï¼š
Person *person = [Person alloc] init]; /* ä½œç”¨:ç»™å¯¹è±¡ç»‘å®šä¸€ä¸ªç›‘å¬å™¨(è§‚å¯Ÿè€…) - Observer è§‚å¯Ÿè€… - KeyPath è¦ç›‘å¬çš„å±æ€§ - options é€‰é¡¹(æ–¹ä¾¿åœ¨ç›‘å¬çš„æ–¹æ³•ä¸­æ‹¿åˆ°å±æ€§å€¼) */ [person addObserver:person forKeyPath:@&amp;#34;name&amp;#34; options:NSKeyValueObservingOptionNew | NSKeyValueObservingOptionOld context:nil]; // ç§»é™¤ç›‘å¬ [person removeObserver:person forKeyPath:@&amp;#34;name&amp;#34;]; /** * å½“ç›‘å¬çš„å±æ€§å€¼å‘ç”Ÿæ”¹å˜ * * @param keyPath è¦æ”¹å˜çš„å±æ€§ * @param object è¦æ”¹å˜çš„å±æ€§æ‰€å±çš„å¯¹è±¡ * @param change æ”¹å˜çš„å†…å®¹ * @param context ä¸Šä¸‹æ–‡ */ - (void)observeValueForKeyPath:(NSString *)keyPath ofObject:(id)object change:(NSDictionary&amp;lt;NSString *,id&amp;gt; *)change context:(void *)context{ NSLog(@&amp;#34;%@------%@------%@&amp;#34;, keyPath, object, change); } æ·»åŠ ç›‘å¬ //ç¬¬ä¸€ä¸ªå‚æ•° observerè§‚å¯Ÿè€… ï¼ˆè¿™é‡Œè§‚å¯Ÿself.myKVOå¯¹è±¡çš„å±æ€§å˜åŒ–ï¼‰ //ç¬¬äºŒä¸ªå‚æ•° keyPathè¢«è§‚å¯Ÿçš„å±æ€§åç§°(è¿™é‡Œè§‚å¯Ÿ self.myKVO ä¸­ num å±æ€§å€¼çš„æ”¹å˜) //ç¬¬ä¸‰ä¸ªå‚æ•° optionsï¼š è§‚å¯Ÿå±æ€§çš„æ–°å€¼ã€æ—§å€¼ç­‰çš„ä¸€äº›é…ç½®ï¼ˆæšä¸¾å€¼ï¼Œå¯ä»¥æ ¹æ®éœ€è¦è®¾ç½®ï¼Œä¾‹å¦‚è¿™é‡Œå¯ä»¥ä½¿ç”¨ä¸¤é¡¹ï¼‰ //ç¬¬å››ä¸ªå‚æ•° contextï¼š ä¸Šä¸‹æ–‡ï¼Œå¯ä»¥ä¸º KVO çš„å›è°ƒæ–¹æ³•ä¼ å€¼ï¼ˆä¾‹å¦‚è®¾å®šä¸ºä¸€ä¸ªæ”¾ç½®æ•°æ®çš„å­—å…¸ï¼‰ - (void)addObserver:(NSObject *)observer forKeyPath:(NSString *)keyPath options:(NSKeyValueObservingOptions)options context:(nullable void *)context; å®ç°åè®® åœ¨å›è°ƒæ–¹æ³•ä¸­å¤„ç†å±æ€§å€¼å‘ç”Ÿå˜åŒ–ã€‚
//keyPath:å±æ€§åç§° //object:è¢«è§‚å¯Ÿçš„å¯¹è±¡ //change:å˜åŒ–å‰åçš„å€¼éƒ½å­˜å‚¨åœ¨changeå­—å…¸ä¸­ //context:æ³¨å†Œè§‚å¯Ÿè€…æ—¶ï¼Œcontext ä¼ è¿‡æ¥çš„å€¼  - (void)observeValueForKeyPath:(nullable NSString *)keyPath ofObject:(nullable id)object change:(nullable NSDictionary *)change context:(nullable void *)context; ç§»é™¤è§‚å¯Ÿè€…ã€‚ - (void)removeObserver:(NSObject *)observer forKeyPath:(NSString *)keyPath; æ³¨æ„äº‹é¡¹ ä½¿ç”¨KVOæ¶ˆæ¯ä¼ é€’æœºåˆ¶æœ‰ä¸¤ä¸ªè¦æ±‚ï¼š
  è§‚å¯Ÿè€…å¿…é¡»çŸ¥é“è¢«è§‚å¯Ÿè€…å¯¹è±¡ï¼Œå³åœ¨åŒä¸€ä½œç”¨åŸŸã€‚
  è§‚å¯Ÿè€…è¿˜éœ€è¦çŸ¥é“è¢«è§‚å¯Ÿå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œå› ä¸ºåœ¨é”€æ¯å‘é€è€…å¯¹è±¡ä¹‹é—´ï¼Œéœ€è¦å–æ¶ˆè§‚å¯Ÿè€…çš„æ³¨å†Œã€‚
  Swiftä¸­å±æ€§è§‚å¯Ÿå™¨ åœ¨Swiftä¸­æœ‰ä¸¤ä¸ªå±æ€§è§‚å¯Ÿè€…willSetå’ŒdidSet,ç±»ä¼¼äºè§¦å‘å™¨ã€‚ç”¨æ¥ç›‘æ§å±æ€§é™¤åˆå§‹åŒ–ä¹‹å¤–çš„å±æ€§å€¼å˜åŒ–ï¼Œå½“å±æ€§å€¼å‘ç”Ÿå˜åŒ–æ—¶å¯ä»¥å¯¹æ­¤ä½œå‡ºå“åº”ã€‚
 ä¸ä»…å¯ä»¥åœ¨å±æ€§å€¼å‘ç”Ÿå˜åŒ–åè§¦å‘didSet,ä¹Ÿå¯ä»¥åœ¨å±æ€§å€¼æ”¹å˜å‰è§¦å‘willSetã€‚ ç»™å±æ€§æ·»åŠ è§‚å¯Ÿè€…å¿…é¡»è¦å£°æ˜æ¸…æ¥šå±æ€§çš„ç±»å‹ï¼Œå¦åˆ™ç¼–è¯‘å™¨æŠ¥é”™ã€‚ willSetå¯ä»¥å¸¦ä¸€ä¸ªnewNameçš„å‚æ•°ï¼Œæ²¡æœ‰çš„è¯ï¼Œé»˜è®¤å‘½åä¸ºnewValueã€‚ didSet å¯ä»¥å¸¦ä¸€ä¸ªoldNameçš„å‚æ•°ï¼Œè¡¨ç¤ºæ—§çš„å€¼ï¼Œä¸å¸¦çš„è¯ï¼Œé»˜è®¤å‘½åä¸ºoldValueã€‚ å±æ€§åˆå§‹åŒ–æ—¶ï¼ŒwillSetå’ŒdidSetä¸ä¼šè°ƒç”¨ã€‚åªæœ‰åˆå§‹åŒ–ä¸Šä¸‹æ–‡ä¹‹å¤–ï¼Œå±æ€§å€¼å‘ç”Ÿå˜åŒ–æ—¶æ‰ä¼šè°ƒç”¨ã€‚ å³ä½¿è®¾ç½®çš„å€¼å’ŒåŸæ¥çš„ä¸€æ ·ï¼ŒwillSetå’ŒdidSetä¹Ÿä¼šè¢«è°ƒç”¨ã€‚  var firstName: String = &amp;#34;First&amp;#34; { willSet { //æ–°å€¼è®¾ç½®ä¹‹å‰è¢«è°ƒç”¨ï¼Œåœ¨æ­¤å¯ä»¥è¿›è¡Œæ¡ä»¶ç­›é€‰ï¼Œè¿‡æ»¤æ•°æ® print(&amp;#34;willSetçš„æ–°å€¼æ˜¯\(newValue)&amp;#34;) } didSet { //æ–°å€¼è®¾ç½®ä¹‹åç«‹å³è°ƒç”¨ï¼Œåœ¨æ­¤å¯ä»¥è¿›è¡Œæ¡ä»¶ç­›é€‰ï¼Œè¿‡æ»¤æ•°æ®,å¯ä»¥ç›´æ¥ç»‘å®šæ•°æ®åˆ°UIä¸Šé¢ print(&amp;#34;didSetçš„æ—§å€¼æ˜¯\(oldValue)--- æ–°å€¼æ˜¯ \(firstName)&amp;#34;) self.nameLabel.text = firstName } }  Swiftå®ç°KVOå€¼ç›‘å¬ åˆ©ç”¨è®¾è®¡æ¨¡å¼ä¸­çš„è§‚å¯Ÿè€…æ¨¡å¼ï¼Œè§‚å¯Ÿè€…å®šä¹‰äº†å¯¹è±¡ä¹‹é—´çš„ä¸€å¯¹å¤šä¾èµ–ã€‚å½“ä¸€ä¸ªå¯¹è±¡æ”¹å˜çŠ¶æ€æ—¶ï¼Œå®ƒçš„æ‰€æœ‰ä¾èµ–è€…éƒ½ä¼šæ”¶åˆ°é€šçŸ¥å¹¶è‡ªåŠ¨æ›´æ–°ã€‚è§‚å¯Ÿè€…æ¨¡å¼é€‚ç”¨åœ¨ä¸€ä¸ªè¢«è§‚å¯Ÿè€…ï¼ˆæ•°æ®æºï¼‰è¦é€šçŸ¥å¤šä¸ªè§‚å¯Ÿè€…çš„åœºæ™¯ã€‚
å‚è€ƒèµ„æ–™ å‚è€ƒèµ„æ–™
 </content>
    </entry>
    
     <entry>
        <title>ç»™å›¾ç‰‡æ·»åŠ ç‚¹å‡»ç›‘å¬</title>
        <url>https://iihui.github.io/post/js-img/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>js</tag>
        </tags>
        <content type="html"> ç»™æ‰€æœ‰å›¾ç‰‡æ·»åŠ ç›‘å¬ function setImagesClick(){ $(&amp;#39;body&amp;#39;).on(&amp;#39;click&amp;#39;,&amp;#39;img&amp;#39;,function(){ let position = this.offsetTop; //å½“å‰å…ƒç´ è·ç¦»é¡¶éƒ¨çš„è·ç¦»  //window.scrollTo(0,position)  let result = {}; result.position = position.toString() let jsonString = JSON.stringify(result); let escapedJsonString = encodeURI(jsonString); //é‡æ–°ç¼–ç   let scheme = &amp;#34;position://&amp;#34;; document.location.href = scheme &#43; &amp;#34;#&amp;#34; &#43; escapedJsonString; //å‘ioså‘é€  }); } å‚è€ƒèµ„æ–™
 </content>
    </entry>
    
     <entry>
        <title>RunLoop</title>
        <url>https://iihui.github.io/post/ios-runloop/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html"> æ¦‚å¿µ ä¸€èˆ¬æ¥è®²ï¼Œä¸€ä¸ªçº¿ç¨‹ä¸€æ¬¡åªèƒ½æ‰§è¡Œä¸€ä¸ªä»»åŠ¡ï¼Œæ‰§è¡Œå®Œæˆåï¼Œçº¿ç¨‹å°±ä¼šé€€å‡ºã€‚è‹¥æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæœºåˆ¶ï¼Œè®©çº¿ç¨‹èƒ½éšæ—¶å¤„ç†äº‹ä»¶ä½†å¹¶ä¸é€€å‡ºï¼Œé€šå¸¸çš„ä»£ç é€»è¾‘æ˜¯ä¸‹é¢è¿™æ ·çš„ï¼š
function loop() { initialize(); do { var message = get_next_message(); process_message(message); } while (message != quit); } è¿™ç§æ¨¡å‹è¢«ç§°ä¸ºEvent Loop,å®ç°è¿™ç§æ¨¡å‹çš„å…³é”®ç‚¹åœ¨äºï¼š
 å¦‚ä½•ç®¡ç†äº‹ä»¶/æ¶ˆæ¯ å¦‚ä½•è®©çº¿ç¨‹åœ¨æ²¡æœ‰å¤„ç†æ¶ˆæ¯æ—¶ä¼‘çœ ä»¥é¿å…èµ„æºå ç”¨ï¼Œåœ¨æœ‰æ¶ˆæ¯åˆ°æ¥æ—¶ç«‹åˆ»è¢«å”¤é†’ã€‚  å› æ­¤ï¼ŒRunLoopå®è´¨ä¸Šæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡ç®¡ç†äº†å…¶éœ€è¦å¤„ç†çš„äº‹ä»¶å’Œæ¶ˆæ¯
 å‚è€ƒèµ„æ–™
</content>
    </entry>
    
     <entry>
        <title>æƒé™æ£€æŸ¥</title>
        <url>https://iihui.github.io/post/ios-authority/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html"> ç›¸æœºæƒé™æ£€æŸ¥ ç›¸æœºå’ŒéŸ³é¢‘çš„æƒé™åˆ†ä¸º4ç§ï¼Œåˆ†åˆ«æ˜¯.denied,restricted,.authorized,.notDetermined,.authorizedå››ç§:
  .denied æœªæˆæƒï¼Œç”¨æˆ·æ›¾ç»é€‰æ‹©è¿‡æ‹’ç»æˆæƒã€‚
  .authorized å·²ç»æˆæƒã€‚
  .restricted æœªæˆæƒï¼Œä¾‹å¦‚å®¶é•¿æ§åˆ¶ã€‚
  .notDetermined æ²¡æœ‰è¯¢é—®è¿‡ç”¨æˆ·æ˜¯å¦æˆæƒï¼Œæ‰€ä»¥æ˜¯æœªç¡®å®šçŠ¶æ€ã€‚
  //MARK:æ£€æŸ¥ç›¸æœºè®¿é—®æƒé™ func cameraPermissionCheck(){ let authStatus = AVCaptureDevice.authorizationStatus(forMediaType: AVMediaTypeVideo) switch authStatus { case .denied, .restricted: let alert = UIAlertController(title: &amp;#34;æç¤º&amp;#34;.localized, message: CameraAccessMsg, preferredStyle: .alert) let settingAction = UIAlertAction(title: &amp;#34;å»è®¾ç½®&amp;#34;.localized, style: .default) { (_) in let url = NSURL(string: UIApplicationOpenSettingsURLString)! if UIApplication.shared.canOpenURL(url as URL){ UIApplication.shared.openURL(url as URL) } } let cancelAction = UIAlertAction(title: &amp;#34;å–æ¶ˆ&amp;#34;.localized, style: .cancel) { (_) in DPrint(&amp;#34;cancel!&amp;#34;) } alert.addAction(settingAction) alert.addAction(cancelAction) self.present(alert, animated: true, completion: nil) default:break } } func cameraPermissionCheck(){ let msg = &amp;#34;æ²¡æœ‰ç›¸æœºè®¿é—®æƒé™ï¼Œè¯·ç§»æ­¥åˆ°è®¾ç½®--&amp;gt;éšç§--&amp;gt;ç›¸æœº--&amp;gt;APP&amp;#34; let authStatus = AVCaptureDevice.authorizationStatus(for: .video) switch authStatus { case .denied, .restricted,.notDetermined: let alert = UIAlertController(title: &amp;#34;æç¤º&amp;#34;, message: msg, preferredStyle: .alert) let settingAction = UIAlertAction(title: &amp;#34;å»è®¾ç½®&amp;#34;, style: .default) { (_) in let url = URL(string: UIApplicationOpenSettingsURLString) if let cameraURL = url,UIApplication.shared.canOpenURL(cameraURL){ UIApplication.shared.open(cameraURL, options: [:], completionHandler: nil) } } let cancelAction = UIAlertAction(title: &amp;#34;å–æ¶ˆ&amp;#34;, style: .cancel) { (_) in print(&amp;#34;ç‚¹å‡»äº†å–æ¶ˆ&amp;#34;) } alert.addAction(settingAction) alert.addAction(cancelAction) self.present(alert, animated: true, completion: nil) default:break } } override func viewDidAppear(_ animated: Bool) { super.viewDidAppear(animated) cameraPermissionCheck() }  éº¦å…‹é£æƒé™æ£€æŸ¥ let status = AVCaptureDevice.authorizationStatus(forMediaType: AVMediaTypeAudio) if status == .denied || status == .restricted { let message = &amp;#34;éº¦å…‹é£è®¿é—®æƒé™è¢«ç¦ç”¨ï¼Œè¯·å‰å¾€ç³»ç»Ÿè®¾ç½®-&amp;gt;éšç§-&amp;gt;éº¦å…‹é£ä¸­ï¼Œå¯ç”¨æœ¬ç¨‹åºå¯¹éº¦å…‹é£çš„è®¿é—®æƒé™&amp;#34;.localized let tipsAlertController = UIAlertController(title: &amp;#34;æç¤º&amp;#34;.localized, message: message, preferredStyle: .alert) let confirm = UIAlertAction(title: &amp;#34;å»è®¾ç½®&amp;#34;.localized, style: .default){ (_) in let url = NSURL(string: UIApplicationOpenSettingsURLString)! if UIApplication.shared.canOpenURL(url as URL) { UIApplication.shared.openURL(url as URL) } } let cancelAction = UIAlertAction(title: &amp;#34;å–æ¶ˆ&amp;#34;.localized, style: .cancel) { (_) in self.dismiss(animated: true, completion: nil) } tipsAlertController.addAction(confirm) tipsAlertController.addAction(cancelAction) self.present(tipsAlertController, animated: true, completion: nil) } å‚è€ƒèµ„æ–™
 </content>
    </entry>
    
     <entry>
        <title>CABasicAnimation</title>
        <url>https://iihui.github.io/post/ios-animation/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html"> å…³é”®å¸§åŠ¨ç”» æ‰€è°“å…³é”®å¸§åŠ¨ç”»ï¼Œå°±æ˜¯å°†Layerçš„å±æ€§ä½œä¸ºKeyPathæ¥æ³¨å†Œï¼Œåªè¦æŒ‡å®šåŠ¨ç”»çš„èµ·å§‹å¸§å’Œç»“æŸå¸§ï¼Œç„¶åè‡ªåŠ¨è®¡ç®—å’Œå®ç°ä¸­é—´çš„è¿‡åº¦çš„ä¸€ç§åŠ¨ç”»æ–¹å¼ã€‚
func recordingButtonAnimation(){ let animation = CABasicAnimation(keyPath: &amp;#34;opacity&amp;#34;) animation.fromValue = 1.0 animation.toValue = 0.3 animation.fillMode = kCAFillModeForwards animation.isRemovedOnCompletion = false animation.duration = self.animationDuration self.recordButton.layer.add(animation, forKey: nil) } //æ·»åŠ å®šæ—¶å™¨ if recordingAnimationTimer == nil{ recordingAnimationTimer = Timer.scheduledTimer(timeInterval: self.animationDuration, target: self, selector: #selector(recordingButtonAnimation), userInfo: nil, repeats: true) } //é”€æ¯å®šæ—¶å™¨ self.recordingAnimationTimer?.invalidate() //ç§»é™¤åŠ¨ç”»å±‚ self.recordButton.layer.removeAllAnimations() å±æ€§è¯´æ˜ï¼š
 durationåŠ¨ç”»æ—¶é•¿ï¼Œé»˜è®¤ä¸º0,ä¸è®¾ç½®çš„è¯ä¼šå¿«é€Ÿæ‰§è¡Œå®ŒåŠ¨ç”» speed æ‰§è¡Œé€Ÿåº¦ï¼Œé»˜è®¤ä¸º1å€é€Ÿåº¦ï¼Œå¦‚æœè®¾ç½®äº†è¯¥å±æ€§ï¼Œåˆ™æ‰§è¡Œæ—¶é•¿ä¸º$\frac{duration}{speed}$ repeatCounté‡å¤æ¬¡æ•°ï¼Œé»˜è®¤ä¸º0ï¼Œå¦‚æœéœ€è¦è®¾ç½®ä¸ºæ°¸ä¹…çš„è¯å¯ä»¥è®¾ç½®ä¸ºHUGE_VALE autoreverses åŠ¨ç”»æ‰§è¡Œå®Œæ˜¯å¦æ‰§è¡Œé€†åŠ¨ç”»ï¼Œé»˜è®¤ä¸æ‰§è¡Œ fromValue å¼€å§‹å€¼ toValue ç»“æŸå€¼  å½“CABasicAnimationæ‰§è¡Œå®ŒåŠ¨ç”»åä¼šå›å½’åŠ¨ç”»å¼€å§‹çš„çŠ¶æ€ï¼Œå¦‚æœæƒ³è¦è®©å®ƒå˜æˆåŠ¨ç”»æ‰§è¡Œæœ€åçš„çŠ¶æ€ï¼Œè®¾ç½®ä¸€ä¸‹ä¸¤ä¸ªå±æ€§ï¼š
animation.removedOnCompletion = false animation.fillMode = kCAFillModeForwards å¦‚æœè¦è®¾ç½®æ°¸ä¹…é‡å¤ï¼Œåˆ™éœ€è¦å°†repeatCountçš„å€¼ç½®ä¸ºHUGEæˆ–è€….greatestFiniteMagnitudeã€‚
let animation = CABasicAnimation(keyPath: &amp;#34;opacity&amp;#34;) animation.duration = 1.0 animation.repeatCount = .greatestFiniteMagnitude//HUGE animation.autoreverses = true animation.fromValue = 1.0 animation.toValue = 0.0 testButton.layer.add(animation, forKey: nil) å½“ç»™ä¸€ä¸ªCALayeræ·»åŠ åŠ¨ç”»æ—¶ï¼ŒåŠ¨ç”»å…¶å®å¹¶æ²¡æœ‰æ”¹å˜è¿™ä¸ªLayerçš„å®è´¨å±æ€§ï¼Œå–è€Œä»£ä¹‹ï¼Œç³»ç»Ÿä¼šåˆ›å»ºä¸€ä¸ªåŸå§‹Layerçš„æ‹·è´ã€‚è‹¹æœç§°è¿™ä¸ªåŸå§‹Layerä¸ºModel Layerï¼Œè€Œè¿™ä¸ªå¤åˆ¶çš„Layerè¢«ç§°ä¸ºPresentation Layerã€‚
Presentation Layerçš„å±æ€§ä¼šéšç€åŠ¨ç”»çš„è¿›åº¦å®æ—¶æ”¹å˜ï¼Œè€ŒModel Layerä¸­å¯¹åº”çš„å±æ€§ä¸ä¼šå‘ç”Ÿå˜åŒ–ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œç³»ç»Ÿä¼šåœ¨durationæ—¶é—´åè‡ªåŠ¨ç§»é™¤CAKeyframeAnimationã€‚å½“ç§»é™¤æŸä¸ªåŠ¨ç”»åï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨é”€æ¯è¿™ä¸ªLayerçš„Presentation Layerï¼Œåªç•™ä¸‹Model Layerã€‚å› ä¸ºModel Layerçš„å±æ€§æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œæ‰€ä»¥è§†å›¾ä¸€ç¬é—´å°±å›åˆ°äº†åŠ¨ç”»çš„åˆå§‹çŠ¶æ€ã€‚è¦è§£å†³è¿™ç§çŠ¶æ€éœ€è¦å…ˆæŠŠremoveOnCompletionè®¾ç½®ä¸ºfalse,ç„¶åè®¾ç½®fillModeä¸ºkCAFillModeForwardsã€‚
animation.removedOnCompletion = false animation.fillMode = kCAFillModeForwards å…³äºfillModeå®ƒæœ‰å››ä¸ªå€¼ï¼š
 KCAFillModelRemoved è¿™ä¸ªæ˜¯é»˜è®¤å€¼ï¼Œè¡¨ç¤ºåŠ¨ç”»å¼€å§‹å‰å’Œç»“æŸåå¯¹Model Layeræ²¡æœ‰å½±å“ï¼ŒåŠ¨ç”»ç»“æŸä¼šå›åˆ°è§†å›¾çš„åˆå§‹çŠ¶æ€ã€‚ kCAFillModeForwards å½“åŠ¨ç”»ç»“æŸåï¼ŒModel Layerä¼šä¿æŒåŠ¨ç”»çš„æœ€åçŠ¶æ€ã€‚ kCAFillModeBackwards åœ¨åŠ¨ç”»å¼€å§‹å‰ï¼Œåªè¦å°†åŠ¨ç”»åŠ å…¥åˆ°ä¸€ä¸ªLayer,åˆ™Layerç«‹å³è¿›å…¥åŠ¨ç”»çš„åˆå§‹çŠ¶æ€å¹¶ç­‰å¾…åŠ¨ç”»å¼€å§‹ã€‚ kCAFillModeBoth åŠ¨ç”»åŠ å…¥Layeråï¼ŒLayerä¾¿å¤„äºåˆå§‹çŠ¶æ€ï¼ŒåŠ¨ç”»ç»“æŸåLayerä¿æŒæœ€åçš„çŠ¶æ€ã€‚   æ·»åŠ å¼•å¯¼åŠ¨ç”» fileprivate var guideImageView:UIImageView? private let guideKey = &amp;#34;GUIDE_NOTE_SPEECH_KEY&amp;#34; //åº”ç”¨çº§åˆ«çš„å¼•å¯¼ï¼Œå¦‚æœå¢åŠ ç”¨æˆ·çš„idï¼Œåˆ™æ˜¯ç”¨æˆ·çº§åˆ«çš„å¼•å¯¼ func showGuide(){ let isShowed = UserDefaults.standard.value(forKey: self.guideKey) if isShowed == nil { let guideImage = UIImage(named: &amp;#34;guide_note_speech&amp;#34;) if self.guideImageView == nil{ self.guideImageView = UIImageView(image: guideImage) let width:CGFloat = 132 let height:CGFloat = 100 let x = bottomView.bounds.width/2 &#43; 15 let y = topView.bounds.size.height &#43; centerView.bounds.size.height &#43; soundWaveView.bounds.size.height - height &#43; 20 if let guideView = self.guideImageView{ self.guideImageView?.frame = CGRect(x: x, y: y, width: width, height: height) self.view.addSubview(guideView) let startPoint = CGPoint(x: 0, y: 1) setAnchorPoint(point: startPoint, view: guideView) UIView.animate(withDuration: 1.2, delay: 0, options: [.repeat, .autoreverse], animations: { guideView.transform = CGAffineTransform(scaleX: 0.8, y: 0.8) }, completion:nil) } } } } éœ€è¦æ³¨æ„çš„æ˜¯ï¼šå› ä¸ºä¸Šé¢çš„å‡½æ•°æ¶‰åŠåˆ°boundsçš„è®¡ç®—ï¼Œå› æ­¤guideShowå‡½æ•°åº”å½“æ”¾åˆ°viewDidLayoutSubviews()ä¸­ï¼Œæˆ–è€…viewDidAppear(_ animated: Bool)ä¸­ï¼Œç»è¿‡è¯•éªŒï¼Œå‘ç°å¦‚æœæ”¾åˆ°viewDidLayoutSubviews()ä¸­ï¼Œå›¾ç‰‡ä¼šå˜é»‘å¾ˆå¤šã€‚
override func viewDidLayoutSubviews() { super.viewDidLayoutSubviews() showGuide() } override func viewDidAppear(_ animated: Bool) { super.viewDidAppear(animated) showGuide() } å–æ¶ˆå¼•å¯¼åŠ¨ç”»æ—¶ï¼Œé¦–å…ˆåº”å½“ç§»é™¤å¼•å¯¼çš„imageviewï¼Œå¹¶å°†keyè®°å½•åˆ°plistæ–‡ä»¶ä¸­ã€‚å¦‚æœè®¾ç½®æ—¶ç”¨æˆ·ç‚¹å‡»æŸä¸ªæŒ‰é’®æ—¶ç§»é™¤å¼•å¯¼ï¼Œåˆ™å°†å¦‚ä¸‹ä»£ç æ·»åŠ åˆ°ç›¸åº”UIButtonçš„å“åº”å‡½æ•°ä¸­ï¼š
if let guideView = self.guideImageView{ self.removeGuide(view: guideView) } func removeGuide(view:UIView) { view.removeFromSuperview() UserDefaults.standard.setValue(true, forKey: self.guideKey) } å¦‚æœæ˜¯ç”¨æˆ·ç‚¹å‡»imageViewçš„ä»»ä½•åœ°æ–¹ï¼Œç§»é™¤å¼•å¯¼ï¼Œåˆ™åº”å…ˆåœ¨imageViewé‡Œæ·»åŠ æ‰‹åŠ¿ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
func tapGuide(gesture: UITapGestureRecognizer) { gesture.view?.removeFromSuperview() UserDefaults.standard.setValue(true, forKey: self.guideKey) } guideImageView.isUserInteractionEnabled = true let tapGesture = UITapGestureRecognizer(target: self, action: #selector(tapGuide(gesture:))) guideImageView.addGestureRecognizer(tapGesture) é€‚é…iPadæ·»åŠ æ¨ªç«–å±çš„æ”¯æŒ
private let guideKey = &amp;#34;GUIDE_NOTE_SPEECH_KEY12&amp;#34; func showGuide(){ let isShowed = UserDefaults.standard.value(forKey: self.guideKey) if isShowed == nil { self.guideImageView?.removeFromSuperview() let guideImage = UIImage(named: &amp;#34;guide_note_speech&amp;#34;) self.guideImageView = UIImageView(image: guideImage) let width:CGFloat = 132 let height:CGFloat = 100 let bounds = UIScreen.main.bounds let x = bounds.size.width/2 &#43; 20 var y = bounds.size.height - self.bottomView.bounds.size.height - height if let navHeight = self.navigationController?.navigationBar.bounds.size.height{ y -= navHeight } if let guideView = self.guideImageView{ self.guideImageView?.frame = CGRect(x: x, y: y, width: width, height: height) guideView.alpha = 0.8 self.view.addSubview(guideView) let startPoint = CGPoint(x: 0, y: 1) setAnchorPoint(point: startPoint, view: guideView) UIView.animate(withDuration: 1.6, delay: 0, options: [.repeat, .autoreverse], animations: { guideView.transform = CGAffineTransform(scaleX: 0.8, y: 0.8) }, completion:nil) } } } å‚è€ƒèµ„æ–™ å‚è€ƒèµ„æ–™ å‚è€ƒèµ„æ–™ å‚è€ƒèµ„æ–™
 ä¸¤ä¸ªæ•ˆæœ let transformA = CGAffineTransform(scaleX: 0.5, y: 0.5) let transformB = CGAffineTransform(translationX:100, yï¼š100) guideImageView.transform = transformA.concatenating(transformB) å‚è€ƒèµ„æ–™
CABasicAnimation  ä½¿ç”¨CABasicAnimationåšæ—‹è½¬åŠ¨ç”»æ—¶ï¼Œå‘ç°åˆ‡åˆ°åå°ä¹‹åï¼Œå†åˆ‡å›åˆ°å‰å°æ—¶ï¼ŒåŠ¨ç”»åœæ­¢äº†ã€‚æŸ¥é˜…ç›¸å…³èµ„æ–™ï¼Œå‘ç°åˆ‡åˆ°åå°ä¹‹åï¼ŒCABasicAnimationè¢«ç§»é™¤äº†ï¼Œä¸ºæ­¤ï¼Œéœ€è¦å°†isRemovedOnCompletionå±æ€§ç½®ä¸ºfalseã€‚
 private func addAnimation() { let rotationAnimation = CABasicAnimation(keyPath: &amp;#34;transform.rotation&amp;#34;) rotationAnimation.fromValue = 0.0 rotationAnimation.toValue = 2 * Double.pi rotationAnimation.dutation = 1.0 rotationAnimation.repeatCount = .infinity rotationAnimation.isRemovedOnCompletion = false self.imageView.layer.add(rotationAnimation, forKey: nil) }  </content>
    </entry>
    
     <entry>
        <title>é€æ˜åº¦æ¸å˜åŠ¨ç”»</title>
        <url>https://iihui.github.io/post/ios-opicity-animation/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html"> CABasicAnimationå…³é”®å¸§åŠ¨ç”» æ‰€è°“å…³é”®å¸§åŠ¨ç”»ï¼Œå°±æ˜¯å°†Layerçš„å±æ€§ä½œä¸ºKeyPathæ¥æ³¨å†Œï¼Œåªè¦æŒ‡å®šåŠ¨ç”»çš„èµ·å§‹å¸§å’Œç»“æŸå¸§ï¼Œç„¶åè‡ªåŠ¨è®¡ç®—å’Œå®ç°ä¸­é—´çš„è¿‡åº¦çš„ä¸€ç§åŠ¨ç”»æ–¹å¼ã€‚
func recordingButtonAnimation(){ let animation = CABasicAnimation(keyPath: &amp;#34;opacity&amp;#34;) animation.fromValue = 1.0 animation.toValue = 0.3 animation.fillMode = kCAFillModeForwards animation.isRemovedOnCompletion = false animation.duration = self.animationDuration self.recordButton.layer.add(animation, forKey: nil) } //æ·»åŠ å®šæ—¶å™¨ if recordingAnimationTimer == nil{ recordingAnimationTimer = Timer.scheduledTimer(timeInterval: self.animationDuration, target: self, selector: #selector(recordingButtonAnimation), userInfo: nil, repeats: true) } //é”€æ¯å®šæ—¶å™¨ self.recordingAnimationTimer?.invalidate() //ç§»é™¤åŠ¨ç”»å±‚ self.recordButton.layer.removeAllAnimations() å±æ€§è¯´æ˜ï¼š
 durationåŠ¨ç”»æ—¶é•¿ï¼Œé»˜è®¤ä¸º0,ä¸è®¾ç½®çš„è¯ä¼šå¿«é€Ÿæ‰§è¡Œå®ŒåŠ¨ç”» speed æ‰§è¡Œé€Ÿåº¦ï¼Œé»˜è®¤ä¸º1å€é€Ÿåº¦ï¼Œå¦‚æœè®¾ç½®äº†è¯¥å±æ€§ï¼Œåˆ™æ‰§è¡Œæ—¶é•¿ä¸º$\frac{duration}{speed}$ repeatCounté‡å¤æ¬¡æ•°ï¼Œé»˜è®¤ä¸º0ï¼Œå¦‚æœéœ€è¦è®¾ç½®ä¸ºæ°¸ä¹…çš„è¯å¯ä»¥è®¾ç½®ä¸ºHUGE_VALE autoreverses åŠ¨ç”»æ‰§è¡Œå®Œæ˜¯å¦æ‰§è¡Œé€†åŠ¨ç”»ï¼Œé»˜è®¤ä¸æ‰§è¡Œ fromValue å¼€å§‹å€¼ toValue ç»“æŸå€¼  CABasicAnimationæ‰§è¡Œå®ŒåŠ¨ç”»åä¼šå›å½’åŠ¨ç”»å¼€å§‹çš„çŠ¶æ€ï¼Œå¦‚æœæƒ³è¦è®©å®ƒå˜æˆåŠ¨ç”»æ‰§è¡Œæœ€åçš„çŠ¶æ€ï¼Œè®¾ç½®ä¸€ä¸‹ä¸¤ä¸ªå±æ€§ï¼š
animation.removedOnCompletion = false animation.fillMode = kCAFillModeForwards å¦‚æœè¦è®¾ç½®æ°¸ä¹…é‡å¤ï¼Œåˆ™éœ€è¦å°†repeatCountçš„å€¼ç½®ä¸ºHUGEæˆ–è€….greatestFiniteMagnitudeã€‚
let animation = CABasicAnimation(keyPath: &amp;#34;opacity&amp;#34;) animation.duration = 1.0 animation.repeatCount = .greatestFiniteMagnitude//HUGE animation.autoreverses = true animation.fromValue = 1.0 animation.toValue = 0.0 testButton.layer.add(animation, forKey: nil)  æ·»åŠ å¼•å¯¼åŠ¨ç”» fileprivate var guideImageView:UIImageView? private let guideKey = &amp;#34;GUIDE_NOTE_SPEECH_KEY&amp;#34; //åº”ç”¨çº§åˆ«çš„å¼•å¯¼ï¼Œå¦‚æœå¢åŠ ç”¨æˆ·çš„idï¼Œåˆ™æ˜¯ç”¨æˆ·çº§åˆ«çš„å¼•å¯¼ func showGuide(){ let isShowed = UserDefaults.standard.value(forKey: self.guideKey) if isShowed == nil { let guideImage = UIImage(named: &amp;#34;guide_note_speech&amp;#34;) if self.guideImageView == nil{ self.guideImageView = UIImageView(image: guideImage) let width:CGFloat = 132 let height:CGFloat = 100 let x = bottomView.bounds.width/2 &#43; 15 let y = topView.bounds.size.height &#43; centerView.bounds.size.height &#43; soundWaveView.bounds.size.height - height &#43; 20 if let guideView = self.guideImageView{ self.guideImageView?.frame = CGRect(x: x, y: y, width: width, height: height) self.view.addSubview(guideView) let startPoint = CGPoint(x: 0, y: 1) setAnchorPoint(point: startPoint, view: guideView) UIView.animate(withDuration: 1.2, delay: 0, options: [.repeat, .autoreverse], animations: { guideView.transform = CGAffineTransform(scaleX: 0.8, y: 0.8) }, completion:nil) } } } } éœ€è¦æ³¨æ„çš„æ˜¯ï¼šå› ä¸ºä¸Šé¢çš„å‡½æ•°æ¶‰åŠåˆ°boundsçš„è®¡ç®—ï¼Œå› æ­¤guideShowå‡½æ•°åº”å½“æ”¾åˆ°viewDidLayoutSubviews()ä¸­ï¼Œæˆ–è€…viewDidAppear(_ animated: Bool)ä¸­ï¼Œç»è¿‡è¯•éªŒï¼Œå‘ç°å¦‚æœæ”¾åˆ°viewDidLayoutSubviews()ä¸­ï¼Œå›¾ç‰‡ä¼šå˜é»‘å¾ˆå¤šã€‚
override func viewDidLayoutSubviews() { super.viewDidLayoutSubviews() showGuide() } override func viewDidAppear(_ animated: Bool) { super.viewDidAppear(animated) showGuide() } å–æ¶ˆå¼•å¯¼åŠ¨ç”»æ—¶ï¼Œé¦–å…ˆåº”å½“ç§»é™¤å¼•å¯¼çš„imageviewï¼Œå¹¶å°†keyè®°å½•åˆ°plistæ–‡ä»¶ä¸­ã€‚å¦‚æœè®¾ç½®æ—¶ç”¨æˆ·ç‚¹å‡»æŸä¸ªæŒ‰é’®æ—¶ç§»é™¤å¼•å¯¼ï¼Œåˆ™å°†å¦‚ä¸‹ä»£ç æ·»åŠ åˆ°ç›¸åº”UIButtonçš„å“åº”å‡½æ•°ä¸­ï¼š
if let guideView = self.guideImageView{ self.removeGuide(view: guideView) } func removeGuide(view:UIView) { view.removeFromSuperview() UserDefaults.standard.setValue(true, forKey: self.guideKey) } å¦‚æœæ˜¯ç”¨æˆ·ç‚¹å‡»imageViewçš„ä»»ä½•åœ°æ–¹ï¼Œç§»é™¤å¼•å¯¼ï¼Œåˆ™åº”å…ˆåœ¨imageViewé‡Œæ·»åŠ æ‰‹åŠ¿ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
func tapGuide(gesture: UITapGestureRecognizer) { gesture.view?.removeFromSuperview() UserDefaults.standard.setValue(true, forKey: self.guideKey) } guideImageView.isUserInteractionEnabled = true let tapGesture = UITapGestureRecognizer(target: self, action: #selector(tapGuide(gesture:))) guideImageView.addGestureRecognizer(tapGesture) é€‚é…iPadæ·»åŠ æ¨ªç«–å±çš„æ”¯æŒ
private let guideKey = &amp;#34;GUIDE_NOTE_SPEECH_KEY12&amp;#34; func showGuide(){ let isShowed = UserDefaults.standard.value(forKey: self.guideKey) if isShowed == nil { self.guideImageView?.removeFromSuperview() let guideImage = UIImage(named: &amp;#34;guide_note_speech&amp;#34;) self.guideImageView = UIImageView(image: guideImage) let width:CGFloat = 132 let height:CGFloat = 100 let bounds = UIScreen.main.bounds let x = bounds.size.width/2 &#43; 20 var y = bounds.size.height - self.bottomView.bounds.size.height - height if let navHeight = self.navigationController?.navigationBar.bounds.size.height{ y -= navHeight } if let guideView = self.guideImageView{ self.guideImageView?.frame = CGRect(x: x, y: y, width: width, height: height) guideView.alpha = 0.8 self.view.addSubview(guideView) let startPoint = CGPoint(x: 0, y: 1) setAnchorPoint(point: startPoint, view: guideView) UIView.animate(withDuration: 1.6, delay: 0, options: [.repeat, .autoreverse], animations: { guideView.transform = CGAffineTransform(scaleX: 0.8, y: 0.8) }, completion:nil) } } } å‚è€ƒèµ„æ–™ å‚è€ƒèµ„æ–™ å‚è€ƒèµ„æ–™ å‚è€ƒèµ„æ–™
 åŒæ—¶æ·»åŠ ä¸¤ä¸ªæ•ˆæœ let transformA = CGAffineTransform(scaleX: 0.5, y: 0.5) let transformB = CGAffineTransform(translationX:100, yï¼š100) guideImageView.transform = transformA.concatenating(transformB) å‚è€ƒèµ„æ–™
 </content>
    </entry>
    
     <entry>
        <title>Gifçš„æ’­æ”¾ä¸æš‚åœ</title>
        <url>https://iihui.github.io/post/ios-gif/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html">  Gifçš„æ’­æ”¾æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯é€šè¿‡UIWebviewï¼›ä¸€ç§æ˜¯é€šè¿‡UIImageViewçš„æ–¹å¼ã€‚ä½¿ç”¨UIWebviewçš„ç¼ºç‚¹æ˜¯ä¸å¯ä»¥æš‚åœã€‚
 UIWebView import UIKit class ViewController: UIViewController { override func viewDidLoad() { super.viewDidLoad() guard let path = Bundle.main.path(forResource: &amp;#34;demo&amp;#34;, ofType:&amp;#34;gif&amp;#34;) else{ return } let url = URL(fileURLWithPath: path) do{ let gifData = try Data(contentsOf: url) let webView = UIWebView() webView.frame = CGRect(x: 0, y: 100, width: self.view.frame.width, height: 600) webView.scalesPageToFit = true webView.load(gifData, mimeType: &amp;#34;image/gif&amp;#34;, textEncodingName: String(), baseURL: NSURL() as URL) self.view.addSubview(webView) }catch{} } }  UIImageView ä½¿ç”¨UIImageViewæ’­æ”¾GIFæœ‰ä¸¤ä¸ªè¦ç‚¹ï¼šä¸€æ˜¯ä»gifæ–‡ä»¶ä¸­è·å–å›¾ç‰‡æ•°ç»„ï¼ŒäºŒæ˜¯è·å–gifæ–‡ä»¶çš„æ’­æ”¾æ—¶é•¿ã€‚
import UIKit class ViewController: UIViewController { override func viewDidLoad() { super.viewDidLoad() let imageView = UIImageView() imageView.frame = CGRect(x: 0, y: 100, width: self.view.frame.width, height: 600) self.view.addSubview(imageView) guard let path = Bundle.main.path(forResource: &amp;#34;demo&amp;#34;, ofType:&amp;#34;gif&amp;#34;) else{ return } let url = URL(fileURLWithPath: path) do{ let gifData = try Data(contentsOf: url) guard let imageSource = CGImageSourceCreateWithData(gifData as CFData, nil) else { return } let imageCount = CGImageSourceGetCount(imageSource) var images = [UIImage]() var gifDuration:TimeInterval = 0 for index in 0..&amp;lt;imageCount{ guard let cgImage = CGImageSourceCreateImageAtIndex(imageSource, index, nil) else{ return } let image = UIImage(cgImage: cgImage) images.append(image) if index == 0{ imageView.image = image } var tmpProperty:NSDictionary? if let tmp = CGImageSourceCopyPropertiesAtIndex(imageSource, index, nil){ tmpProperty = tmp as NSDictionary if let property = tmpProperty{ guard let gifDic = property[kCGImagePropertyGIFDelayTime] as? NSDictionary else{ continue } guard let imageDuration = gifDic[kCGImagePropertyGIFDelayTime] as? NSNumber else{ continue } gifDuration &#43;= imageDuration.doubleValue } } } imageView.animationImages = images imageView.animationDuration = gifDuration imageView.animationRepeatCount = 10 imageView.startAnimating() }catch{} } } å‚è€ƒèµ„æ–™
 </content>
    </entry>
    
     <entry>
        <title>iOSè§†é¢‘å¼€å‘å…¥é—¨</title>
        <url>https://iihui.github.io/post/ios-video/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html"> è§†é¢‘å®è´¨ çº¯ç²¹çš„è§†é¢‘ï¼ˆä¸åŒ…æ‹¬éŸ³é¢‘ï¼‰å®è´¨ä¸Šå°±æ˜¯ä¸€ç»„å¸§å›¾ç‰‡ï¼Œç»è¿‡è§†é¢‘ç¼–ç æˆä¸ºè§†é¢‘(video)æ–‡ä»¶å†æŠŠéŸ³é¢‘ï¼ˆaudioï¼‰æ–‡ä»¶ä»¥åŠå­—å¹•æ–‡ä»¶ç»„è£…åœ¨ä¸€èµ·æˆä¸ºè§†é¢‘ï¼ˆmovieï¼‰æ–‡ä»¶ã€‚
1ç§’å†…å‡ºç°çš„å›¾ç‰‡æ•°å°±æ˜¯å¸§ç‡ï¼Œå›¾ç‰‡é—´éš”è¶Šå°ç”»é¢å°±è¶Šæµç•…ï¼Œæ‰€ä»¥å¸§ç‡è¶Šé«˜æ•ˆæœå°±è¶Šå¥½ï¼Œéœ€è¦çš„å­˜å‚¨ç©ºé—´ä¹Ÿå°±è¶Šå¤šã€‚
 å½•åˆ¶è§†é¢‘çš„3ç§å®ç°æ–¹å¼   UIImagePickerViewControllerï¼šåªèƒ½è®¾ç½®ä¸€äº›ç®€å•çš„å‚æ•°æ¥å®ç°åŸºæœ¬çš„è§†é¢‘å½•åˆ¶çš„æ•ˆæœï¼Œè‡ªå®šä¹‰ç¨‹åº¦ä¸é«˜ã€‚
  AVFoundationï¼šè‹¹æœæä¾›çš„åº•å±‚å¤šåª’ä½“æ¡†æ¶ï¼Œç”¨äºéŸ³è§†é¢‘é‡‡é›†ã€è§£ç ã€è§†é¢‘ç¼–è¾‘ç­‰ï¼Œä½¿ç”¨AVFoundationè¿›è¡Œè§†é¢‘å½•åˆ¶æœ‰ä»¥ä¸‹ä¸¤ç§æ–¹å¼ï¼š
  AVCaptureSession &#43; AVCaptureMoiveFileOutputã€‚
  AVCaptureSession &#43; AVAssetWriterã€‚
     UIImagePickerController è¿™ç§æ–¹å¼åªèƒ½è®¾ç½®ä¸€äº›ç®€å•çš„å‚æ•°ï¼Œè‡ªå®šä¹‰ç¨‹åº¦ä¸é«˜ï¼Œåªèƒ½è‡ªå®šä¹‰ç•Œé¢ä¸Šçš„æ“ä½œæŒ‰é’®ä»¥åŠè§†é¢‘çš„ç”»è´¨ï¼š
- (void)viewDidLoad { [super viewDidLoad]; if ([self isVideoRecordingAvailable]) { return; } self.sourceType = UIImagePickerControllerSourceTypeCamera; self.mediaTypes = @[(NSString *)kUTTypeMovie]; self.delegate = self; //éšè—ç³»ç»Ÿè‡ªå¸¦UI  self.showsCameraControls = NO; //è®¾ç½®æ‘„åƒå¤´  [self switchCameraIsFront:NO]; //è®¾ç½®è§†é¢‘ç”»è´¨ç±»åˆ«  self.videoQuality = UIImagePickerControllerQualityTypeMedium; //è®¾ç½®æ•£å…‰ç¯ç±»å‹  self.cameraFlashMode = UIImagePickerControllerCameraFlashModeAuto; //è®¾ç½®å½•åˆ¶çš„æœ€å¤§æ—¶é•¿  self.videoMaximumDuration = 20; } - (BOOL)isVideoRecordingAvailable { if([UIImagePickerController isSourceTypeAvailable:UIImagePickerControllerSourceTypeCamera]){ NSArray *availableMediaTypes = [UIImagePickerController availableMediaTypesForSourceType:UIImagePickerControllerSourceTypeCamera]; if([availableMediaTypes containsObject:(NSString *)kUTTypeMovie]){ return YES; } } return NO; } - (void)switchCameraIsFront:(BOOL)front { if (front) { if([UIImagePickerController isCameraDeviceAvailable:UIImagePickerControllerCameraDeviceFront]){ [self setCameraDevice:UIImagePickerControllerCameraDeviceFront]; } } else { if([UIImagePickerController isCameraDeviceAvailable:UIImagePickerControllerCameraDeviceRear]){ [self setCameraDevice:UIImagePickerControllerCameraDeviceRear]; } } }  AVCaptureSession&#43;AVCaptureMovieFileOutput é‡‡ç”¨AVCaptureSession&#43;AVCaptureMovieFileOutputè¿›è¡Œè§†é¢‘å½•åˆ¶ä¸€èˆ¬è¦ç»è¿‡ä»¥ä¸‹6æ­¥ï¼š
 åˆ›å»ºæ•æ‰ä¼šè¯AVCaptureSession,ç”¨äºæ§åˆ¶inputåˆ°outputçš„æµå‘ã€‚ è®¾ç½®è§†é¢‘çš„è¾“å…¥è®¾å¤‡ AVCaptureDeviceInputï¼Œç”¨äºè§†é¢‘é‡‡é›†ï¼Œç„¶åå°†è®¾å¤‡ç»‘å®šåˆ°AVCaptureSessionçš„è¾“å…¥å£inputä¸­ã€‚ è®¾ç½®éŸ³é¢‘è¾“å…¥è®¾å¤‡ AVCaptureDeviceInputï¼Œç”¨äºéŸ³é¢‘é‡‡é›†ï¼Œç„¶åå°†è®¾å¤‡ç»‘å®šåˆ°AVCaptureSessionçš„è¾“å…¥å£inputä¸­ã€‚ è®¾ç½®è¾“å‡ºæºAVCaptureMovieFileOutputã€‚æ­¤æ—¶éŸ³é¢‘å’Œè§†é¢‘ä¼šåˆå¹¶åœ¨ä¸€èµ·ï¼Œåœ¨ä»£ç†æ–¹æ³•ä¸­ä¹Ÿå¯ä»¥å•ç‹¬æ‹¿åˆ°è§†é¢‘æˆ–è€…éŸ³é¢‘æ•°æ®ï¼Œç»™AVCaptureMovieFileOutputæŒ‡å®šè·¯å¾„ï¼Œå¼€å§‹å½•åˆ¶ä¹‹åå°±ä¼šå‘è¿™ä¸ªè·¯å¾„å†™å…¥æ•°æ®ã€‚ æ·»åŠ è§†é¢‘é¢„è§ˆå±‚ã€‚ å¼€å§‹é‡‡é›†æ•°æ®ï¼Œè¿™ä¸ªæ—¶å€™è¿˜æ²¡æœ‰å†™å…¥æ•°æ®ï¼Œç”¨æˆ·ç‚¹å‡»å½•åˆ¶åå°±å¯ä»¥å¼€å§‹å†™å…¥æ•°æ®ã€‚  å¦‚æœéœ€è¦å¯¹è§†é¢‘è¿›è¡Œå®æ—¶å¤„ç†ï¼Œåˆ™éœ€è¦å¯¹ç›¸æœºç¼“å†²åŒºä¸­çš„è§†é¢‘æµè¿›è¡Œå¤„ç†ï¼š
 å®šä¹‰ä¸€ä¸ªè§†é¢‘æ•°æ®è¾“å‡ºAVCaptureVideoDataOutput,å¹¶å°†å…¶æ·»åŠ åˆ°Sessionä¸Šã€‚ è®¾ç½®æ¥å—çš„Controllerä½œä¸ºè§†é¢‘æ•°æ®è¾“å‡ºç¼“å†²åŒºSample Bufferçš„ä»£ç†ã€‚ å®ç°ä»£ç†æ–¹æ³•ã€‚   å‚è€ƒèµ„æ–™ å‚è€ƒèµ„æ–™
 AVCaptureSession&#43;AVAssetWriter åŸºæœ¬æµç¨‹ä¸º
 åˆ›å»ºæ•æ‰ä¼šè¯ è®¾ç½®è§†é¢‘çš„è¾“å…¥å’Œè¾“å‡º è®¾ç½®éŸ³é¢‘çš„è¾“å…¥å’Œè¾“å‡º æ·»åŠ è§†é¢‘é¢„è§ˆå±‚ å¼€å§‹é‡‡é›†æ•°æ®ï¼Œè¿™ä¸ªæ—¶å€™è¿˜æ²¡æœ‰å†™å…¥æ•°æ®ï¼Œç”¨æˆ·ç‚¹å‡»å½•åˆ¶çš„æ—¶å€™æ‰å¼€å§‹å†™å…¥æ•°æ® åˆå§‹åŒ–AVAssetWriterï¼Œæˆ‘ä»¬ä¼šæ‹¿åˆ°è§†é¢‘å’ŒéŸ³é¢‘æ•°æ®æµï¼Œç”¨AVAssetWriterå†™å…¥æ–‡ä»¶ï¼Œè¿™ä¸€æ­¥éœ€è¦è‡ªå·±å®ç°ã€‚    å½•åˆ¶è§†é¢‘å¼€å¯è“ç‰™å½•éŸ³ æ€è·¯æ˜¯å…ˆåˆ¤æ–­æ˜¯å¦æœ‰è“ç‰™æˆ–è€…è€³æœºæ’å…¥ï¼Œå¦‚æœæœ‰åˆ™å°†å…¶è®¾ç½®ä¸ºéŸ³é¢‘è¾“å…¥æºï¼Œå¦åˆ™ä½¿ç”¨é»˜è®¤çš„éº¦å…‹é£ï¼Œåº”å½“æ³¨æ„çš„æ˜¯è¦åœ¨è®¾ç½®äº†éŸ³é¢‘è¾“å…¥æºä¹‹åï¼Œå†è®¾ç½®self.captureSession.usesApplicationAudioSession = trueå’Œself.captureSession.automaticallyConfiguresApplicationAudioSession = falseã€‚
fileprivate var isBlueToothAvailable = false fileprivate var audioSession = AVAudioSession.sharedInstance() func isBlueToothConnected()-&amp;gt;Bool{ let route = AVAudioSession.sharedInstance().currentRoute for item in route.outputs{ if item.portType == AVAudioSessionPortHeadphones || item.portType == AVAudioSessionPortBluetoothA2DP{ self.isBlueToothAvailable = true return true } } return false } if isBlueToothConnected(){ do{ try audioSession.setCategory(AVAudioSessionCategoryPlayAndRecord, with: AVAudioSessionCategoryOptions.allowBluetooth) }catch{} } if self.isBlueToothAvailable { self.captureSession.usesApplicationAudioSession = true self.captureSession.automaticallyConfiguresApplicationAudioSession = false } å‚è€ƒèµ„æ–™
 </content>
    </entry>
    
     <entry>
        <title>HTMLå…¥é—¨</title>
        <url>https://iihui.github.io/post/htm-primer/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>html</tag>
        </tags>
        <content type="html"> ç®€ä»‹ HTMLæŒ‡çš„æ˜¯è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ (Hyper Text Markup Language)ï¼Œå®ƒä¸æ˜¯ä¸€ç§ç¼–ç¨‹è¯­è¨€ï¼Œè€Œæ˜¯ä¸€ç§æ ‡å¿—è¯­è¨€ï¼Œæ ‡è®°è¯­è¨€æ˜¯ä¸€å¥—æ ‡è®°æ ‡ç­¾ï¼Œä½¿ç”¨æ ‡è®°æ ‡ç­¾æ¥æè¿°ç½‘é¡µã€‚
 .htm or .html å½“ä¿å­˜HTMLæ–‡ä»¶æ—¶ï¼Œå¯ä»¥ä½¿ç”¨.htm,ä¹Ÿå¯ä»¥ä½¿ç”¨.htmlæ–‡ä»¶åç¼€ã€‚ä½¿ç”¨.htm,è¿™åªæ˜¯é•¿ä¹…ä»¥æ¥å½¢æˆçš„ä¹ æƒ¯ï¼Œå› ä¸ºè¿‡å»çš„å¾ˆå¤šè½¯ä»¶åªå…è®¸ä¸‰ä¸ªå­—æ¯çš„æ–‡ä»¶åç¼€ã€‚å¯¹äºæ–°çš„è½¯ä»¶ï¼Œä½¿ç”¨.htmlå®Œå…¨æ²¡æœ‰é—®é¢˜ã€‚
 HTMLæ ‡ç­¾ HTMLæ ‡ç­¾æ˜¯ç”±å°–æ‹¬å·åŒ…å›´çš„å…³é”®è¯ï¼Œæ¯”å¦‚&amp;lt;html&amp;gt;ã€‚æ ‡ç­¾é€šå¸¸æ˜¯æˆå¯¹å‡ºç°çš„ã€Œä¹Ÿæœ‰å¯èƒ½æ˜¯å•ä¸ªå‡ºç°ã€ï¼Œæ¯”å¦‚&amp;lt;b&amp;gt;å’Œ&amp;lt;/b&amp;gt;ï¼›æ ‡ç­¾å¯¹ä¸­çš„ç¬¬ä¸€ä¸ªæ ‡ç­¾æ—¶å¼€å§‹æ ‡ç­¾ï¼Œç¬¬äºŒä¸ªæ ‡ç­¾æ˜¯ç»“æŸæ ‡ç­¾ã€‚
 HTMLå…ƒç´  HTMLæ–‡æ¡£ç”¨äºæè¿°ç½‘é¡µã€ŒHTMLæ–‡æ¡£ä¹Ÿè¢«ç§°ä¸ºç½‘é¡µã€ï¼Œæ–‡æ¡£åŒ…å«HTMLæ ‡ç­¾å’Œçº¯æ–‡æœ¬ã€‚HTMLå…ƒç´ ï¼ŒæŒ‡çš„æ˜¯ä»å¼€å§‹æ ‡ç­¾(start tag)åˆ°ç»“æŸæ ‡ç­¾(end tag)çš„æ‰€æœ‰ä»£ç ã€‚å…ƒç´ çš„å†…å®¹æ˜¯å¼€å§‹æ ‡ç­¾ä¸ç»“æŸæ ‡ç­¾ä¹‹é—´çš„å†…å®¹ã€‚
æŸäº›HTMLå…ƒç´ å…·æœ‰ç©ºå†…å®¹ï¼Œæ²¡æœ‰å†…å®¹çš„HTMLå…ƒç´ è¢«ç§°ä¸ºç©ºå…ƒç´ ,ç©ºå…ƒç´ åœ¨å¼€å§‹æ ‡ç­¾ä¸­è¿›è¡Œå…³é—­ã€‚
&amp;lt;html lang=&amp;#34;en&amp;#34;&amp;gt; &amp;lt;head&amp;gt; &amp;lt;meta charset=&amp;#34;UTF-8&amp;#34;&amp;gt; &amp;lt;meta name=&amp;#34;viewport&amp;#34; content=&amp;#34;width=device-width, initial-scale=1.0&amp;#34;&amp;gt; &amp;lt;meta http-equiv=&amp;#34;X-UA-Compatible&amp;#34; content=&amp;#34;ie=edge&amp;#34;&amp;gt; &amp;lt;title&amp;gt;Document&amp;lt;/title&amp;gt; &amp;lt;/head&amp;gt; &amp;lt;body&amp;gt; &amp;lt;div&amp;gt;æµ‹è¯•&amp;lt;/div&amp;gt; &amp;lt;/body&amp;gt; &amp;lt;/html&amp;gt;  HTMLå±æ€§ å¤§å¤šæ•°HTMLå…ƒç´ å¯æ‹¥æœ‰å±æ€§,å±æ€§æä¾›äº†æœ‰å…³HTMLå…ƒç´ çš„æ›´å¤šçš„ä¿¡æ¯ï¼Œå±æ€§æ€»æ˜¯ä»¥åç§°/å€¼å¯¹çš„å½¢å¼å‡ºç°ï¼Œæ¯”å¦‚ï¼šname=&amp;quot;value&amp;quot;ï¼š
  å±æ€§æ€»æ˜¯åœ¨HTMLå…ƒç´ çš„å¼€å§‹æ ‡ç­¾ä¸­è§„å®šã€‚
  å±æ€§å’Œå±æ€§å€¼å¯¹å¤§å°å†™ä¸æ•æ„Ÿã€‚ä¸è¿‡ï¼Œä¸‡ç»´ç½‘è”ç›Ÿåœ¨å…¶HTML 4 æ¨èæ ‡å‡†ä¸­æ¨èå°å†™çš„å±æ€§/å±æ€§å€¼ã€‚è€Œæ–°ç‰ˆæœ¬çš„(X)HTMLè¦æ±‚ä½¿ç”¨å°å†™å±æ€§ã€‚
  å±æ€§å€¼åº”è¯¥å§‹ç»ˆè¢«åŒ…æ‹¬åœ¨å¼•å·å†…ï¼ŒåŒå¼•å·æ˜¯æœ€å¸¸ç”¨çš„ï¼Œä¸è¿‡ä½¿ç”¨å•å¼•å·ä¹Ÿæ²¡æœ‰é—®é¢˜ã€‚
  &amp;lt;a href=&amp;#34;http://www.w3school.com.cn&amp;#34;&amp;gt;This is a link&amp;lt;/a&amp;gt;  å¤–éƒ¨æ ·å¼è¡¨ &amp;lt;head&amp;gt; &amp;lt;link rel=&amp;#34;stylesheet&amp;#34; type=&amp;#34;text/css&amp;#34; href=&amp;#34;mystyle.css&amp;#34;&amp;gt; &amp;lt;/head&amp;gt; &amp;lt;head&amp;gt; &amp;lt;link href=&amp;#34;./style.css&amp;#34; rel=&amp;#34;stylesheet&amp;#34; type=&amp;#34;text/css&amp;#34;&amp;gt; &amp;lt;/head&amp;gt;  å†…éƒ¨æ ·å¼è¡¨ &amp;lt;head&amp;gt; &amp;lt;style type=&amp;#34;text/css&amp;#34;&amp;gt; body {background-color: red} p {margin-left: 20px} &amp;lt;/style&amp;gt; &amp;lt;/head&amp;gt;  å†…è”æ ·å¼è¡¨ &amp;lt;p style=&amp;#34;color: red; margin-left: 20px&amp;#34;&amp;gt; This is a paragraph &amp;lt;/p&amp;gt;  è¶…é“¾æ¥ è¶…é“¾æ¥å¯ä»¥æ˜¯ä¸€ä¸ªå­—ï¼Œä¸€ä¸ªè¯ï¼Œæˆ–è€…ä¸€ç»„è¯ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€å‰¯å›¾åƒï¼Œä½ å¯ä»¥ç‚¹å‡»è¿™äº›å†…å®¹æ¥è·³è½¬åˆ°æ–°çš„æ–‡æ¡£æˆ–è€…å½“å‰æ–‡æ¡£çš„æŸä¸ªéƒ¨åˆ†ã€‚
é€šè¿‡ä½¿ç”¨&amp;lt;a&amp;gt;æ ‡ç­¾åœ¨HTMLä¸­åˆ›å»ºæ–°é“¾æ¥ï¼Œå¯ä»¥æœ‰ä¸¤ç§ä½¿ç”¨è¶…é“¾æ¥çš„æ–¹å¼ï¼š
  é€šè¿‡ä½¿ç”¨hrefå±æ€§åˆ›å»ºæŒ‡å‘å¦ä¸€ä¸ªæ–‡æ¡£çš„é“¾æ¥ã€‚
  é€šè¿‡ä½¿ç”¨nameå±æ€§ï¼Œåˆ›å»ºæ–‡æ¡£å†…çš„ä¹¦ç­¾ï¼ˆé”šï¼‰ã€‚
   é¡µé¢é—´è·³è½¬ &amp;lt;a href=&amp;#34;http://www.w3school.com.cn/&amp;#34;&amp;gt;Visit W3School&amp;lt;/a&amp;gt; &amp;lt;a href=&amp;#34;http://www.w3school.com.cn/html/html_links.asp#tips&amp;#34;&amp;gt;æœ‰ç”¨çš„æç¤º&amp;lt;/a&amp;gt;&amp;lt;!--ä»å…¶ä»–é¡µé¢åˆ›å»ºæŒ‡å‘è¯¥é¡µé¢çš„é”š--&amp;gt;  é¡µé¢å†…è·³è½¬ é¡µé¢å†…çš„è·³è½¬éœ€è¦ä¸¤ä¸ªæ­¥éª¤ï¼š
  è®¾ç½®ä¸€ä¸ªé”šç‚¹é“¾æ¥&amp;lt;a href=&amp;quot;#miao&amp;quot;&amp;gt;å»æ‰¾å–µæ˜Ÿäºº&amp;lt;/a&amp;gt;ã€‚éœ€è¦æ³¨æ„çš„æ˜¯è¦åœ¨hrefçš„å±æ€§å€¼valueå‰åŠ #ã€‚
  åœ¨é¡µé¢ä¸­éœ€è¦çš„ä½ç½®è®¾ç½®ä¸€ä¸ªé”šç‚¹&amp;lt;a name=&amp;quot;miao&amp;quot;&amp;gt;&amp;lt;/a&amp;gt;ï¼Œæ ‡ç­¾ä¸­æŒ‰éœ€å¡«å†™å¿…è¦çš„æ–‡å­—ï¼Œä¸€èˆ¬ä¸å†™å†…å®¹ã€‚è®¾ç½®é”šç‚¹æœ‰ä¸¤ç§æ–¹å¼
  &amp;lt;a name=&amp;quot;miao&amp;quot;&amp;gt;&amp;lt;/a&amp;gt;ã€‚
  &amp;lt;h3 id=&amp;quot;miao&amp;quot;&amp;gt;å–µæ˜ŸäººåŸºåœ°&amp;lt;/h3&amp;gt;ã€‚è¿™ç§æ–¹å¼ä¸ç”¨å•ç‹¬æ·»åŠ ä¸€ä¸ªaæ ‡ç­¾æ¥è®¾ç½®é”šç‚¹ã€‚
    &amp;lt;!DOCTYPE html&amp;gt; &amp;lt;html&amp;gt; &amp;lt;head&amp;gt; &amp;lt;meta charset=&amp;#34;utf-8&amp;#34;&amp;gt; &amp;lt;title&amp;gt;æµ‹è¯•&amp;lt;/title&amp;gt; &amp;lt;/head&amp;gt; &amp;lt;body&amp;gt; &amp;lt;ul&amp;gt; &amp;lt;li&amp;gt;&amp;lt;a href=&amp;#34;#miao&amp;#34;&amp;gt;å»æ‰¾å–µæ˜Ÿäºº&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt; &amp;lt;!--åŒä¸€ä¸ªæ–‡æ¡£ä¸­åˆ›å»ºæŒ‡å‘è¯¥é”šçš„é“¾æ¥--&amp;gt; &amp;lt;li&amp;gt;&amp;lt;a href=&amp;#34;#wang&amp;#34;&amp;gt;å»æ‰¾æ±ªæ˜Ÿäºº&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt; &amp;lt;!--åŒä¸€ä¸ªæ–‡æ¡£ä¸­åˆ›å»ºæŒ‡å‘è¯¥é”šçš„é“¾æ¥--&amp;gt; &amp;lt;li&amp;gt;&amp;lt;a href=&amp;#34;#meng&amp;#34;&amp;gt;å…¶ä»–èŒç‰©&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt; &amp;lt;!--åŒä¸€ä¸ªæ–‡æ¡£ä¸­åˆ›å»ºæŒ‡å‘è¯¥é”šçš„é“¾æ¥--&amp;gt; &amp;lt;/ul&amp;gt; &amp;lt;a name=&amp;#34;miao&amp;#34;&amp;gt;&amp;lt;/a&amp;gt;&amp;lt;!--è®¾ç½®é”šç‚¹æ–¹æ³•1--&amp;gt; &amp;lt;h3 id=&amp;#34;miao&amp;#34;&amp;gt;å–µæ˜ŸäººåŸºåœ°&amp;lt;/h3&amp;gt;&amp;lt;!--è®¾ç½®é”šç‚¹æ–¹æ³•2--&amp;gt; &amp;lt;p&amp;gt;å–µå–µå–µ~&amp;lt;/p&amp;gt; &amp;lt;p&amp;gt;å–µå–µå–µ~&amp;lt;/p&amp;gt; &amp;lt;p&amp;gt;å–µå–µå–µ~&amp;lt;/p&amp;gt; &amp;lt;p&amp;gt;å–µå–µå–µ~&amp;lt;/p&amp;gt; &amp;lt;p&amp;gt;å–µå–µå–µ~&amp;lt;/p&amp;gt; &amp;lt;p&amp;gt;å–µå–µå–µ~&amp;lt;/p&amp;gt; &amp;lt;a name=&amp;#34;wang&amp;#34;&amp;gt;&amp;lt;/a&amp;gt; &amp;lt;p&amp;gt;æ±ªæ±ªæ±ª~&amp;lt;/p&amp;gt; &amp;lt;p&amp;gt;æ±ªæ±ªæ±ª~&amp;lt;/p&amp;gt; &amp;lt;p&amp;gt;æ±ªæ±ªæ±ª~&amp;lt;/p&amp;gt; &amp;lt;p&amp;gt;æ±ªæ±ªæ±ª~&amp;lt;/p&amp;gt; &amp;lt;p&amp;gt;æ±ªæ±ªæ±ª~&amp;lt;/p&amp;gt; &amp;lt;p&amp;gt;æ±ªæ±ªæ±ª~&amp;lt;/p&amp;gt; &amp;lt;a name=&amp;#34;meng&amp;#34;&amp;gt;&amp;lt;/a&amp;gt; &amp;lt;p&amp;gt;èŒèŒèŒ~&amp;lt;/p&amp;gt; &amp;lt;p&amp;gt;èŒèŒèŒ~&amp;lt;/p&amp;gt; &amp;lt;p&amp;gt;èŒèŒèŒ~&amp;lt;/p&amp;gt; &amp;lt;p&amp;gt;èŒèŒèŒ~&amp;lt;/p&amp;gt; &amp;lt;p&amp;gt;èŒèŒèŒ~&amp;lt;/p&amp;gt; &amp;lt;p&amp;gt;èŒèŒèŒ~&amp;lt;/p&amp;gt; &amp;lt;/body&amp;gt; &amp;lt;/html&amp;gt; å‚è€ƒèµ„æ–™
 å›¾ç‰‡ åœ¨HTMLä¸­ï¼Œå›¾åƒç”±&amp;lt;img&amp;gt;æ ‡ç­¾å®šä¹‰ï¼Œ&amp;lt;img&amp;gt;æ˜¯ç©ºæ ‡ç­¾ï¼Œå³åªåŒ…å«å±æ€§ï¼Œæ²¡æœ‰é—­åˆæ ‡ç­¾ã€‚
&amp;lt;img src=&amp;#34;https://i.loli.net/2018/12/06/5c09153160635.jpg&amp;#34; alt=&amp;#34;none&amp;#34;&amp;gt; &amp;lt;!--`alt`å±æ€§è¡¨ç¤ºå½“å›¾ç‰‡æ‰¾ä¸åˆ°æ—¶ï¼Œåº”è¯¥æ˜¾ç¤ºçš„æ›¿æ¢æ–‡æœ¬--&amp;gt;  spanæ ‡ç­¾ spanæ ‡ç­¾è¡¨ç¤ºæ— è¯­ä¹‰è¡Œå†…å…ƒç´ ï¼Œå¸¸ç”¨æ¥ç»„åˆæ–‡æ¡£å†…çš„è¡Œå†…å…ƒç´ ï¼Œä»¥ä¾¿é€šè¿‡æ ·å¼æ¥æ ¼å¼åŒ–å®ƒä»¬ã€‚
 ç±» å¯ä»¥ä¸ºå…ƒç´ è¡¨è®¾ç½®ç±»ï¼Œç„¶åä¸ºç›¸åŒçš„ç±»å®šä¹‰CSSæ ·å¼ï¼š
&amp;lt;!DOCTYPE html&amp;gt; &amp;lt;html&amp;gt; &amp;lt;head&amp;gt; &amp;lt;style&amp;gt; .cities { background-color:black; color:white; margin:20px; padding:20px; } &amp;lt;/style&amp;gt; &amp;lt;/head&amp;gt; &amp;lt;body&amp;gt; &amp;lt;div class=&amp;#34;cities&amp;#34;&amp;gt; &amp;lt;h2&amp;gt;London&amp;lt;/h2&amp;gt; &amp;lt;p&amp;gt;London is the capital city of England. It is the most populous city in the United Kingdom, with a metropolitan area of over 13 million inhabitants.&amp;lt;/p&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;div class=&amp;#34;cities&amp;#34;&amp;gt; &amp;lt;h2&amp;gt;Paris&amp;lt;/h2&amp;gt; &amp;lt;p&amp;gt;Paris is the capital and most populous city of France.&amp;lt;/p&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;div class=&amp;#34;cities&amp;#34;&amp;gt; &amp;lt;h2&amp;gt;Tokyo&amp;lt;/h2&amp;gt; &amp;lt;p&amp;gt;Tokyo is the capital of Japan, the center of the Greater Tokyo Area, and the most populous metropolitan area in the world.&amp;lt;/p&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;/body&amp;gt; &amp;lt;/html&amp;gt;  HTMLå¸ƒå±€ &amp;lt;div&amp;gt;å…ƒç´ å¸¸ç”¨äºå¸ƒå±€å·¥å…·ï¼Œå› ä¸ºèƒ½å¤Ÿè½»æ¾é€šè¿‡CSSå¯¹å…¶è¿›è¡Œå®šä½ï¼Œä¸‹é¢è¿™ä¸ªä¾‹å­ä½¿ç”¨4ä¸ª&amp;lt;div&amp;gt;å…ƒç´ æ¥åˆ›å»ºå¤šåˆ—å¸ƒå±€ï¼š
&amp;lt;body&amp;gt; &amp;lt;div id=&amp;#34;header&amp;#34;&amp;gt; &amp;lt;h1&amp;gt;City Gallery&amp;lt;/h1&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;div id=&amp;#34;nav&amp;#34;&amp;gt; London&amp;lt;br&amp;gt; Paris&amp;lt;br&amp;gt; Tokyo&amp;lt;br&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;div id=&amp;#34;section&amp;#34;&amp;gt; &amp;lt;h1&amp;gt;London&amp;lt;/h1&amp;gt; &amp;lt;p&amp;gt; London is the capital city of England. It is the most populous city in the United Kingdom, with a metropolitan area of over 13 million inhabitants. &amp;lt;/p&amp;gt; &amp;lt;p&amp;gt; Standing on the River Thames, London has been a major settlement for two millennia, its history going back to its founding by the Romans, who named it Londinium. &amp;lt;/p&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;div id=&amp;#34;footer&amp;#34;&amp;gt; Copyright W3School.com.cn &amp;lt;/div&amp;gt; &amp;lt;/body&amp;gt; &amp;lt;style&amp;gt; #header { background-color:black; color:white; text-align:center; padding:5px; } #nav { line-height:30px; background-color:#eeeeee; height:300px; width:100px; float:left; padding:5px; } #section { width:350px; float:left; padding:10px; } #footer { background-color:black; color:white; clear:both; text-align:center; padding:5px; } &amp;lt;/style&amp;gt;  HTMLæ¡†æ¶ é€šè¿‡ä½¿ç”¨æ¡†æ¶ï¼Œä½ å¯ä»¥åœ¨åŒä¸€ä¸ªæµè§ˆå™¨çª—å£ä¸­æ˜¾ç¤ºä¸æ­¢ä¸€ä¸ªé¡µé¢ã€‚æ¯ä»½HTMLæ–‡æ¡£ç§°ä¸ºä¸€ä¸ªæ¡†æ¶ï¼Œå¹¶ä¸”æ¯ä¸ªæ¡†æ¶éƒ½ç‹¬ç«‹äºå…¶ä»–çš„æ¡†æ¶ã€‚
ä½¿ç”¨æ¡†æ¶çš„ç¼ºç‚¹â€”â€”å¼€å‘äººå‘˜å¿…é¡»åŒæ—¶è·Ÿè¸ªæ›´å¤šçš„HTMLæ–‡æ¡£ã€‚
ç»“æ„æ¡†æ¶æ ‡ç­¾framesetå®šä¹‰å¦‚ä½•å°†çª—å£åˆ†å‰²ä¸ºæ¡†æ¶ï¼Œæ¯ä¸ªframesetå®šä¹‰äº†ä¸€ç³»åˆ—è¡Œä¸åˆ—ã€‚rows/columnsçš„å€¼è§„å®šäº†æ¯è¡Œä¸æ¯åˆ—å æ®å±å¹•é¢ç§¯ã€‚
&amp;lt;frameset cols=&amp;#34;25%,75%&amp;#34;&amp;gt; &amp;lt;frame src=&amp;#34;frame_a.htm&amp;#34;&amp;gt; &amp;lt;frame src=&amp;#34;frame_b.htm&amp;#34;&amp;gt; &amp;lt;/frameset&amp;gt; ä¸Šé¢çš„ä»£ç è®¾ç½®ä¸¤åˆ—çš„æ¡†æ¶é›†ï¼Œç¬¬ä¸€åˆ—è¢«è®¾ç½®å æµè§ˆå™¨çš„25%ï¼Œç¬¬äºŒåˆ—å æµè§ˆå™¨çš„75%ã€‚
å‡å¦‚ä¸€ä¸ªæ¡†æ¶æœ‰å¯è§è¾¹æ¡†ï¼Œç”¨æˆ·å¯ä»¥æ‹–åŠ¨è¾¹æ¡†æ¥æ”¹å˜å®ƒçš„å¤§å°ã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µå‘ç”Ÿï¼Œå¯ä»¥åœ¨&amp;lt;frame&amp;gt;æ ‡ç­¾ä¸­åŠ å…¥ï¼šnoresize=&amp;quot;noresize&amp;quot;ã€‚
ä¸èƒ½å°†&amp;lt;body&amp;gt;&amp;lt;/body&amp;gt;æ ‡ç­¾ä¸&amp;lt;frameset&amp;gt;&amp;lt;/frameset&amp;gt;æ ‡ç­¾åŒæ—¶ä½¿ç”¨ã€‚ä¸è¿‡ï¼Œå‡å¦‚ä½ æ·»åŠ åŒ…å«ä¸€æ®µæ–‡æœ¬çš„&amp;lt;noframes&amp;gt;æ ‡ç­¾ï¼Œå°±å¿…é¡»å°†è¿™æ®µæ–‡å­—åµŒå¥—äº &amp;lt;body&amp;gt;&amp;lt;/body&amp;gt;æ ‡ç­¾å†…ã€‚
 å†…è”æ¡†æ¶ å†…è”æ¡†æ¶ç”¨äºåœ¨ç½‘é¡µå†…æ˜¾ç¤ºé¡µé¢ï¼Œä½¿ç”¨iframeæ ‡ç­¾ï¼Œå…¶ä¸­widthå’Œheightå¯ä»¥è®¾ç½®å®½åº¦å’Œé«˜åº¦ï¼Œé»˜è®¤å€¼æ˜¯åƒç´ ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç™¾åˆ†æ¯”æ¥æ˜¾ç¤ºã€‚
&amp;lt;body&amp;gt; &amp;lt;iframe src=&amp;#34;http://localhost:1313/post/htm-primer/&amp;#34; width=&amp;#34;600&amp;#34; height=&amp;#34;600&amp;#34;&amp;gt;&amp;lt;/iframe&amp;gt; &amp;lt;/body&amp;gt; ifameæ ‡ç­¾çš„frameborderå±æ€§è§„å®šæ˜¯å¦æ˜¾ç¤º iframeå‘¨å›´çš„è¾¹æ¡†ï¼Œå€¼ä¸º0è¡¨ç¤ºç§»é™¤è¾¹æ¡†ã€‚
frameå¯ç”¨ä½œé“¾æ¥çš„ç›®æ ‡ï¼ˆtargetï¼‰ã€‚é“¾æ¥çš„targetå±æ€§å¿…é¡»å¼•ç”¨ iframeçš„nameå±æ€§ã€‚
&amp;lt;iframe src=&amp;#34;http://localhost:1313/post/htm-primer/&amp;#34; width=&amp;#34;600&amp;#34; height=&amp;#34;600&amp;#34; frameborder=&amp;#34;0&amp;#34;&amp;gt;&amp;lt;/iframe&amp;gt; &amp;lt;br/&amp;gt; &amp;lt;iframe src=&amp;#34;http://localhost:1313/post/htm-primer/&amp;#34; name=&amp;#34;iframe_a&amp;#34;&amp;gt;&amp;lt;/iframe&amp;gt; &amp;lt;p&amp;gt;&amp;lt;a href=&amp;#34;http://www.w3school.com.cn&amp;#34; target=&amp;#34;iframe_a&amp;#34;&amp;gt;W3School.com.cn&amp;lt;/a&amp;gt;&amp;lt;/p&amp;gt;  èƒŒæ™¯é¢œè‰² &amp;lt;body&amp;gt;æ ‡ç­¾å…·æœ‰ä¸¤ä¸ªé…ç½®èƒŒæ™¯çš„å±æ€§ï¼ŒèƒŒæ™¯å¯ä»¥æ˜¯é¢œè‰²æˆ–è€…å›¾ç‰‡ï¼Œåˆ†åˆ«æ˜¯èƒŒæ™¯é¢œè‰²å±æ€§bgcolorå’ŒèƒŒæ™¯å›¾ç‰‡å±æ€§backgroundã€‚bgcolorç”¨äºè®¾ç½®èƒŒæ™¯é¢œè‰²ï¼›è€Œbackgroundå°†èƒŒæ™¯è®¾ç½®ä¸ºå›¾ç‰‡ï¼Œå…¶å±æ€§å€¼ä¸ºå›¾ç‰‡çš„URLã€‚
&amp;lt;body bgcolor=&amp;#34;#000000&amp;#34;&amp;gt; &amp;lt;body bgcolor=&amp;#34;rgb(0,0,0)&amp;#34;&amp;gt; &amp;lt;body bgcolor=&amp;#34;black&amp;#34;&amp;gt; &amp;lt;body background=&amp;#34;clouds.gif&amp;#34;&amp;gt; &amp;lt;body background=&amp;#34;http://www.w3school.com.cn/clouds.gif&amp;#34;&amp;gt; &amp;lt;body&amp;gt;æ ‡ç­¾ä¸­çš„èƒŒæ™¯é¢œè‰²ï¼ˆbgcolorï¼‰ã€èƒŒæ™¯ï¼ˆbackgroundï¼‰å’Œæ–‡æœ¬ï¼ˆtextï¼‰å±æ€§åœ¨æœ€æ–°çš„HTMLæ ‡å‡†ï¼ˆHTML4å’ŒXHTMLï¼‰ä¸­å·²è¢«åºŸå¼ƒã€‚W3Cåœ¨å…¶çš„æ¨èæ ‡å‡†ä¸­å·²åˆ é™¤è¿™äº›å±æ€§ã€‚
 HTMLè„šæœ¬ &amp;lt;html&amp;gt; &amp;lt;body&amp;gt; &amp;lt;script type=&amp;#34;text/javascript&amp;#34;&amp;gt; document.write(&amp;#34;&amp;lt;h1&amp;gt;Hello World!&amp;lt;/h1&amp;gt;&amp;#34;) &amp;lt;/script&amp;gt; &amp;lt;/body&amp;gt; &amp;lt;/html&amp;gt;  HTMLå¤´éƒ¨ headå…ƒç´ æ˜¯æ‰€æœ‰å¤´éƒ¨å…ƒç´ çš„å®¹å™¨ï¼Œheadå†…éƒ¨çš„å…ƒç´ å¯åŒ…å«è„šæœ¬ï¼ŒæŒ‡ç¤ºæµè§ˆå™¨åœ¨ä½•å¤„å¯ä»¥æ‰¾åˆ°æ ·å¼è¡¨ï¼Œæä¾›å…ƒä¿¡æ¯ç­‰ã€‚ä»¥ä¸‹æ ‡ç­¾éƒ½å¯ä»¥åŠ åˆ°&amp;lt;head&amp;gt;éƒ¨åˆ†ï¼š
  &amp;lt;title&amp;gt;:å®šä¹‰æµè§ˆå™¨å·¥å…·æ ä¸­çš„æ ‡é¢˜ã€‚
&amp;lt;title&amp;gt;RichTextEditor&amp;lt;/title&amp;gt;   &amp;lt;base&amp;gt;: ä¸ºé¡µé¢ä¸Šæ‰€æœ‰çš„é“¾æ¥è§„å®šé»˜è®¤çš„åœ°å€æˆ–é»˜è®¤ç›®æ ‡ã€‚
&amp;lt;head&amp;gt; &amp;lt;base href=&amp;#34;http://www.w3school.com.cn/images/&amp;#34; /&amp;gt; &amp;lt;base target=&amp;#34;_blank&amp;#34; /&amp;gt; &amp;lt;/head&amp;gt;   &amp;lt;link&amp;gt;: å®šä¹‰æ–‡æ¡£ä¸å¤–éƒ¨èµ„æºä¹‹é—´çš„å…³ç³»ã€‚
&amp;lt;head&amp;gt; &amp;lt;link rel=&amp;#34;stylesheet&amp;#34; type=&amp;#34;text/css&amp;#34; href=&amp;#34;mystyle.css&amp;#34; /&amp;gt; &amp;lt;/head&amp;gt;   &amp;lt;meta&amp;gt;:å®šä¹‰æ–‡æ¡£çš„å…ƒæ•°æ®ä¿¡æ¯ï¼Œå…ƒæ•°æ®ç”¨äºè§„å®šé¡µé¢çš„æè¿°ï¼Œå…³é”®è¯ï¼Œä¿®æ”¹æ—¶é—´ç­‰ã€‚
&amp;lt;meta charset=&amp;#34;utf-8&amp;#34;&amp;gt; &amp;lt;meta name=&amp;#34;viewport&amp;#34; content=&amp;#34;width=device-width, initial-scale=1.0,maximum-scale=1.0, user-scalable=no&amp;#34; &amp;gt; &amp;lt;meta content=&amp;#34;ie=edge&amp;#34; http-equiv=&amp;#34;X-UA-Compatible&amp;#34;&amp;gt;   &amp;lt;script&amp;gt;:ç”¨äºå®šä¹‰å®¢æˆ·ç«¯çš„è„šæœ¬ã€‚
  &amp;lt;style&amp;gt;: å®šä¹‰æ ·å¼ä¿¡æ¯ã€‚
&amp;lt;head&amp;gt; &amp;lt;style type=&amp;#34;text/css&amp;#34;&amp;gt; body {background-color:yellow} p {color:blue} &amp;lt;/style&amp;gt; &amp;lt;/head&amp;gt;    HTML URL URLç»Ÿä¸€èµ„æºå®šä½å™¨ï¼Œä¹Ÿè¢«ç§°ä¸ºç½‘å€ï¼Œå…¶ç”¨äºå®šä½ä¸‡ç»´ç½‘ä¸Šçš„æ–‡æ¡£ï¼ˆæˆ–å…¶ä»–æ•°æ®ï¼‰:
scheme://host.domain:port/path/filename  scheme: å®šä¹‰å› ç‰¹ç½‘æœåŠ¡çš„ç±»å‹ï¼Œä¾‹å¦‚http,https,ftp,fileç­‰ã€‚ host: å®šä¹‰åŸŸä¸»æœºï¼Œhttpçš„é»˜è®¤ä¸»æœºæ˜¯wwwã€‚ domain: å®šä¹‰å› ç‰¹ç½‘çš„åŸŸåï¼Œä¾‹å¦‚mmhui.topã€‚ :post: å®šä¹‰ä¸»æœºä¸Šçš„ç«¯å£ï¼Œhttpé»˜è®¤æ˜¯80ã€‚ Path: å®šä¹‰æœåŠ¡å™¨ä¸Šçš„è·¯å¾„ï¼Œå¦‚æœçœç•¥ï¼Œåˆ™æ–‡æ¡£å¿…é¡»ä½äºç½‘ç«™çš„æ ¹ç›®å½•ä¸‹ã€‚ filename:å®šä¹‰æ–‡æ¡£æˆ–è€…èµ„æºçš„åç§°ã€‚   URLçš„ç¼–ç  URLåªèƒ½ä½¿ç”¨ASCIIå­—ç¬¦é›†æ¥é€šè¿‡å› ç‰¹ç½‘è¿›è¡Œå‘é€ï¼Œä½†æ˜¯URLä¸­å¸¸å¸¸åŒ…å«ASCIIé›†åˆä¹‹å¤–çš„å­—ç¬¦ï¼ŒURLå¿…é¡»è½¬æ¢ä¸ºæœ‰æ•ˆçš„ASCIIæ ¼å¼ã€‚
URLç¼–ç ä½¿ç”¨%å…¶åè·Ÿéšä¸¤ä½çš„åå…­è¿›åˆ¶çš„æ•°æ¥æ›¿ä»£éASCIIå­—ç¬¦ã€‚
 æ–‡æ¡£ç±»å‹ HTMLæ–‡æ¡£å­˜åœ¨ä¸åŒçš„ç‰ˆæœ¬ï¼Œåªæœ‰äº‹å…ˆå£°æ˜HTMLæ–‡æ¡£çš„ç‰ˆæœ¬ï¼Œæµè§ˆå™¨æ‰èƒ½å®Œå…¨æ­£ç¡®çš„æ˜¾ç¤ºå‡ºHTMLé¡µé¢ã€‚!DOCTYPEå¯ä»¥ç”¨äºå£°æ˜HTMLæ–‡æ¡£çš„ç‰ˆæœ¬ï¼š
html 5 æ–‡æ¡£ &amp;lt;!DOCTYPE html&amp;gt; &amp;lt;!--html5æ–‡æ¡£--&amp;gt; html 4.1 æ–‡æ¡£ &amp;lt;!DOCTYPE HTML PUBLIC &amp;#34;-//W3C//DTD HTML 4.01 Transitional//EN&amp;#34; &amp;#34;http://www.w3.org/TR/html4/loose.dtd&amp;#34;&amp;gt; &amp;lt;!--html 4.1 æ–‡æ¡£--&amp;gt; xhtml 1.0 æ–‡æ¡£ &amp;lt;!DOCTYPE html PUBLIC &amp;#34;-//W3C//DTD XHTML 1.0 Transitional//EN&amp;#34; &amp;#34;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&amp;#34;&amp;gt; &amp;lt;!--xhtml 1.0æ–‡æ¡£--&amp;gt;  é«˜åº¦ function getInfo(){ let s = &amp;#34;&amp;#34;; s &#43;= &amp;#34; ç½‘é¡µå¯è§åŒºåŸŸå®½ï¼š&amp;#34;&#43; document.body.clientWidth; s &#43;= &amp;#34; ç½‘é¡µå¯è§åŒºåŸŸé«˜ï¼š&amp;#34;&#43; document.body.clientHeight; s &#43;= &amp;#34; ç½‘é¡µå¯è§åŒºåŸŸå®½ï¼š&amp;#34;&#43; document.body.offsetWidth &#43; &amp;#34; (åŒ…æ‹¬è¾¹çº¿å’Œæ»šåŠ¨æ¡çš„å®½)&amp;#34;; s &#43;= &amp;#34; ç½‘é¡µå¯è§åŒºåŸŸé«˜ï¼š&amp;#34;&#43; document.body.offsetHeight &#43; &amp;#34; (åŒ…æ‹¬è¾¹çº¿çš„å®½)&amp;#34;; s &#43;= &amp;#34; ç½‘é¡µæ­£æ–‡å…¨æ–‡å®½ï¼š&amp;#34;&#43; document.body.scrollWidth; s &#43;= &amp;#34; ç½‘é¡µæ­£æ–‡å…¨æ–‡é«˜ï¼š&amp;#34;&#43; document.body.scrollHeight; s &#43;= &amp;#34; ç½‘é¡µè¢«å·å»çš„é«˜(ff)ï¼š&amp;#34;&#43; document.body.scrollTop; s &#43;= &amp;#34; ç½‘é¡µè¢«å·å»çš„é«˜(ie)ï¼š&amp;#34;&#43; document.documentElement.scrollTop; s &#43;= &amp;#34; ç½‘é¡µè¢«å·å»çš„å·¦ï¼š&amp;#34;&#43; document.body.scrollLeft; s &#43;= &amp;#34; ç½‘é¡µæ­£æ–‡éƒ¨åˆ†ä¸Šï¼š&amp;#34;&#43; window.screenTop; s &#43;= &amp;#34; ç½‘é¡µæ­£æ–‡éƒ¨åˆ†å·¦ï¼š&amp;#34;&#43; window.screenLeft; s &#43;= &amp;#34; å±å¹•åˆ†è¾¨ç‡çš„é«˜ï¼š&amp;#34;&#43; window.screen.height; s &#43;= &amp;#34; å±å¹•åˆ†è¾¨ç‡çš„å®½ï¼š&amp;#34;&#43; window.screen.width; s &#43;= &amp;#34; å±å¹•å¯ç”¨å·¥ä½œåŒºé«˜åº¦ï¼š&amp;#34;&#43; window.screen.availHeight; s &#43;= &amp;#34; å±å¹•å¯ç”¨å·¥ä½œåŒºå®½åº¦ï¼š&amp;#34;&#43; window.screen.availWidth; s &#43;= &amp;#34; ä½ çš„å±å¹•è®¾ç½®æ˜¯ &amp;#34;&#43; window.screen.colorDepth &#43;&amp;#34; ä½å½©è‰²&amp;#34;; s &#43;= &amp;#34; ä½ çš„å±å¹•è®¾ç½® &amp;#34;&#43; window.screen.deviceXDPI &#43;&amp;#34; åƒç´ /è‹±å¯¸&amp;#34;; } å»é™¤UIWebviewåº•éƒ¨çš„é»‘çº¿   å°†UIWebViewçš„opaqueè®¾ç½®ä¸ºfalseã€‚
  è®¾ç½®UIWebViewçš„èƒŒæ™¯é¢œè‰²ä»¥æ¸…é™¤é¢œè‰²ã€‚
   </content>
    </entry>
    
     <entry>
        <title>CSS å…¥é—¨</title>
        <url>https://iihui.github.io/post/css-primer/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>CSS</tag><tag>code</tag>
        </tags>
        <content type="html"> å…³æ³¨ç‚¹åˆ†ç¦»å’Œæ··åˆ å…³æ³¨ç‚¹åˆ†ç¦» å…³æ³¨ç‚¹åˆ†ç¦»çš„æ„æ€æ˜¯ï¼šå„ç§æŠ€æœ¯åªè´Ÿè´£è‡ªå·±çš„é¢†åŸŸï¼Œä¸è¦æ··åˆåœ¨ä¸€èµ·ï¼Œå½¢æˆè€¦åˆã€‚å¯¹äºç½‘é¡µå¼€å‘æ¥è¯´ï¼Œä¸»è¦æ˜¯ä¸‰ç§æŠ€æœ¯åˆ†ç¦»ã€‚
  HTML:è´Ÿè´£ç½‘é¡µçš„ç»“æ„ï¼Œç§°ä¸ºè¯­ä¹‰å±‚ã€‚
  CSS:è´Ÿè´£ç½‘é¡µçš„æ ·å¼ï¼Œç§°ä¸ºè§†è§‰å±‚ã€‚
  JavaScript:è´Ÿè´£ç½‘é¡µçš„é€»è¾‘å’Œäº¤äº’ï¼Œç§°ä¸ºé€»è¾‘å±‚æˆ–è€…äº¤äº’å±‚ã€‚
  ä¹Ÿå°±æ˜¯è¯´ä¸è¦å†™è¡Œå†…æ ·å¼å’Œè¡Œå†…è„šæœ¬ï¼Œä¾‹å¦‚ä¸‹é¢çš„ä»£ç å°±å¾ˆç³Ÿç³•ï¼š
&amp;lt;h1 style=&amp;#34;color:red;font-size:46px;&amp;#34; onclick=&amp;#34;alert(&amp;#39;Hi&amp;#39;)&amp;#34;&amp;gt; Hello World &amp;lt;/h1&amp;gt;  å…³æ³¨ç‚¹æ··åˆ è€ŒReactå‡ºç°ä¹‹åï¼Œè¿™ä¸ªåŸåˆ™å°±ä¸é€‚ç”¨äº†ï¼Œå› ä¸ºReactæ˜¯ç»„ä»¶ç»“æ„ï¼Œå¼ºåˆ¶è¦æ±‚æŠŠHTML,CSS,JavaScriptå†™åœ¨ä¸€èµ·ã€‚
const style = { &amp;#39;color&amp;#39;: &amp;#39;red&amp;#39;, &amp;#39;fontSize&amp;#39;: &amp;#39;46px&amp;#39; }; const clickHandler = () =&amp;gt; alert(&amp;#39;hi&amp;#39;); ReactDOM.render( &amp;lt;h1 style={style} onclick={clickHandler} &amp;gt; Hello, world! &amp;lt;/h1&amp;gt; document.getElementById(&amp;#39;example&amp;#39;) ); ä¸Šé¢ä»£ç å†™åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œå°è£…äº†ç»“æ„ã€æ ·å¼å’Œé€»è¾‘ï¼Œå®Œå…¨è¿èƒŒäº†å…³æ³¨ç‚¹åˆ†ç¦»çš„åŸåˆ™ã€‚ä½†æ˜¯ï¼Œè¿™ç§æ–¹å¼æœ‰åˆ©äºç»„ä»¶çš„éš”ç¦»ã€‚æ¯ä¸ªç»„ä»¶åŒ…å«äº†æ‰€æœ‰éœ€è¦ç”¨åˆ°çš„ä»£ç ï¼Œä¸ä¾èµ–å¤–éƒ¨ï¼Œç»„ä»¶ä¹‹é—´æ²¡æœ‰è€¦åˆï¼Œå¾ˆæ–¹ä¾¿å¤ç”¨ã€‚æ‰€ä»¥ï¼Œéšç€Reactçš„èµ°çº¢å’Œç»„ä»¶æ¨¡å¼æ·±å…¥äººå¿ƒï¼Œè¿™ç§å…³æ³¨ç‚¹æ··åˆçš„æ–°å†™æ³•é€æ¸æˆä¸ºä¸»æµã€‚
CSS å®ä¾‹ CSSè§„åˆ™æ˜¯ç”±ä¸¤ä¸ªä¸»è¦çš„éƒ¨åˆ†æ„æˆï¼šé€‰æ‹©å™¨ä»¥åŠä¸€æ¡æˆ–è€…å¤šæ¡å£°æ˜ï¼Œå£°æ˜æ€»æ˜¯ä»¥åˆ†å·ç»“æŸã€‚
* { margin:0; padding:0; } p { font-size:2em; } .info { background:#ff0; } p.info { background:#ff0; } p.info.error { color:#900; font-weight:bold; } #info { background:#ff0; } p#info { background:#ff0; } CSSçš„æ³¨é‡Šæ˜¯ç”±/*å¼€å§‹ï¼Œä»¥*/ç»“æŸï¼Œç”¨äºè§£é‡Šä»£ç ï¼Œå¹¶å¯ä»¥éšæ„ç¼–è¾‘å®ƒï¼Œæµè§ˆå™¨ä¼šå¿½ç•¥å®ƒã€‚
 é€‰æ‹©å™¨ CSSçš„åŸºæœ¬é€‰æ‹©å™¨åŒ…æ‹¬ï¼š  é€šç”¨é€‰æ‹©å™¨ï¼ŒåŒ¹é…ä»»ä½•å…ƒç´ ã€‚ æ ‡ç­¾é€‰æ‹©å™¨ï¼ŒåŒ¹é…æ‰€æœ‰ä½¿ç”¨è¯¥æ ‡ç­¾çš„å…ƒç´ ã€‚ classé€‰æ‹©å™¨ï¼ŒåŒ¹é…æ‰€æœ‰classå±æ€§ä¸­åŒ…å«infoçš„å…ƒç´ ã€‚ idé€‰æ‹©å™¨ï¼ŒåŒ¹é…æ‰€æœ‰idå±æ€§ä¸ºfooterçš„å…ƒç´ ã€‚   æ ‡ç­¾é€‰æ‹©å™¨ æ ‡ç­¾é€‰æ‹©å™¨ï¼Œå³å°†HTMLä¸­çš„æ ‡ç­¾ä½œä¸ºé€‰æ‹©å™¨ï¼š
p { &amp;lt;!--æ ‡ç­¾é€‰æ‹©å™¨--&amp;gt; line-height: auto; //è¡Œè·è‡ªåŠ¨å˜åŒ– margin-top: 0px; margin-bottom: 15px; /*24*/ } html, body { &amp;lt;!--æ ‡ç­¾é€‰æ‹©å™¨--&amp;gt; padding: 0; margin: 0; font-family: Arial, Helvetica, sans-serif; }  idé€‰æ‹©å™¨ idé€‰æ‹©å™¨å¯ä»¥ä¸ºæ ‡æœ‰ç‰¹å®šçš„idçš„HTMLå…ƒç´ æŒ‡å®šç‰¹å®šçš„æ ·å¼ã€‚HTMLå…ƒç´ ä»¥idå±æ€§æ¥è®¾ç½®idé€‰æ‹©å™¨ï¼ŒCSSä¸­idé€‰æ‹©å™¨ä»¥#æ¥å®šä¹‰ï¼š
#separatorDiv { -webkit-user-select: none; padding-left: 10px; padding-right: 10px; } #content { outline: 0px solid transparent; } éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯IDå±æ€§ä¸è¦ä»¥æ•°å­—å¼€å¤´ï¼Œå¦åˆ™IDåœ¨ç«ç‹æµè§ˆå™¨ä¸­ä¸èµ·ä½œç”¨ã€‚
 classé€‰æ‹©å™¨ classé€‰æ‹©å™¨ç”¨äºæè¿°ä¸€ç»„å…ƒç´ çš„æ ·å¼ï¼Œclassé€‰æ‹©å™¨æœ‰åˆ«äºidé€‰æ‹©å™¨ï¼Œclasså¯ä»¥åœ¨å¤šä¸ªå…ƒç´ ä¸­ä½¿ç”¨ã€‚classé€‰æ‹©å™¨åœ¨HTMLä¸­ä»¥classå±æ€§è¡¨ç¤º, åœ¨ CSSä¸­ï¼Œç±»é€‰æ‹©å™¨ä»¥ä¸€ä¸ªç‚¹.å·æ˜¾ç¤ºã€‚åœ¨ä¸‹ä¾‹ä¸­ï¼Œæ‰€æœ‰æ‹¥æœ‰centerç±»çš„HTMLå…ƒç´ å‡ä¸ºå±…ä¸­:
.center {text-align:center;} åŒæ ·åœ°ï¼Œç±»åçš„ç¬¬ä¸€ä¸ªä¸èƒ½ä½¿ç”¨æ•°å­—ï¼Œå¦åˆ™æ— æ³•åœ¨ç«ç‹æµè§ˆå™¨ä¸­èµ·ä½œç”¨ã€‚
å‚è€ƒèµ„æ–™
 innerHeight å’ŒouterHeight é€šè¿‡window.innerHeightå’Œwindow.outerHeightå¯ä»¥å¾—åˆ°æ•´ä¸ªçª—å£çš„é«˜åº¦ï¼Œå…¶ä¸­ï¼š
  innerHeight æ˜¯DOMè§†å£çš„å¤§å°ï¼ŒåŒ…æ‹¬æ»šåŠ¨æ¡ã€‚
  couterHeight æ˜¯æ•´ä¸ªæµè§ˆå™¨çª—å£çš„å¤§å°ï¼ŒåŒ…æ‹¬çª—å£æ ‡é¢˜ï¼Œå·¥å…·æ å’ŒçŠ¶æ€æ ç­‰ã€‚
  åœ¨ä¸æ”¯æŒwindow.innerHeightçš„æµè§ˆå™¨ä¸­ï¼Œå¯ä»¥è¯»å–documentElementå’Œbodyçš„é«˜åº¦ï¼Œå®ƒä»¬çš„å¤§å°å’Œwindow.innerHeightç±»ä¼¼ï¼Œä½†æœ‰åŒºåˆ«ã€‚
document.documentElement.clientHeight document.body.clientHeight å…¶ä¸­documentElementæ˜¯æ–‡æ¡£æ ¹å…ƒç´ â€”â€”&amp;lt;html&amp;gt;æ ‡ç­¾ï¼Œè€Œbodyå°±æ˜¯&amp;lt;body&amp;gt;æ ‡ç­¾ã€‚å› æ­¤ä¸ºäº†è§£å†³å…¼å®¹æ€§é—®é¢˜ï¼Œå¸¸å¸¸ä½¿ç”¨å¦‚ä¸‹ä»£ç ï¼š
var height = window.innerHeight || document.documentElement.clientHeight|| document.body.clientHeight; å®é™…ä¸Šåé¢ä¸¤ç§æ–¹å¼è·å–çš„é«˜åº¦å’Œwindow.innerHeightæ˜¯ä¸ä¸€æ ·çš„ï¼Œè¿™3ä¸ªå±æ€§çš„å€¼é€æ¸å˜å°ï¼Œå…·ä½“æ¥è¯´:
  window.innerHeightåŒ…æ‹¬æ•´ä¸ªDOMï¼šå†…å®¹ï¼Œè¾¹æ¡†ä»¥åŠæ»šåŠ¨æ¡é«˜åº¦ã€‚
  documentElement.clientHeightä¸åŒ…æ‹¬æ•´ä¸ªæ–‡æ¡£æ»šåŠ¨æ¡é«˜åº¦ï¼Œä½†åŒ…æ‹¬&amp;lt;html&amp;gt;å…ƒç´ çš„è¾¹æ¡†é«˜åº¦ã€‚
  body.clientHeightä¸åŒ…æ‹¬æ•´ä¸ªæ–‡æ¡£çš„æ»šåŠ¨æ¡é«˜åº¦ï¼Œä¹Ÿä¸åŒ…æ‹¬&amp;lt;html&amp;gt;å…ƒç´ çš„è¾¹æ¡†é«˜åº¦ï¼Œä¹Ÿä¸åŒ…æ‹¬&amp;lt;body&amp;gt;çš„è¾¹æ¡†å’Œæ»šåŠ¨æ¡é«˜åº¦ã€‚
   æ»šåŠ¨é«˜åº¦ ä½¿ç”¨JSæ§åˆ¶é¡µé¢æ»šåŠ¨æ—¶ï¼ˆå¦‚å›åˆ°é¡¶éƒ¨ï¼‰ï¼Œéœ€è¦çŸ¥é“é¡µé¢å½“å‰æ»šåŠ¨åˆ°äº†å“ªé‡Œï¼Œä»¥åŠå°†è¦æ»šåŠ¨åˆ°å“ªé‡Œã€‚è¿™æ¶‰åŠåˆ°4ä¸ªDOMå±æ€§ï¼Œæ‰€æœ‰çš„DOMå…ƒç´ éƒ½æœ‰ä»¥ä¸‹4ä¸ªå±æ€§ã€‚
  clientHeight å†…éƒ¨å¯è§†åŒºåŸŸçš„é«˜åº¦ã€‚
  offsetHeight æ•´ä¸ªå¯è§†åŒºåŸŸçš„é«˜åº¦ï¼ŒåŒ…æ‹¬borderå’Œscrollbaråœ¨å†…ã€‚
  scrollHeight å…ƒç´ å†…éƒ¨çš„é«˜åº¦ï¼ŒåŒ…æ‹¬æº¢å‡ºçš„éƒ¨åˆ†ã€‚
  scrollTop å…ƒç´ å†…å®¹å‘ä¸Šæ»šåŠ¨äº†å¤šå°‘åƒç´ ï¼Œå¦‚æœæ²¡æœ‰æ»šåŠ¨åˆ™è¿”å›0ã€‚
   å‚è€ƒèµ„æ–™
</content>
    </entry>
    
     <entry>
        <title>XCodeå¿«æ·é”®</title>
        <url>https://iihui.github.io/post/xcode-quick/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html"> MACé”®ç›˜å›¾æ ‡  âŒ˜â€”â€”Command (ï£¿) âŒƒ â€”â€”Control âŒ¥â€”â€”Option (alt) â‡§â€”â€”Shift â‡ªâ€”â€”Caps Lock   å¿«æ·é”®  Command&#43;R è¿è¡Œ Command&#43;B ç¼–è¯‘ Command&#43;. åœæ­¢ Command &#43; Shift &#43; K æ¸…é™¤å·¥ç¨‹ Command &#43; K æ¸…é™¤æ§åˆ¶å°ä¿¡æ¯ Command &#43; N æ–°å»ºæ–‡ä»¶ Command &#43; Shift &#43; N åˆ›å»ºæ–°å·¥ç¨‹   å¯¼èˆªæ   Command&#43;0~9 å·¥ç¨‹å¯¼èˆª  Command &#43; 0 å¿«é€Ÿæ‰“å¼€å®ç”¨é¢æ¿ Command &#43; 1 æŸ¥çœ‹å·¥ç¨‹æ–‡ä»¶ Command &#43; 2 ç‰ˆæœ¬æ§åˆ¶å¯¼èˆª Command &#43; 3 ç¬¦å·å¯¼èˆª(ç±») Command &#43; 4 è­¦å‘Šå’Œé”™è¯¯å¯¼èˆª Command &#43; 5 æµ‹è¯•å¯¼èˆª Command &#43; 6 è°ƒè¯•å¯¼èˆª Command &#43; 7 æ–­ç‚¹å¯¼èˆª Command &#43; 9 æŠ¥å‘Šå¯¼èˆª   Command &#43; Option &#43; 0 æ‰“å¼€å³ä¾§å¯¼èˆªæ  Command &#43; Option &#43; T æ‰“å¼€å·¥å…·æ  Command &#43; Shift &#43; Y æ‰“å¼€åº•éƒ¨å¯¼èˆªæ  Command &#43; Z æ’¤é”€ Command &#43; Shift &#43; Z åæ’¤é”€   æŸ¥æ‰¾ä¸è·³è½¬  Command &#43; F åœ¨å½“å‰æ–‡æ¡£ä¸­æŸ¥æ‰¾ Command &#43; Shift &#43; G æœç´¢ä¸Šä¸€å¤„ Command &#43; G æœç´¢ä¸‹ä¸€å¤„ Command &#43; L è·³è½¬åˆ°ç‰¹å®šè¡Œ Command &#43; Shift &#43; Oï¼ˆå­—æ¯ï¼‰ å¿«é€ŸæŸ¥æ‰¾æ‰“å¼€ç±» Command &#43; Shift &#43; J å¿«é€Ÿå®šä½åˆ°å½“å‰ç±»åœ¨é¡¹ç›®ä¸­çš„ä½ç½® Command &#43; Shift &#43; 0(æ•°å­—zero)æŸ¥çœ‹å¸®åŠ©æ–‡æ¡£ Command &#43; Control&#43;â†‘/Command&#43;Control&#43;â†“ ç±»æ–‡ä»¶å’Œå®ç°æ–‡ä»¶ä¹‹é—´è·³è½¬ Command&#43;Control&#43;â†/Command&#43;Control&#43;â†’ å›åˆ°ä¸Šä¸€ä¸ª/ä¸‹ä¸€ä¸ªæ‰“å¼€çš„é¡µé¢ Command&#43;Option&#43;â†/Command&#43;Option&#43;â†’ æ”¶æ”¾æ–¹æ³•ä½“ï¼Œå³å°†æ–¹æ³•ä½“æ”¶èµ·æˆ–è€…å±•å¼€ Control &#43; 6 åœ¨å½“å‰ç±»æŸ¥æ‰¾å˜é‡å’Œæ–¹æ³• ã€Œé”®å…¥æ–¹æ³•æˆ–è€…å˜é‡å&#43;Enterè·³è½¬ã€   å…‰æ ‡æ“ä½œ  Control &#43; F å‘å³ä¸€ä¸ªå­—ç¬¦ Control &#43; B å‘å·¦ä¸€ä¸ªå­—ç¬¦ Control &#43; P å‘ä¸Šä¸€è¡Œ Control &#43; N å‘ä¸‹ä¸€è¡Œ Control &#43; A è·³åˆ°è¡Œé¦– Control &#43; E è·³åˆ°è¡Œå°¾ Control &#43; T è°ƒæ¢å…‰æ ‡ä¸¤è¾¹çš„å­—ç¬¦ Control &#43; D åˆ é™¤å…‰æ ‡å³ä¾§çš„å•ä¸ªå­—ç¬¦ Control &#43; K åˆ é™¤æœ¬è¡Œå‰©ä½™çš„å­—ç¬¦   æ•´ä½“ä½ç§»  Command &#43; [ é€‰ä¸­çš„ä»£ç æ•´ä½“å·¦ç§» Command &#43; ] é€‰ä¸­çš„ä»£ç æ•´ä½“å³ç§» Command &#43; Option &#43; [ é€‰ä¸­çš„ä»£ç æ•´ä½“ä¸Šç§» Command &#43; Option &#43; ] é€‰ä¸­çš„ä»£ç æ•´ä½“ä¸‹ç§»   è¡¥å……   Command &#43; Option &#43; ç‚¹å‡»æ¡Œé¢ä¸Šç©ºç™½çš„åŒºåŸŸ:æŠŠé™¤Finderçª—å£ä»¥å¤–çš„æ‰€æœ‰çª—å£éšè—èµ·æ¥ï¼Œç›´æ¥æ˜¾ç¤ºæ¡Œé¢ã€‚åˆ†åˆ«ç‚¹å‡»Dockæ ä¸Šå„ä¸ªç›¸å…³åº”ç”¨ç¨‹åºå›¾æ ‡å°±å¯ä»¥è§£é™¤çª—å£çš„éšè—çŠ¶æ€äº†ã€‚
  Command &#43; Option &#43; H: æŠŠæ‰€æœ‰å·²æ‰“å¼€çš„ç¨‹åºçª—å£ï¼ˆä¸åŒ…æ‹¬å½“å‰æ­£åœ¨è¿è¡Œçš„åº”ç”¨ç¨‹åºçª—å£ï¼‰æœ€å°åŒ–åˆ°Dockæ ä¸Šã€‚æ³¨æ„ä¸æ˜¯å…³é—­å“¦ï¼Œæ˜¯æœ€å°åŒ–ã€‚å¦‚æœéœ€è¦æŠŠç¨‹åºçª—å£æ¢å¤åˆ°å±å¹•ä¸Šï¼Œç›´æ¥ç‚¹å‡»ç›¸åº”çš„åº”ç”¨ç¨‹åºå›¾æ ‡å°±å¯ä»¥äº†ã€‚
  ç¼–è¯‘é€‰é¡¹ åœ¨shemaä¸­æ·»åŠ DYLD_PRINT_STATISTICSå¯ç»Ÿè®¡å¯åŠ¨æ—¶é—´
 å‚è€ƒèµ„æ–™ å‚è€ƒèµ„æ–™ å‚è€ƒèµ„æ–™
 </content>
    </entry>
    
     <entry>
        <title>OC å…¥é—¨</title>
        <url>https://iihui.github.io/post/oc-tour/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>OC</tag><tag>iOS</tag>
        </tags>
        <content type="html">  Objective-Cç®€ç§°OCï¼Œ æ˜¯Cè¯­è¨€çš„ä¸¥æ ¼è¶…é›†â€”â€”ä»»ä½•Cè¯­è¨€ç¨‹åºä¸ç»è¿‡ä¿®æ”¹éƒ½å¯ä»¥ç›´æ¥é€šè¿‡OCçš„ç¼–è¯‘å™¨ï¼Œåœ¨OCä¸­ä½¿ç”¨Cè¯­è¨€ä»£ç ä¹Ÿæ˜¯å®Œå…¨åˆæ³•çš„ã€‚OCè¢«æè¿°ä¸ºè¦†ç›–åœ¨Cè¯­è¨€ä¸Šçš„ä¸€å±‚ï¼Œå› ä¸ºOCçš„åŸæ„å°±æ˜¯åœ¨Cè¯­è¨€çš„ä¸»ä½“ä¸ŠåŠ å…¥é¢å‘å¯¹è±¡çš„ç‰¹æ€§ã€‚
 æ–‡ä»¶æ‰©å±•å    æ–‡ä»¶æ‰©å±•å ç±»å‹å’Œä½œç”¨     .h å¤´æ–‡ä»¶ï¼ŒåŒ…å«ç±»ï¼Œç±»å‹ï¼Œå‡½æ•°å’Œå¸¸æ•°å£°æ˜   .m æºä»£ç æ–‡ä»¶ï¼Œå…¸å‹çš„æºä»£ç æ–‡ä»¶æ‰©å±•åï¼Œå¯ä»¥åŒ…å«OCå’ŒCä»£ç    .mm æºä»£ç æ–‡ä»¶ï¼Œå¸¦è¿™ç§æ‰©å±•åçš„æºä»£ç æ–‡ä»¶ï¼Œé™¤äº†å¯ä»¥åŒ…å«OCå’ŒCä»£ç ä»¥å¤–ï¼Œè¿˜å¯ä»¥åŒ…å«C&#43;&#43;ä»£ç     æºä»£ç ä¸­éœ€è¦åŒ…å«å¤´æ–‡ä»¶çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨æ ‡å‡†çš„#includeç¼–è¯‘é€‰é¡¹ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨#importé€‰é¡¹ï¼Œä½†æ˜¯OCä¸­ä½¿ç”¨#importå¯ä»¥ç¡®ä¿ç›¸åŒçš„æ–‡ä»¶åªåŒ…å«ä¸€æ¬¡ï¼Œå› æ­¤ä¸€èˆ¬ä½¿ç”¨#importæ¥å¼•å…¥å¤´æ–‡ä»¶ã€‚
 è¯­æ³• Objective-Cæœ€å¤§çš„ç‰¹è‰²ä½¿ç”¨Smalltalkçš„æ¶ˆæ¯ä¼ é€’æ¨¡å‹ã€‚åœ¨OCä¸­ä¸å…¶è¯´æ˜¯å¯¹è±¡è°ƒç”¨æ–¹æ³•ï¼Œä¸å¦‚è¯´å‘å¯¹è±¡ä¼ é€’æ¶ˆæ¯æ›´ä¸ºç²¾ç¡®ã€‚è°ƒç”¨æ–¹æ³• åœ¨OCä¸­ï¼Œè°ƒç”¨æ–¹æ³•è§†ä¸ºå‘å¯¹è±¡å‘é€æ¶ˆæ¯ï¼Œæ‰€æœ‰æ–¹æ³•(ç±»æ–¹æ³•å’Œå®ä¾‹æ–¹æ³•)éƒ½è¢«è§†ä¸ºå¯¹æ¶ˆæ¯çš„å›åº”ã€‚
æ‰€æœ‰æ¶ˆæ¯çš„å¤„ç†ç›´åˆ°è¿è¡Œæ—¶ï¼ˆruntimeï¼‰æ‰ä¼šåŠ¨æ€å†³å®šï¼Œå¹¶äº¤ç”±ç±»è‡ªè¡Œå†³å®šå¦‚ä½•å¤„ç†æ”¶åˆ°çš„æ¶ˆæ¯ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€ä¸ªç±»ä¸ä¿è¯ä¸€å®šä¼šå›åº”æ”¶åˆ°çš„æ¶ˆæ¯ï¼Œå¦‚æœç±»æ”¶åˆ°äº†ä¸€ä¸ªæ— æ³•å¤„ç†çš„æ¶ˆæ¯ï¼Œç¨‹åºåªä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œä¸ä¼šå‡ºé”™æˆ–å´©æºƒã€‚
åœ¨OCä¸­å‘é€æ¶ˆæ¯çš„è¯­æ³•ä¸ºï¼š
[obj method: argument]; //C&#43;&#43;å¯¹åº”çš„æ˜¯obj.method(argument); ä¸€ä¸ªä¾‹å­:
[car fly] ä¸Šé¢çš„ä¾‹å­å…¸å‹çš„C&#43;&#43;æ„ä¹‰è§£è¯»æ˜¯:è°ƒç”¨carç±»çš„flyæ–¹æ³•ã€‚è‹¥carç±»é‡Œå¤´æ²¡æœ‰å®šä¹‰flyæ–¹æ³•ï¼Œé‚£ç¼–è¯‘è‚¯å®šä¸ä¼šé€šè¿‡ã€‚ä½†æ˜¯OCé‡Œï¼Œåº”å½“è§£è¯»ä¸º:å‘é€ä¸€ä¸ªflyçš„æ¶ˆæ¯ç»™carå¯¹è±¡ï¼Œflyæ˜¯æ¶ˆæ¯ï¼Œè€Œcaræ˜¯æ¶ˆæ¯çš„æ¥æ”¶è€…ã€‚caræ”¶åˆ°æ¶ˆæ¯åä¼šå†³å®šå¦‚ä½•å›åº”è¿™ä¸ªæ¶ˆæ¯ï¼Œè‹¥carç±»åˆ«å†…å®šä¹‰æœ‰flyæ–¹æ³•å°±è¿è¡Œæ–¹æ³•å†…ä¹‹ä»£ç ï¼Œè‹¥carå†…ä¸å­˜åœ¨flyæ–¹æ³•ï¼Œåˆ™ç¨‹åºä¾æ—§å¯ä»¥é€šè¿‡ç¼–è¯‘ï¼Œè¿è¡ŒæœŸåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚
å› æ­¤OCå¤©ç”Ÿå…·å¤‡é¸­å­ç±»å‹çš„åŠ¨æ€ç±»å‹ç»‘å®šèƒ½åŠ›ï¼Œè¿è¡ŒæœŸé—´æ‰å¤„ç†æ¶ˆæ¯ï¼Œå…è®¸å‘é€æœªçŸ¥æ¶ˆæ¯ç»™å¯¹è±¡ï¼Œå¯ä»¥å‘é€æ¶ˆæ¯ç»™æ•´ä¸ªå¯¹è±¡é›†åˆè€Œä¸éœ€è¦æ£€æŸ¥æ¯ä¸ªå¯¹è±¡çš„ç±»å‹ï¼Œä¹Ÿå…·å¤‡æ¶ˆæ¯è½¬å‘æœºåˆ¶ã€‚åŒæ—¶ç©ºå¯¹è±¡nilæ¥å—æ¶ˆæ¯åé»˜è®¤ä¸åšä»»ä½•å›åº”ï¼Œæ‰€ä»¥å‘é€æ¶ˆæ¯ç»™nilä¹Ÿä¸ç”¨æ‹…å¿ƒå´©æºƒã€‚
 å­—ç¬¦ä¸² ä½œä¸ºCè¯­è¨€çš„è¶…é›†ï¼ŒOCæ”¯æŒCè¯­è¨€å­—ç¬¦ä¸²æ–¹é¢çš„çº¦å®šï¼šå•ä¸ªå­—ç¬¦è¢«å•å¼•å·åŒ…æ‹¬ï¼Œå­—ç¬¦ä¸²è¢«åŒå¼•å·åŒ…æ‹¬ã€‚ä½†æ˜¯ï¼Œå¤§å¤šæ•°OCé€šå¸¸ä¸ä½¿ç”¨Cè¯­è¨€é£æ ¼çš„å­—ç¬¦ä¸²ï¼Œå¤§å¤šæ•°æ¡†æ¶æŠŠå­—ç¬¦ä¸²ä¼ é€’ç»™NSStringå¯¹è±¡NSStringç±»æä¾›äº†å­—ç¬¦ä¸²çš„ç±»åŒ…è£…ï¼ŒåŒ…å«äº†æ‰€æœ‰ä½ æœŸæœ›çš„ä¼˜ç‚¹â€”â€”åŒ…æ‹¬å¯¹ä¿å­˜ä»»æ„é•¿åº¦å­—ç¬¦ä¸²çš„å†…å»ºå†…å­˜ç®¡ç†æœºåˆ¶ï¼Œæ”¯æŒUnicodeï¼Œprintfé£æ ¼çš„æ ¼å¼åŒ–å·¥å…·ç­‰ã€‚
å› ä¸ºè¿™ç§å­—ç¬¦ä¸²ä½¿ç”¨çš„éå¸¸é¢‘ç¹ï¼ŒOCæä¾›äº†ä¸€ä¸ªåŠ©è®°ç¬¦å¯ä»¥æ–¹ä¾¿åœ°ä»å¸¸é‡å€¼åˆ›å»ºNSStringå¯¹è±¡ï¼Œå³åœ¨æ™®é€šçš„åŒå¼•å·å­—ç¬¦ä¸²å‰æ”¾ç½®ä¸€ä¸ª@ç¬¦å·:
NSString* myString = @&amp;#34;My String\n&amp;#34;; NSString* anotherString = [NSString stringWithFormat:@&amp;#34;%d %s&amp;#34;, 1, @&amp;#34;String&amp;#34;]; // ä»ä¸€ä¸ªCè¯­è¨€å­—ç¬¦ä¸²åˆ›å»ºObjective-Cå­—ç¬¦ä¸² NSString* fromCString = [NSString stringWithCString:&amp;#34;A C string&amp;#34; encoding:NSASCIIStringEncoding];  ç±» OCç±»çš„è¯´æ˜åŒ…å«ä¸¤ä¸ªéƒ¨åˆ†ï¼šå®šä¹‰(interface)å’Œå®ç°(implementation)ã€‚ç±»å®šä¹‰åŒ…å«äº†ç±»å£°æ˜ã€å®ä¾‹å˜é‡çš„å®šä¹‰ä»¥åŠç›¸å…³çš„æ–¹æ³•ï¼ˆåŒ…æ‹¬ç±»æ–¹æ³•å’Œå®ä¾‹æ–¹æ³•ï¼‰ï¼›å®ç°åˆ™åŒ…å«äº†ç±»æ–¹æ³•çš„å®é™…ä»£ç ã€‚
ç±»çš„å£°æ˜æ€»æ˜¯ä»¥@interfaceç¼–è¯‘é€‰é¡¹å¼€å§‹ï¼Œç”±@endç¼–è¯‘é€‰é¡¹ç»“æŸã€‚ç±»åä¹‹åçš„ï¼ˆç”¨å†’å·åˆ†éš”ï¼‰æ˜¯çˆ¶ç±»çš„åå­—ã€‚ç±»çš„å˜é‡å£°æ˜åœ¨è¢«å¤§æ‹¬å·åŒ…å«çš„ä»£ç å—ä¸­ã€‚å˜é‡å—åæ˜¯ç±»å£°æ˜çš„æ–¹æ³•çš„åˆ—è¡¨ï¼Œæ¯ä¸ªå˜é‡å’Œæ–¹æ³•å£°æ˜éƒ½ä»¥åˆ†å·ç»“å°¾ã€‚
 Interface å®šä¹‰éƒ¨åˆ†ï¼Œä»¥å…³é”®å­—@interfaceä½œä¸ºå¼€å§‹ï¼Œ@endä½œä¸ºç»“æŸï¼Œå…¶ä¸­å®šä¹‰çš„å®ä¾‹å˜é‡çš„é»˜è®¤æƒé™æ˜¯protectedï¼š
@interface MyObject : NSObject { int memberVar1; // å®ä¾‹å˜é‡ï¼Œåœ¨å®šä¹‰éƒ¨åˆ†å£°æ˜çš„å®ä¾‹å˜é‡çš„é»˜è®¤è®¿é—®æƒé™æ˜¯protected  id memberVar2; //id ç±»å‹è¡¨ç¤ºä»»æ„ç±»å‹ } &#43;(return_type) class_method; // ç±»æ–¹æ³•  -(return_type) instance_method1; // å®ä¾‹æ–¹æ³• -(return_type) instance_method2: (int) p1; -(return_type) instance_method3: (int) p1 andPar: (int) p2; @end æ–¹æ³•å‰é¢çš„&#43;æˆ–è€…-å·ä»£è¡¨å‡½æ•°çš„ç±»å‹ï¼šåŠ å·&#43;ä»£è¡¨ç±»æ–¹æ³•ï¼ˆclass methodï¼‰ï¼Œä¸éœ€è¦å®ä¾‹å°±å¯ä»¥è°ƒç”¨ï¼Œä¸C&#43;&#43;çš„é™æ€å‡½æ•°ï¼ˆstatic member functionï¼‰ç›¸ä¼¼ï¼›å‡å·-è¡¨ç¤ºä¸€èˆ¬çš„å®ä¾‹æ–¹æ³•ï¼ˆinstance methodï¼‰ã€‚ä¸‹é¢æ˜¯ä¸OCå¯¹åº”çš„C&#43;&#43;çš„å£°æ˜ï¼š
class MyObject : public NSObject { protected: int memberVar1; // å®ä½“å˜é‡  void * memberVar2; public: static return_type class_method(); // ç±»æ–¹æ³•  return_type instance_method1(); // å®ä¾‹æ–¹æ³•  return_type instance_method2( int p1 ); return_type instance_method3( int p1, int p2 ); } OCå®šä¹‰ä¸€ä¸ªæ–°æ–¹æ³•æ—¶ï¼Œåç§°å†…çš„å†’å·ä»£è¡¨ä¼ é€’å‚æ•°ï¼š
- (void) setColorToRed: (float)red Green: (float)green Blue:(float)blue; /* å£°æ˜æ–¹æ³•*/ [myColor setColorToRed: 1.0 Green: 0.8 Blue: 0.2]; /* è°ƒç”¨æ–¹æ³•*/ ä¸Šé¢è¿™ä¸ªæ–¹æ³•çš„ç­¾åæ˜¯setColorToRed:Green:Blueã€‚æ¯ä¸ªå†’å·åé¢éƒ½å¸¦ç€ä¸€ä¸ªfloatç±»åˆ«çš„å‚æ•°ï¼Œåˆ†åˆ«ä»£è¡¨çº¢ç»¿è“ä¸‰è‰²ã€‚
 Implementation å®ç°å—åŒ…å«äº†å…¬å¼€çš„æ–¹æ³•çš„å®ç°ï¼Œä»¥åŠå®šä¹‰ç§æœ‰å˜é‡ä»¥åŠæ–¹æ³•ï¼Œä»¥å…³é”®å­—@implementationä½œä¸ºåŒºå—çš„å¼€å§‹ï¼Œ@endç»“å°¾ã€‚
@implementation MyObject { int memberVar3; //ç§æœ‰å®ä¾‹å˜é‡ } &#43;(return_type) class_method { .... //æ–¹æ³•çš„å®ç°éƒ¨åˆ† } -(return_type) instance_method1 { .... } -(return_type) instance_method2: (int) p1 { .... } -(return_type) instance_method3: (int) p1 andPar: (int) p2 { .... } @end   ä¸åªInterfaceåŒºåŸŸå¯å®šä¹‰å®ä½“å˜é‡ï¼ŒImplementationåŒºå—ä¹Ÿå¯ä»¥å®šä¹‰å®ä½“å˜é‡ã€‚
  ä¸¤è€…çš„å·®åˆ«åœ¨äºè®¿é—®æƒé™çš„ä¸åŒï¼ŒInterfaceåŒºå—å†…çš„å®ä½“å˜é‡é»˜è®¤æƒé™ä¸ºprotectedã€‚è€Œåœ¨implementationåŒºåŸŸå®šä¹‰çš„å®ä½“å˜é‡åˆ™é»˜è®¤ä¸ºprivateï¼Œæ•…åœ¨ImplementationåŒºå—å®šä¹‰ç§æœ‰æˆå‘˜æ›´åŒ¹é…é¢å‘å¯¹è±¡ä¹‹å°è£…åŸåˆ™ï¼Œå› ä¸ºç±»çš„ç§æœ‰ä¿¡æ¯å°±ä¸éœ€æš´éœ²åœ¨å…¬å¼€interface(.hæ–‡ä»¶)ä¸­ã€‚
   åˆ›å»ºå¯¹è±¡ OCåˆ›å»ºå¯¹è±¡éœ€é€šè¿‡allocä»¥åŠinitä¸¤ä¸ªæ¶ˆæ¯,allocçš„ä½œç”¨æ˜¯åˆ†é…å†…å­˜ï¼Œinitæ˜¯åˆå§‹åŒ–å¯¹è±¡ã€‚initä¸allocéƒ½æ˜¯å®šä¹‰åœ¨NSObjecté‡Œçš„æ–¹æ³•ï¼Œçˆ¶å¯¹è±¡æ”¶åˆ°è¿™ä¸¤ä¸ªä¿¡æ¯å¹¶åšå‡ºæ­£ç¡®å›åº”åï¼Œæ–°å¯¹è±¡æ‰åˆ›å»ºå®Œæ¯•ã€‚
MyObject * my = [[MyObject alloc] init]; åœ¨OC 2.0é‡Œï¼Œè‹¥åˆ›å»ºå¯¹è±¡ä¸éœ€è¦å‚æ•°ï¼Œåˆ™å¯ä»¥ç›´æ¥ä½¿ç”¨new
MyObject * my = [MyObject new];  æ–¹æ³• åœ¨OCä¸­ç±»å¯ä»¥å£°æ˜ä¸¤ç§ç±»å‹çš„æ–¹æ³•ï¼šå®ä¾‹æ–¹æ³•å’Œç±»æ–¹æ³•ã€‚å®ä¾‹æ–¹æ³•åœ¨ç±»çš„ä¸€ä¸ªå…·ä½“å®ä¾‹çš„èŒƒå›´å†…æ‰§è¡Œï¼Œå³è¦è°ƒç”¨å®ä¾‹æ–¹æ³•å‰ï¼Œéœ€è¦é¦–å…ˆåˆ›å»ºç±»çš„å®ä¾‹ï¼Œè€Œç±»æ–¹æ³•ä¸éœ€è¦åˆ›å»ºä¸€ä¸ªå®ä¾‹ã€‚
æ–¹æ³•å£°æ˜åŒ…æ‹¬æ–¹æ³•ç±»å‹æ ‡è¯†ç¬¦ï¼Œè¿”å›å€¼ç±»å‹ï¼Œä¸€ä¸ªæˆ–å¤šä¸ªæ–¹æ³•æ ‡è¯†å…³é”®å­—ï¼Œå‚æ•°ç±»å‹å’Œåä¿¡æ¯ï¼Œä¸‹å›¾å±•ç¤º insertObject:atIndex: å®ä¾‹æ–¹æ³•çš„å£°æ˜ã€‚
  å£°æ˜ç”±ä¸€ä¸ªå‡å·-å¼€å§‹ï¼Œè¿™è¡¨æ˜è¿™æ˜¯ä¸€ä¸ªå®ä¾‹æ–¹æ³•ã€‚æ–¹æ³•å®é™…çš„åå­—(insertObject:atIndex:)æ˜¯æ‰€æœ‰æ–¹æ³•æ ‡è¯†å…³é”®çš„çº§è”ï¼ŒåŒ…å«äº†å†’å·ã€‚
  å†’å·è¡¨æ˜äº†å‚æ•°çš„å‡ºç°ï¼Œå¦‚æœæ–¹æ³•æ²¡æœ‰å‚æ•°ï¼Œä½ å¯ä»¥çœç•¥ç¬¬ä¸€ä¸ª(ä¹Ÿæ˜¯å”¯ä¸€çš„)æ–¹æ³•æ ‡è¯†å…³é”®å­—åé¢çš„å†’å·ã€‚
  å½“éœ€è¦è°ƒç”¨ä¸€ä¸ªæ–¹æ³•æ—¶ï¼Œå³ä¼ é€’æ¶ˆæ¯ç»™å¯¹åº”çš„å¯¹è±¡ï¼Œè¿™é‡Œçš„æ¶ˆæ¯æ˜¯æŒ‡æ–¹æ³•æ ‡è¯†ç¬¦ä»¥åŠä¼ é€’ç»™æ–¹æ³•çš„å‚æ•°ä¿¡æ¯ã€‚
  å‘é€ç»™å¯¹è±¡çš„æ‰€æœ‰æ¶ˆæ¯éƒ½ä¼šåŠ¨æ€åˆ†å‘ï¼Œè¿™æ ·æœ‰åˆ©äºå®ç°OCçš„å¤šæ€è¡Œä¸ºã€‚
  å¦‚æœå­ç±»å®šä¹‰äº†å’Œçˆ¶ç±»å…·æœ‰ç›¸åŒæ ‡è¯†ç¬¦çš„æ–¹æ³•ï¼Œé‚£ä¹ˆå­ç±»é¦–å…ˆæ”¶åˆ°æ¶ˆæ¯ï¼Œç„¶åé€‰æ‹©æŠŠæ”¶åˆ°çš„æ¶ˆæ¯è½¬å‘ï¼ˆä¹Ÿå¯ä»¥ä¸è½¬å‘ï¼‰ç»™ä»–çš„çˆ¶ç±»ã€‚
  æ¶ˆæ¯è¢«ä¸­æ‹¬å·åŒ…æ‹¬ã€‚ä¸­æ‹¬å·é‡Œï¼Œæ¥æ”¶æ¶ˆæ¯çš„å¯¹è±¡åœ¨å·¦è¾¹ï¼Œæ¶ˆæ¯ï¼ˆåŒ…æ‹¬æ¶ˆæ¯éœ€è¦çš„ä»»ä½•å‚æ•°ï¼‰åœ¨å³è¾¹ã€‚ä¾‹å¦‚ï¼Œç»™myArrayå˜é‡ä¼ é€’æ¶ˆæ¯insertObject:atIndex:æ¶ˆæ¯ï¼Œéœ€è¦ä½¿ç”¨å¦‚ä¸‹çš„è¯­æ³•ï¼š
[myArray insertObject:anObj atIndex:0]; ä¸ºäº†é¿å…è¿‡å¤šåœ°å£°æ˜æœ¬åœ°å˜é‡ä¿å­˜ä¸´æ—¶ç»“æœï¼ŒOCå…è®¸ä½¿ç”¨åµŒå¥—æ¶ˆæ¯ï¼Œæ¯ä¸ªåµŒå¥—æ¶ˆæ¯çš„è¿”å›å€¼å¯ä»¥ä½œä¸ºå…¶ä»–æ¶ˆæ¯çš„å‚æ•°ã€‚ä¾‹å¦‚ï¼Œæœ‰å¦å¤–ä¸€ä¸ªå¯¹è±¡å«åšmyAppObjectæœ‰æ–¹æ³•å¯ä»¥è®¿é—®æ•°ç»„å¯¹è±¡ï¼Œä»¥åŠæ’å…¥ä¸€ä¸ªå¯¹è±¡åˆ°ä¸€ä¸ªæ•°ç»„ï¼Œå°±å¯ä»¥å°†å‰é¢çš„ä¾‹å­å†™æˆå¦‚ä¸‹çš„å½¢å¼ï¼š
[[myAppObject getArray] insertObject:[myAppObject getObjectToInsert] atIndex:0]; æ¶ˆæ¯ä¹Ÿå¯ä»¥ä¼ é€’ç»™ç±»æœ¬èº«ï¼Œå½“ç»™ç±»å‘æ¶ˆæ¯çš„æ—¶å€™ï¼ŒæŒ‡å®šçš„æ–¹æ³•å¿…é¡»ä¸ºç±»æ–¹æ³•ã€‚ç±»æ–¹æ³•çš„å…¸å‹ç”¨é€”æ˜¯ç”¨åšåˆ›å»ºæ–°ç±»å®ä¾‹çš„å·¥å‚æ–¹æ³•ï¼Œæˆ–è€…æ˜¯è®¿é—®ç±»ç›¸å…³çš„å…±äº«ä¿¡æ¯çš„é€”å¾„ã€‚
NSMutableArray* myArray = nil; // nil åŸºæœ¬ä¸Šç­‰åŒäº NULL  // åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œå¹¶æŠŠå®ƒèµ‹å€¼ç»™ myArray å˜é‡ myArray = [NSMutableArray arrayWithCapacity:0]; ä¸Šé¢æ˜¯ä¸€ä¸ªç±»æ–¹æ³•ä½œä¸ºä¸€ä¸ªå·¥å‚æ–¹æ³•æ¥ä½¿ç”¨ã€‚arrayWithCapacityæ˜¯NSMutableArrayç±»çš„ç±»æ–¹æ³•ï¼Œä¸ºç±»çš„æ–°å®ä¾‹åˆ†é…å†…å®¹å¹¶åˆå§‹åŒ–ï¼Œç„¶åè¿”å›ã€‚
 å±æ€§ å±æ€§ä½¿ç”¨ä¸€ä¸ªç­‰å¼æ¥è¡¨ç¤ºï¼š@property = æˆå‘˜å˜é‡ &#43; getter &#43; setterï¼Œå³ä¸€ä¸ªå±æ€§åŒ…å«äº†ä¸€ä¸ªæˆå‘˜å˜é‡ä»¥åŠè¯¥æˆå‘˜å˜é‡çš„getterå’Œsetteræ–¹æ³•ï¼š
@property = æˆå‘˜å˜é‡ &#43; getter &#43; setter ä¸ºä»€ä¹ˆOCè¦æ·»åŠ å±æ€§ï¼Œè¿™å°±è¦ä»æˆå‘˜å˜é‡è¯´èµ·ã€‚æˆå‘˜å˜é‡çš„å†™æ³•ï¼Œä¸€èˆ¬å¦‚ä¸‹ï¼š
@interface Person :NSObject { int _age; //å®šä¹‰æˆå‘˜å˜é‡ï¼Œ_ä¸‹åˆ’çº¿å¼€å§‹æ˜¯è‹¹æœçš„ç¼–ç¨‹è§„èŒƒ } @end æˆå‘˜å˜é‡å…·æœ‰å¦‚ä¸‹çš„ç‰¹ç‚¹ï¼š
  åªèƒ½é€šè¿‡å¯¹è±¡æ¥è®¿é—®
  æˆå‘˜å˜é‡ç¦»ä¸å¼€ç±»ï¼Œç¦»å¼€äº†ç±»å°±ä¸æ˜¯æˆå‘˜å˜é‡
  æˆå‘˜å˜é‡ä¸èƒ½åœ¨å®šä¹‰çš„æ—¶å€™åŒæ—¶è¿›è¡Œåˆå§‹åŒ–
  æˆå‘˜å˜é‡å­˜å‚¨åœ¨å½“å‰å¯¹è±¡å¯¹åº”çš„å †ç©ºé—´ä¸­ï¼Œä¸ä¼šè‡ªåŠ¨é‡Šæ”¾ï¼Œåªèƒ½æ‰‹åŠ¨é‡Šæ”¾
  æˆå‘˜å˜é‡å‰åŠ _æ˜¯è‹¹æœçš„ç¼–ç¨‹è§„èŒƒ
  åœ¨OCä¸­.è®¿é—®ç¬¦æ˜¯ä¸ºgetterå’ŒsetteræœåŠ¡çš„ï¼Œè€Œåœ¨OCä¸­æˆå‘˜å˜é‡é»˜è®¤æ˜¯æ²¡æœ‰getterå’Œsetteræ–¹æ³•ï¼Œå› æ­¤åœ¨ç±»å¤–æ— æ³•ç›´æ¥è®¿é—®ã€‚å¦‚æœéœ€è¦è®¿é—®å°±è¦è‡ªå®šä¹‰çš„getterå’Œsetteræ–¹æ³•ï¼Œç„¶åé€šè¿‡è‡ªå®šä¹‰çš„getterå’Œsetteræ–¹æ³•æ¥è®¿é—®æˆå‘˜å˜é‡ã€‚
å› æ­¤ï¼Œè‹¹æœä¸ºäº†å¤§ä¼—æ–¹ä¾¿ï¼Œåœ¨iOS 5ä»¥åä½¿ç”¨äº†å±æ€§@propertyã€‚å®šä¹‰å±æ€§æ—¶ä¼šè‡ªåŠ¨å°†getterå’Œsetteræ–¹æ³•å®ç°äº†ï¼Œä½ æ— é¡»å†æ‰‹åŠ¨å»å®ç°getterå’Œsetteræ–¹æ³•ã€‚å½“ç„¶äº†ï¼Œå¦‚æœä½ éœ€è¦åœ¨getterå’Œsetteræ–¹æ³•ä¸­æƒ³è¦åšç‚¹äº‹æƒ…ï¼Œç›´æ¥é‡å†™å°±å¥½ã€‚
é¡ºå¸¦åœ°ï¼Œ@propertyè¿˜ä¼šç”Ÿæˆä¸€ä¸ªæˆå‘˜å˜é‡ï¼Œå˜é‡åå°±æ˜¯_å±æ€§åã€‚å½“ç„¶è¿™ä¸ªåå­—ä½ ä¹Ÿå¯ä»¥ä¿®æ”¹ï¼Œæ˜¯åœ¨.mæ–‡ä»¶ä¸­çš„implementsä¸­å»å®šä¹‰ï¼š
@synthesize name = myName; å‚è€ƒæ–‡çŒ® å‚è€ƒæ–‡çŒ®
å±æ€§æä¾›äº†ä¸€äº›å…³é”®å­—ç”¨ä»¥æ§åˆ¶setterå’Œgetterçš„å®ç°ç»†èŠ‚, è¿™äº›å…³é”®å­—æˆ‘ä»¬ç§°ä¸ºå±æ€§çš„å±æ€§(attribute)ï¼Œæ€»å…±æœ‰ä¸‰ç±»:
 è¯»å†™æ€§readonly,readwriteã€‚å…¶ä¸­readonlyè¡¨ç¤ºåªèƒ½è¯»å–, ä¸èƒ½å†™å…¥ï¼ˆç³»ç»Ÿé»˜è®¤æ˜¯å¯è¯»å†™çš„ï¼‰  @property (readonly)NSString *name; è¡¨ç¤ºåªèƒ½è¯»å– @property (readwrite)NSString *nameï¼›è¡¨ç¤ºå¯ä»¥è¯»å†™  åŸå­æ€§æ§åˆ¶atomicï¼Œnonatomicã€‚å…¶ä¸­atomicè¡¨ç¤ºå±æ€§å¯¹åº”çš„setterå’Œgetteræ–¹æ³•åœ¨å¤šçº¿ç¨‹è®¿é—®ä¸‹ç»å¯¹å®‰å…¨ã€‚è€Œnonatomicè¡¨ç¤ºä¸åšçº¿ç¨‹å®‰å…¨å¤„ç†ï¼Œåªæ˜¯æ™®é€šçš„setterå’Œgetteræ–¹æ³•ã€‚ä½¿ç”¨atomic, éœ€è¦ä¸æ–­åœ°å¯¹setterå’ŒgetteråŠ é”è§£é”ä»¥ä¿è¯çº¿ç¨‹å®‰å…¨, ä¼šå¾ˆå ç”¨ç³»ç»Ÿèµ„æº, é™ä½ç³»ç»Ÿæ€§èƒ½ã€‚  @property(readwrite,nonatomic)NSString *name;è¡¨ç¤ºname å¯è¯»å†™, æ— åŸå­æ€§   è¯­ä¹‰è®¾ç½®assign, retain, copy,strong,weakã€‚è¿™5ä¸ªå±æ€§å†³å®šäº†setteræ–¹æ³•ä¸­æ˜¯å¦‚ä½•èµ‹å€¼çš„ã€‚
 å…¶ä¸­assignå®ç°setterå’Œgetteræ˜¯ç›´æ¥èµ‹å€¼ï¼Œè®¡æ•°å™¨ä¸ä¼šåŠ ä¸€ï¼Œç®€å•çš„èµ‹å€¼æ–¹æ³•ï¼Œé»˜è®¤èµ‹å€¼æ–¹å¼ï¼Œé€‚åˆåŸºæœ¬æ•°æ®ç±»å‹ã€‚ç›¸å½“äºè¯´ä¸¤ä¸ªå¯¹è±¡æŒ‡å‘åŒä¸ªå†…å­˜åŒºï¼Œä¸€ä¸ªåœ°æ–¹çš„å˜äº†ï¼Œå…¶ä»–çš„ä¹Ÿè·Ÿç€æ”¹å˜ã€‚  @property(nonatomic, assign) NSInteger age; -(void)setName:(NSInteger )age { _age = age; } -(NSInteger )age { return _age; }   strong : è¡¨ç¤ºå¼ºå¼•ç”¨å…³ç³»ï¼Œå³æ‹¥æœ‰å¯¹è±¡çš„æ‰€æœ‰æƒã€‚
  weak : è¡¨ç¤ºå¼±å¼•ç”¨ï¼Œä¸æ‹¥æœ‰å¯¹è±¡çš„æ‰€æœ‰æƒï¼Œå½“ç›®æ ‡å¯¹è±¡è¢«é”€æ¯ä¹‹åï¼Œå±æ€§å€¼ä¼šè¢«è‡ªåŠ¨è®¾ä¸ºnil;
  â€‹copy(æ‹·è´)ï¼šæŠŠåŸæ¥çš„å¯¹è±¡æ‹·è´è¿‡æ¥ï¼Œè®¡æ•°å™¨ä¼šåŠ ä¸€ï¼Œæ¯”å¦‚åŸæ¥å¯¹è±¡çš„åœ°å€ä¸º0x01 ,æ‹·è´è¿‡æ¥çš„å¯¹è±¡çš„åœ°å€ä¸º0x02ã€‚ç”¨äºå¸Œæœ›ä¿æŒä¸€ä»½ä¼ å…¥å€¼çš„æ‹·è´ï¼Œè€Œä¸æ˜¯å€¼è‡ªèº«çš„æƒ…å†µï¼Œå³æŠŠåŸæ¥çš„å¯¹è±¡å®Œæ•´çš„èµ‹å€¼åˆ°å¦å¤–ä¸€åœ°æ–¹ï¼Œé‡æ–°åŠ è½½ä¸€å†…å­˜åŒºï¼Œä¸€ä¸ªåœ°æ–¹å˜äº†ä¸å½±å“å¦ä¸€ä¸ªåœ°æ–¹çš„å¯¹è±¡ã€‚æ˜¯å†…å®¹æ‹·è´ã€‚
  â€‹retain(ä¿ç•™)ï¼šè¿™ç§æ–¹å¼ä¼ é€’çš„æ˜¯æŒ‡é’ˆï¼ŒåŸæœ‰çš„å¯¹è±¡å’Œè¢«èµ‹å€¼çš„å¯¹è±¡çš„åœ°å€æ˜¯ä¸€æ ·çš„ã€‚é‡Šæ”¾æ—§çš„å¯¹è±¡,å°†æ—§å¯¹è±¡çš„å€¼èµ‹äºˆè¾“å…¥å¯¹è±¡,å†æé«˜è¾“å…¥å¯¹è±¡çš„ç´¢å¼•è®¡æ•°ä¸º1ã€‚æ˜¯æŒ‡é’ˆæ‹·è´ã€‚
     è®¾è®¡æ¨¡å¼ è®¾è®¡æ¨¡å¼çš„ä¸¤ä¸ªç›®æ ‡
 å¯å¤ç”¨æ€§ï¼šå¾—åˆ°è¾ƒé«˜çš„ç”Ÿäº§æ•ˆç‡ã€‚ å¯æ‰©å±•æ€§ï¼šå½“ç”¨æˆ·çš„éœ€æ±‚å‘ç”Ÿå˜åŒ–æ—¶ï¼Œåšå¾ˆå°‘çš„å˜åŒ–å°±èƒ½å¤Ÿæ»¡è¶³ç”¨æˆ·çš„éœ€æ±‚ã€‚  å•ä¾‹æ¨¡å¼ å•ä¾‹è®¾è®¡æ¨¡å¼ï¼šè‡ªå§‹è‡³ç»ˆä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå¯¹è±¡å®ä¾‹ã€‚Cocoaä¸­ä¸»è¦çš„å•ä¾‹ç±»æœ‰ï¼š
 UIApplication NSNotificationCenter NSUserDefaults NSFileManager NSBundle  OCä¸­å•ä¾‹æ¨¡å¼ï¼š //singleton.h @interface Singleton:NSObject &#43; (Singleton *) sharedManager @property (nonatomic,strong) NSString * singletonData; @end //singleton.m @implemention Singleton @synthesize singletonData = _singletonData; static Singleton * sharedManager = nil &#43; (Singleton *) sharedManager{ static dispatch_once_t once; dispatch_once(&amp;amp;once,^{ sharedManager = [[self alloc] init]; }); return sharedManager; } å•ä¾‹è®¾è®¡æ¨¡å¼ä½¿ç”¨åœºæ™¯ï¼š
 åœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­åªéœ€è¦ä¸€ä¸ªå®ä¾‹ä¿å­˜çŠ¶æ€ã€‚ æ— çŠ¶æ€å¯¹è±¡(åªæœ‰æ–¹æ³•ï¼Œæ²¡æœ‰å±æ€§ï¼‰  å•ä¾‹æ¨¡å¼æ—¶ï¼Œè®¿é—®å¯¹è±¡æ—¶ï¼Œä¿®æ”¹çŠ¶æ€çš„æ—¶å€™è¦ååˆ†å°å¿ƒï¼ˆå®ƒå°±åƒä¸€ä¸ªå…¨å±€å˜é‡ï¼‰ã€‚
UIApplication  sharedApplicationæ–¹æ³•ï¼šå®ƒæ˜¯åˆ›å»ºå’Œè·å¾—UIApplicationå®ä¾‹çš„å®ä¾‹æ–¹æ³•ã€‚ openURL:æ–¹æ³•ï¼šè¯¥æ–¹æ³•å¯ä»¥æ‰“å¼€ä¸€äº›å†…ç½®çš„iOSåº”ç”¨ï¼Œå…¶ä¸­åŒ…æ‹¬æ‰“å¼€æµè§ˆå™¨ã€æ‰“å¼€Googleåœ°å›¾ã€æ‹¨æ‰“ç”µè¯ã€å‘é€çŸ­ä¿¡å’Œå‘é€Emailç­‰ã€‚  [[UIApplication sharedApplication] openURL: [NSURL URLWithString:@&amp;#34;http://www.baidu.com&amp;#34;]];  å§”æ‰˜æ¨¡å¼ å§”æ‰˜ï¼šæŸä¸ªå¯¹è±¡æŒ‡å®šå¦ä¸€ä¸ªå¯¹è±¡å¤„ç†æŸäº›ç‰¹å®šä»»åŠ¡ï¼ˆæŸäº›æ–¹æ³•çš„å®ç°ï¼‰çš„è®¾è®¡æ¨¡å¼ã€‚ä¾‹å¦‚å½“æ²¡ç©ºçš„æ—¶å€™å§”æ‰˜åˆ«äººå¸®å¿™ä¹°ç«è½¦ç¥¨ï¼Œä¹˜è½¦äººã€ä¹˜è½¦æ—¥æœŸä»¥åŠå‡ºå‘åœ°å’Œç›®çš„åœ°å°±æ˜¯åè®®ã€Œè§„å®šã€ï¼ˆåè®®é€šä¿—çš„è¯´å°±æ˜¯æŸç§è§„å®šï¼Œå¦‚æœèƒ½æ‰§è¡Œè¿™ç§è§„å®šå°±è¯´éµå®ˆäº†æŸä¸ªåè®®ï¼‰ã€‚
åœ¨ä¸Šé¢çš„ç±»å›¾ä¸­å¸¦ç©ºå¿ƒä¸‰è§’å½¢çš„å®çº¿è¡¨ç¤ºç»§æ‰¿ï¼›å¸¦ç©ºå¿ƒä¸‰è§’å½¢çš„è™šçº¿è¡¨ç¤ºå®ç°æ¥å£ï¼›å¸¦ç®­å¤´çš„å®çº¿è¡¨ç¤ºå•å‘å…³è”ï¼ˆhasï¼‰ã€‚ä¸Šé¢çš„æ„æ€æ˜¯é€šç”¨ç±»æœ‰ä¸€ä¸ªå«åšâ€œå§”æ‰˜åè®®â€çš„æˆå‘˜ï¼Œå®ƒè¢«èµ‹å€¼ä¸ºï¼ˆç»‘å®šåˆ°ï¼‰ä¸ºä¸€ä¸ªå§”æ‰˜å¯¹è±¡å®ä¾‹ï¼Œè€Œå§”æ‰˜å¯¹è±¡å®ç°äº†å§”æ‰˜åè®®ä¸­çš„ç›¸å…³æ–¹æ³•ã€‚ç„¶åé€šè¿‡è¿™ä¸ªå§”æ‰˜å¯¹è±¡å®ä¾‹æ¥åšç›¸åº”çš„åŠ¨ä½œï¼ˆå®Œæˆå§”æ‰˜çš„äº‹æƒ…ï¼‰ã€‚
  å§”æ‰˜éœ€è¦åšçš„å·¥ä½œæœ‰ï¼š 1.1 å®šä¹‰åè®®ä¸åè®®ä¸­çš„æ–¹æ³• 1.2 å£°æ˜å§”æ‰˜å˜é‡ 1.3 è®¾ç½®ä»£ç†ï¼ˆå§”æ‰˜å˜é‡ç»‘å®šåˆ°å“ªä¸ªå¯¹è±¡å®ä¾‹ï¼‰ 1.4 é€šè¿‡å§”æ‰˜å˜é‡è°ƒç”¨å§”æ‰˜æ–¹æ³•
  ä»£ç†éœ€è¦åšçš„å·¥ä½œæœ‰: 2.1 éµå¾ªåè®®ï¼ˆåœ¨ç±»çš„å®šä¹‰æ—¶å£°æ˜éµå¾ªç›¸åº”çš„åè®®ï¼‰ 2.2 å®ç°å§”æ‰˜æ–¹æ³•ï¼ˆå®ç°åè®®ä¸­çš„æ–¹æ³•ï¼‰
  åœºæ™¯ åœºæ™¯ï¼šBosså‡†å¤‡ä¸¾è¡Œä¸€åœºpartyï¼Œå‡†å¤‡é‚€è¯·Atanyæ¥å‚åŠ partyï¼Œä½†æ˜¯Bossæ²¡ç©ºå†™emailç»™Atanyï¼Œäºæ˜¯ä»–å§”æ‰˜Henryä¸Maryæ¥åšè¿™ä»¶äº‹æƒ…ã€‚
åœ¨YGViewController.hï¼ˆæ ¹æ§åˆ¶å™¨ï¼Œç¨‹åºç¬¬ä¸€ä¸ªç•Œé¢ï¼Œç±»ä¼¼äºBossï¼‰ä¸­é¦–å…ˆå®šä¹‰åè®®ï¼Œæ¥ç€å£°æ˜å§”æ‰˜å˜é‡ï¼ˆBosså¹¶æ²¡æœ‰å®ç°inviteToMyPartyè¿™ä¸ªæ–¹æ³•ï¼Œä»–æ²¡æœ‰è‡ªå·±å»é‚€è¯·ï¼‰ï¼š
#import &amp;lt;UIKit/UIKit.h&amp;gt; @protocol InviteDelegate -(void)inviteToMyParty:(NSString *)personName;//1.1å®šä¹‰åè®®ä¸æ–¹æ³• @end @interface YGViewController : UIViewController @property (assign,nonatomic) id&amp;lt;InviteDelegate&amp;gt; delegate;//1.2å£°æ˜å§”æ‰˜å˜é‡ - (IBAction)ClickByMary:(id)sender;//å§”æ‰˜ç»™Mary - (IBAction)ClickByHenry:(id)sender;//å§”æ‰˜ç»™Henry @end ç„¶åå†è®¾ç½®ä»£ç†ï¼Œæœ€åé€šè¿‡å§”æ‰˜å˜é‡è°ƒç”¨å§”æ‰˜æ–¹æ³•ï¼š
- (IBAction)ClickByMary:(id)sender { Mary *mary = [[Mary alloc]init]; self.delegate = mary;//1.3è®¾ç½®ä»£ç†  [self.delegate inviteToMyParty:@&amp;#34;atany&amp;#34;];//1.4é€šè¿‡å§”æ‰˜å˜é‡è°ƒç”¨å§”æ‰˜æ–¹æ³• } - (IBAction)ClickByHenry:(id)sender { Henry *henry = [[Henry alloc]init]; self.delegate = henry;//1.3è®¾ç½®ä»£ç†  [self.delegate inviteToMyParty:@&amp;#34;atany&amp;#34;];//1.4é€šè¿‡å§”æ‰˜å˜é‡è°ƒç”¨å§”æ‰˜æ–¹æ³• } BOSSå¯ä»¥é€‰æ‹©ä¸åŒçš„ä»£ç†ï¼ˆHenryä¸Maryï¼‰æ¥åšè¿™ä»¶äº‹æƒ…ï¼ˆinviteToMyPartyï¼‰ï¼Œè€Œè‡ªå·±å´ä¸ç”¨åšã€‚ä»¥Henryä¸ºä¾‹ï¼Œé¦–å…ˆéµå¾ªåè®®ï¼Œç„¶åå®ç°åè®®ä¸­çš„å§”æ‰˜æ–¹æ³•ï¼š
#import &amp;lt;UIKit/UIKit.h&amp;gt; #import &amp;#34;YGViewController.h&amp;#34;  @interface Henry : UIViewController &amp;lt;InviteDelegate&amp;gt;//2.1éµå¾ªåè®® @end -(void)inviteToMyParty:(NSString *)personName{ NSString *hello = [NSString stringWithFormat:@&amp;#34;Hello,%@&amp;#34;,personName]; NSString *str = [NSString stringWithFormat:@&amp;#34;Hey Boy,this is Henry,Come to our party Please!!&amp;#34;]; UIAlertView *alert = [[UIAlertView alloc]initWithTitle:hello message:str delegate:self cancelButtonTitle:@&amp;#34;OK&amp;#34; otherButtonTitles:nil]; [alert show]; }  è§‚å¯Ÿè€…è®¾è®¡æ¨¡å¼ è§‚å¯Ÿæ¨¡å¼çš„å®šä¹‰
æœ‰å¾ˆå¤šè§‚å¯Ÿè€…æ­£åœ¨è§‚å¯Ÿå¯¹è±¡çš„å˜åŒ–ï¼Œå½“å¯¹è±¡å‘ç”Ÿæ—¶ä¼šé€šçŸ¥æ‰€æœ‰çš„è§‚å¯Ÿè€…
KVOæ˜¯è§‚å¯Ÿå¯¹è±¡å±æ€§çš„å˜åŒ– é€šçŸ¥æœºåˆ¶è§‚å¯Ÿçš„æ˜¯å¯¹è±¡çš„å˜åŒ–
NSNotification å¯ä»¥é€šè¿‡objectï¼ˆNSObjectï¼‰ å’Œ userInfoï¼ˆNSDictionaryï¼‰ æ¥å›ä¼ æ•°æ®
æŠ•é€é€šçŸ¥ï¼špostNotification
KVOè¦ææ¸…æ¥šè°æ˜¯è§‚å¯Ÿè€…ï¼Œè°æ˜¯è¢«è§‚å¯Ÿè€…
æ¨¡æ€è§†å›¾ï¼šå…³é—­ä¸èƒ½é€šè¿‡æ•…äº‹æ¿ï¼Œåªèƒ½é€šè¿‡ä»£ç å®ç°
runtime  runtimeæ˜¯ä¸€å¥—å­˜Cè¯­è¨€çš„APIï¼ŒOCä»£ç æœ€ç»ˆéƒ½ä¼šè¢«ç¼–è¯‘å™¨è½¬ä¸ºè¿è¡Œæ—¶ä»£ç ï¼Œé€šè¿‡æ¶ˆæ¯æœºåˆ¶å†³å®šå‡½æ•°çš„è°ƒç”¨æ–¹å¼ã€‚
 æ¶ˆæ¯æœºåˆ¶çš„åŸºæœ¬åŸç† åœ¨OCè¯­è¨€ä¸­ï¼Œå¯¹è±¡æ–¹æ³•è°ƒç”¨éƒ½æ˜¯ç±»ä¼¼[receiver selector]çš„å½¢å¼ï¼Œå…¶æœ¬è´¨ï¼šè®©å¯¹è±¡åœ¨è¿è¡Œæ—¶å‘é€æ¶ˆæ¯çš„è¿‡ç¨‹ã€‚
æ–¹æ³•è°ƒç”¨[receiver selector]åˆ†ä¸ºä¸¤ä¸ªè¿‡ç¨‹ï¼š
  ç¼–è¯‘é˜¶æ®µã€‚[receiver selector]æ–¹æ³•è¢«ç¼–è¯‘å™¨è½¬åŒ–ï¼Œåˆ†ä¸ºä¸¤ç§æƒ…å†µ
 ä¸å¸¦å‚æ•°çš„æ–¹æ³•è¢«ç¼–è¯‘ä¸ºobjc_msgSend(receiver,selector) å¸¦å‚æ•°çš„æ–¹æ³•è¢«ç¼–è¯‘ä¸ºobjc_msgSend(receiver,selector,org1,org2,...)    è¿è¡Œé˜¶æ®µï¼šæ¶ˆæ¯æ¥æ”¶è€…receiverå¯»æ‰¾å¯¹åº”çš„selectorï¼Œä¹Ÿåˆ†ä¸ºä¸¤ç§æƒ…å†µ
 æ¥æ”¶è€…èƒ½æ‰¾åˆ°å¯¹åº”çš„selectorï¼Œç›´æ¥æ‰§è¡Œreceiverå¯¹è±¡çš„selectoræ–¹æ³• æ¥æ”¶è€…æ‰¾ä¸åˆ°å¯¹åº”çš„selectorï¼Œæ¶ˆæ¯è¢«è½¬å‘æˆ–è€…ä¸´æ—¶å‘æ¥æ”¶è€…æ·»åŠ è¿™ä¸ªselectorå¯¹åº”çš„å®ç°å†…å®¹ï¼Œå¦åˆ™å´©æºƒã€‚    æ€»è€Œè¨€ä¹‹ï¼ŒOCè°ƒç”¨æ–¹æ³•[receiver selector]ï¼Œç¼–è¯‘é˜¶æ®µç¡®å®šäº†è¦å‘é‚£ä¸ªæ¥æ”¶è€…å‘é€messageæ¶ˆæ¯ï¼Œä½†æ˜¯æ¥æ”¶è€…å¦‚ä½•å“åº”å†³å®šäºè¿è¡Œæ—¶çš„åˆ¤æ–­ã€‚
</content>
    </entry>
    
     <entry>
        <title>swiftä¸­çš„æ–¹æ³•</title>
        <url>https://iihui.github.io/post/swift-method/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html">  åœ¨Swiftä¸­æ–¹æ³•æ˜¯å…³è”äº†ç‰¹å®šç±»å‹çš„å‡½æ•°ã€‚ç±»ï¼Œç»“æ„ä½“ï¼Œæšä¸¾ç±»å‹éƒ½èƒ½å®šä¹‰å®ä¾‹æ–¹æ³•ï¼Œæ–¹æ³•å°è£…äº†ç»™å®šç±»å‹ç‰¹å®šçš„ä»»åŠ¡å’ŒåŠŸèƒ½ã€‚
 å®ä¾‹æ–¹æ³• å®ä¾‹æ–¹æ³•æ˜¯å±äºç‰¹å®šå®ä¾‹ï¼ˆç±»å®ä¾‹ã€ç»“æ„ä½“å®ä¾‹æˆ–è€…æšä¸¾å®ä¾‹ï¼‰çš„å‡½æ•°ã€‚å®ä¾‹æ–¹æ³•åªèƒ½åœ¨ç±»å‹çš„å…·ä½“å®ä¾‹é‡Œè¢«è°ƒç”¨ï¼Œä¸èƒ½ç‹¬ç«‹äºå®ä¾‹è€Œè¢«è°ƒç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸èƒ½ç›´æ¥ä½¿ç”¨ç±»åç›´æ¥è°ƒç”¨ã€‚
class Counter { var count = 0 func increment() { count &#43;= 1 } func increment(by amount: Int) { count &#43;= amount } func reset() { count = 0 } }  å¼‚å˜æ–¹æ³• åœ¨Swiftä¸­ç»“æ„ä½“å’Œæšä¸¾æ˜¯å€¼ç±»å‹ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå€¼ç±»å‹å±æ€§ä¸èƒ½è¢«è‡ªèº«çš„å®ä¾‹æ–¹æ³•ä¿®æ”¹ã€‚å¦‚æœéœ€è¦æ”¹å˜ç»“æ„ä½“æˆ–è€…æšä¸¾ç±»å‹çš„å±æ€§ï¼Œåº”è¯¥å°†å®ä¾‹æ–¹æ³•è¿›è¡Œå¼‚å˜ã€‚å³åœ¨å®ä¾‹æ–¹æ³•çš„funcå…³é”®å­—å‰æ·»åŠ mutatingå…³é”®å­—ï¼š
struct Point { var x = 0.0, y = 0.0 mutating func moveBy(x deltaX: Double, y deltaY: Double) { x &#43;= deltaX y &#43;= deltaY } } ä½†æ˜¯ï¼Œä¸èƒ½åœ¨å¸¸é‡ç»“æ„ä½“ç±»å‹é‡Œè°ƒç”¨å¼‚å˜æ–¹æ³•ï¼Œå› ä¸ºå¸¸é‡ä»£è¡¨è‡ªèº«å±æ€§ä¸èƒ½è¢«æ”¹å˜ï¼Œå³ä½¿è¿™äº›å±æ€§æ˜¯å˜é‡å±æ€§ï¼š
let fixedPoint = Point(x: 3.0, y: 3.0) fixedPoint.moveBy(x: 2.0, y: 3.0) //ç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼Œå› ä¸ºå¸¸é‡ç»“æ„ä½“é‡Œçš„æ•°æ®ä¸èƒ½è¢«ä¿®æ”¹ï¼Œè€ŒmoveByå£°æ˜æ˜¯å¼‚å˜çš„ï¼Œæ‰€ä»¥çŸ›ç›¾ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚  selfå±æ€§ æ¯ä¸€ä¸ªç±»çš„å®ä¾‹éƒ½éšå«ä¸€ä¸ªå«åšselfçš„å±æ€§ï¼Œå®ƒå®Œå…¨å’Œå®ä¾‹æœ¬èº«ç›¸ç­‰ï¼Œå¯ä»¥ä½¿ç”¨selfæ¥è°ƒç”¨å®ä¾‹çš„æ–¹æ³•æˆ–è€…ä½¿ç”¨å®ä¾‹çš„å±æ€§ã€‚
struct Point { var x = 0.0, y = 0.0 func isToTheRightOf(x: Double) -&amp;gt; Bool { return self.x &amp;gt; x //å½¢å‚çš„ä¼˜å…ˆçº§åˆ«é«˜äºå®ä¾‹å±æ€§ } } æšä¸¾çš„å¼‚å˜æ–¹æ³•å¯ä»¥è®¾ç½®éšå«çš„selfå±æ€§ä¸ºç›¸åŒæšä¸¾é‡Œçš„ä¸åŒæˆå‘˜ã€‚ä¹Ÿå°±æ˜¯åœ¨æšä¸¾ç±»å‹ä¸­å…¶å¼‚å˜çš„æ–¹æ³•ä¸­ï¼Œselfä¹Ÿæ˜¯å¯ä»¥å˜æ¢çš„ï¼š
enum TriStateSwitch { case off, low, high mutating func next() { switch self { case .off: self = .low case .low: self = .high case .high: self = .off } } } ç±»å‹æ–¹æ³• ç±»å‹æ–¹æ³•æ˜¯ç”¨æ¥å®šä¹‰ç±»å‹æœ¬èº«è°ƒç”¨çš„æ–¹æ³•ï¼Œé€šè¿‡åœ¨funcå…³é”®å­—å‰åŠ staticæ¥å®ç°ã€‚ç±»è¿˜å¯ä»¥ç”¨å…³é”®å­—classæ¥å…è®¸å­ç±»é‡å†™çˆ¶ç±»çš„æ–¹æ³•å®ç°ã€‚
åœ¨ç±»æ–¹æ³•ä¸­ï¼Œéšå«çš„selfæŒ‡å‘çš„æ˜¯ç±»æœ¬èº«è€Œä¸æ˜¯ç±»çš„å®ä¾‹ã€‚åŒæ ·åœ¨ç±»å‹æ–¹æ³•ä¸­ï¼Œæœ‰selfè®¿é—®çš„å±æ€§ä¸åŒåçš„å½¢å‚ç›¸æ¯”ï¼Œä¼˜å…ˆçº§ä½ä¸€äº›ï¼š
struct Point{ static var x = 12 static func test(x:Int)-&amp;gt;Bool{ return self.x &amp;gt; x } }  </content>
    </entry>
    
     <entry>
        <title>JavaScript æ•°æ®ç±»å‹</title>
        <url>https://iihui.github.io/post/js-data-struct/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>JS</tag>
        </tags>
        <content type="html"> JavaScriptä¸éœ€è¦è¿›è¡Œç±»å‹å£°æ˜ï¼Œå› æ­¤å®ƒæ˜¯ä¸€ç§å¼±ç±»å‹çš„è¯­è¨€ï¼Œè¿™æ„å‘³ç€å¯ä»¥åœ¨ä»»ä½•é˜¶æ®µæ”¹å˜å˜é‡çš„æ•°æ®ç±»å‹ã€‚
å­—ç¬¦ä¸² å­—ç¬¦ä¸²æ˜¯ç”±é›¶ä¸ªæˆ–è€…å¤šä¸ªå­—ç¬¦ç»„æˆï¼Œå¿…é¡»åŒ…å«åœ¨å¼•å·ä¸­ï¼Œå•å¼•å·å’ŒåŒå¼•å·éƒ½å¯ä»¥ã€‚
 æ•°å€¼ å¦‚æœæƒ³ç»™ä¸€ä¸ªå˜é‡èµ‹ä¸€ä¸ªæ•°å€¼ï¼Œä¸å¿…é™å®šå®ƒå¿…é¡»æ˜¯ä¸€ä¸ªæ•´æ•°ã€‚JavaScriptå…è®¸ä½¿ç”¨å¸¦å°æ•°ç‚¹çš„æ•°å€¼ï¼Œå¹¶ä¸”å…è®¸ä»»æ„ä½çš„å°æ•°ã€‚
 æ•°ç»„ å­—ç¬¦ä¸²ã€æ•°å€¼ã€å¸ƒå°”å€¼éƒ½è¢«ç§°ä¸ºæ ‡é‡ï¼ˆå¦‚æœæŸä¸ªå˜é‡ç§°ä¸ºæ ‡é‡ï¼Œé‚£ä¹ˆåœ¨ä»»ä½•æ—¶å€™å®ƒå°±åªèƒ½æœ‰ä¸€ä¸ªå€¼ï¼‰ã€‚
æ•°ç»„çš„å£°æ˜ var beatles = Array(4) //å£°æ˜é•¿åº¦ var beatles = Array() var beatles = Array(&amp;#34;John&amp;#34;,&amp;#34;Paul&amp;#34;,&amp;#34;George&amp;#34;,&amp;#34;Ringo&amp;#34;} var bratles = [&amp;#34;John&amp;#34;,&amp;#34;Paul&amp;#34;,&amp;#34;George&amp;#34;,&amp;#34;Ringo&amp;#34;] var lennon = [&amp;#34;john&amp;#34;,1992,false] //æ•°ç»„ä¸­å£°æ˜ä¸åŒç±»å‹çš„å…ƒç´  å¡«å……æ•°ç»„ var lennon = Array() lennon[&amp;#34;name&amp;#34;] = &amp;#34;john&amp;#34; lennon[&amp;#34;year&amp;#34;] = 1940 lennon[&amp;#34;living&amp;#34;] = false  å¯¹è±¡ ä¸æ•°ç»„ç›¸ä¼¼ï¼Œå¯¹è±¡ä¹Ÿæ˜¯ä½¿ç”¨ä¸€ä¸ªåå­—æ¥è¡¨ç¤ºä¸€ç»„å€¼ï¼Œå¯¹è±¡çš„æ¯ä¸ªå€¼éƒ½æ˜¯å¯¹è±¡çš„ä¸€ä¸ªå±æ€§ã€‚
var lennon = Object() lennon.name = &amp;#34;john&amp;#34; lennon.year = 1980 lennon.living = false var lennon = {name:&amp;#34;john&amp;#34;,year:1940,living:false} //æ›´ç®€æ´çš„å£°æ˜æ–¹å¼  è¿ç®—ç¬¦ ç›¸ç­‰æ“ä½œç¬¦==å¹¶ä¸æ˜¯è¡¨ç¤ºä¸¥æ ¼æ„ä¹‰çš„ç›¸ç­‰ã€‚ä¾‹å¦‚ä¸‹é¢çš„ä»£ç ä¸­==æ“ä½œç¬¦è®¤ä¸ºç©ºå­—ç¬¦å’Œfalseçš„å€¼æ˜¯ç›¸ç­‰çš„ï¼Œå› æ­¤è¿”å›çœŸã€‚
var a = false var b = &amp;#34;&amp;#34; if ( a == b){ alert(&amp;#34;a ç­‰äº bâ€œ) } å¦‚æœè¦è¿›è¡Œä¸¥æ ¼æ„ä¹‰çš„ç›¸ç­‰åˆ¤æ–­ï¼Œåˆ™éœ€è¦ä½¿ç”¨===ï¼Œè¿™ä¸ªå…¨ç­‰æ“ä½œç¬¦ï¼Œä¸ä»…æ¯”è¾ƒå€¼è€Œä¸”æ¯”è¾ƒç±»å‹ã€‚åŒç†ï¼Œè¦æ¯”è¾ƒä¸¥æ ¼ä¸ç­‰ä¹Ÿè¦ä½¿ç”¨ï¼==ã€‚
</content>
    </entry>
    
     <entry>
        <title>æ³¼è¾£ä¿®å›¾ä¸­çš„äººåƒå·¥å…·</title>
        <url>https://iihui.github.io/post/pixel-portrait/</url>
        <categories>
          <category>åæœŸ</category>
        </categories>
        <tags>
          <tag>åæœŸ</tag><tag>æ³¼è¾£</tag>
        </tags>
        <content type="html">  åœ¨æ³¼è¾£ä¿®å›¾ä¸­æœ‰22ä¸ªå¼ºå¤§ä¸”æ˜“ç”¨çš„äººåƒè°ƒæ•´å·¥å…·ï¼Œæ¶µç›–äº†é¢éƒ¨ç»“æ„ã€äº”å®˜å¤§å°ã€è‚¤è‰²äº®åº¦ç­‰ç­‰çš„è°ƒæ•´ã€‚å½“å›¾ç‰‡ä¸­å‡ºç°ä¸€å¼ è„¸æ—¶ï¼Œæ³¼è¾£ä¿®å›¾ä¼šæ™ºèƒ½çš„è¯†åˆ«è„¸éƒ¨å¹¶åŒºåˆ†å…¶äº”å®˜ï¼Œé€‰ä¸­ç›¸åº”çš„åŒºåŸŸç„¶åè°ƒæ•´å¯¹åº”çš„å‚æ•°å³å¯ã€‚
 è‡ªåŠ¨è°ƒæ•´ ç‚¹å‡»è‡ªåŠ¨å¢å¼ºï¼Œç¨‹åºå¯ä»¥è‡ªåŠ¨ä¼˜åŒ–äº”å®˜ã€ç»“æ„å’Œè‚¤è‰²ï¼Œä½¿å¾—ç…§ç‰‡å‘ˆç°æ›´å¥½çš„çŠ¶æ€ã€‚
 çš®è‚¤æ§åˆ¶ çš®è‚¤æ§åˆ¶é€‰é¡¹åŒ…æ‹¬å¹³æ»‘ï¼Œå…‰æ³½ï¼Œé˜´å½±ï¼Œé«˜å…‰ï¼Œè‰²ç›¸ï¼Œè·‘å’Œåº¦ï¼Œä¸‹é¢ä¸€ä¸€è¯´æ˜ï¼š
çš®è‚¤å¹³æ»‘ï¼šæé«˜æ•°å€¼å¯ä»¥å®ç°ç£¨çš®æ•ˆæœï¼Œè®©çš®è‚¤æ›´åŠ å…‰æ»‘ç»†è…»ï¼Œé™ä½æ•°å€¼å¯ä»¥å¢åŠ çš®è‚¤è´¨æ„Ÿã€‚
çš®è‚¤å…‰æ³½ï¼šæé«˜æ•°å€¼å¯ä»¥ä¸ºé¢éƒ¨è¡¥å…‰ï¼Œè®©é¢éƒ¨çœ‹èµ·æ¥æ›´åŠ ç™½çš™æ˜äº®ï¼Œé™ä½æ•°å€¼å¯ä»¥é™ä½é¢éƒ¨çš„äº®åº¦ã€‚
çš®è‚¤é˜´å½±ï¼šæ§åˆ¶é¢éƒ¨è¾ƒæš—åŒºåŸŸçš„äº®åº¦ï¼Œä¸€èˆ¬è€Œè¨€æˆ‘ä»¬éœ€è¦é™ä½çš®è‚¤é˜´å½±çš„æ•°å€¼ï¼Œæé«˜çš®è‚¤é«˜å…‰çš„æ•°å€¼ï¼Œè®©é¢éƒ¨çš„ç«‹ä½“æ„Ÿæ›´åŠ å¼ºçƒˆã€‚çš®è‚¤é«˜å…‰ï¼šæ§åˆ¶é¢éƒ¨è¾ƒäº®åŒºåŸŸçš„äº®åº¦ï¼Œä¸€èˆ¬è€Œè¨€æˆ‘ä»¬éœ€è¦é™ä½çš®è‚¤é˜´å½±çš„æ•°å€¼ï¼Œæé«˜çš®è‚¤é«˜å…‰çš„æ•°å€¼ï¼Œè®©é¢éƒ¨çš„ç«‹ä½“æ„Ÿæ›´åŠ å¼ºçƒˆã€‚
çš®è‚¤è‰²ç›¸ï¼šæ”¹å˜çš®è‚¤çš„è‰²å½©ï¼Œä¾‹å¦‚è®©çš®è‚¤ç”±åçº¢è‰²è½¬å˜ä¸ºåé»„è‰².
çš®è‚¤é¥±å’Œåº¦ï¼šæ§åˆ¶é¢éƒ¨çš®è‚¤çš„è‰²å½©é²œè‰³ç¨‹åº¦ï¼Œå¦‚æœæˆ‘ä»¬æ„Ÿè§‰é¢éƒ¨è¿‡äºæ³›çº¢æ—¶å¯ä»¥é™ä½è¯¥é€‰é¡¹ï¼›å¦‚æœæ„Ÿè§‰é¢éƒ¨çš®è‚¤æ²¡æœ‰æ°”è‰²æ—¶ï¼Œå¯ä»¥æé«˜è¯¥é€‰é¡¹ã€‚
 é¢éƒ¨æ§åˆ¶ é¢éƒ¨æ§åˆ¶é€‰é¡¹åŒ…æ‹¬é¢éƒ¨å®½åº¦ï¼Œä¸‹å·´å®½åº¦ï¼Œå‰é¢å®½åº¦ã€‚å…¶ä¸­é¢éƒ¨å®½åº¦ç”¨äºè°ƒæ•´é¢éƒ¨çš„å®½åº¦ï¼Œä¸‹å·´é«˜åº¦ç”¨äºæ§åˆ¶ä¸‹å·´çš„é«˜åº¦ï¼Œå‰é¢å®½åº¦ç”¨äºæ§åˆ¶é¢å¤´çš„é«˜ä½ï¼š
 çœ¼ç›æ§åˆ¶ çœ¼ç›æ§åˆ¶åŒ…æ‹¬çœ¼ç›å¤§å°ã€äº®åº¦ã€å¯¹æ¯”åº¦ä»¥åŠæ¸…æ™°åº¦ï¼š
 é¼»å­è°ƒæ•´ é¼»å­æ§åˆ¶åŒ…æ‹¬ï¼šé¼»å­å®½åº¦å’Œé¼»å­é•¿åº¦ï¼š
 å˜´å·´è°ƒæ•´ å˜´å·´æ§åˆ¶åŒ…æ‹¬å¾®ç¬‘ã€å˜´é«˜åº¦ã€å˜´å®½åº¦ã€äº®åº¦ä»¥åŠé¥±å’Œåº¦ï¼š
 ç‰™é½¿æ§åˆ¶ ç‰™é½¿æ§åˆ¶åŒ…æ‹¬ç‰™ç¾ç™½å’Œç‰™äº®åº¦ï¼š
 å‚è€ƒèµ„æ–™
</content>
    </entry>
    
     <entry>
        <title>æ³¼è¾£ä¿®å›¾åæœŸæœ¯è¯­3</title>
        <url>https://iihui.github.io/post/pixel-term3/</url>
        <categories>
          <category>åæœŸ</category>
        </categories>
        <tags>
          <tag>åæœŸ</tag>
        </tags>
        <content type="html"> è´¨æ„Ÿ è´¨æ„Ÿï¼šè´¨æ„Ÿæ˜¯æŒ‡ç‰©ä½“çš„æè´¨ä¸è´¨é‡æ‰€å¸¦ç»™äººçš„æ„Ÿè§‰ã€‚åœ¨æ³¼è¾£ä¿®å›¾ä¸­ï¼Œè´¨æ„Ÿé€‰é¡¹ä¸‹çš„è°ƒæ•´åŒ…æ‹¬æ¸…æ™°åº¦ã€é”åŒ–ã€é™å™ªè‰²å½©ã€é™å™ªæ˜åº¦ã€‚
æ¸…æ™°åº¦ æ¸…æ™°åº¦ç”¨æ¥è°ƒæ•´ç”»é¢çš„æ¸…æ™°ç¨‹åº¦ã€‚æé«˜æ¸…æ™°åº¦æ•°å€¼å¯ä»¥è®©ç”»é¢æ›´åŠ æ¸…æ™°ï¼Œå¯ä»¥ç”¨æ¥ä¿®å¤è½»å¾®å¤±ç„¦çš„ç”»é¢ã€‚é™ä½æ¸…æ™°åº¦æ•°å€¼å¯ä»¥ç”»é¢æ›´åŠ æ¨¡ç³Šï¼Œæœ‰æ—¶å€™å¯ä»¥ç”¨å®ƒæ¥æ¨¡æ‹ŸåŠ¨æ¼«æ•ˆæœã€æ°´å½©æ•ˆæœç­‰ã€‚
 é”åŒ– é”åŒ–æ˜¯è¡¥å¿å›¾åƒçš„è½®å»“ï¼Œå¢å¼ºå›¾åƒçš„è¾¹ç¼˜åŠç°åº¦è·³å˜çš„éƒ¨åˆ†ï¼Œä½¿å›¾åƒå˜å¾—æ¸…æ™°ã€‚å®ƒçš„æ•ˆæœç›¸è¾ƒäºæ¸…æ™°åº¦æ›´åŠ ç»†è…»ã€‚
 é™å™ªè‰²å½© å™ªç‚¹åˆ†ä¸ºä¸¤ç§ï¼šè‰²å½©å™ªç‚¹ä¸æ˜åº¦å™ªç‚¹ã€‚æ‰€è°“è‰²å½©å™ªç‚¹ï¼Œå°±æ˜¯å¸¦æœ‰é¢œè‰²çš„ç”»é¢å™ªç‚¹ï¼›æ‰€è°“æ˜åº¦å™ªç‚¹ï¼Œå°±æ˜¯ä¸å¸¦æœ‰è‰²å½©çš„ç”»é¢å™ªç‚¹ã€‚
ä¸‹é¢çš„å·¦å›¾ï¼Œå¯ä»¥æ˜æ˜¾çš„è§‚å¯Ÿåˆ°é¢œè‰²å™ªç‚¹çš„å­˜åœ¨ï¼ˆä¸ºäº†æ–¹ä¾¿è§‚å¯Ÿï¼Œæ­¤å¤„çš„é”åŒ–å€¼æé«˜åˆ°äº†&#43;50ï¼‰ã€‚å½“å¯¹ä¸­é—´è¿™å¼ å›¾åº”ç”¨äº†è‰²å½©é™å™ªä¹‹åï¼Œç”»é¢ç•™ä¸‹çš„å°±æ˜¯æ˜åº¦å™ªç‚¹ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œæ˜åº¦å™ªç‚¹å°±æ˜¯ç±»ä¼¼é»‘ç™½é¢—ç²’ä¸€æ ·çš„å­˜åœ¨ã€‚æœ€å³è¾¹è¿™å¼ å›¾æ˜¯åŒæ—¶ä½¿ç”¨è‰²å½©é™å™ªå’Œæ˜åº¦é™å™ªä¹‹åçš„æ•ˆæœï¼Œå¯ä»¥çœ‹åˆ°ç”»é¢ç›¸è¾ƒäºåŸå›¾æ›´åŠ çº¯å‡€ã€‚
 å»é›¾ å»é›¾æ˜¯æŒ‡æ¶ˆé™¤ç”»é¢ä¸­çš„é›¾éœ¾æˆ–ä¸ºç”»é¢æ·»åŠ é›¾éœ¾ã€‚æé«˜å»é›¾å€¼ï¼Œè®©ç”»é¢æ›´åŠ é€šé€è‡ªç„¶ï¼›é™ä½å»é›¾å€¼ï¼Œä¸ºç”»é¢åŠ å…¥é›¾æ°”ã€‚
 æ›²çº¿ æ›²çº¿åˆ†ä¸ºç™½è‰²æ›²çº¿ã€çº¢è‰²æ›²çº¿ã€ç»¿è‰²æ›²çº¿ã€è“è‰²æ›²çº¿ï¼Œç™½è‰²æ›²çº¿åˆç§°ä¸ºRGBæ›²çº¿ï¼Œçº¢è‰²æ›²çº¿ã€ç»¿è‰²æ›²çº¿ã€è“è‰²æ›²çº¿åˆç»Ÿç§°ä¸ºé€šé“æ›²çº¿ã€‚
æ›²çº¿çš„åˆå§‹å½¢æ€æ˜¯ä¸€æ¡45åº¦çš„ç›´çº¿ï¼Œå½“è°ƒæ•´è¿™æ¡ç›´çº¿çš„å½¢æ€æ—¶å°±å¯ä»¥è¾¾åˆ°è°ƒæ•´ç”»é¢çš„ç›®çš„ã€‚åˆ©ç”¨ç™½è‰²æ›²çº¿å¯ä»¥è°ƒæ•´ç”»é¢çš„æ›å…‰ï¼Œåˆ©ç”¨çº¢è‰²æ›²çº¿ã€ç»¿è‰²æ›²çº¿ã€è“è‰²æ›²çº¿å¯ä»¥è°ƒæ•´ç”»é¢çš„è‰²å½©ã€‚
 ç™½è‰²æ›²çº¿ </content>
    </entry>
    
     <entry>
        <title>æ³¼è¾£ä¿®å›¾åæœŸæœ¯è¯­2</title>
        <url>https://iihui.github.io/post/pixel-term2/</url>
        <categories>
          <category>åæœŸ</category>
        </categories>
        <tags>
          <tag>åæœŸ</tag><tag>æ³¼è¾£</tag>
        </tags>
        <content type="html"> æ›å…‰ æ›å…‰ï¼šç”¨äºè°ƒæ•´ç”»é¢çš„æ˜äº®ç¨‹åº¦ã€‚æé«˜æ›å…‰å€¼ä¼šè®©ç”»é¢å˜å¾—æ›´åŠ æ˜äº®ï¼Œæ•´ä½“æ˜¾å¾—å¹²å‡€è€Œåˆè½»ç›ˆï¼›é™ä½æ›å…‰å€¼ä¼šè®©ç”»é¢å˜å¾—æ›´åŠ æ˜æš—ï¼Œæ•´ä½“æ˜¾å¾—æ²‰é‡è€Œåˆä¸¥è‚ƒã€‚
 é«˜å…‰ã€ç™½è‰²è‰²é˜¶ã€é»‘è‰²è‰²é˜¶ã€é˜´å½± å¯ä»¥æŒ‰ç…§æ›å…‰å»åˆ’åˆ†ç…§ç‰‡çš„åŒºåŸŸï¼Œä¾‹å¦‚æŠŠç…§ç‰‡åˆ’åˆ†ä¸ºæœ€äº®çš„åŒºåŸŸã€è¾ƒäº®çš„åŒºåŸŸã€è¾ƒæš—çš„åŒºåŸŸå’Œæœ€æš—çš„åŒºåŸŸï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å®ç°å¯¹ç…§ç‰‡çš„ç²¾ç»†è°ƒæ•´ã€‚
åœ¨æ³¼è¾£ä¿®å›¾ä¸­ï¼Œè¿™4ä¸ªåŒºåŸŸï¼ŒæŒ‰ç…§å¦‚ä¸‹å…³ç³»è¿›è¡Œå¯¹åº”ï¼šâ‘ é«˜å…‰â€”â€”æœ€äº®çš„åŒºåŸŸï¼›â‘¡ç™½è‰²è‰²é˜¶â€”â€”è¾ƒäº®çš„åŒºåŸŸï¼›â‘¢é»‘è‰²è‰²é˜¶â€”â€”è¾ƒæš—çš„åŒºåŸŸï¼›â‘£é˜´å½±â€”â€”æœ€æš—çš„åŒºåŸŸã€‚
é«˜å…‰å¯¹åº”çš„æ˜¯ç”»é¢ä¸­æœ€äº®çš„éƒ¨åˆ†ï¼Œä¾‹å¦‚å¤©ç©ºã€‚é™ä½é«˜å…‰å€¼ï¼Œå¯ä»¥é™ä½å¤©ç©ºçš„äº®åº¦ï¼Œè®©å¤©ç©ºçš„ç»†èŠ‚å¾—åˆ°æ›´å¥½çš„å‘ˆç°ã€‚
ç™½è‰²è‰²é˜¶å¯¹åº”çš„æ˜¯ç”»é¢ä¸­æ¯”è¾ƒäº®çš„éƒ¨åˆ†ï¼Œå®ƒçš„å½±å“èŒƒå›´ä¸€èˆ¬æ¯”é«˜å…‰æ›´å¤§ã€‚è¿™ä¸¤ä¸ªå‚æ•°è°ƒæ•´å¹¶ä¸ä¼šå¯¹ç”»é¢ä¸­è¾ƒæš—çš„åŒºåŸŸï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºè°ƒæ•´é«˜å…‰å’Œç™½è‰²è‰²é˜¶å¹¶ä¸ä¼šå½±å“é˜´å½±å’Œé»‘è‰²è‰²é˜¶éƒ¨åˆ†ï¼š  é˜´å½±å¯¹åº”æœ€æš—çš„åŒºåŸŸï¼›é»‘è‰²è‰²é˜¶å¯¹åº”çš„æ˜¯ç”»é¢ä¸­æ¯”è¾ƒæš—çš„éƒ¨åˆ†ï¼Œå®ƒå½±å“çš„èŒƒå›´ä¸€èˆ¬æ¯”é˜´å½±æ›´å¤§ã€‚é˜´å½±å’Œé»‘è‰²è‰²é˜¶ä¸¤ä¸ªå‚æ•°è°ƒæ•´å¹¶ä¸ä¼šå¯¹ç”»é¢ä¸­è¾ƒäº®çš„åŒºåŸŸã€‚  è‰²æ¸© å½“é»‘ä½“å‘å°„çš„å…‰çš„é¢œè‰²ä¸æŸä¸ªå…‰æºæ‰€å‘å°„çš„å…‰çš„é¢œè‰²ç›¸åŒæ—¶ï¼Œè¿™ä¸ªé»‘ä½“åŠ çƒ­çš„æ¸©åº¦ç§°ä¹‹ä¸ºè¯¥å…‰æºçš„é¢œè‰²æ¸©åº¦ï¼Œç®€ç§°è‰²æ¸©ã€‚ç®€è€Œè¨€ä¹‹è‰²æ¸©å°±æ˜¯æŒ‡å…‰çº¿çš„é¢œè‰²ï¼Œä¸åŒçš„å…‰æºå…·æœ‰ä¸åŒçš„è‰²æ¸©ã€‚
å½“è‰²æ¸©è¶Šé«˜çš„æ—¶å€™ï¼Œå…‰æºå‘å‡ºçš„é¢œè‰²å°±è¶Šåå†·ï¼Œå¤§è‡´æ˜¯ç»å†ä¸€ä¸ªçº¢â€”â€”æ©™çº¢â€”â€”é»„â€”â€”é»„ç™½â€”â€”ç™½â€”â€”è“ç™½çš„æ¸å˜è¿‡ç¨‹ã€‚ ä¸€å¤©ä¸­çš„è‰²æ¸©ä¹Ÿæ˜¯åœ¨ä¸åœå‘ç”Ÿå˜åŒ–çš„ï¼Œä¾‹å¦‚æ—¥å‡ºä¹‹å‰çš„è‰²æ¸©æ˜¯è“è‰²ï¼Œæ—¥å‡ºä¹‹åçš„è‰²æ¸©æ˜¯æ©™è‰²ï¼Œä¸­åˆçš„è‰²æ¸©æ˜¯ç™½è‰²ï¼Œè€Œæ™šä¸Šçš„è‰²æ¸©æ˜¯é»„è‰²ç­‰ç­‰ï¼Œå¼•èµ·å¤ªé˜³å…‰é¢œè‰²å˜åŒ–çš„åŸå› ä¸»è¦æ˜¯å› ä¸ºå¤§æ°”å±‚çš„åå°„ä½œç”¨ï¼Œè€Œå¹¶ä¸æ˜¯å› ä¸ºå¤ªé˜³çš„æ¸©åº¦å‘ç”Ÿäº†å¤§å¹…åº¦çš„æ”¹å˜ã€‚
ä¸ºç”»é¢åŠ å…¥é»„è‰²å¯ä»¥æé«˜è‰²æ¸©å€¼ï¼›æˆ–ç”»é¢åŠ å…¥è“è‰²å¯ä»¥é™ä½è‰²æ¸©å€¼ã€‚  ç™½å¹³è¡¡ ç™½å¹³è¡¡æ˜¯æŒ‡å°†ç™½è‰²è¿˜åŸä¸ºç™½è‰²çš„è¿‡ç¨‹ã€‚å¦‚æœæˆ‘ä»¬èº«å¤„ä¸€ä¸ªé»„è‰²å…‰æºçš„ç¯å¢ƒä¹‹ä¸­ï¼Œé‚£ä¹ˆç¯å¢ƒä¸­çš„ç™½è‰²ä¼šè¢«æ¸²æŸ“æˆé»„è‰²ã€‚ç”±äºäººçœ¼å…·æœ‰æ™ºèƒ½è‰²åä¿®æ­£çš„åŠŸèƒ½ï¼Œå³ä½¿è¿›å…¥è¿™æ ·ä¸€ä¸ªç¯å¢ƒï¼Œè¿‡ä¸äº†å¤šä¹…æˆ‘ä»¬å°±èƒ½é€‚åº”è¿™ä¸ªç¯å¢ƒçš„å…‰æºè‰²å½©ï¼Œå› æ­¤æœ‰å¯èƒ½æ„Ÿè§‰ä¸åˆ°ç™½è‰²å‘ç”Ÿäº†å¼‚å¸¸ã€‚ä½†æ˜¯ï¼Œç›¸æœºæ²¡æœ‰æ™ºèƒ½è‰²åä¿®æ­£ï¼Œå› æ­¤éœ€è¦å€ŸåŠ©ç™½å¹³è¡¡çš„èƒ½åŠ›æ¥å®ç°çº æ­£è‰²åçš„æ•ˆæœã€‚
å¯ä»¥é€šè¿‡ä¸ºç›¸æœºè®¾ç½®ä¸€ä¸ªæœºå†…è‰²æ¸©å€¼æ¥å®ç°ç™½å¹³è¡¡çš„æ•ˆæœï¼Œå½“æœºå†…è‰²æ¸©å€¼ä¸å¤–ç•Œä¸€è‡´æ—¶ï¼Œç›¸æœºå°±èƒ½æ­£ç¡®çš„è¡¨ç°ç™½è‰²ã€‚ä¾‹å¦‚ç°åœ¨å¤–ç•Œè‰²æ¸©æ˜¯4000Kï¼Œæˆ‘ä»¬å°†æœºå†…è‰²æ¸©ä¹Ÿè®¾ç½®ä¸º4000Kæ—¶ï¼Œç™½è‰²å°±èƒ½è¢«ç›¸æœºè¿˜åŸä¸ºç™½è‰²ã€‚
å¦‚æœç›¸æœºå†…è®¾ç½®çš„è‰²æ¸©å¤§äºç¯å¢ƒä¸­çš„è‰²æ¸©æ—¶ï¼Œç›¸æœºå°±ä¼šè®¤ä¸ºå¤–ç•Œè‰²æ¸©æ˜¯åè“è‰²çš„ï¼Œå› æ­¤éœ€è¦å¢åŠ é»„è‰²æ¥ä¸­å’Œè“è‰²ï¼Œä»¥å®ç°è¿˜åŸç™½è‰²çš„æ•ˆæœã€‚
å¦‚æœç›¸æœºå†…è®¾ç½®çš„è‰²æ¸©å°äºç¯å¢ƒä¸­çš„è‰²æ¸©æ—¶ï¼Œç›¸æœºå°±ä¼šè®¤ä¸ºå¤–ç•Œè‰²æ¸©æ˜¯åé»„è‰²çš„ï¼Œå› æ­¤éœ€è¦å¢åŠ è“è‰²æ¥ä¸­å’Œé»„è‰²ï¼Œä»¥å®ç°è¿˜åŸç™½è‰²çš„æ•ˆæœã€‚
 ä½¿ç”¨è‰²æ¸©å€¼æ¥è°ƒèŠ‚ç™½å¹³è¡¡ ä¸åŒçš„è‰²æ¸©èƒ½å¤Ÿç»™äººä¸åŒçš„å¿ƒç†æ„Ÿå—ã€‚ä¾‹å¦‚æš–è‰²èƒ½å¤Ÿç»™äººä¸€ç§æ¸©æš–ã€æ¸©é¦¨ã€å’Œè°çš„æ„Ÿè§‰ï¼›å†·è‰²åˆ™èƒ½å¤Ÿç»™äººä¸€ç§å¹³é™ã€é˜´å‡‰ã€å¯’å†·çš„æ„Ÿè§‰ï¼›ä¸­æ€§è‰²åˆ™èƒ½ç»™äººä¸€ç§å®‰å®ã€èˆ’é€‚ã€ç¨³å®šçš„æ„Ÿè§‰ã€‚
åœ¨åæœŸåˆ›ä½œçš„æ—¶å€™ï¼Œå°±è¦å­¦ä¼šä½¿ç”¨ä¸åŒçš„è‰²æ¸©å»è¾…åŠ©æˆ‘ä»¬è¡¨è¾¾ä¸åŒçš„æ„Ÿæƒ…æ•ˆæœã€‚å¯ä»¥åˆ©ç”¨è‰²æ¸©å·¥å…·å®ç°ç”»é¢çš„ç™½å¹³è¡¡ï¼Œä»è€Œå¾—åˆ°ä¸€ä¸ªæ›´åŠ ä¸­æ€§çš„è‰²å½©å–å‘ã€‚
  å½“ç”»é¢åè“çš„æ—¶å€™ï¼Œå¯ä»¥æé«˜è‰²æ¸©å€¼ï¼Œä¸ºç”»é¢åŠ å…¥æš–è‰²ï¼ˆé»„è‰²ï¼‰ï¼Œä»è€Œå®ç°ç™½å¹³è¡¡çš„æ•ˆæœã€‚   å½“ç”»é¢åé»„çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥é™ä½è‰²æ¸©å€¼ï¼Œä¸ºç”»é¢åŠ å…¥å†·è‰²ï¼ˆè“è‰²ï¼‰ï¼Œä»è€Œå®ç°ç™½å¹³è¡¡çš„æ•ˆæœã€‚    è‰²è°ƒ è‰²è°ƒï¼šä¸ºç”»é¢åŠ å…¥æ´‹çº¢è‰²ï¼ˆå“çº¢è‰²ï¼‰å¯ä»¥æé«˜è‰²è°ƒå€¼ï¼›ä¸ºç”»é¢åŠ å…¥ç»¿è‰²å¯ä»¥é™ä½è‰²è°ƒå€¼ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“é™ä½è‰²è°ƒå·¥å…·çš„å€¼æ—¶ï¼Œå¯ä»¥ä¸ºç”»é¢åŠ å…¥ç»¿è‰²ï¼Œå½“æˆ‘ä»¬æé«˜è‰²è°ƒå·¥å…·çš„å€¼æ—¶ï¼Œå¯ä»¥ä¸ºç”»é¢åŠ å…¥æ´‹çº¢è‰²ã€‚ å¦‚æœç”»é¢åæ´‹çº¢è‰²ï¼Œå°±å¯ä»¥é™ä½è‰²è°ƒä¸ºç”»é¢åŠ å…¥ç»¿è‰²ï¼Œä»è€Œå‰Šå¼±æ´‹çº¢è‰²ï¼Œä»¥å‘ˆç°å‡ºæ›´åŠ ä¸­æ€§çš„è‰²è°ƒï¼š  è‰²æ¸©å’Œè‰²è°ƒå·¥å…·é€šå¸¸ç»“åˆèµ·æ¥å¸®åŠ©æˆ‘ä»¬è°ƒæ•´ç”»é¢çš„ç™½å¹³è¡¡ä»¥åŠæ¸²æŸ“ç”»é¢çš„è‰²å½©ã€‚ä¾‹å¦‚è¿™ä¸€å¼ ç…§ç‰‡ï¼š
ä¸ºäº†é™ä½ç”»é¢çš„è‰²æ¸©å€¼ï¼Œä¸ºç”»é¢åŠ å…¥è“è‰²ï¼›æé«˜è‰²è°ƒå€¼ï¼Œä¸ºç”»é¢åŠ å…¥æ´‹çº¢è‰²ï¼š  è‰²è°ƒåˆ†ç¦» åˆ©ç”¨è‰²è°ƒåˆ†ç¦»å·¥å…·å¯ä»¥ä¸ºç”»é¢çš„é˜´å½±æˆ–é«˜å…‰åŠ å…¥æŒ‡å®šçš„è‰²å½©ã€‚å½“ä¸ºé«˜å…‰åŠ å…¥æŸç§è‰²å½©æ—¶ï¼Œå®ƒä¸»è¦ä¼šå½±å“ç”»é¢ä¸­äº®åº¦è¾ƒé«˜çš„åŒºåŸŸï¼›å½“æˆ‘ä»¬ä¸ºé˜´å½±åŠ å…¥æŸç§è‰²å½©æ—¶ï¼Œå®ƒä¸»è¦ä¼šå½±å“ç”»é¢ä¸­äº®åº¦è¾ƒä½çš„åŒºåŸŸã€‚
å¯ä»¥çœ‹åˆ°ï¼Œå½“ä¸ºé«˜å…‰åŠ å…¥é»„è‰²çš„æ—¶å€™ï¼Œå¤©ç©ºï¼ˆæ¯”è¾ƒäº®çš„åŒºåŸŸï¼‰å—åˆ°äº†è¾ƒä¸ºæ˜æ˜¾çš„å½±å“ï¼Œä½†æ˜¯åœ°é¢ï¼ˆæ¯”è¾ƒæš—çš„åŒºåŸŸï¼‰å—åˆ°çš„å½±å“åˆ™ä¸å¤§ï¼›
äºæ­¤åŒæ—¶ï¼Œå½“ä¸ºé˜´å½±åŠ å…¥è“è‰²çš„æ—¶å€™ï¼Œåœ°é¢ï¼ˆæ¯”è¾ƒæš—çš„åŒºåŸŸï¼‰å—åˆ°çš„å½±å“æ¯”è¾ƒæ˜æ˜¾ï¼Œä½†æ˜¯å¤©ç©ºï¼ˆæ¯”è¾ƒäº®çš„åŒºåŸŸï¼‰å—åˆ°çš„å½±å“åˆ™ä¸å¤§ã€‚
 æš—è§’ æ˜¯æŒ‡å› ä¸ºé•œå¤´å­˜åœ¨å…‰å­¦ç¼ºé™·ç­‰åŸå› å¯¼è‡´ç›¸æœºè¿›å…‰ä¸å‡åŒ€ï¼Œå› æ­¤å‡ºç°ç…§ç‰‡å››å‘¨äº®åº¦è¾ƒä½çš„ç°è±¡ã€‚
å½“ä¸ºç”»é¢å¢æ·»æš—è§’æ—¶ï¼Œå¯ä»¥è®©ç”»é¢çš„è§†è§‰ç„¦ç‚¹æ›´åŠ é›†ä¸­ï¼›åœ¨åæœŸä¸­ï¼Œæˆ‘ä»¬ä¸ä»…ä»…ä¼šä¸ºç…§ç‰‡æ·»åŠ æš—è§’ï¼Œæœ‰æ—¶å€™ä¹Ÿä¼šä¸ºç…§ç‰‡æ·»åŠ äº®è§’ï¼Œå³ç…§ç‰‡å››å‘¨äº®åº¦é«˜äºä¸­é—´ï¼Œè¿™å¯ä»¥è¥é€ ä¸€ç§æ˜äº®ã€çº¯æ´çš„ç”»é¢æ°›å›´ã€‚åœ¨æ³¼è¾£ä¿®å›¾ä¸­ï¼Œè´¨æ„Ÿé€‰é¡¹ä¸‹çš„è°ƒæ•´åŒ…æ‹¬æš—è§’ç¨‹åº¦ã€æš—è§’ç¾½åŒ–ã€æš—è§’é«˜å…‰ã€æš—è§’å¤§å°ã€æš—è§’åœ†åº¦ã€‚
 æš—è§’ç¨‹åº¦ ç”¨äºæ§åˆ¶æš—è§’çš„æµ“çƒˆç¨‹åº¦ã€‚æ•°å€¼ä¸ºæ­£å€¼æ—¶ï¼Œä¸ºç”»é¢åŠ å…¥ç™½è‰²è¾¹è§’ï¼›æ•°å€¼ä¸ºè´Ÿå€¼æ—¶ï¼Œä¸ºç”»é¢åŠ å…¥é»‘è‰²è¾¹è§’ï¼›ç»å¯¹å€¼è¶Šå¤§ï¼Œæ•ˆæœè¶Šå¼ºçƒˆã€‚  æš—è§’ç¾½åŒ– æš—è§’ç¾½åŒ–ç”¨äºæ§åˆ¶æš—è§’çš„ç¾½åŒ–ç¨‹åº¦ï¼ˆæŸ”å’Œç¨‹åº¦ï¼‰ï¼Œæ•°å€¼è¶Šå¤§è¾¹ç¼˜è¶ŠæŸ”å’Œã€‚
 æš—è§’é«˜å…‰ æš—è§’é«˜å…‰ï¼šæ•°å€¼è¶Šå¤§ï¼Œç”»é¢ä¸­çš„é«˜å…‰éƒ¨åˆ†å—åˆ°æš—è§’å½±å“çš„ç¨‹åº¦å°±è¶Šå°ï¼ˆè¥é€ ä¸è§„åˆ™çš„æš—è§’é£æ ¼ï¼‰ã€‚
 æš—è§’å¤§å° æš—è§’å¤§å°ï¼šæ§åˆ¶æš—è§’çš„å½±å“èŒƒå›´ï¼Œæ•°å€¼è¶Šå°ä¸å—æš—è§’å½±å“çš„åŒºåŸŸå°±è¶Šå°ï¼ˆå½“ç„¶å—å½±å“çš„åŒºåŸŸå°±è¶Šå¤§ï¼‰ã€‚
 æš—è§’åœ†åº¦ æš—è§’åœ†åº¦ï¼šæ§åˆ¶æš—è§’çš„åœ†å½¢ç¨‹åº¦ã€‚æ•°å€¼è¶Šå¤§æš—è§’è¶Šå‘ˆç°å‡ºåœ†å½¢ï¼Œæ•°å€¼è¶Šå°æš—è§’è¶Šå‘ˆç°å‡ºæ–¹å½¢ã€‚
 </content>
    </entry>
    
     <entry>
        <title>æ³¼è¾£ä¿®å›¾åæœŸæœ¯è¯­1</title>
        <url>https://iihui.github.io/post/pixel-term1/</url>
        <categories>
          <category>åæœŸ</category>
        </categories>
        <tags>
          <tag>åæœŸ</tag><tag>æ³¼è¾£</tag>
        </tags>
        <content type="html"> å¯¹æ¯”åº¦ ç»´åŸºç™¾ç§‘å¯¹æ¯”åº¦çš„è§£é‡Šä¸ºï¼šç”»é¢é»‘ä¸ç™½çš„æ¯”å€¼ï¼Œå³ä»é»‘åˆ°ç™½çš„æ¸å˜å±‚æ¬¡ã€‚æ¯”å€¼è¶Šå¤§ï¼Œä»é»‘åˆ°ç™½çš„æ¸å˜å±‚æ¬¡è¶Šå¤šï¼Œä»è€Œè‰²å½©è¡¨ç°è¶Šä¸°å¯Œã€‚å¯¹æ¯”åº¦å¯¹äºè§†è§‰çš„å½±å“éå¸¸å…³é”®ï¼Œä¸€èˆ¬è¯´æ¥å¯¹æ¯”åº¦è¶Šå¤§ï¼Œå›¾åƒè¶Šæ¸…æ™°è¶Šé†’ç›®ï¼Œè‰²å½©ä¹Ÿè¶Šé²œæ˜äº®ä¸½ï¼›å¯¹æ¯”åº¦å°ï¼Œåˆ™è®©æ•´ä¸ªç”»é¢ç°è’™è’™çš„ã€‚
æé«˜å¯¹æ¯”åº¦å¯ä»¥è®©ç”»é¢æ›´åŠ é€šé€ï¼Œä½†æ˜¯ä¼šæŸå¤±ä¸€äº›ç»†èŠ‚ï¼›é™ä½å¯¹æ¯”åº¦ä¼šè®©ç”»é¢è·å¾—ç›¸å¯¹æ›´åŠ ä¸°å¯Œçš„ç»†èŠ‚ï¼Œä½†æ˜¯ä¼šè®©ç”»é¢ç°è’™è’™çš„ã€‚
 é¥±å’Œåº¦ é¥±å’Œåº¦æ˜¯æŒ‡è‰²å½©çš„çº¯åº¦ï¼Œä¸€ç§é¢œè‰²çš„é¥±å’Œåº¦è¶Šé«˜ï¼Œå®ƒå°±è¶Šé²œè‰³ï¼›åä¹‹ï¼Œä¸€ç§é¢œè‰²çš„é¥±å’Œåº¦è¶Šä½ï¼Œå®ƒå°±è¶Šæ¥è¿‘äºç°è‰²ã€‚
ä¸€å¼ ç…§ç‰‡çš„é¥±å’Œåº¦è¶Šé«˜ï¼Œè¶Šèƒ½å¼•èµ·äººçš„æ³¨æ„ï¼Œä½†æ˜¯è¿‡é«˜çš„é¥±å’Œåº¦æœ‰æ—¶å€™ä¼šè®©äººäº§ç”Ÿåæ„Ÿçš„æƒ…ç»ªï¼š
ä¸€å¼ ç…§ç‰‡çš„é¥±å’Œåº¦è¶Šä½ï¼Œç”»é¢å°±è¶Šå¹³å’Œï¼Œå°±è¶Šèƒ½ç»™äººå®‰é™ã€èˆ’é€‚çš„è§†è§‰æ„Ÿå—ï¼Œä½†æ˜¯è¿‡ä½çš„é¥±å’Œåº¦æœ‰æ—¶å€™ä¼šè®©ç”»é¢äº§ç”Ÿä¸é€šé€æ„Ÿã€‚
æé«˜é¥±å’Œåº¦çš„æ•°å€¼æ—¶ï¼Œç”»é¢ä¼šå˜å¾—æ›´åŠ é²œè‰³ï¼Œä½†æ˜¯å¦‚æœæ•°å€¼æé«˜å¾—è¿‡é«˜ï¼Œæœ‰æ—¶å€™ä¼šè®©ç”»é¢å‡ºç°è‰²å½©æº¢å‡ºç­‰ä¸æ­£å¸¸ç°è±¡ã€‚
é™ä½é¥±å’Œåº¦çš„æ•°å€¼æ—¶ï¼Œç”»é¢ä¼šå˜å¾—æ›´åŠ åç°ï¼Œå¦‚æœå°†æ•°å€¼é™è‡³æœ€ä½ï¼Œç”»é¢ä¼šå˜æˆé»‘ç™½ç…§ç‰‡ã€‚
 è‡ªç„¶é¥±å’Œåº¦ è‡ªç„¶é¥±å’Œåº¦å·¥å…·ç›¸å½“äºæ™ºèƒ½é¥±å’Œåº¦å·¥å…·ï¼Œå®ƒå¯ä»¥æ§åˆ¶ç”»é¢çš„é¥±å’Œåº¦ç¨‹åº¦ï¼Œä¸ä¼šè®©ç”»é¢è¿‡äºé¥±å’Œã€‚
ç›¸æ¯”äºé¥±å’Œåº¦ï¼Œè‡ªç„¶é¥±å’Œåº¦ä¼šä¿æŠ¤é¥±å’Œåº¦é«˜çš„åœ°æ–¹ï¼Œæ¯”å¦‚è¯´æå‡è‡ªç„¶é¥±å’Œåº¦çš„æ—¶å€™ï¼Œæœ¬æ¥é«˜é¥±å’Œçš„åŒºåŸŸæå‡å¹…åº¦è¾ƒå¼±ï¼Œæœ¬æ¥ä½é¥±å’Œçš„åŒºåŸŸæå‡å¹…åº¦è¾ƒå¼ºï¼Œè€Œé¥±å’Œåº¦åˆ™æ˜¯åŒç­‰å¹…åº¦æå‡æ‰€æœ‰é¢œè‰²çš„é¥±å’Œåº¦ã€‚
å› æ­¤ï¼Œåœ¨è¿›è¡ŒåæœŸçš„è°ƒæ•´çš„æ—¶å€™ï¼Œç‰¹åˆ«æ˜¯è°ƒæ•´é£å…‰ç±»ç…§ç‰‡çš„æ—¶å€™ï¼Œå¯ä»¥æ›´å¤šçš„é‡‡ç”¨è‡ªç„¶é¥±å’Œåº¦å·¥å…·å»è°ƒæ•´ç”»é¢çš„è‰²å½©ï¼Œè¿™æ ·ä¸å®¹æ˜“å‡ºç°è¿‡åº¦é¥±å’Œçš„é—®é¢˜ã€‚
 å¢å¼ºç”»é¢è¡¨ç°åŠ› æœ‰æ—¶å€™æ„Ÿè§‰ç”»é¢æœ‰äº›æ²‰é—·ï¼Œè¿™æ—¶å¯ä»¥å°è¯•æé«˜ç”»é¢çš„é¥±å’Œåº¦ï¼Œè®©ç”»é¢çš„è‰²å½©æ›´åŠ é²œè‰³ï¼Œä»è€Œè®©ç”»é¢æ‹¥æœ‰æ›´å¼ºçš„è‰²å½©è¡¨ç°åŠ›ã€‚
 å‰Šå¼±è‰²å½©æ”»å‡»æ€§ ç”»é¢é¥±å’Œåº¦è¿‡é«˜ä¼šè®©è‰²å½©çš„æ”»å‡»æ€§å¢å¼ºï¼Œä½†æ˜¯è¿‡é«˜çš„é¥±å’Œåº¦å®¹æ˜“è®©ç”»é¢å¯¹äººäº§ç”Ÿè¿‡åº¦çš„åˆºæ¿€ï¼Œæœ‰æ—¶å€™è¿‡é«˜çš„é¥±å’Œåº¦è¿˜ä¼šè®©ç”»é¢æ˜¾å¾—æ²‰é‡ï¼Œæˆ–è€…ç”»é¢æ˜¾å¾—æ¯”è¾ƒè„ã€‚è¿™æ—¶å°±å¯ä»¥é€šè¿‡é™ä½ç”»é¢çš„é¥±å’Œåº¦å‰Šå¼±è‰²å½©çš„æ”»å‡»æ€§ã€‚
 å˜é»‘ç™½ç…§ç‰‡ å°†ç”»é¢çš„é¥±å’Œåº¦é™åˆ°æœ€ä½æ—¶ï¼Œç”»é¢å°±å¯ä»¥å˜æˆé»‘ç™½ç…§ç‰‡ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
 è°ƒæ•´å±€éƒ¨è‰²å½© å¯ä»¥åˆ©ç”¨HSLã€ç¬”åˆ·ç­‰å·¥å…·åˆ†åˆ«è°ƒæ•´ä¸åŒé¢œè‰²æˆ–ä¸åŒåŒºåŸŸçš„é¥±å’Œåº¦ï¼Œè®©ç”»é¢å½¢æˆé«˜é¥±å’Œå’Œä½é¥±å’Œå¹¶å­˜çš„å±€éƒ¨è‰²å½©æ•ˆæœï¼Œæ›´å¥½çš„å‡¸æ˜¾ç”»é¢ä¸»ä½“ã€å¢å¼ºç”»é¢çš„è§†è§‰è¡¨ç°åŠ›ã€‚
åˆ©ç”¨HSLè°ƒæ•´é’è‰²çš„é¥±å’Œåº¦ï¼Œå°†å…¶å€¼è°ƒåˆ°-100å¯ä»¥å¾—åˆ°ä¸‹å›¾ï¼š
 è‰²ç›¸ è‰²ç›¸ï¼ˆHueï¼‰æ˜¯æŒ‡è‰²å½©çš„ç›¸è²Œåç§°ï¼Œä¾‹å¦‚çº¢è‰²ã€æ©™è‰²ã€ç´«è‰²ç­‰ã€‚å®ƒæ˜¯é¢œè‰²çš„é¦–è¦ç‰¹å¾ï¼Œæ˜¯åŒºåˆ«å„ç§ä¸åŒè‰²å½©æœ€å‡†ç¡®çš„æ ‡å‡†ã€‚é™¤äº†é»‘ç™½ç°ä»¥å¤–çš„å…¶ä»–é¢œè‰²éƒ½æœ‰è‰²ç›¸å±æ€§ã€‚
å½“ä½¿ç”¨HSLå·¥å…·å»è°ƒæ•´è‰²ç›¸æ—¶ï¼Œå¯ä»¥å°†ä¸€ç§é¢œè‰²è½¬å˜ä¸ºå¦ä¸€ç§é¢œè‰²ã€‚ä¾‹å¦‚é€‰ä¸­è“è‰²ï¼Œè°ƒæ•´è“è‰²çš„è‰²ç›¸æ—¶ï¼š
ç”»é¢ä¸­çš„æ ‘å¶å’Œå‘æ—¥è‘µå¹¶æ²¡æœ‰å—åˆ°å½±å“ï¼Œè¿™æ˜¯å› ä¸ºæ ‘å¶å’Œå‘æ—¥è‘µçš„é¢œè‰²å¹¶ä¸æ˜¯è“è‰²ï¼Œå› æ­¤æˆ‘ä»¬åœ¨è°ƒæ•´è“è‰²è‰²ç›¸çš„æ—¶å€™ï¼Œå…¶ä»–é¢œè‰²å¹¶ä¸ä¼šå—åˆ°å½±å“ã€‚
 æ˜åº¦ å³æ˜¯æŒ‡ä¸€ç§é¢œè‰²çš„æ˜äº®ç¨‹åº¦ï¼Œæ˜åº¦è¶Šé«˜ï¼Œé¢œè‰²è¶Šæ˜äº®ï¼ˆç™½ä¸€ç‚¹ï¼‰ï¼Œæ˜åº¦è¶Šå°ï¼Œé¢œè‰²è¶Šæ·±æ²‰ï¼ˆæš—ä¸€ç‚¹ï¼‰ã€‚åŒä¸€ç§é¢œè‰²æœ‰æ˜æš—ä¹‹åˆ†ï¼Œä¾‹å¦‚æµ…è“è‰²å’Œæ·±è“è‰²ï¼Œä¸åŒé¢œè‰²ä¹‹é—´ä¹Ÿæœ‰æ˜æš—ä¹‹åˆ†ï¼Œä¾‹å¦‚é»„è‰²çš„æ˜åº¦å°±ç›¸å¯¹æ¯”è¾ƒé«˜ï¼Œç´«è‰²çš„æ˜åº¦å°±ç›¸å¯¹æ¯”è¾ƒä½ã€‚
å¯ä»¥çœ‹åˆ°åœ¨HSLå·¥å…·ä¸­ï¼Œå½“è°ƒæ•´è“è‰²æ˜åº¦çš„æ—¶å€™ï¼Œç”»é¢ä¸­è“è‰²ï¼ˆå¤©ç©ºï¼‰å‘ç”Ÿäº†å˜åŒ–ï¼Œå…¶é¢œè‰²æ›´åŠ æ˜äº®æˆ–æ·±æ²‰ã€‚ä½†æ˜¯ç”»é¢ä¸­çš„ç»¿è‰²ï¼ˆæ ‘å¶ï¼‰ã€é»„è‰²ï¼ˆå‘æ—¥è‘µï¼‰åˆ™ä¸å—å½±å“ã€‚
 äº®åº¦ äº®åº¦ç”¨äºè°ƒæ•´ç”»é¢çš„ç°è‰²ï¼Œç›¸è¾ƒäºâ€œæ›å…‰â€ï¼Œå®ƒçš„è°ƒæ•´èŒƒå›´ä¸»è¦é›†ä¸­äºä¸­é—´è°ƒï¼Œå¯ä»¥ç”¨äºä¿®å¤ç”»é¢çš„ç»†èŠ‚ã€‚æé«˜äº®åº¦çš„æ•ˆæœè¿‘ä¼¼äºæé«˜æ›å…‰&#43;é™ä½å¯¹æ¯”åº¦ï¼›é™ä½äº®åº¦çš„æ•ˆæœè¿‘ä¼¼äºé™ä½æ›å…‰&#43;æé«˜å¯¹æ¯”åº¦ã€‚
HSL HSLå·¥å…·å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ¥è°ƒæ•´ä¸€ç§é¢œè‰²çš„è‰²ç›¸ã€é¥±å’Œåº¦ã€æ˜åº¦ã€‚ä¾‹å¦‚å½“é€‰ä¸­è“è‰²ï¼Œç„¶åè°ƒæ•´è“è‰²çš„è‰²ç›¸ã€‚å¯ä»¥çœ‹åˆ°ï¼Œå¤©ç©ºçš„é¢œè‰²å‘ç”Ÿäº†æ”¹å˜ï¼Œå·¦è¾¹ã€ä¸­é—´å’Œå³è¾¹çš„å¤©ç©ºé¢œè‰²éƒ½æ˜æ˜¾ä¸åŒï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬æ”¹å˜äº†è“è‰²çš„è‰²ç›¸ï¼Œè€Œå¤©ç©ºæ˜¯è“è‰²çš„ï¼Œæ‰€ä»¥å—åˆ°äº†å½±å“ã€‚
ç”»é¢ä¸­çš„æ ‘å¶å’Œå‘æ—¥è‘µå¹¶æ²¡æœ‰å—åˆ°å½±å“ï¼Œè¿™æ˜¯å› ä¸ºæ ‘å¶å’Œå‘æ—¥è‘µçš„é¢œè‰²å¹¶ä¸æ˜¯è“è‰²ï¼Œå› æ­¤æˆ‘ä»¬åœ¨è°ƒæ•´è“è‰²è‰²ç›¸çš„æ—¶å€™ï¼Œå…¶ä»–é¢œè‰²å¹¶ä¸ä¼šå—åˆ°å½±å“ã€‚
 åŒç†ï¼Œé€‰ä¸­è“è‰²ï¼Œç„¶åè°ƒæ•´è“è‰²çš„é¥±å’Œåº¦ã€‚æé«˜é¥±å’Œåº¦ä¹‹åï¼Œå¤©ç©ºçš„è‰²å½©å˜å¾—æ›´åŠ é²œè‰³äº†ï¼›é™ä½é¥±å’Œåº¦ä¹‹åï¼Œå¤©ç©ºçš„è‰²å½©æ›´åŠ åå‘äºç°è‰²äº†ï¼š
ä¸æ­¤åŒæ—¶ï¼Œç”»é¢ä¸­çš„æ ‘å¶å’Œå‘æ—¥è‘µå¹¶æ²¡æœ‰å—åˆ°å½±å“ï¼Œå› ä¸ºæˆ‘ä»¬è°ƒæ•´çš„æ˜¯è“è‰²çš„é¥±å’Œåº¦ï¼Œä½†æ˜¯æ ‘å¶å’Œå‘æ—¥è‘µçš„é¢œè‰²å¹¶ä¸æ˜¯è“è‰²ï¼Œæ‰€ä»¥è¯´é¥±å’Œåº¦å¹¶ä¸ä¼šéšä¹‹æ”¹å˜ã€‚
 åˆ©ç”¨HSLåˆ†åŒºè°ƒæ•´ åˆ†åŒºè°ƒæ•´ï¼Œå°±æ˜¯æŒ‡æŠŠç…§ç‰‡æŒ‰ç…§ä¸€å®šçš„æ ‡å‡†åˆ’åˆ†ä¸ºä¸åŒçš„åŒºåŸŸï¼Œç„¶åå¯¹è¿™äº›åŒºåŸŸåˆ†åˆ«è°ƒæ•´ã€‚è€ŒHSLå·¥å…·å°±å¯ä»¥æŠŠç”»é¢æŒ‰ç…§è‰²å½©è¿›è¡Œåˆ’åˆ†ï¼Œç„¶åé’ˆå¯¹ä¸åŒçš„è‰²å½©è¿›è¡Œè°ƒæ•´ã€‚åœ¨HSLå·¥å…·é‡Œé¢ï¼Œå¯ä»¥é€‰æ‹©æ´‹çº¢è‰²ã€ç´«è‰²ã€è“è‰²ã€é’è‰²ã€çº¢è‰²ã€æ©™è‰²ã€é»„è‰²ã€ç»¿è‰²è¿™8ç§é¢œè‰²è¿›è¡Œåˆ†åˆ«è°ƒæ•´ã€‚
 æé«˜é¥±å’Œåº¦è®©å¤©ç©ºæ›´é²œè‰³ åœ¨è°ƒæ•´å¤©ç©ºé¢œè‰²æ—¶ï¼Œä¸€èˆ¬é€‰æ‹©è“è‰²å’Œé’è‰²ï¼Œè¿™æ˜¯æœ€ä¸ºå¸¸è§çš„å¤©ç©ºé¢œè‰²ã€‚åœ¨ä¸‹å›¾ä¸­ï¼Œå¦‚æœé€‰æ‹©çº¢è‰²ï¼Œç„¶åè°ƒæ•´çº¢è‰²çš„é¥±å’Œåº¦ï¼Œå¤©ç©ºå°†ä¸ä¼šå—åˆ°å½±å“ï¼›è€Œå½“é€‰ä¸­è“è‰²ï¼Œç„¶åæé«˜è“è‰²çš„é¥±å’Œåº¦æ—¶ï¼Œåˆ™å¯ä»¥çœ‹åˆ°å¤©ç©ºçš„é¢œè‰²æ˜æ˜¾å˜å¾—æ›´åŠ é²œè‰³äº†ã€‚
 åˆ©ç”¨æ˜åº¦è°ƒæ•´å¤©ç©ºçš„äº®åº¦ ä¾‹å¦‚é€‰ä¸­è“è‰²ï¼Œå½“é™ä½è“è‰²çš„æ˜åº¦æ—¶ï¼Œå¯ä»¥çœ‹åˆ°ç¬¬äºŒå¼ ç…§ç‰‡ç›¸å¯¹äºç¬¬ä¸€å¼ ç…§ç‰‡å¤©ç©ºçš„äº®åº¦é™ä½äº†ï¼›å½“æé«˜è“è‰²çš„æ˜åº¦æ—¶ï¼Œå¯ä»¥çœ‹åˆ°ç¬¬ä¸‰å¼ ç…§ç‰‡ä¸­çš„å¤©ç©ºå˜å¾—æ›´åŠ æ˜äº®äº†ã€‚
å› æ­¤ï¼Œå¯ä»¥åˆ©ç”¨è¾ƒé«˜æ˜åº¦çš„å¤©ç©ºå»è¡¨è¾¾ä¸€ç§è½»ç›ˆã€é€šé€çš„åœºæ™¯æ°›å›´ï¼Œå¯ä»¥åˆ©ç”¨è¾ƒä½æ˜åº¦çš„å¤©ç©ºå»è¡¨è¾¾ä¸€ç§æ·±æ²‰ã€å‹æŠ‘çš„åœºæ™¯æ°›å›´ã€‚
 åˆ©ç”¨è‰²ç›¸æ¸²æŸ“å¤©ç©ºè‰²å½© ä¸åŒè‰²ç›¸å¯¹äºäººçš„å¿ƒç†å­˜åœ¨ä¸åŒçš„å½±å“ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨è‰²ç›¸çš„è¿™ä¸€ç‰¹æ€§å»æ¸²æŸ“å¤©ç©ºçš„è‰²å½©ï¼Œä½¿ç”»é¢å‘ˆç°å‡ºä¸åŒçš„åœºæ™¯æ°›å›´ã€‚
ä¾‹å¦‚é€‰ä¸­è“è‰²ï¼Œç„¶åæé«˜è“è‰²çš„è‰²ç›¸å€¼ï¼Œè¿™æ—¶å€™å¤©ç©ºä¸€èˆ¬ä¼šå‘ˆç°å‡ºç´«è‰²ï¼Œç”»é¢ä¼šç»™äººä¸€ç§æ™šéœçš„åœºæ™¯æ„Ÿï¼›å½“é™ä½è“è‰²çš„è‰²ç›¸å€¼ï¼Œè¿™æ—¶å€™å¤©ç©ºä¸€èˆ¬ä¼šå‘ˆç°å‡ºé’è‰²ï¼Œèƒ½å¤Ÿç»™äººä¸€ç§å¾®å¦™çš„ç¦»å¥‡æ„Ÿï¼Œå› ä¸ºå®ƒä¸åŒäºæˆ‘ä»¬å¸¸è§çš„å¤©ç©ºè‰²å½©ã€‚
 åˆ©ç”¨HSLè°ƒæ•´è‰åœ°/æ ‘æœ¨ åœ¨ä¸‹å›¾ä¸­ï¼Œè‰åœ°æ˜¾å¾—æœ‰äº›æ¯é»„ï¼Œå¦‚æœæƒ³è¦å°†å®ƒä»¬å˜æˆè“å¤©ç»¿è‰çš„æ•ˆæœï¼Œè¯¥å¦‚ä½•å¤„ç†å‘¢ï¼Ÿ ç”»é¢ä¸­çš„è¿™äº›è‰åœ°æ˜¯é»„è‰²çš„ï¼Œå› æ­¤å¯ä»¥é€‰ä¸­é»„è‰²ï¼Œç„¶åè°ƒæ•´é»„è‰²çš„è‰²ç›¸ï¼Œä½¿è‰åœ°çš„é¢œè‰²ç”±é»„è‰²è½¬æ¢ä¸ºç»¿è‰²ï¼š
æé«˜é»„è‰²çš„è‰²ç›¸ï¼Œä½¿å…¶æœ‰é»„è‰²è½¬æ¢ä¸ºç»¿è‰²ï¼Œç„¶åæé«˜é»„è‰²çš„é¥±å’Œåº¦ï¼Œä½¿è‰åœ°çš„é¢œè‰²æ›´åŠ é²œè‰³ï¼Œç„¶åé™ä½é»„è‰²çš„æ˜åº¦ï¼Œä½¿è‰åœ°çš„é¢œè‰²æ›´åŠ æ·±æ²‰ã€‚
 ç»è¿‡è¿™æ ·çš„è°ƒæ•´ä¹‹åï¼Œå¯ä»¥å‘ç°ç”»é¢ä¸­è¿˜å­˜åœ¨ä¸€äº›æ¯è‰ï¼Œè¿™äº›æ¯è‰å¯¹åº”çš„è‰²å½©æ˜¯æ©™è‰²ï¼Œå› æ­¤å¯ä»¥é€‰ä¸­æ©™è‰²ï¼Œç„¶åè°ƒæ•´æ©™è‰²çš„è‰²ç›¸ï¼Œå°†æ©™è‰²è½¬æ¢ä¸ºç»¿è‰²ï¼š
æé«˜æ©™è‰²çš„è‰²ç›¸ï¼Œä½¿ç”»é¢ä¸­è‰åœ°çš„é¢œè‰²ç”±æ©™è‰²è½¬å˜ä¸ºç»¿è‰²ï¼›ç„¶åæé«˜æ©™è‰²çš„é¥±å’Œåº¦ï¼Œä½¿å¾—è‰åœ°çš„é¢œè‰²æ›´åŠ é²œè‰³ï¼›ç„¶åé™ä½æ©™è‰²çš„æ˜åº¦ï¼Œè®©è‰åœ°å­˜åœ¨é«˜æ˜åº¦ä¸ä½æ˜åº¦çš„å¯¹æ¯”ï¼Œä»è€Œè®©ç”»é¢æ›´åŠ å¯Œæœ‰å±‚æ¬¡æ„Ÿã€‚
 ç„¶åå¯ä»¥è°ƒæ•´ä¸€ä¸‹ç”»é¢çš„å¤©ç©ºï¼Œåˆ©ç”¨å‰é¢å­¦ä¹ çš„è°ƒæ•´å¤©ç©ºçš„æ–¹æ³•ï¼Œè¿™å¼ ç…§ç‰‡ä¸­å¤©ç©ºçš„è‰²å½©æ›´åŠ å€¾å‘äºé’è‰²ï¼Œå› æ­¤æˆ‘ä»¬é€‰ä¸­é’è‰²ï¼Œç„¶åè°ƒæ•´é’è‰²ï¼š
æé«˜é’è‰²çš„é¥±å’Œåº¦ï¼Œä½¿å¾—å¤©ç©ºçš„é¢œè‰²æ›´åŠ é²œè‰³ï¼Œæˆ‘ä»¬é™ä½é’è‰²çš„æ˜åº¦ï¼Œä½¿å¾—å¤©ç©ºçš„äº®åº¦å˜ä½ï¼Œä»è€Œå‘ˆç°å‡ºæ›´åŠ ä¸°å¯Œçš„ç»†èŠ‚ã€‚
 ç»è¿‡è¿™æ ·å‡ æ­¥ç®€å•çš„è°ƒæ•´ï¼Œè¿™å¼ ç…§ç‰‡å°±å‘ˆç°å‡ºè“å¤©ç»¿è‰çš„æ™¯è§‚äº†ã€‚åˆ©ç”¨HSLå·¥å…·è°ƒæ•´è‰åœ°/æ ‘æœ¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬çš„æ€ç»´è¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼š
  ç¡®å®šæœ€ç»ˆè‰²
  é€‰æ‹©ç›®æ ‡è‰²
  è‰²å½©è¾“å‡º
  ä½¿ç”¨HSLå·¥å…·ä¹‹å‰ï¼Œé¦–å…ˆè¦æ€è€ƒçš„æ˜¯æˆ‘ä»¬æœ€ç»ˆæƒ³è¦å‘ˆç°çš„æ•ˆæœæ˜¯æ€æ ·çš„ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸Šå›¾ä¸­ï¼Œæˆ‘ä»¬æœ€ç»ˆæƒ³è¦çš„æ•ˆæœæ˜¯è®©å¤©ç©ºæ›´è“ã€è‰åœ°å˜ç»¿ï¼Œè¿™å°±æ˜¯éœ€è¦çš„æœ€ç»ˆè‰²ã€‚
 ä¾‹å¦‚çœ‹åˆ°ä¸‹é¢è¿™å¼ æ«å¶æ—¶ï¼Œå¯èƒ½æƒ³åˆ°è°ƒæ•´ç”»é¢ä¸­çš„é»„è‰²å’Œæ©™è‰²ï¼Œå› ä¸ºè¿™ä¸¤ä¸ªé¢œè‰²æ¯”è¾ƒæ¥è¿‘ï¼Œå…¶ä»–é¢œè‰²éƒ½ç¦»ç”»é¢ä¸­æ«å¶çš„é¢œè‰²å¤ªè¿œäº†ã€‚ ä½†æ˜¯å½“è°ƒæ•´é»„è‰²çš„æ—¶å€™ï¼Œå‘ç°ç”»é¢åŸºæœ¬ä¸Šæ²¡æœ‰å˜åŒ–æ—¶ï¼Œå°±å¯ä»¥ç¡®å®šè°ƒæ•´æ©™è‰²äº†ã€‚æŒ‰ä¸‹å›¾å³ä¾§çš„æ•°å€¼ï¼Œä¾æ¬¡è°ƒæ•´è‰²ç›¸ï¼Œé¥±å’Œåº¦ï¼Œæ˜åº¦:  </content>
    </entry>
    
     <entry>
        <title>ä½¿ç”¨pixelmator proä¿®æ”¹è¯ä»¶ç…§èƒŒæ™¯é¢œè‰²</title>
        <url>https://iihui.github.io/post/pixel-background/</url>
        <categories>
          <category>åæœŸ</category>
        </categories>
        <tags>
          <tag>åæœŸ</tag><tag>mator</tag>
        </tags>
        <content type="html">  ç°æœ‰ä¸€å¼ ç™½åº•çš„è¯ä»¶ç…§éœ€è¦ä¿®æ”¹ä¸ºè“åº•çš„ã€‚ä½¿ç”¨pixelmator proè¿™æ¬¾è½¯ä»¶ï¼Œè‡ªå·±æ‘¸ç´¢å‡ºäº†2ç§æ–¹æ³•æ¥å®ç°è¿™ä¸ªéœ€æ±‚ã€‚
 ç¬¬ä¸€ç§æ–¹æ³• ç¬¬ä¸€ç§æ–¹æ³•çš„æ€è·¯ï¼Œé¦–å…ˆå°†å¤´åƒæŠ å‡ºæ¥ï¼Œç„¶åæ–°å»ºä¸€ä¸ªåŒæ ·å¤§å°çš„æ–‡ä»¶ï¼Œå†å°†æŠ å‡ºæ¥å›¾å±‚ç²˜è´´åˆ°æ–°å»ºçš„å›¾å±‚ï¼Œæœ€åæ”¹å˜èƒŒæ™¯çš„é¢œè‰²ã€‚å¯å½’çº³ä¸ºæŠ å›¾$\to$æ–°å»º$\to$æ¢èƒŒæ™¯ã€‚
æŠ å¤´åƒ é¦–å…ˆä½¿ç”¨pixelmator proå°†åŸç…§ç‰‡æ‰“å¼€ï¼Œç„¶åä½¿ç”¨å¿«é€Ÿé€‰æ‹©ä¸­çš„å¿«é€Ÿé€‰åŒºï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
ç„¶åç§»åŠ¨åœ†åœˆï¼Œå·¦é”®ç‚¹å‡»é€‰ä¸­é‚£åªå…”å­,å¦‚ä¸‹å›¾æ‰€ç¤ºé»„è‰²éƒ¨åˆ†ï¼š
æœ€åé‡Šæ”¾é¼ æ ‡å·¦é”®ï¼Œè¡¨ç¤ºé€‰ä¸­å¯¹åº”åŒºåŸŸï¼Œå¦‚ä¸‹å›¾è™šçº¿æ‰€ç¤º
 æ–°å»ºæ–‡ä»¶ é€‰ä¸­å…”å­ä¹‹åï¼Œå°†æŒ‰ä½command&#43;cå¤åˆ¶ï¼Œç„¶åæ–°å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå…¶ä¸­çº¢è‰²æ¡†ä¸­è¡¨ç¤ºå¯ä»¥è°ƒæ•´å¤§å°ï¼š
ç„¶åå°†ä¹‹å‰æŠ å‡ºæ¥çš„é‚£åªå…”å­ï¼Œç²˜è´´åˆ°æ–°çš„æ–‡ä»¶ä¸­ï¼Œå°±å½¢æˆäº†å¦‚ä¸‹æ‰€ç¤ºçš„ä¸¤ä¸ªå›¾å±‚ï¼š
 å¡«å……èƒŒæ™¯é¢œè‰² ç„¶åé€‰ä¸­ä¸Šå›¾çš„ç™½è‰²èƒŒæ™¯å›¾å±‚ï¼Œåœ¨å³è¾¹çš„å·¥å…·æ ä¸­é€‰ä¸­æ ·å¼ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
ç„¶åé€‰æ‹©å¡«å……ï¼Œå¡«å……çš„æ—¶å€™é€‰æ‹©é¢œè‰²ï¼Œä¸è¦é€‰æ¸å˜ã€‚ç„¶åé€‰æ‹©å–œæ¬¢çš„é¢œè‰²ï¼Œè‡³æ­¤å°±å®Œæˆäº†èƒŒæ™¯çš„æ›´æ”¹ï¼š
 ç¬¬äºŒç§æ–¹æ³• ç¬¬äºŒç§æ–¹æ³•çš„æ€è·¯æ˜¯å…ˆé€‰ä¸­èƒŒæ™¯é¢œè‰²çš„åŒºåŸŸï¼Œç„¶åå¯¹è¿™ä¸ªåŒºåŸŸç”¨å¦å¤–ä¸€ç§é¢œè‰²è¿›è¡Œå¡«å……ã€‚å¯å½’çº³ä¸ºé€‰æ‹©$\to$æ›¿æ¢ã€‚
æŒ‰é¢œè‰²é€‰æ‹©èƒŒæ™¯ é¦–å…ˆåœ¨å³ä¾§çš„å·¥å…·æ ä¸­é€‰æ‹©å¿«é€Ÿé€‰æ‹©ï¼Œç„¶åé€‰æ‹©é€‰æ‹©é¢œè‰²ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
ç„¶åé€‰æ‹©èƒŒæ™¯é¢œè‰²åŒºåŸŸå¯¹åº”çš„é¢œè‰²ï¼Œå¦‚ä¸‹å›¾è™šçº¿æ‰€ç¤ºï¼š
 å¡«å……èƒŒæ™¯é¢œè‰² é€‰æ‹©å¥½é¢œè‰²åŒºåŸŸä¹‹åï¼Œç„¶ååœ¨å³ä¾§çš„å·¥å…·æ ä¸­é€‰æ‹©é¢œè‰²å¡«å……ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
ç„¶åé€‰æ‹©ç›¸åº”çš„é¢œè‰²åœ¨æˆ‘ä»¬é€‰å®šçš„åŒºåŸŸå†…è¿›è¡Œå¡«å……ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä½†æ˜¯åœ¨å¡«å……çš„æ—¶å€™è¦é€‰æ‹©å¹³æ»‘è¾¹ç¼˜ï¼Œè‡³æ­¤èƒŒæ™¯è‰²å°±å·²ç»æ”¹å¥½äº†ã€‚
 </content>
    </entry>
    
     <entry>
        <title>Go å®ç°å„ç§å†…æ’åºç®—æ³•</title>
        <url>https://iihui.github.io/post/go-sort/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>Go</tag>
        </tags>
        <content type="html"> å†…æ’åºæ˜¯æŒ‡åœ¨æ’åºè¿‡ç¨‹ä¸­ï¼Œæ•°æ®éƒ½èƒ½å¤Ÿæ”¾åœ¨å†…å­˜ä¸­å¤„ç†ï¼Œæ’åºæ—¶ä¸æ¶‰åŠæ•°æ®çš„å†…ã€å¤–äº¤æ¢ã€‚
æ’å…¥ç±»æ’åº ç›´æ¥æ’å…¥æ’åº func InsertSort(data []int) { var i, j, cur int length := len(data) //è·å¾—åˆ‡ç‰‡å¯¹åº”æ•°ç»„çš„é•¿åº¦  for i = 1; i &amp;lt; length; i&#43;&#43; { cur = data[i] for j = i - 1; j &amp;gt;= 0; j-- { if data[j] &amp;gt; cur { data[j&#43;1] = data[j] } else { break } } data[j&#43;1] = cur } }  äºŒåˆ†ç›´æ¥æ’å…¥æ’åº func BinInsertSort(data []int) { var cur, start, mid, end int length := len(data) for i := 1; i &amp;lt; length; i&#43;&#43; { cur = data[i] start = 0 end = i - 1 for start &amp;lt;= end { mid = start &#43; (end-start)/2 if data[mid] == cur { end = mid break } else if data[mid] &amp;gt; cur { end = mid - 1 } else { start = mid &#43; 1 } } for j := i - 1; j &amp;gt;= end&#43;1; j-- { data[j&#43;1] = data[j] } data[end&#43;1] = cur } }  shellæ’åº func shellCore(data [] int, step int) { var i, j, cur int length := len(data) for i = step; i &amp;lt; length; i&#43;&#43; { cur = data[i] for j = i - step; j &amp;gt;= 0; j -= step { if data[j] &amp;gt; cur { data[j&#43;step] = data[j] } else { break } } data[j&#43;step] = cur } } func ShellSort(data [] int) { step := len(data) / 2 for step &amp;gt; 0 { shellCore(data, step) step /= 2 } }  äº¤æ¢ç±»æ’åº å†’æ³¡æ’åº func BubbleSortBig(data []int) { //å¤§æ•°æ²‰åº• 	length := len(data) for i := 1; i &amp;lt; length; i&#43;&#43; { flag := false //æ ‡å¿—æœ¬è¶Ÿæ˜¯å¦æœ‰äº¤æ¢ 	for j := 0; j &amp;lt; length-i; j&#43;&#43; { if data[j] &amp;gt; data[j&#43;1] { data[j], data[j&#43;1] = data[j&#43;1], data[j] //å¹¶è¡Œèµ‹å€¼ 	flag = true } } if !flag { break } } } func BubbleSortSmall(data [] int) { //å°æ•°ä¸Šæµ® 	length := len(data) for i := 1; i &amp;lt; length; i&#43;&#43; { flag := false for j := length - 1; j &amp;gt;= i; j-- { if data[j] &amp;lt; data[j-1] { data[j], data[j-1] = data[j-1], data[j] //å¹¶è¡Œèµ‹å€¼ 	flag = true } } if !flag { break } } }  å¿«é€Ÿæ’åº func partition(data [] int, start int, end int) int { small := start - 1 index := rand.Intn(end-start) &#43; start //æ‰¾åˆ°éšæœºçš„åŸºå‡† 	data[index], data[end] = data[end], data[index] //å¹¶è¡Œèµ‹å€¼  for i := start; i &amp;lt; end; i&#43;&#43; { if data[i] &amp;lt; data[end] { small&#43;&#43; if small &amp;lt; i { data[small], data[i] = data[i], data[small] //å¹¶è¡Œèµ‹å€¼ 	} } } small&#43;&#43; data[small], data[end] = data[end], data[small] //å¹¶è¡Œèµ‹å€¼ 	return small } func QuickSort(data []int, start int, end int) { if start &amp;lt; end { pivot := partition(data, start, end) if pivot &amp;gt; start { QuickSort(data, start, pivot-1) } if end &amp;gt; pivot { QuickSort(data, pivot&#43;1, end) } } }  é€‰æ‹©ç±»æ’åº ç®€å•é€‰æ‹©æ’åº func SelectSort(data []int) { length := len(data) for i := 0; i &amp;lt; length-1; i&#43;&#43; { index := i for j := i &#43; 1; j &amp;lt; length; j&#43;&#43; { if data[j] &amp;lt; data[index] { index = j } } if index != i { data[i], data[index] = data[index], data[i] } } }  å †æ’åº func adjustHeap(data []int, start int, end int) { for parent, child := start, 2*start&#43;1; child &amp;lt;= end; child = 2*parent &#43; 1 { if child &amp;lt; end &amp;amp;&amp;amp; data[child] &amp;lt; data[child&#43;1] { //æ³¨æ„æ§åˆ¶æ¡ä»¶ 	child&#43;&#43; } if data[parent] &amp;lt; data[child] { data[parent], data[child] = data[child], data[parent] parent = child } else { break } } } func HeapSort(data []int) { length := len(data) for i := (length - 2) / 2; i &amp;gt;= 0; i-- { adjustHeap(data, i, length-1) } for i := length - 1; i &amp;gt; 0; i-- { data[i], data[0] = data[0], data[i] adjustHeap(data, 0, i-1) } }  å½’å¹¶æ’åº func mergeCore(data, assist []int, start, end int) { if start == end { assist[start] = data[start] return } mid := start &#43; (end-start)/2 mergeCore(data, assist, start, mid) mergeCore(data, assist, mid&#43;1, end) i, j, k := start, mid&#43;1, start for i &amp;lt;= mid &amp;amp;&amp;amp; j &amp;lt;= end { if data[i] &amp;lt; data[j] { assist[k] = data[i] k&#43;&#43; i&#43;&#43; } else { assist[k] = data[j] k&#43;&#43; //Goä¸­åç½®&#43;&#43;ä¸èƒ½ä½œä¸ºè¡¨è¾¾å¼ï¼Œåªèƒ½æ˜¯è¯­å¥ 	j&#43;&#43; } } for i &amp;lt;= mid { assist[k] = data[i] k&#43;&#43; //Goä¸­åç½®&#43;&#43;ä¸èƒ½ä½œä¸ºè¡¨è¾¾å¼ï¼Œåªèƒ½æ˜¯è¯­å¥ 	i&#43;&#43; } for j &amp;lt;= end { assist[k] = data[j] k&#43;&#43; //Goä¸­åç½®&#43;&#43;ä¸èƒ½ä½œä¸ºè¡¨è¾¾å¼ï¼Œåªèƒ½æ˜¯è¯­å¥ 	j&#43;&#43; } for i := start; i &amp;lt;= end; i&#43;&#43; { data[i] = assist[i] } } func MergeSort(data [] int) { assist := make([]int, len(data)) //éœ€è¦é‡æ–°ç”Ÿæˆä¸€ä¸ªåˆ‡ç‰‡ 	mergeCore(data, assist, 0, len(data)-1) }  è®¡æ•°æ’åº func CountSort(data []int, radix int) { length := len(data) count := make([]int, radix) assist := make([]int, length) for i := 0; i &amp;lt; length; i&#43;&#43; { count[data[i]]&#43;&#43; } for i := 1; i &amp;lt; radix; i&#43;&#43; { count[i] &#43;= count[i-1] } for i := length - 1; i &amp;gt;= 0; i-- { count[data[i]]-- //ä¸‹æ ‡æ˜¯ä»0å¼€å§‹çš„ï¼Œå› æ­¤å…ˆå‡1 	assist[count[data[i]]] = data[i] } for i := 0; i &amp;lt; length; i&#43;&#43; { data[i] = assist[i] } }  åŸºæ•°æ’åº func findMax(data []int) int { length, max := len(data), data[0] for i := 1; i &amp;lt; length; i&#43;&#43; { if data[i] &amp;gt; max { max = data[i] } } return max } func BucketSort(data []int, radix, exp int) { length, count, assist := len(data), make([]int, radix), make([]int, len(data)) for i := 0; i &amp;lt; length; i&#43;&#43; { count[(data[i]/exp)%radix]&#43;&#43; } for i := 1; i &amp;lt; radix; i&#43;&#43; { count[i] &#43;= count[i-1] } for i := length - 1; i &amp;gt;= 0; i-- { count[(data[i]/exp)%radix]-- assist[count[(data[i]/exp)%radix]] = data[i] } for i := 0; i &amp;lt; length; i&#43;&#43; { data[i] = assist[i] } } func RadixSort(data []int, radix int) { max := findMax(data) for exp := 1; exp &amp;lt;= max; exp *= radix { BucketSort(data, radix, exp) } }  </content>
    </entry>
    
     <entry>
        <title>VirtualBox è™šæ‹Ÿæœºæ‰©å®¹</title>
        <url>https://iihui.github.io/post/tool-vb-resize/</url>
        <categories>
          <category>QA</category>
        </categories>
        <tags>
          <tag>QA</tag>
        </tags>
        <content type="html"> ä»Šå¤©åœ¨ä½¿ç”¨VirtualBoxå®‰è£…win10è™šæ‹Ÿæœºçš„æ—¶å€™ï¼Œå¼€å§‹åˆ›å»ºçš„è™šæ‹Ÿç£ç›˜ç©ºé—´æœ‰ç‚¹å°ï¼Œå®‰è£…äº†è®¸å¤šè½¯ä»¶ä¹‹åç£ç›˜ä¸å¤Ÿç”¨äº†ï¼Œéœ€è¦è¿›è¡Œæ‰©å®¹ï¼Œæ¥ä¸‹æ¥åˆ†ä¸‰æ­¥æ¥è§£å†³è¯¥é—®é¢˜ã€‚
åŠ å…¥åˆ°ç¯å¢ƒå˜é‡ é¦–å…ˆå°†VirtualBoxçš„å®‰è£…ç›®å½•æ·»åŠ åˆ°ç¯å¢ƒå˜é‡pathä¸­ã€‚é¦–å…ˆå°†å³é”®ä»»åŠ¡æ ä¸Šçš„Windowså›¾æ ‡ï¼š
 å‘½ä»¤è¡Œä¸‹æ‰©å®¹ é¦–å…ˆå…³é—­è™šæ‹Ÿæœºï¼Œç„¶åä»¥ç®¡ç†å‘˜èº«ä»½æ‰“å¼€å‘½ä»¤è¡Œï¼Œè¾“å…¥VBoxManage list hddsæŸ¥çœ‹å·²ç»å®‰è£…çš„è™šæ‹Ÿæœºçš„æƒ…å†µ,æ‰¾åˆ°å¯¹åº”çš„è™šæ‹Ÿæœºçš„UUIDï¼š
ç„¶åä»¥VBoxmanage modifyhd UUID --resize é‡ç½®åå¤§å°(ä»¥MBä¸ºå•ä½)ï¼Œå…¶ä¸­--resizeåé¢æ˜¯é‡æ–°åˆ†é…ç©ºé—´çš„å¤§å°ï¼Œå•ä½ä¸ºMBï¼Œä¸Šå›¾æ˜¯å°†24GBçš„ç©ºé—´é‡ç½®ä¸º30GB
 æ‰©å±•Cç›˜ åœ¨è™šæ‹Ÿæœºä¸­é¦–å…ˆæ‰“å¼€ç£ç›˜ç®¡ç†ï¼Œå¯ä»¥çœ‹åˆ°å¤šäº†2GBçš„æœªåˆ†é…ç©ºé—´ï¼Œç„¶åé¼ æ ‡å³é”®Cç›˜ï¼Œé€‰æ‹©æ‰©å±•å·ï¼š ç„¶åç‚¹å‡»ä¸‹ä¸€æ­¥ï¼Œè®¾ç½®å°†è¦æ‰©å±•åˆ°Cç›˜çš„å®¹é‡ï¼š æœ€åå¯ä»¥çœ‹åˆ°Cç›˜çš„å®¹é‡å¦‚é¢„æœŸçš„é‚£æ ·å˜å¤§äº†ï¼š éœ€è¦æ³¨æ„çš„æ˜¯æœªåˆ†é…çš„ç©ºé—´éœ€è¦åœ¨Cç›˜çš„ç´§é‚»çš„å³ä¾§æ‰èƒ½æŒ‰ç…§å¦‚ä¸Šæ‰€è¿°çš„æ–¹å¼ç›´æ¥è¿›è¡Œæ‰©å±•ã€‚
 </content>
    </entry>
    
     <entry>
        <title>R ç»˜å›¾ä¸­ä½¿ç”¨ä¸­æ–‡</title>
        <url>https://iihui.github.io/post/r-chinese/</url>
        <categories>
          <category>ç»˜å›¾</category>
        </categories>
        <tags>
          <tag>R</tag>
        </tags>
        <content type="html"> é»˜è®¤æƒ…å†µä¸‹Rä¸­ç»˜å›¾ä¸æ”¯æŒä¸­æ–‡
ç»˜åˆ¶å›¾2-1 é¦–å…ˆï¼Œç»˜åˆ¶å›¾2-1(a),ä»£ç å¦‚ä¸‹ï¼š
fiber.absorp=read.csv(&amp;#39;~/downloads/data/paper/absorp.csv&amp;#39;,sep=&amp;#39;,&amp;#39;,header = T) absorp.wool=spline(fiber.absorp$RH,fiber.absorp$wool,n=1000) absorp.PP=spline(fiber.absorp$RH,fiber.absorp$PP,n=1000) absorp.cotton=spline(fiber.absorp$RH,fiber.absorp$cotton,n=1000) plot(absorp.wool,col=&amp;#34;DarkTurquoise&amp;#34;,xlab=&amp;#34;Relative Humidity(%)&amp;#34;,ylab=&amp;#34;hygroscopicity(%)&amp;#34;,main=&amp;#34;Hygrosopic isotherms of various fibers&amp;#34;,type=&amp;#39;l&amp;#39;,lwd=2) lines(absorp.PP,type=&amp;#39;l&amp;#39;,lwd=2,col=&amp;#34;DeepPink&amp;#34;) lines(absorp.cotton,col=&amp;#34;RosyBrown&amp;#34;,type=&amp;#34;l&amp;#34;,lwd=2) text.legend=c(&amp;#34;wool&amp;#34;,&amp;#34;cotton&amp;#34;,&amp;#34;PP&amp;#34;) legend(&amp;#34;topleft&amp;#34;,legend=text.legend,col=c(&amp;#34;Darkturquoise&amp;#34;,&amp;#34;RosyBrown&amp;#34;,&amp;#34;DeepPink&amp;#34;),text.col=c(&amp;#34;Darkturquoise&amp;#34;,&amp;#34;RosyBrown&amp;#34;,&amp;#34;DeepPink&amp;#34;),lty=c(1,1,1)) RH,PP,cotton,wool 0,0,0,0 20,0.8,2.5,7.5 40,0.9,4.9,12.3 60,0.92,7.1,14.6 80,0.96,9.2,16.8 100,1.02,12.8,27.2  ç„¶åï¼Œç»˜åˆ¶å›¾2-1(b),ä»£ç å¦‚ä¸‹ï¼š
fiber.temp=read.csv(&amp;#39;~/downloads/data/paper/temp.csv&amp;#39;,sep=&amp;#39;,&amp;#39;,header = T) temp.wool=spline(fiber.temp$time,fiber.temp$wool,n=1000) temp.PP=spline(fiber.temp$time,fiber.temp$PP,n=1000) temp.cotton=spline(fiber.temp$time,fiber.temp$cotton,n=1000) plot(temp.wool,col=&amp;#34;DarkTurquoise&amp;#34;,xlab=&amp;#34;Time(min)&amp;#34;,ylab=&amp;#34;Temperature(deg)&amp;#34;,main=&amp;#34;Temperature of various fibers&amp;#34;,type=&amp;#39;l&amp;#39;,lwd=2) lines(temp.PP,type=&amp;#39;l&amp;#39;,lwd=2,col=&amp;#34;DeepPink&amp;#34;) lines(temp.cotton,type=&amp;#39;l&amp;#39;,lwd=2,col=&amp;#34;RosyBrown&amp;#34;) text.legend=c(&amp;#34;wool&amp;#34;,&amp;#34;cotton&amp;#34;,&amp;#34;PP&amp;#34;) legend(&amp;#34;topright&amp;#34;,legend=text.legend,col=c(&amp;#34;Darkturquoise&amp;#34;,&amp;#34;RosyBrown&amp;#34;,&amp;#34;DeepPink&amp;#34;),text.col=c(&amp;#34;Darkturquoise&amp;#34;,&amp;#34;RosyBrown&amp;#34;,&amp;#34;DeepPink&amp;#34;),lty=c(1,1,1)) time,PP,cotton,wool 0,20.0,20.0,20.0 1,20.2,27.0,28.2 2,20.14,26.55,27.87 3,20.12,26.1,27.54 4,20.1,25.65,27.21 5,20.1,25.2,26.76 6,20.1,24.75,26.43 7,20.1,24.3,26.1 8,20.1,23.85,25.77 9,20.1,23.4,25.44 10,20.1,23,25.2 20,20.1,21.6,23.8 30,20.1,21.4,22.9 40,20.1,21.2,22.2 50,20.1,21.1,21.7 60,20.1,21.0,21.5 70,20.1,20.9,21.4 80,20.1,20.86,21.3 90,20.1,20.82,21.2  ç»˜åˆ¶å›¾3-1 ä»£ç å¦‚ä¸‹ï¼š
library(ggplot2) map.temp=read.csv(&amp;#34;~/downloads/screen/data/tmp-last.csv&amp;#34;) ggplot(map.temp,aes(x=reorder(part,-temp),y=temp,fill=temp-30.8))&#43;geom_bar(stat=&amp;#34;identity&amp;#34;,width=0.6)&#43;theme(axis.text.x = element_text(angle=90,colour = &amp;#34;black&amp;#34;,vjust = 1.0,hjust=0.6,size=11),axis.text.y=element_text(size=12))&#43;coord_cartesian(ylim=c(31,35))&#43;xlab(&amp;#34;Parts&amp;#34;)&#43;ylab(&amp;#34;Temperature(deg)&amp;#34;)&#43;scale_fill_gradient2(low=&amp;#39;#00BFFF&amp;#39;,high=&amp;#39;#00BF00&amp;#39;) part,temp,sweat Head,34.6,3.1 Upper back,34.16,2.91 Under arm,34.06,1.94 Chest,33.92,1.8 Abdomen,33.75,1.68 Lower back,33.21,3.02 Back thigh,33.19,1.31 Hand,33.10,1.61 Front High,32.8,1.62 Upper arm,32.68,1.79 Fossa,32.52,2.18 Forearm,32.2,1.41 Back calf,31.8,1.43 Front calf,31.78,1.56 Foot,30.9,1.74  ç»˜åˆ¶å›¾3-2 ä»£ç å¦‚ä¸‹ï¼š
library(ggplot2) map.temp=read.csv(&amp;#34;~/downloads/screen/data/tmp-last.csv&amp;#34;) ggplot(map.temp,aes(x=reorder(part,-sweat),y=sweat,fill=sweat))&#43;geom_bar(stat=&amp;#34;identity&amp;#34;,width=0.6)&#43;theme(axis.text.x = element_text(angle=90,colour = &amp;#34;black&amp;#34;,vjust = 1.0,hjust=0.6,size=11),axis.text.y=element_text(size=12))&#43;coord_cartesian(ylim=c(0.5,3.5))&#43;xlab(&amp;#34;Parts&amp;#34;)&#43;ylab(&amp;#34;Sweat evaporation(%)&amp;#34;)&#43;scale_fill_gradient2(low=&amp;#39;#649500&amp;#39;,high=&amp;#39;#6495ED&amp;#39;) part,temp,sweat Head,34.6,3.1 Upper back,34.16,2.91 Under arm,34.06,1.94 Chest,33.92,1.8 Abdomen,33.75,1.68 Lower back,33.21,3.02 Back thigh,33.19,1.31 Hand,33.10,1.61 Front High,32.8,1.62 Upper arm,32.68,1.79 Fossa,32.52,2.18 Forearm,32.2,1.41 Back calf,31.8,1.43 Front calf,31.78,1.56 Foot,30.9,1.74  ç»˜åˆ¶å›¾4-5 é¦–å…ˆï¼Œç»˜åˆ¶å›¾4-5(a),ä»£ç å¦‚ä¸‹ï¼š
ex.skin=read.csv(&amp;#39;~/downloads/data/4-1-3.csv&amp;#39;,sep=&amp;#39;,&amp;#39;,header = T) ex.ex=spline(ex.skin$time,ex.skin$ex,n=1000) ex.pre=spline(ex.skin$time,ex.skin$pre,n=1000) ex.com=spline(ex.skin$time,ex.skin$tw,n=1000) plot(ex.com,col=&amp;#34;DarkTurquoise&amp;#34;,xlab=&amp;#34;Time(min)&amp;#34;,ylab=&amp;#34;Temperature(deg)&amp;#34;,type=&amp;#39;l&amp;#39;,lwd=2,xlim=c(0,20),ylim = c(33,37)) lines(ex.pre,col=&amp;#34;DeepPink&amp;#34;,type=&amp;#34;l&amp;#34;,lwd=2) lines(ex.ex,col=&amp;#34;RosyBrown&amp;#34;,type=&amp;#34;l&amp;#34;,lwd=2) text.legend=c(&amp;#34;25-node-model&amp;#34;,&amp;#34;Multi-element model&amp;#34;,&amp;#34;Experimental&amp;#34;) legend(&amp;#34;topleft&amp;#34;,legend=text.legend,col=c(&amp;#34;Darkturquoise&amp;#34;,&amp;#34;DeepPink&amp;#34;,&amp;#34;RosyBrown&amp;#34;),text.col =c(&amp;#34;Darkturquoise&amp;#34;,&amp;#34;DeepPink&amp;#34;,&amp;#34;RosyBrown&amp;#34;),lty=c(1,1,1),cex=0.8) arrows(ex.skin$time, ex.skin$ex-0.010*ex.skin$ex, ex.skin$time, ex.skin$ex&#43;0.016*ex.skin$ex, length=0.05, angle=90, code=3) //ç»˜åˆ¶è¯¯å·®çº¿ time,ex,pre,tw 0,33.00,33.00,33.00 2,33.20,33.50,33.72 4,33.80,34.10,34.28 6,34.24,34.50,34.79 8,34.67,34.83,34.86 10,34.86,35.20,35.12 12,35.02,35.40,35.67 14,35.24,35.60,35.92 16,35.43,35.80,36.02 18,35.74,35.90,36.10 20,35.82,35.92,36.16  ç„¶åï¼Œç»˜åˆ¶å›¾4-5(b),ä»£ç å¦‚ä¸‹ï¼š
ex4.5b=read.csv(&amp;#39;~/downloads/data/4-2-1.csv&amp;#39;,sep=&amp;#39;,&amp;#39;,header = T) //4-2-1  pre=spline(ex4.5b$time,ex4.5b$pre,n=2000) tw=spline(ex4.5b$time,ex4.5b$tw,n=2000) ex=spline(ex4.5b$time,ex4.5b$ex,n=2000) plot(tw,col=&amp;#34;DarkTurquoise&amp;#34;,xlab=&amp;#34;time(min)&amp;#34;,ylab=&amp;#34;Temperature(deg)&amp;#34;,type=&amp;#39;l&amp;#39;,lwd=2,ylim = c(30,37)) lines(pre,type=&amp;#39;l&amp;#39;,lwd=2,col=&amp;#34;DeepPink&amp;#34;) lines(ex,col=&amp;#34;RosyBrown&amp;#34;,type=&amp;#34;l&amp;#34;,lwd=2) arrows(ex4.5b$time, ex4.5b$ex-0.007*ex4.5b$ex,ex4.5b$time, ex4.5b$ex&#43;0.011*ex4.5b$ex, length=0.05, angle=90, code=3) legend(&amp;#34;bottomright&amp;#34;,legend=text.legend,col=c(&amp;#34;Darkturquoise&amp;#34;,&amp;#34;DeepPink&amp;#34;,&amp;#34;RosyBrown&amp;#34;),text.col=c(&amp;#34;Darkturquoise&amp;#34;,&amp;#34;DeepPink&amp;#34;,&amp;#34;RosyBrown&amp;#34;),lty=c(1,1,1)) //ç»˜åˆ¶å³ä¸‹è§’çš„æç¤º  time,ex,pre,tw 0,30.00,29.92,29.92 2,35.60,35.65,35.82 4,36.42,36.35,36.62 6,36.54,36.58,36.79 8,36.42,36.54,36.80 10,36.36,36.54,36.72 12,36.20,36.48,36.70 14,36.18,36.40,36.62 16,36.12,36.32,36.58 18,36.06,36.20,36.48 20,36.02,36.11,36.42  ç»˜åˆ¶å›¾4-6 é¦–å…ˆï¼Œç»˜åˆ¶å›¾4-6(a),ä»£ç å¦‚ä¸‹ï¼š
chest.tem=read.csv(&amp;#39;~/downloads/data/4-6-1-1.csv&amp;#39;,sep=&amp;#39;,&amp;#39;,header = T) //4-6-1-1  chest.cloA=spline(chest.tem$time,chest.tem$cloA,n=2000) chest.cloB=spline(chest.tem$time,chest.tem$cloB,n=2000) chest.cloC=spline(chest.tem$time,chest.tem$cloC,n=2000) plot(chest.cloA,col=&amp;#34;DarkTurquoise&amp;#34;,xlab=&amp;#34;Time(min)&amp;#34;,ylab=&amp;#34;Temperature(deg)&amp;#34;,type=&amp;#39;l&amp;#39;,lwd=2,xlim=c(0,90),ylim = c(29,35)) lines(chest.cloB,col=&amp;#34;RosyBrown&amp;#34;,type=&amp;#34;l&amp;#34;,lwd=2) text.legend=c(&amp;#34;Experimental&amp;#34;,&amp;#34;Predictions&amp;#34;) legend(&amp;#34;topright&amp;#34;,legend=text.legend,col=c(&amp;#34;Darkturquoise&amp;#34;,&amp;#34;RosyBrown&amp;#34;),text.col =c(&amp;#34;Darkturquoise&amp;#34;,&amp;#34;RosyBrown&amp;#34;),lty=c(1,1,1),cex=1.0) arrows(chest.tem$time, chest.tem$cloA-0.010*chest.tem$cloA,chest.tem$time, chest.tem$cloA&#43;0.010*chest.tem$cloA, length=0.05, angle=90, code=3) //æ·»åŠ è¯¯å·®çº¿  time,cloA,cloB,cloC 0,33.40,33.40,33.40 5,33.70,33.58,33.50 10,34.05,33.90,33.78 15,34.15,34.10,33.92 20,34.30,34.20,34.00 25,34.38,34.27,34.05 30,34.46,34.38,34.20 35,33.78,33.68,33.68 40,33.06,33.12,33.00 45,31.72,31.80,31.60 50,31.04,31.10,31.40 55,32.30,32.02,31.70 60,31.60,31.20,31.30 65,31.40,31.02,31.31 70,31.36,31.00,31.15 75,31.00,30.90,30.95 80,30.95,30.92,30.92 85,30.20,30.10,30.50 90,30.20,30.10,30.80  ç„¶åï¼Œç»˜åˆ¶å›¾4-6(b),ä»£ç å¦‚ä¸‹ï¼š
chest.tem=read.csv(&amp;#39;~/downloads/data/4-6-1-2.csv&amp;#39;,sep=&amp;#39;,&amp;#39;,header = T) //4-6-1-2  chest.cloA=spline(chest.tem$time,chest.tem$cloA,n=2000) chest.cloB=spline(chest.tem$time,chest.tem$cloB,n=2000) plot(chest.cloA,col=&amp;#34;DarkTurquoise&amp;#34;,xlab=&amp;#34;Time(min)&amp;#34;,ylab=&amp;#34;Temperature(deg)&amp;#34;,type=&amp;#39;l&amp;#39;,lwd=2,xlim=c(0,90),ylim = c(29,35)) lines(chest.cloB,col=&amp;#34;RosyBrown&amp;#34;,type=&amp;#34;l&amp;#34;,lwd=2) text.legend=c(&amp;#34;Experimental&amp;#34;,&amp;#34;Predictions&amp;#34;) legend(&amp;#34;topright&amp;#34;,legend=text.legend,col=c(&amp;#34;Darkturquoise&amp;#34;,&amp;#34;RosyBrown&amp;#34;),text.col =c(&amp;#34;Darkturquoise&amp;#34;,&amp;#34;RosyBrown&amp;#34;),lty=c(1,1,1),cex=1.0) arrows(chest.tem$time, chest.tem$cloA-0.008*chest.tem$cloA,chest.tem$time, chest.tem$cloA&#43;0.011*chest.tem$cloA, length=0.05, angle=90, code=3) //ç»˜åˆ¶è¯¯å·®çº¿ time,cloA,cloB 0,33.40,33.40 5,33.50,33.42 10,33.78,33.63 15,33.92,33.76 20,34.00,33.82 25,34.05,34.10 30,34.20,34.12 35,33.68,33.57 40,33.00,33.23 45,31.60,31.46 50,31.40,31.32 55,31.70,31.50 60,31.30,31.29 65,31.31,31.27 70,31.15,31.06 75,30.95,30.82 80,30.92,30.62 85,30.50,30.38 90,30.80,30.46  ç»˜åˆ¶å›¾4-7 é¦–å…ˆï¼Œç»˜åˆ¶å›¾4-7aï¼Œä»£ç å¦‚ä¸‹ï¼š
chest.hr=read.csv(&amp;#39;~/downloads/data/4-6-2-1.csv&amp;#39;,sep=&amp;#39;,&amp;#39;,header = T) //4-6-2-1  chest.cloA=spline(chest.hr$time,chest.hr$cloA,n=2000) chest.cloB=spline(chest.hr$time,chest.hr$cloB,n=2000) plot(chest.cloA,col=&amp;#34;DarkTurquoise&amp;#34;,xlab=&amp;#34;Time(min)&amp;#34;,ylab=&amp;#34;Relative humidity(%)&amp;#34;,type=&amp;#39;l&amp;#39;,lwd=2,xlim=c(0,90),ylim = c(30,120)) //30-120  lines(chest.cloB,col=&amp;#34;RosyBrown&amp;#34;,type=&amp;#34;l&amp;#34;,lwd=2) text.legend=c(&amp;#34;Experimental&amp;#34;,&amp;#34;Predictions&amp;#34;) legend(&amp;#34;topleft&amp;#34;,legend=text.legend,col=c(&amp;#34;Darkturquoise&amp;#34;,&amp;#34;RosyBrown&amp;#34;),text.col =c(&amp;#34;Darkturquoise&amp;#34;,&amp;#34;RosyBrown&amp;#34;),lty=c(1,1,1),cex=1.0) arrows(chest.hr$time, chest.hr$cloA-0.05*chest.hr$cloA,chest.hr$time, chest.hr$cloA&#43;0.05*chest.hr$cloA, length=0.05, angle=90, code=3) //ç»˜åˆ¶è¯¯å·®çº¿  time,cloA,cloB,cloC,CloD 0,47,47,47,47 5,48,47.5,47.8,47.8 10,46,48,49,49 15,47,47.4,48.2,48.2 20,45.8,48,48.0,48.0 25,48.6,51,51.6,51.6 30,47.2,48.6,50.8,50.8 35,48,47,50,50 40,54,55,55.8,55.8 45,70,76,78,78 50,80,86,90,90 55,87,90,92,92 60,91,96,97,97 65,92,93,98,98 70,91,94,97,97 75,92,96,98,99 80,96,100,99,99 85,97,100,96,96 90,97,100,96,96  ç„¶åï¼Œç»˜åˆ¶å›¾4-7bï¼Œä»£ç å¦‚ä¸‹ï¼š
chest.hr=read.csv(&amp;#39;~/downloads/data/4-6-2-2.csv&amp;#39;,sep=&amp;#39;,&amp;#39;,header = T) chest.cloA=spline(chest.hr$time,chest.hr$cloA,n=2000) chest.cloB=spline(chest.hr$time,chest.hr$cloB,n=2000) plot(chest.cloA,col=&amp;#34;DarkTurquoise&amp;#34;,xlab=&amp;#34;Time(min)&amp;#34;,ylab=&amp;#34;Relative Humidity(%)&amp;#34;,type=&amp;#39;l&amp;#39;,lwd=2,xlim=c(0,90),ylim = c(30,120)) //30-120 lines(chest.cloB,col=&amp;#34;RosyBrown&amp;#34;,type=&amp;#34;l&amp;#34;,lwd=2) text.legend=c(&amp;#34;Experimental&amp;#34;,&amp;#34;Predictions&amp;#34;) legend(&amp;#34;topleft&amp;#34;,legend=text.legend,col=c(&amp;#34;Darkturquoise&amp;#34;,&amp;#34;RosyBrown&amp;#34;),text.col =c(&amp;#34;Darkturquoise&amp;#34;,&amp;#34;RosyBrown&amp;#34;),lty=c(1,1,1),cex=1.0) arrows(chest.hr$time, chest.hr$cloA-0.05*chest.hr$cloA,chest.hr$time, chest.hr$cloA&#43;0.05*chest.hr$cloA, length=0.05, angle=90, code=3) //ç»˜åˆ¶è¯¯å·®çº¿  time,cloA,cloB 0,47,47 5,47.8,47.2 10,49,50.6 15,48.2,50.0 20,48.0,49.3 25,51.6,50.2 30,50.8,50.6 35,50,50.4 40,55.8,54.2 45,78,79 50,90,83 55,96,89 60,97,96 65,98,98 70,97,99 75,98,100 80,99,100 85,100,102 90,100,104  ç»˜åˆ¶å›¾4-8 ç„¶åï¼Œç»˜åˆ¶å›¾4-8(a),ä»£ç å¦‚ä¸‹ï¼š
ex4.8a=read.csv(&amp;#39;~/downloads/screen/data/4-8-1-1.csv&amp;#39;,sep=&amp;#39;,&amp;#39;,header = T) layer1=spline(ex4.8a$time,ex4.8a$cloA,n=2000) layer2=spline(ex4.8a$time,ex4.8a$cloB,n=2000) plot(layer1,col=&amp;#34;Coral&amp;#34;,xlab=&amp;#34;time(min)&amp;#34;,ylab=&amp;#34;Temperature(deg)&amp;#34;,type=&amp;#39;l&amp;#39;,lwd=2,ylim = c(29,35)) lines(layer2,col=&amp;#34;DodgerBlue&amp;#34;,type=&amp;#34;l&amp;#34;,lwd=2) text.legend=c(&amp;#34;Clothing A&amp;#34;,&amp;#34;Clothing B&amp;#34;) legend(&amp;#34;topright&amp;#34;,legend=text.legend,col=c(&amp;#34;Coral&amp;#34;,&amp;#34;DodgerBlue&amp;#34;),text.col=c(&amp;#34;Coral&amp;#34;,&amp;#34;DodgerBlue&amp;#34;),lty=c(1,1,1)) time,cloA,cloB 0,33.4,33.4 5,33.42,33.62 10,33.6,33.9 15,33.72,34.1 20,33.82,34.2 25,33.9,34.27 30,34.15,33.68 35,34.20,33.12 40,33.23,31.8 45,31.46,31.1 50,31,31.52 55,31.5,31.25 60,31.29,31.02 65,31.27,31.00 70,31.06,30.90 75,30.82,30.72 80,30.62,30.52 85,30.38,30.39 90,30.46,30.50  ç„¶åï¼Œç»˜åˆ¶å›¾4-8(b),ä»£ç å¦‚ä¸‹ï¼š
ex4.8b=read.csv(&amp;#39;~/downloads/screen/data/4-8-2-1.csv&amp;#39;,sep=&amp;#39;,&amp;#39;,header = T) layer1=spline(ex4.8b$time,ex4.8b$cloA,n=2000) layer2=spline(ex4.8b$time,ex4.8b$cloB,n=2000) plot(layer1,col=&amp;#34;Coral&amp;#34;,xlab=&amp;#34;time(min)&amp;#34;,ylab=&amp;#34;Relative Humidity(%)&amp;#34;,type=&amp;#39;l&amp;#39;,lwd=2,ylim = c(40,120)) lines(layer2,col=&amp;#34;DodgerBlue&amp;#34;,type=&amp;#34;l&amp;#34;,lwd=2) text.legend=c(&amp;#34;Clothing A&amp;#34;,&amp;#34;Clothing B&amp;#34;) legend(&amp;#34;topleft&amp;#34;,legend=text.legend,col=c(&amp;#34;Coral&amp;#34;,&amp;#34;DodgerBlue&amp;#34;),text.col=c(&amp;#34;Coral&amp;#34;,&amp;#34;DodgerBlue&amp;#34;),lty=c(1,1,1)) time,cloA,cloB 0,47,47 5,48,47.2 10,46,50.6 15,47,50 20,45.8,49.3 25,48.6,50.2 30,47.2,50.6 35,48,75 40,54,88 45,70,89 50,80,92.8 55,87,96 60,91,96 65,92,97 70,91,96 75,92,97 80,96,98 85,97,98.5 90,97,101.5  ç»˜åˆ¶å›¾4-9 é¦–å…ˆï¼Œç»˜åˆ¶å›¾4-9(a),ä»£ç å¦‚ä¸‹ï¼š
ex4.9a=read.csv(&amp;#39;~/downloads/screen/data/4-9-1.csv&amp;#39;,sep=&amp;#39;,&amp;#39;,header = T) //4-9-1  layer1=spline(ex4.9a$time,ex4.9a$cloA,n=2000) layer2=spline(ex4.9a$time,ex4.9a$cloB,n=2000) plot(layer1,col=&amp;#34;Coral&amp;#34;,xlab=&amp;#34;time(min)&amp;#34;,ylab=&amp;#34;Temperature(deg)&amp;#34;,type=&amp;#39;l&amp;#39;,lwd=2,ylim = c(29,35)) lines(layer2,col=&amp;#34;DodgerBlue&amp;#34;,type=&amp;#34;l&amp;#34;,lwd=2) text.legend=c(&amp;#34;Clothing A&amp;#34;,&amp;#34;Clothing B&amp;#34;) legend(&amp;#34;topright&amp;#34;,legend=text.legend,col=c(&amp;#34;Coral&amp;#34;,&amp;#34;DodgerBlue&amp;#34;),text.col=c(&amp;#34;Coral&amp;#34;,&amp;#34;DodgerBlue&amp;#34;),lty=c(1,1,1)) time,cloA,cloB 0,33.4,33.40 5,33.55,33.56 10,33.72,33.82 15,33.89,34.02 20,34.00,33.84 25,33.84,33.76 30,33.76,33.68 35,33.68,33.61 40,33.58,33.36 45,33.20,33.12 50,33.00,32.80 55,32.80,32.75 60,32.75,32.78 65,32.78,32.80 70,32.80,32.67 75,32.67,32.58 80,32.58,32.46 85,32.46,32.30 90,32.30,32.28  ç„¶åï¼Œç»˜åˆ¶å›¾4-9(b),ä»£ç å¦‚ä¸‹ï¼š
ex4.9b=read.csv(&amp;#39;~/downloads/screen/data/4-9-2.csv&amp;#39;,sep=&amp;#39;,&amp;#39;,header = T) //4-9-2  layer1=spline(ex4.9b$time,ex4.9b$cloA,n=2000) layer2=spline(ex4.9b$time,ex4.9b$cloB,n=2000) plot(layer1,col=&amp;#34;Coral&amp;#34;,xlab=&amp;#34;time(min)&amp;#34;,ylab=&amp;#34;Relative Humidity(%)&amp;#34;,type=&amp;#39;l&amp;#39;,lwd=2,ylim = c(40,90)) lines(layer2,col=&amp;#34;DodgerBlue&amp;#34;,type=&amp;#34;l&amp;#34;,lwd=2) text.legend=c(&amp;#34;Clothing A&amp;#34;,&amp;#34;Clothing B&amp;#34;) legend(&amp;#34;topleft&amp;#34;,legend=text.legend,col=c(&amp;#34;Coral&amp;#34;,&amp;#34;DodgerBlue&amp;#34;),text.col=c(&amp;#34;Coral&amp;#34;,&amp;#34;DodgerBlue&amp;#34;),lty=c(1,1,1)) time,cloA,cloB 0,47,47 5,47.6,47.9 10,46.8,46.4 15,46.4,47.2 20,46.8,46.9 25,46.6,46.8 30,46.8,47.6 35,54.2,56.8 40,67.2,69.8 45,73,75.6 50,77,78.2 55,79,79.9 60,78.8,79.6 65,79.6,80.6 70,80,80.9 75,80.1,81.1 80,80.2,81.5 85,80.3,81.9 90,80.4,82.4  ç»˜åˆ¶å›¾4-10 é¦–å…ˆï¼Œç»˜åˆ¶å›¾4-10(a),ä»£ç å¦‚ä¸‹ï¼š
ex4.10a=read.csv(&amp;#39;~/downloads/screen/data/4-6-3-1-1.csv&amp;#39;,sep=&amp;#39;,&amp;#39;,header = T) layer1=spline(ex4.10a$time,ex4.10a$cloA,n=2000) layer2=spline(ex4.10a$time,ex4.10a$cloB,n=2000) plot(layer1,col=&amp;#34;Coral&amp;#34;,xlab=&amp;#34;time(min)&amp;#34;,ylab=&amp;#34;Temperature(deg)&amp;#34;,type=&amp;#39;l&amp;#39;,lwd=2,ylim = c(29,35)) lines(layer2,col=&amp;#34;DodgerBlue&amp;#34;,type=&amp;#34;l&amp;#34;,lwd=2) text.legend=c(&amp;#34;1-layer&amp;#34;,&amp;#34;2-layer&amp;#34;) legend(&amp;#34;topright&amp;#34;,legend=text.legend,col=c(&amp;#34;Coral&amp;#34;,&amp;#34;DodgerBlue&amp;#34;),text.col=c(&amp;#34;Coral&amp;#34;,&amp;#34;DodgerBlue&amp;#34;),lty=c(1,1,1)) time,cloA,cloB 0,33.4,33.4 5,33.42,33.58 10,33.6,33.72 15,33.72,33.9 20,33.82,34.1 25,33.9,34.18 30,34.15,34.3 35,34.18,33.4 40,33.23,32 45,31.46,31 50,31,31.52 55,31.5,31.30 60,31.29,31.18 65,31.27,31.12 70,31.06,30.96 75,30.82,30.78 80,30.62,30.56 85,30.38,30.40 90,30.46,30.52  ç„¶åï¼Œç»˜åˆ¶å›¾4-10(b),ä»£ç å¦‚ä¸‹ï¼š
ex4.10b=read.csv(&amp;#39;~/downloads/screen/data/4-6-3-2-1.csv&amp;#39;,sep=&amp;#39;,&amp;#39;,header = T) layer1=spline(ex4.10b$time,ex4.10b$cloA,n=2000) layer2=spline(ex4.10b$time,ex4.10b$cloB,n=2000) plot(layer1,col=&amp;#34;Coral&amp;#34;,xlab=&amp;#34;time(min)&amp;#34;,ylab=&amp;#34;Relative Humidity(%)&amp;#34;,type=&amp;#39;l&amp;#39;,lwd=2,ylim = c(40,120)) lines(layer2,col=&amp;#34;DodgerBlue&amp;#34;,type=&amp;#34;l&amp;#34;,lwd=2) text.legend=c(&amp;#34;1-layer&amp;#34;,&amp;#34;2-layer&amp;#34;) legend(&amp;#34;topleft&amp;#34;,legend=text.legend,col=c(&amp;#34;Coral&amp;#34;,&amp;#34;DodgerBlue&amp;#34;),text.col=c(&amp;#34;Coral&amp;#34;,&amp;#34;DodgerBlue&amp;#34;),lty=c(1,1,1)) time,cloA,cloB 0,47,47 5,48,48.8 10,46,46.8 15,47,48.2 20,45.8,47 25,47.6,49.6 30,48.6,50.6 35,49.4,52.2 40,54,60 45,70,76 50,80,87 55,87,93 60,91,95 65,92,97 70,91,96.2 75,92,99 80,96,101 85,97,102 90,97,102  </content>
    </entry>
    
     <entry>
        <title>C&#43;&#43; å¸¸è§çŸ¥è¯†ç‚¹</title>
        <url>https://iihui.github.io/post/cpp-base/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>C&#43;&#43;</tag>
        </tags>
        <content type="html"> staticçš„ä½œç”¨   å¯¹æ™®é€šå‡½æ•°å’Œå…¨å±€å˜é‡è€Œè¨€staticå…·æœ‰éšè—ä½œç”¨ï¼šå°†å…¶ä¿®é¥°çš„å…¨å±€å˜é‡å’Œå‡½æ•°çš„ä½œç”¨åŸŸé™å®šåœ¨æœ¬æ–‡ä»¶ä¸­ã€‚ä¸åŠ staticä¿®é¥°çš„å‡½æ•°å’Œå…¨å±€å˜é‡å…·æœ‰å…¨å±€å¯è§æ€§ã€‚
  æ™®é€šå±€éƒ¨å˜é‡è€Œè¨€
  æœªåˆå§‹åŒ–çš„staticæ™®é€šå±€éƒ¨å˜é‡ï¼Œç¼–è¯‘å™¨ä¼šå°†å…¶åˆå§‹åŒ–ä¸º0ï¼Œå› ä¸ºBSSæ®µ(æœªåˆå§‹åŒ–æ•°æ®æ®µï¼‰ä¸­æ‰€æœ‰çš„å­—èŠ‚éƒ½é»˜è®¤ä¸º0x00ã€‚
  ä½¿ç”¨staticä¿®é¥°çš„æ™®é€šå±€éƒ¨å˜é‡çš„ç”Ÿå­˜æœŸä¸ºæ•´ä¸ªæºç¨‹åºï¼Œå³åˆå§‹åŒ–ä¸€æ¬¡ä¾¿å…·æœ‰è®°å¿†æ€§ã€‚ä½†æ˜¯ï¼Œä½œç”¨åŸŸåªåœ¨å®šä¹‰è¯¥å˜é‡çš„å‡½æ•°ä¸­ã€‚
void testLocalStaticVar(){ static int x = 4; x&#43;&#43;; std::cout &amp;lt;&amp;lt; x &amp;lt;&amp;lt; std::endl; } int main(int argc, char **argv) { for (int i = 0; i &amp;lt; 3; &#43;&#43;i) { testLocalStaticVar(); } return 0; } // 5,6,7     æˆå‘˜å˜é‡ï¼š
  å±äºç±»çš„ï¼Œåªæœ‰ä¸€ä»½ï¼Œæ¯ä¸ªå¯¹è±¡å…±äº«ï¼Œå¯ä»¥ä½¿ç”¨ç±»åç›´æ¥è°ƒç”¨ã€‚
  é™¤äº†åŸºæœ¬æ•´å‹çš„const staticæ•´å‹å¯ä»¥åœ¨ç±»çš„å®šä¹‰ä½“ä¸­åˆå§‹åŒ–ï¼Œå…¶ä»–çš„å¿…é¡»åœ¨ç±»å¤–åˆå§‹åŒ–ã€‚
  sizeofè®¡ç®—çš„æ—¶å€™ä¸ä¼šè®¡ç®—é™æ€æ•°æ®æˆå‘˜ï¼Œå› ä¸ºå®ƒä¸æ”¾åœ¨æ ˆåŒºï¼Œæ”¾åœ¨å…¨å±€ï¼ˆé™æ€ï¼‰å­˜å‚¨åŒºã€‚
    æˆå‘˜å‡½æ•°ï¼š
  ä¸ä¸ä»»ä½•å¯¹è±¡å®ä¾‹å…³è”ï¼Œæ‰€ä»¥æ²¡æœ‰thisæŒ‡é’ˆï¼Œå› æ­¤ä¸èƒ½è®¿é—®éé™æ€æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°ã€‚
  staticæˆå‘˜å‡½æ•°ä¸èƒ½å£°æ˜ä¸ºconstã€‚æ¯•ç«Ÿå°†å‡½æ•°å£°æ˜ä¸ºconstå°±æ‰¿è¯ºä¸ä¼šä¿®æ”¹è¯¥å‡½æ•°æ‰€å±å¯¹è±¡ï¼Œè€Œstaticæˆå‘˜å‡½æ•°ä¸å±äºä»»ä½•å¯¹è±¡å®ä¾‹ã€‚
  å› ä¸ºæ²¡æœ‰thisæŒ‡é’ˆçš„å¼€é”€ï¼Œæ‰€ä»¥é™æ€æˆå‘˜å‡½æ•°ä¸ç±»çš„éé™æ€æˆå‘˜å‡½æ•°ç›¸æ¯”é€Ÿåº¦ä¸Šæœ‰å°‘è®¸å¢é•¿ã€‚
     constçš„ä½œç”¨ å¯¹äºæ™®é€šå˜é‡è€Œè¨€constä¿®é¥°ç¬¦çš„ç›®çš„ä¸ºäº†æ›¿ä»£å®å®šä¹‰ï¼Œä¸å®å®šä¹‰å¯¹æ¯”ï¼Œæ€»å…±æœ‰5ç‚¹åŒºåˆ«ï¼š
  constå¸¸é‡æœ‰ç±»å‹ï¼Œç¼–è¯‘å™¨å¯¹å…¶è¿›è¡Œç±»å‹å®‰å…¨æ£€æŸ¥ï¼›è€Œå®å®šä¹‰æ²¡æœ‰ç±»å‹ï¼Œç¼–è¯‘å™¨åªå¯¹å®å®šä¹‰è¿›è¡Œå­—ç¬¦æ›¿æ¢ã€‚
  #defineæ˜¯ä¸€ä¸ªç¼–è¯‘æ—¶æ¦‚å¿µï¼Œåœ¨é¢„å¤„ç†çš„æ—¶å€™å±•å¼€ï¼Œè¿›è¡Œç›´æ¥æ›¿æ¢ï¼Œå­˜å‚¨åœ¨ä»£ç æ®µï¼Œä¸åˆ†é…å†…å­˜ï¼Œç”Ÿå‘½å‘¨æœŸæ­¢äºç¼–è¯‘æ—¶æœŸï¼›è€Œconstå¸¸é‡å­˜åœ¨äºæ•°æ®æ®µï¼Œåˆ†é…å†…å­˜ï¼Œå±äºè¿è¡Œæ—¶çš„æ¦‚å¿µã€‚
  å®å®šä¹‰å¯ä»¥ä½¿ç”¨#undefæ¥ä½¿ä¹‹å‰çš„å®å®šä¹‰å¤±æ•ˆï¼›constå¸¸é‡å®šä¹‰åå°†åœ¨å®šä¹‰åŸŸå†…æ°¸ä¹…æœ‰æ•ˆã€‚
  ä½¿ç”¨constå¸¸é‡å¯èƒ½æ¯”ä½¿ç”¨#defineäº§ç”Ÿæ›´å°çš„ç›®æ ‡ä»£ç ï¼ˆä¾‹å¦‚ä»£ç ä¸­ä½¿ç”¨100æ¬¡åŒä¸€ä¸ªå®å®šä¹‰ï¼‰ã€‚
  å¸¸é‡æŠ˜å ï¼ˆç¼–è¯‘æœŸé—´ç®€åŒ–å¸¸é‡è¡¨è¾¾å¼&amp;ndash;å¯¹å¸¸é‡è¡¨è¾¾å¼æ±‚å€¼,å¹¶å°†æ±‚å¾—çš„å€¼æ›¿æ¢è¡¨è¾¾å¼ï¼Œæ”¾å…¥åˆ°å¸¸é‡è¡¨ä¸­)ã€‚
   æ™®é€šå˜é‡ä¸constä¿®é¥°ç¬¦éœ€æ³¨æ„çš„3ç‚¹ï¼š
  å£°æ˜constå˜é‡æ—¶å¿…é¡»è¿›è¡Œåˆå§‹åŒ–
  constå¯¹è±¡çš„åŠ¨æ€æ•°ç»„ï¼šå¿…é¡»æä¾›æ•°ç»„çš„åˆå§‹åŒ–
  constå…¨å±€å˜é‡ï¼šåœ¨å…¨å±€ä½œç”¨åŸŸä¸­å£°æ˜çš„constå˜é‡æ˜¯å®šä¹‰è¯¥å¯¹è±¡çš„æ–‡ä»¶çš„å±€éƒ¨å˜é‡ï¼Œæ­¤å˜é‡åªå­˜åœ¨äºé‚£ä¸ªæ–‡ä»¶ä¸­ï¼Œä¸èƒ½è¢«å…¶ä»–æ–‡ä»¶æ‰€è®¿é—®ã€‚   æŒ‡é’ˆå˜é‡å’Œconstä¿®é¥°ç¬¦ï¼š
  constæŒ‡é’ˆï¼šä¸€æ—¦åˆå§‹åŒ–ä¾¿ä¸èƒ½å†æŒ‡å‘åˆ«çš„å¯¹è±¡ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡è§£å¼•ç”¨æ¥æ”¹å˜æ‰€ç»‘å®šå¯¹è±¡çš„å€¼ã€‚
  æŒ‡å‘constå¯¹è±¡çš„æŒ‡é’ˆï¼šä¸èƒ½é€šè¿‡è§£å¼•ç”¨æ¥æ”¹å˜æ‰€æŒ‡çš„å¯¹è±¡çš„å€¼ï¼Œä½†æ˜¯å¯ä»¥æ›´æ”¹æ‰€æŒ‡å‘çš„å¯¹è±¡ï¼Œå³è§£é™¤ç»‘å®šï¼Œé‡æ–°å†ç»‘å®šã€‚
  æŒ‡å‘constå¯¹è±¡çš„constæŒ‡é’ˆï¼šä¸€æ—¦åˆå§‹åŒ–ä¾¿ä¸èƒ½å†æŒ‡å‘åˆ«çš„å¯¹è±¡ï¼Œä¹Ÿä¸èƒ½é€šè¿‡è§£å¼•ç”¨æ¥æ”¹å˜æ‰€æŒ‡çš„å¯¹è±¡çš„å€¼ã€‚
   å‡½æ•°ä¸constä¿®é¥°ç¬¦ï¼š
  å‡½æ•°çš„è¿”å›å€¼å’Œconstä¿®é¥°ç¬¦ï¼š
 å¦‚æœè¿”å›å€¼æ˜¯å€¼ç±»å‹(éæŒ‡é’ˆã€å¼•ç”¨ç±»å‹ï¼‰ï¼Œå¯¹äºå†…éƒ¨æ•°æ®ç±»å‹æ¥è¯´ï¼Œè¿”å›å€¼æ˜¯å¦æ˜¯å¸¸é‡å¹¶æ²¡æœ‰å…³ç³»ã€‚è€Œå¯¹ç±»ç±»å‹å¦‚æœè¿”å›å€¼ä¸ºæŸä¸ªå¯¹è±¡çš„constæˆ–æŸä¸ªå¯¹è±¡çš„å¼•ç”¨constï¼Œåˆ™è¿”å›å€¼å…·æœ‰constå±æ€§ï¼Œåªèƒ½è®¿é—®è¿”å›å€¼çš„å…¬æœ‰(å¯èƒ½ä¹Ÿå¯ä»¥ä¿æŠ¤æˆå‘˜ï¼‰æ•°æ®æˆå‘˜å’Œconstæˆå‘˜å‡½æ•°ï¼Œå¹¶ä¸”ä¸å…è®¸è¿›è¡Œèµ‹å€¼æ“ä½œã€‚     å¦‚æœè¿”å›å€¼æ˜¯æŒ‡é’ˆç±»å‹ï¼Œå‡½æ•°ä¸èƒ½è¿”å›å±€éƒ¨å˜é‡çš„æŒ‡é’ˆï¼Œå› ä¸ºå‡½æ•°è°ƒç”¨ä¹‹åæ ˆè¢«æ¸…ç†ï¼Œåªèƒ½è¿”å›æŒ‡å‘å †åŒºçš„åˆ†é…çš„å­˜å‚¨ç©ºé—´çš„æŒ‡é’ˆï¼Œæˆ–è€…æŒ‡å‘é™æ€å­˜å‚¨åŒºçš„æŒ‡é’ˆï¼Œå› ä¸ºåœ¨å‡½æ•°è¿”å›åå®ƒä»¬ä¾ç„¶æœ‰æ•ˆã€‚   å‡½æ•°çš„å‚æ•°å’Œconstä¿®é¥°ç¬¦ï¼š
  å¦‚æœæ˜¯ä¼ å€¼ï¼šå¯¹å‡½æ•°è°ƒç”¨è€…çš„çº¦æŸä¸å¤ªå¤§ï¼Œå¯ä»¥ä¼ å…¥ä¸€ä¸ªconstå˜é‡ä¹Ÿå¯ä»¥ä¼ å…¥ä¸€ä¸ªæ™®é€šå˜é‡ï¼Œåªèƒ½è¯´æ˜åœ¨å‡½æ•°ä¸­ä¸ä¼šæ”¹å˜å…¶å€¼ã€‚
  å¦‚æœæ˜¯ä¼ æŒ‡é’ˆï¼šå¯¹äºæŒ‡å‘éconstå˜é‡çš„æŒ‡é’ˆå‚æ•°ï¼Œåªèƒ½ä¼ å…¥ä¸€ä¸ªæŒ‡å‘éconstå˜é‡çš„æŒ‡é’ˆï¼Œä¸èƒ½ä¼ å…¥ä¸€ä¸ªconstæŒ‡é’ˆï¼Œå› ä¸ºæŒ‡æ˜ä¸èƒ½é€šè¿‡è§£å¼•ç”¨æ¥æ”¹å˜å€¼ã€‚å› æ­¤ï¼Œè‹¥æ˜¯ä¼ åœ°å€ï¼Œåˆ™æ— è®ºä»€ä¹ˆæ—¶å€™ä¼ é€’ä¸€ä¸ªåœ°å€ç»™å‡½æ•°ï¼Œåº”è¯¥å°½å¯èƒ½ç”¨constä¿®é¥°å®ƒï¼ˆé™¤éæ­¤å®å‚åœ¨å‡½æ•°å†…éœ€è¦ä¿®æ”¹ï¼‰ï¼Œå¦‚æœä¸è¿™ä¹ˆåšï¼Œå°±ä½¿å¾—æŒ‡å‘constçš„æŒ‡é’ˆä¸èƒ½åšå®å‚ã€‚
     å‡½æ•°å‚æ•°ä¸ºconstå¼•ç”¨æ—¶å¯ä»¥æ¥æ”¶ä¸´æ—¶å¯¹è±¡ã€‚   æˆå‘˜å˜é‡å’Œconstä¿®é¥°ç¬¦ï¼š
  å¯¹äºç±»æ¥è¯´constå˜é‡æ˜¯å¯å˜çš„ï¼Œä½†æ˜¯å¯¹äºå¯¹è±¡å®ä¾‹æ¥è¯´æ˜¯ä¸å¯å˜çš„ã€‚
  å¿…é¡»åœ¨æ„é€ å‡½æ•°çš„æˆåˆå§‹åŒ–åˆ—è¡¨ä¸­åˆå§‹åŒ–ã€‚   æˆå‘˜å‡½æ•°å’Œconstä¿®é¥°ç¬¦ï¼š
  thisæŒ‡é’ˆç±»å‹ç”±obj * const å˜ä¸º const obj * const
  constå¯¹è±¡å®ä¾‹ã€æŒ‡å‘constå¯¹è±¡çš„æŒ‡é’ˆã€æŒ‡å‘constå¯¹è±¡çš„å¼•éƒ½åªèƒ½è°ƒç”¨constæˆå‘˜å‡½æ•°ã€‚constå®æ–½äºæˆå‘˜å‡½æ•°çš„ç›®çš„ï¼Œç¡®ä¿è¯¥æˆå‘˜å‡½æ•°å¯ä½œç”¨äºconstå¯¹è±¡å®ä¾‹ã€‚å¦‚æœä¸å­˜åœ¨constæˆå‘˜å‡½æ•°ï¼Œåˆ™constå¯¹è±¡å®ä¾‹æ— æ³•è°ƒç”¨ä»»ä½•æˆå‘˜å‡½æ•°ã€‚  å¯¹äºéconstå¯¹è±¡è€Œè¨€å¯ä»¥è°ƒç”¨constæˆå‘˜å‡½æ•°å’Œéconstæˆå‘˜å‡½æ•°ã€‚   C&#43;&#43;æ„é€ å‡½æ•° æ„é€ å‡½æ•°çš„ç‰¹ç‚¹ æ„é€ å‡½æ•°æ˜¯ä¸€ç§ç‰¹æ®Šçš„æˆå‘˜å‡½æ•°ï¼Œ å®ƒå…·æœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š
  åå­—ä¸ç±»åç›¸åŒã€‚
  æ²¡æœ‰è¿”å›å€¼ã€‚
  åœ¨å¯¹è±¡åˆ›å»ºæ—¶è‡ªåŠ¨è°ƒç”¨ï¼Œä½†æ˜¯ä¸èƒ½è¢«æ˜¾å¼è°ƒç”¨ã€‚
   æ„é€ å‡½æ•°çš„ä½œç”¨   ç»™åˆ›å»ºçš„å¯¹è±¡å»ºç«‹ä¸€ä¸ªæ ‡è¯†ç¬¦;
  ä¸ºå¯¹è±¡æ•°æ®æˆå‘˜å¼€è¾Ÿå†…å­˜ç©ºé—´;
  å®Œæˆå¯¹è±¡æ•°æ®æˆå‘˜çš„åˆå§‹åŒ–ã€‚
![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-05-02 ä¸Šåˆ8.27.52.png)
   æ„é€ å‡½æ•°çš„åˆ†ç±» æ„é€ å‡½æ•°å¯ä»¥åˆ†ä¸ºæ™®é€šçš„æ„é€ å‡½æ•°å’Œæ‹·è´(å¤åˆ¶)æ„é€ å‡½æ•°ï¼š
  æ™®é€šçš„æ„é€ å‡½æ•°
  æ‹·è´æ„é€ å‡½æ•°: å¯¹äºä¸€ä¸ªæ„é€ å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå¦‚ä¸‹çš„å‡ ç§ï¼Œè€Œä¸”å…¶ä»–å‚æ•°éƒ½æœ‰é»˜è®¤å€¼ï¼Œç§°ä¸ºæ‹·è´æ„é€ å‡½æ•°ï¼š
 A &amp;amp; const A &amp;amp; volatile A &amp;amp; å…¶ä¸­volatileï¼ˆä¸ç¨³å®šçš„ï¼‰ç¼–è¯‘å™¨è®¿é—®è¯¥å˜é‡çš„ä»£ç ä¸å†è¿›è¡Œä¼˜åŒ– const volatile A &amp;amp;     é˜²æ­¢é»˜è®¤æ‹·è´å‘ç”Ÿï¼šå£°æ˜ä¸€ä¸ªç§æœ‰çš„æ‹·è´æ„é€ å‡½æ•°  å› æ­¤ä¸€ä¸ªç±»å…¶å®å¯ä»¥æœ‰å¤šä¸ªæ‹·è´æ„é€ å‡½æ•°ï¼Œæ‹·è´æ„é€ å‡½æ•°åˆåˆ†ä¸ºï¼š
  æµ…æ‹·è´ï¼šåªå¯¹å¯¹è±¡ä¸­çš„æ•°æ®æˆå‘˜è¿›è¡Œç®€å•çš„èµ‹å€¼ã€‚
  æ·±æ‹·è´ï¼šå¯¹äºå¯¹è±¡ä¸­åŠ¨æ€æˆå‘˜é‡æ–°åˆ†é…ç©ºé—´ã€‚
   malloc/freeå’Œnew/deleteçš„åŒºåˆ«   malloc/freeæ˜¯æ ‡å‡†åº“å‡½æ•°ï¼Œè€Œnew/deleteæ˜¯C&#43;&#43;è¿ç®—ç¬¦ã€‚
  newè‡ªåŠ¨è®¡ç®—éœ€è¦åˆ†é…çš„ç©ºé—´ï¼Œè€Œmallocéœ€è¦æ‰‹å·¥è®¡ç®—å­—èŠ‚æ•°ã€‚
  newæ˜¯ç±»å‹å®‰å…¨çš„ï¼Œå› ä¸ºnewä¸­å†…ç½®äº†sizeof, å…·æœ‰ç±»å‹è½¬æ¢å’Œç±»å‹å®‰å…¨æ£€æŸ¥åŠŸèƒ½ï¼Œè€Œmallocä¸æ˜¯ç±»å‹å®‰å…¨çš„ã€‚
int * p = new float[2]; //ç¼–è¯‘æ—¶æŒ‡å‡ºé”™è¯¯ int *p = (int*)malloc(2*sizeof(double)); //ç¼–è¯‘æ—¶æ— æ³•æŒ‡å‡ºé”™è¯¯   newé¦–å…ˆè°ƒç”¨operator newæ ‡å‡†åº“å‡½æ•°ï¼Œåˆ†é…è¶³å¤Ÿå¤§çš„åŸå§‹çš„æœªç±»å‹åŒ–çš„ç©ºé—´ã€‚æ¥ä¸‹æ¥è°ƒç”¨ç›¸å…³å¯¹è±¡çš„æ„é€ å‡½æ•°ï¼Œä»¥åˆå§‹åŒ–å¯¹è±¡ã€‚æœ€åè¿”å›æ–°åˆ†é…å¹¶æ„é€ çš„å¯¹è±¡çš„æŒ‡é’ˆã€‚è€Œmallocä¸èƒ½è°ƒç”¨æ„é€ å‡½æ•°ï¼›deleteå°†è°ƒç”¨è¯¥å®ä¾‹çš„ææ„å‡½æ•°ï¼Œç„¶åè°ƒç”¨operator deleteæ ‡å‡†åº“å‡½æ•°ä»¥æ–½æ”¾è¯¥å®ä¾‹å ç”¨çš„ç©ºé—´ï¼Œfreeä¸èƒ½è°ƒç”¨ææ„å‡½æ•°ã€‚ ![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-05-02 ä¸Šåˆ8.27.52.png)
  malloc/freeéœ€è¦å¤´æ–‡ä»¶æ”¯æŒï¼Œè€Œnew/deleteä¸éœ€è¦ã€‚
  newæ“ä½œè‡ªç”±å­˜å‚¨åŒº(free store)ä¸Šä¸ºå¯¹è±¡åŠ¨æ€åˆ†é…å†…å­˜ç©ºé—´ï¼Œè€Œmallocå‡½æ•°ä»å †ä¸ŠåŠ¨æ€åˆ†é…å†…å­˜ã€‚
  è‡ªç”±å­˜å‚¨åŒºæ˜¯C&#43;&#43;åŸºäºnewæ“ä½œç¬¦çš„ä¸€ä¸ªæŠ½è±¡æ¦‚å¿µï¼Œå‡¡æ˜¯é€šè¿‡newæ“ä½œç¬¦è¿›è¡Œå†…å­˜ç”³è¯·ï¼Œè¯¥å†…å­˜å³ä¸ºè‡ªç”±å­˜å‚¨åŒºã€‚
  å †æ˜¯æ“ä½œç³»ç»Ÿä¸­çš„æœ¯è¯­ï¼Œæ˜¯æ“ä½œç³»ç»Ÿæ‰€ç»´æŠ¤çš„ä¸€å—ç‰¹æ®Šå†…å­˜ï¼Œç”¨äºç¨‹åºçš„å†…å­˜åŠ¨æ€åˆ†é…ï¼ŒCè¯­è¨€ä½¿ç”¨mallocä»å †ä¸Šåˆ†é…å†…å­˜ï¼Œä½¿ç”¨freeé‡Šæ”¾å·²åˆ†é…çš„å¯¹åº”å†…å­˜ã€‚
  é‚£ä¹ˆè‡ªç”±å­˜å‚¨åŒºæ˜¯å¦èƒ½å¤Ÿæ˜¯å †ï¼ˆé—®é¢˜ç­‰ä»·äºnewæ˜¯å¦èƒ½åœ¨å †ä¸ŠåŠ¨æ€åˆ†é…å†…å­˜ï¼‰ï¼Œè¿™å–å†³äºoperator newçš„å®ç°ç»†èŠ‚ã€‚è‡ªç”±å­˜å‚¨åŒºä¸ä»…å¯ä»¥æ˜¯å †ï¼Œè¿˜å¯ä»¥æ˜¯é™æ€å­˜å‚¨åŒºï¼Œè¿™éƒ½çœ‹operator newåœ¨å“ªé‡Œä¸ºå¯¹è±¡åˆ†é…å†…å­˜ã€‚
  ç‰¹åˆ«åœ°ï¼Œnewç”šè‡³å¯ä»¥ä¸ä¸ºå¯¹è±¡åˆ†é…å†…å­˜ã€‚å®šä½newçš„åŠŸèƒ½å¯ä»¥åŠåˆ°è¿™ä¸€ç‚¹ï¼š ![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-05-02 ä¸Šåˆ8.26.28.png)
    newå†…å­˜åˆ†é…å¤±è´¥æ—¶ä¼šæŠ›å‡ºbad_allocå¼‚å¸¸ï¼Œå®ƒä¸ä¼šè¿”å›NULLï¼›mallocåˆ†é…å†…å­˜å¤±è´¥æ—¶è¿”å›NULLã€‚
  æ˜¯å¦å¯ä»¥è¢«é‡è½½ ![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-05-02 ä¸Šåˆ8.29.22.png)
  newä¸mallocæ˜¯å¦å¯ä»¥ç›¸äº’è°ƒç”¨ï¼šoperator new /operator deleteçš„å®ç°å¯ä»¥åŸºäºmallocï¼Œè€Œmallocçš„å®ç°ä¸å¯ä»¥å»è°ƒç”¨newã€‚
  èƒ½å¤Ÿç›´è§‚åœ°é‡æ–°åˆ†é…å†…å­˜ï¼šä½¿ç”¨mallocåˆ†é…çš„å†…å­˜åï¼Œå¦‚æœåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­å‘ç°å†…å­˜ä¸è¶³ï¼Œå¯ä»¥ä½¿ç”¨reallocå‡½æ•°è¿›è¡Œå†…å­˜é‡æ–°åˆ†é…å®ç°å†…å­˜çš„æ‰©å……ã€‚reallocå…ˆåˆ¤æ–­å½“å‰çš„æŒ‡é’ˆæ‰€æŒ‡å†…å­˜æ˜¯å¦æœ‰è¶³å¤Ÿçš„è¿ç»­ç©ºé—´ï¼Œå¦‚æœæœ‰ï¼ŒåŸåœ°æ‰©å¤§å¯åˆ†é…çš„å†…å­˜åœ°å€ï¼Œå¹¶ä¸”è¿”å›åŸæ¥çš„åœ°å€æŒ‡é’ˆã€‚å¦‚æœç©ºé—´ä¸å¤Ÿï¼Œå…ˆæŒ‰ç…§æ–°æŒ‡å®šçš„å¤§å°åˆ†é…ç©ºé—´ï¼Œå°†åŸæœ‰æ•°æ®ä»å¤´åˆ°å°¾æ‹·è´åˆ°æ–°åˆ†é…çš„å†…å­˜åŒºåŸŸï¼Œè€Œåé‡Šæ”¾åŸæ¥çš„å†…å­˜åŒºåŸŸã€‚
  å†…å­˜åˆ†é…ä¸è¶³çš„å¤„ç†ï¼šåœ¨operator newæŠ›å‡ºå¼‚å¸¸ä»¥åæ˜ ä¸€ä¸ªæœªè·å¾—æ»¡è¶³çš„éœ€æ±‚ä¹‹å‰ï¼Œå®ƒå…ˆè°ƒç”¨ä¸€ä¸ªç”¨æˆ·æŒ‡å®šçš„é”™è¯¯å¤„ç†å‡½æ•°ï¼Œè¿™å°±æ˜¯new-handlerã€‚![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-05-02 ä¸Šåˆ8.32.56.png) ![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-05-02 ä¸Šåˆ8.30.59.png)
   å †å’Œæ ˆçš„åŒºåˆ« å †å’Œæ ˆçš„åŒºåˆ«ï¼Œæ€»å…±åˆ†ä¸º6ç‚¹ï¼š  C&#43;&#43;ç©ºç±»é»˜è®¤ç”Ÿæˆçš„æˆå‘˜å‡½æ•°   æ„é€ å‡½æ•°
  æ‹·è´æ„é€ å‡½æ•°
  èµ‹å€¼æ“ä½œç¬¦
  ææ„å‡½æ•°
  å–å€è¿ç®—ç¬¦
  å–å€è¿ç®—ç¬¦constç‰ˆæœ¬
   deleteå’Œdelete[]çš„åŒºåˆ«   é’ˆå¯¹åŸºæœ¬æ•°æ®ç±»å‹ï¼šä½¿ç”¨newåˆ†é…åçš„ä¸ç®¡æ˜¯æ•°ç»„è¿˜æ˜¯éæ•°ç»„å½¢å¼å†…å­˜ç©ºé—´ç”¨ä¸¤ç§æ–¹å¼å‡å¯ï¼ŒåŸå› æ˜¯ï¼šåˆ†é…ç®€å•ç±»å‹å†…å­˜æ—¶ï¼Œå†…å­˜å¤§å°å·²ç»ç¡®å®šï¼Œç³»ç»Ÿå¯ä»¥è®°å¿†å¹¶ä¸”è¿›è¡Œç®¡ç†ï¼Œåœ¨ææ„æ—¶ï¼Œç³»ç»Ÿå¹¶ä¸ä¼šè°ƒç”¨ææ„å‡½æ•°ã€‚  é’ˆå¯¹ç±»ç±»å‹ï¼š
  delete ptr;ä»£è¡¨ç”¨æ¥é‡Šæ”¾å†…å­˜ï¼Œä¸”åªç”¨æ¥é‡Šæ”¾ptræŒ‡å‘çš„å†…å­˜ã€‚
  delete[] ptr; ç”¨æ¥é‡Šæ”¾ptræŒ‡å‘çš„å†…å­˜ï¼Œè¿˜é€ä¸€è°ƒç”¨æ•°ç»„ä¸­æ¯ä¸ªå¯¹è±¡çš„destructorã€‚![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-05-01 ä¸‹åˆ2.51.46.png)
  delete a;ä»…é‡Šæ”¾äº†aæŒ‡é’ˆæŒ‡å‘çš„å†…å­˜ç©ºé—´ , ä¹Ÿå°±æ˜¯åªè°ƒç”¨äº† a[0]å¯¹è±¡çš„ææ„å‡½æ•°ï¼Œ å‰©ä¸‹çš„ä»a[1]åˆ°a[9]è¿™9ä¸ªç”¨æˆ·è‡ªè¡Œåˆ†é…çš„m_cBufferå¯¹åº”å†…å­˜ç©ºé—´å°†ä¸èƒ½é‡Šæ”¾ä»è€Œé€ æˆå†…å­˜æ³„æ¼ã€‚
  delete [] a;é‡Šæ”¾äº†aæŒ‡é’ˆæŒ‡å‘çš„å…¨éƒ¨å†…å­˜ç©ºé—´ï¼Œä¹Ÿå°±æ˜¯è°ƒç”¨a[0]åˆ°a[9]å¯¹è±¡çš„ææ„å‡½æ•°é‡Šæ”¾åˆ†é…çš„å†…å­˜ç©ºé—´ã€‚
     è™šå‡½æ•°è¡¨ ![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-05-01 ä¸‹åˆ11.09.32.png)
![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-05-01 ä¸‹åˆ11.10.04.png)
 ä¸€èˆ¬ç»§æ‰¿ ![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-05-01 ä¸‹åˆ11.10.31.png)
å¤šé‡ç»§æ‰¿-æ— è™šå‡½æ•°è¦†ç›– å¤šé‡ç»§æ‰¿æ—¶ï¼Œæœ‰å‡ ä¸ªåŸºç±»å°±æœ‰å‡ ä¸ªvptr![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-05-01 ä¸‹åˆ11.11.02.png)
è¿™æ ·åšå°±æ˜¯ä¸ºäº†è§£å†³ä¸åŒçš„çˆ¶ç±»ç±»å‹çš„æŒ‡é’ˆæŒ‡å‘åŒä¸€ä¸ªå­ç±»å®ä¾‹ï¼Œè€Œèƒ½å¤Ÿè°ƒç”¨åˆ°å®é™…çš„å‡½æ•°ã€‚
 å¤šé‡ç»§æ‰¿-æœ‰è™šå‡½æ•°è¦†ç›– ![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-05-01 ä¸‹åˆ11.11.54.png)
 å“ªäº›å‡½æ•°ä¸èƒ½ä¸ºè™šå‡½æ•°   æ™®é€šå‡½æ•° ï¼š åªèƒ½é‡è½½ä¸èƒ½è¢«é‡å†™,å³ä¸èƒ½è¢«ç»§æ‰¿  é™æ€æˆå‘˜å‡½æ•°: ä¸å±äºä»»ä½•å¯¹è±¡å®ä¾‹ï¼Œå› è€Œæ²¡æœ‰åŠ¨æ€ç»‘å®šçš„
  æ„é€ å‡½æ•°
![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-05-01 ä¸‹åˆ11.07.52.png) æŒ‰ç…§ åŠ¨æ€ç»‘å®šåŸç†ï¼Œæ­¤æ—¶Bçš„æ„é€ å‡½æ•°ä¼šè¦†ç›–æ‰Açš„æ„é€ å‡½æ•°  å‹å…ƒå‡½æ•°ï¼š C&#43;&#43;ä¸æ”¯æŒå‹å…ƒå‡½æ•°çš„ç»§æ‰¿
  å†…è”å‡½æ•°ï¼š
  èµ‹å€¼æ“ä½œç¬¦é‡è½½å‡½æ•°
![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-05-01 ä¸‹åˆ11.08.16.png)
   C&#43;&#43;å¯¹è±¡å¸ƒå±€   å•ä¸€çš„ä¸€èˆ¬ç»§æ‰¿   å¤šé‡ç»§æ‰¿   é‡å¤ç»§æ‰¿   è±å½¢ç»§æ‰¿ ![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-05-01 ä¸‹åˆ11.06.45.png)    å†…å­˜æº¢å‡º å†…å­˜æº¢å‡º(out of memoryï¼‰ï¼šæ˜¯æŒ‡ç¨‹åºåœ¨ç”³è¯·å†…å­˜æ—¶ï¼Œæ²¡æœ‰è¶³å¤Ÿçš„å†…å­˜ç©ºé—´ä¾›å…¶ä½¿ç”¨ã€‚å¯¼è‡´ä¸å¤Ÿç”¨çš„åŸå› å¾ˆå¤š,æ³„æ¼åªæ˜¯å…¶ä¸­ä¸€ç§ã€‚é€šå¸¸åœ¨è¿è¡Œå¤§å‹è½¯ä»¶æˆ–æ¸¸æˆæ—¶ï¼Œè½¯ä»¶æˆ–æ¸¸æˆæ‰€éœ€è¦çš„å†…å­˜è¿œè¿œè¶…å‡ºäº†ä½ ä¸»æœºå†…å®‰è£…çš„å†…å­˜æ‰€æ‰¿å—å¤§å°ï¼Œå°±å«å†…å­˜æº¢å‡ºã€‚
å†…å­˜æº¢å‡ºçš„å‡ ç§æƒ…å†µï¼š
  æ¯”å¦‚ç³»ç»Ÿåªæœ‰å­˜æ”¾integerçš„ç©ºé—´ï¼Œä½†ä½ å´ç”³è¯·äº†å­˜æ”¾longï¼Œé‚£å°±æ˜¯å†…å­˜æº¢å‡ºã€‚
  æ¯”æ–¹å®šä¹‰äº†20ä¸ªå­—èŠ‚å¤§å°çš„å†…å­˜ç©ºé—´ï¼Œå´å†™å…¥äº†21ä¸ªå­—èŠ‚çš„æ•°æ®ã€‚é€šä¿—çš„è¯´ï¼Œå°±æ˜¯å†…å­˜ä¸å¤Ÿï¼Œæ²¡åŠæ³•æ”¯æŒå½“å‰ç¨‹åºã€‚ï¼ˆå½“å‘ç”Ÿå†…å­˜æº¢å‡ºæ—¶ï¼Œç¨‹åºå°†æ— æ³•è¿›è¡Œï¼Œå¼ºåˆ¶ç»ˆæ­¢ã€‚ï¼‰
   å†…å­˜æ³„æ¼ å†…å­˜æ³„æ¼æ˜¯æŒ‡ä½ å‘ç³»ç»Ÿç”³è¯·åˆ†é…å†…å­˜è¿›è¡Œä½¿ç”¨(new)ï¼Œå¯æ˜¯ä½¿ç”¨å®Œäº†ä»¥åå´ä¸å½’è¿˜(delete)ï¼Œç»“æœä½ ç”³è¯·åˆ°çš„é‚£å—å†…å­˜ä½ è‡ªå·±ä¹Ÿä¸èƒ½å†è®¿é—®ï¼ˆä¹Ÿè®¸ä½ æŠŠå®ƒçš„åœ°å€ç»™å¼„ä¸¢äº†ï¼‰ï¼Œè€Œç³»ç»Ÿä¹Ÿä¸èƒ½å†æ¬¡å°†å®ƒåˆ†é…ç»™éœ€è¦çš„ç¨‹åºã€‚ä¸€æ¬¡å†…å­˜æ³„éœ²å±å®³å¯ä»¥å¿½ç•¥ï¼Œä½†å†…å­˜æ³„éœ²å †ç§¯åæœå¾ˆä¸¥é‡ï¼Œæ— è®ºå¤šå°‘å†…å­˜,è¿Ÿæ—©ä¼šè¢«å å…‰ã€‚
å†…å­˜æ³„æ¼çš„åˆ†ç±»ï¼š
  å¸¸å‘æ€§å†…å­˜æ³„æ¼ã€‚å‘ç”Ÿå†…å­˜æ³„æ¼çš„ä»£ç ä¼šè¢«å¤šæ¬¡æ‰§è¡Œåˆ°ï¼Œæ¯æ¬¡è¢«æ‰§è¡Œçš„æ—¶å€™éƒ½ä¼šå¯¼è‡´ä¸€å—å†…å­˜æ³„æ¼ã€‚
  å¶å‘æ€§å†…å­˜æ³„æ¼ã€‚å‘ç”Ÿå†…å­˜æ³„æ¼çš„ä»£ç åªæœ‰åœ¨æŸäº›ç‰¹å®šç¯å¢ƒæˆ–æ“ä½œè¿‡ç¨‹ä¸‹æ‰ä¼šå‘ç”Ÿã€‚å¸¸å‘æ€§å’Œå¶å‘æ€§æ˜¯ç›¸å¯¹çš„ã€‚å¯¹äºç‰¹å®šçš„ç¯å¢ƒï¼Œå¶å‘æ€§çš„ä¹Ÿè®¸å°±å˜æˆäº†å¸¸å‘æ€§çš„ã€‚æ‰€ä»¥æµ‹è¯•ç¯å¢ƒå’Œæµ‹è¯•æ–¹æ³•å¯¹æ£€æµ‹å†…å­˜æ³„æ¼è‡³å…³é‡è¦ã€‚
  ä¸€æ¬¡æ€§å†…å­˜æ³„æ¼ã€‚å‘ç”Ÿå†…å­˜æ³„æ¼çš„ä»£ç åªä¼šè¢«æ‰§è¡Œä¸€æ¬¡ï¼Œæˆ–è€…ç”±äºç®—æ³•ä¸Šçš„ç¼ºé™·ï¼Œå¯¼è‡´æ€»ä¼šæœ‰ä¸€å—ä»…ä¸”ä¸€å—å†…å­˜å‘ç”Ÿæ³„æ¼ã€‚æ¯”å¦‚ï¼Œåœ¨ç±»çš„æ„é€ å‡½æ•°ä¸­åˆ†é…å†…å­˜ï¼Œåœ¨ææ„å‡½æ•°ä¸­å´æ²¡æœ‰é‡Šæ”¾è¯¥å†…å­˜ï¼Œæ‰€ä»¥å†…å­˜æ³„æ¼åªä¼šå‘ç”Ÿä¸€æ¬¡ã€‚
  éšå¼å†…å­˜æ³„æ¼ã€‚ç¨‹åºåœ¨è¿è¡Œè¿‡ç¨‹ä¸­ä¸åœçš„åˆ†é…å†…å­˜ï¼Œä½†æ˜¯ç›´åˆ°ç»“æŸçš„æ—¶å€™æ‰é‡Šæ”¾å†…å­˜ã€‚ä¸¥æ ¼çš„è¯´è¿™é‡Œå¹¶æ²¡æœ‰å‘ç”Ÿå†…å­˜æ³„æ¼ï¼Œå› ä¸ºæœ€ç»ˆç¨‹åºé‡Šæ”¾äº†æ‰€æœ‰ç”³è¯·çš„å†…å­˜ã€‚ä½†æ˜¯å¯¹äºä¸€ä¸ªæœåŠ¡å™¨ç¨‹åºï¼Œéœ€è¦è¿è¡Œå‡ å¤©ï¼Œå‡ å‘¨ç”šè‡³å‡ ä¸ªæœˆï¼Œä¸åŠæ—¶é‡Šæ”¾å†…å­˜ä¹Ÿå¯èƒ½å¯¼è‡´æœ€ç»ˆè€—å°½ç³»ç»Ÿçš„æ‰€æœ‰å†…å­˜ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬ç§°è¿™ç±»å†…å­˜æ³„æ¼ä¸ºéšå¼å†…å­˜æ³„æ¼ã€‚
   C&#43;&#43;ä¸­å“ªäº›æ“ä½œç¬¦æ˜¯ä¸èƒ½é‡è½½çš„   .  ï¼ˆæˆå‘˜è®¿é—®è¿ç®—ç¬¦)
  .* (æˆå‘˜æŒ‡é’ˆè®¿é—®è¿ç®—ç¬¦ï¼‰
  :: ï¼ˆåŸŸè¿ç®—ç¬¦ï¼‰
  sizeof
  ?: (æ¡ä»¶è¿ç®—ç¬¦ï¼‰
  typeid åŸŸè¿ç®—ç¬¦å’Œsizeofè¿ç®—ç¬¦çš„è¿ç®—å¯¹è±¡æ˜¯ç±»å‹è€Œä¸æ˜¯å˜é‡æˆ–è€…ä¸€èˆ¬çš„è¡¨è¾¾å¼ï¼Œä¸å…·å¤‡é‡è½½çš„ç‰¹å¾   C&#43;&#43;å¼ºåˆ¶ç±»å‹è½¬æ¢ static_cast   static_castä¹Ÿå¯ä»¥ç”¨åœ¨äºåŸºç±»ä¸æ´¾ç”Ÿç±»æŒ‡é’ˆæˆ–å¼•ç”¨ç±»å‹ä¹‹é—´çš„è½¬æ¢ã€‚ç„¶è€Œå®ƒä¸åšè¿è¡Œæ—¶çš„æ£€æŸ¥ï¼Œä¸å¦‚dynamic_castå®‰å…¨ã€‚static_castä»…ä»…æ˜¯ä¾é ç±»å‹è½¬æ¢è¯­å¥ä¸­æä¾›çš„ä¿¡æ¯æ¥è¿›è¡Œè½¬æ¢ï¼Œè€Œdynamic_caståˆ™ä¼šéå†æ•´ä¸ªç±»ç»§æ‰¿ä½“ç³»è¿›è¡Œç±»å‹æ£€æŸ¥,å› æ­¤dynamic_caståœ¨æ‰§è¡Œæ•ˆç‡ä¸Šæ¯”static_castè¦å·®ä¸€äº›ã€‚
  ç¼–è¯‘å™¨éšå¼æ‰§è¡Œçš„ä»»ä½•ç±»å‹è½¬æ¢éƒ½å¯ä»¥ç”±static_castæ¥å®Œæˆï¼Œæ¯”å¦‚intä¸floatã€doubleä¸charã€enumä¸intä¹‹é—´çš„è½¬æ¢ç­‰ã€‚
![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-05-02 ä¸Šåˆ9.45.33.png)
   const_cast  å°†è½¬æ¢æ‰è¡¨è¾¾å¼çš„constæ€§è´¨ã€‚ ![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-05-02 ä¸Šåˆ9.39.34.png)  é‚£æ—¢ç„¶constå˜é‡çš„å€¼æ˜¯è‚¯å®šä¸ä¼šå‘ç”Ÿå˜åŒ–çš„ï¼Œè¿˜éœ€è¦è¿™ä¸ªconst_castç±»å‹è½¬åŒ–æœ‰ä½•ç”¨ï¼Ÿè¿™å°±å¼•å‡ºäº†const_castçš„æœ€å¸¸ç”¨ç”¨æ³•ï¼š
å¦‚æœ æœ‰ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒçš„å½¢å‚æ˜¯non-constç±»å‹å˜é‡ï¼Œè€Œä¸”å‡½æ•°ä¸ä¼šå¯¹å®å‚çš„å€¼è¿›è¡Œæ”¹åŠ¨ï¼Œè¿™æ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç±»å‹ä¸ºconstçš„å˜é‡æ¥è°ƒç”¨å‡½æ•°ï¼Œæ­¤æ—¶const_castå°±æ´¾ä¸Šç”¨åœºäº†ã€‚![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-05-02 ä¸Šåˆ9.41.33.png)
const_castç»å¯¹ä¸æ˜¯ä¸ºäº†æ”¹å˜constå˜é‡çš„å€¼è€Œè®¾è®¡çš„ï¼åœ¨å‡½æ•°å‚æ•°çš„ä¼ é€’ä¸Šconst_castçš„ä½œç”¨æ‰æ˜¾ç°å‡ºæ¥ã€‚ åªæœ‰ä½¿ç”¨const_castæ‰èƒ½å°†constæ€§è´¨æ€§è´¨è½¬åŒ–æ‰ã€‚è¯•å›¾ä½¿ç”¨å…¶ä»–ä¸‰ç§å½¢å¼çš„å¼ºåˆ¶è½¬æ¢éƒ½ä¼šå¯¼è‡´ç¼–è¯‘æ—¶çš„é”™è¯¯ã€‚ï¼ˆæ·»åŠ constè¿˜å¯ä»¥ç”¨å…¶ä»–è½¬æ¢ç¬¦ï¼Œå¦‚static_constï¼‰
  é™¤äº†æ·»åŠ constæˆ–åˆ é™¤constç‰¹æ€§ï¼Œä½¿ç”¨const_castç¬¦æ¥æ‰§è¡Œå…¶ä»–ä»»ä½•ç±»å‹çš„è½¬æ¢éƒ½ä¼šå¼•èµ·ç¼–è¯‘é”™è¯¯ã€‚
   dynamic_cast   ç±»å‹å¿…é¡»ä¸ºç±»çš„æŒ‡é’ˆï¼Œå¼•ç”¨ã€void*  éœ€è¦æ£€æŸ¥è¿è¡Œæ—¶ç±»å‹ä¿¡æ¯ï¼Œè€Œè¿™ä¸ªä¿¡æ¯å­˜å‚¨åœ¨è™šå‡½æ•°è¡¨ä¸­ï¼Œæ‰€ä»¥åªæœ‰å®šä¹‰äº†è™šå‡½æ•°çš„ç±»æ‰å¯ä»¥ä½¿ç”¨ï¼Œå¦åˆ™ä¼šå‡ºç°ç¼–è¯‘é”™è¯¯
  å¦‚æœç»‘å®šåˆ°å¼•ç”¨æˆ–æŒ‡é’ˆå¯¹è±¡çš„ç±»å‹ä¸æ˜¯ç›®æ ‡ç±»å‹ï¼Œåˆ™dynamci_castå¤±è´¥ï¼ŒæŒ‡é’ˆä¼šè¿”å›0ï¼Œå¼•ç”¨ä¼šæŠ›å‡ºbad_castå¼‚å¸¸ã€‚   reinterpret_cast ä»…ä»…é‡æ–°è§£é‡Šç±»å‹ï¼Œä½†æ²¡æœ‰è¿›è¡ŒäºŒè¿›åˆ¶çš„è½¬æ¢:
  è½¬æ¢çš„ç±»å‹å¿…é¡»æ˜¯ä¸€ä¸ªæŒ‡é’ˆã€å¼•ç”¨ã€ç®—æœ¯ç±»å‹ã€å‡½æ•°æŒ‡é’ˆæˆ–è€…æˆå‘˜æŒ‡é’ˆ
  åœ¨æ¯”ç‰¹ä½çº§åˆ«ä¸Šè¿›è¡Œè½¬æ¢ã€‚å®ƒå¯ä»¥æŠŠä¸€ä¸ªæŒ‡é’ˆè½¬æ¢æˆä¸€ä¸ªæ•´æ•°ï¼Œä¹Ÿå¯ä»¥æŠŠä¸€ä¸ªæ•´æ•°è½¬æ¢æˆä¸€ä¸ªæŒ‡é’ˆï¼ˆå…ˆæŠŠä¸€ä¸ªæŒ‡é’ˆè½¬æ¢æˆä¸€ä¸ªæ•´æ•°ï¼Œåœ¨æŠŠè¯¥æ•´æ•°è½¬æ¢æˆåŸç±»å‹çš„æŒ‡é’ˆï¼Œè¿˜å¯ä»¥å¾—åˆ°åŸå…ˆçš„æŒ‡é’ˆå€¼ï¼‰
  æœ€æ™®é€šçš„ç”¨é€”å°±æ˜¯åœ¨å‡½æ•°æŒ‡é’ˆç±»å‹ä¹‹é—´è¿›è¡Œè½¬æ¢
   C&#43;&#43; ä¸­çš„å¼•ç”¨   å¼•ç”¨æ˜¯å˜é‡çš„åˆ«åï¼Œå®šä¹‰å¼•ç”¨çš„æ—¶å€™å¿…é¡»å…ˆåˆå§‹åŒ–  ä¸èƒ½å®šä¹‰å¼•ç”¨æ•°ç»„  ä¸èƒ½å®šä¹‰å¼•ç”¨çš„å¼•ç”¨
  å¼•ç”¨å¯ä»¥å‡å°‘æ„é€ å¼€é”€
  å½“å‡½æ•°è¿”å›å¼•ç”¨ç±»å‹æ—¶ï¼Œæ²¡æœ‰å¤åˆ¶è¿”å›å€¼ï¼Œè¿”å›çš„æ˜¯å¯¹è±¡æœ¬èº«ï¼Œæ‰€ä»¥ä¸è¦è¿”å›å±€éƒ¨å¯¹è±¡çš„å¼•ç”¨  å‡½æ•°å‚æ•°ä¸ºconstå¼•ç”¨æ—¶å¯ä»¥æ¥æ”¶ä¸´æ—¶å¯¹è±¡   </content>
    </entry>
    
     <entry>
        <title>çº¿æ€§è¡¨</title>
        <url>https://iihui.github.io/post/arith-linear-list/</url>
        <categories>
          <category>ç®—æ³•</category>
        </categories>
        <tags>
          <tag>ç®—æ³•</tag>
        </tags>
        <content type="html">  çº¿æ€§è¡¨æ˜¯ç”± $n$ä¸ªå…·æœ‰ç›¸åŒç‰¹æ€§çš„å…ƒç´ $(n \ge 0)$ ç»„æˆçš„ä¸€ä¸ªæœ‰é™åºåˆ—ï¼Œæ˜¯ä¸€ç§é€»è¾‘ç»“æ„ã€‚å®ƒçš„ç‰¹å¾åœ¨äºï¼šâ‘ è¡¨ä¸­æ‰€æœ‰æ•°æ®å…ƒç´ ç±»å‹ç›¸åŒã€‚â‘¡è¡¨ç”±æœ‰é™ä¸ªæ•°æ®å…ƒç´ æ„æˆã€‚â‘¢è¡¨ä¸­æ•°æ®å…ƒç´ æ˜¯ä½ç½®ç›¸å…³çš„ï¼ˆè¿™ä¸€ç‚¹è¡¨æ˜çº¿æ€§è¡¨ä¸åŒäºé›†åˆ)ï¼Œå¹¶ä¸”æ¯ä¸ªå…ƒç´ éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„åºå·ï¼Œè¡¨ä¸­å…ƒç´ å¯ä»¥é‡å¤å‡ºç°ã€‚ é€»è¾‘ç»“æ„ çº¿æ€§è¡¨æ˜¯ä¸€ç§é€»è¾‘ç»“æ„ï¼Œå…¶ä¸€èˆ¬è¡¨ç¤ºä¸º: ($a_1,a_2,&amp;hellip;,a_{i-1},a_i,a_{i&#43;1},&amp;hellip;,a_n$)
  é™¤äº†èµ·å§‹å…ƒç´ $a_1$æ²¡æœ‰å‰é©±å…ƒç´ ä¹‹å¤–ï¼Œå…¶ä»–å…ƒç´ $a_i$æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªå‰é©±å…ƒç´ $a_{i-1}$ã€‚
  é™¤äº†ç»ˆç«¯å…ƒç´ $a_n$æ²¡æœ‰åç»§å…ƒç´ å¤–ï¼Œå…¶ä»–å…ƒç´ $a_i$æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªåç»§å…ƒç´ $a_{i&#43;1}$ã€‚
  æ ¹æ®ä¸Šé¢çš„è¡¨ç¤ºï¼Œåœ¨çº¿æ€§è¡¨ä¸­ï¼Œæ¯ä¸ªå…ƒç´ è‡³å¤šåªæœ‰ä¸€ä¸ªå‰é©±å…ƒç´ ï¼Œå¹¶ä¸”è‡³å¤šåªæœ‰ä¸€ä¸ªåç»§å…ƒç´ ã€‚
å­˜å‚¨ç»“æ„ çº¿æ€§è¡¨æ˜¯ä¸€ç§é€»è¾‘ç»“æ„ï¼Œå…¶å­˜å‚¨ç»“æ„æœ‰ä¸¤ç§ï¼š
  é¡ºåºå­˜å‚¨ï¼šé¡ºåºè¡¨
  é“¾å¼å­˜å‚¨ï¼šå•é“¾è¡¨
  é¡ºåºè¡¨ çº¿æ€§è¡¨çš„é¡ºåºå­˜å‚¨æ˜¯æŒ‡ä¸€ç»„åœ°å€è¿ç»­çš„å­˜å‚¨å•å…ƒä¾æ¬¡å­˜å‚¨çº¿æ€§è¡¨ä¸­çš„å„ä¸ªå…ƒç´ ï¼Œä½¿å¾—çº¿æ€§è¡¨ä¸­åœ¨é€»è¾‘ç»“æ„ä¸Šç›¸é‚»çš„æ•°æ®å…ƒç´ å­˜å‚¨åœ¨ç›¸é‚»çš„ç‰©ç†å­˜å‚¨å•å…ƒä¸­ã€‚å³é€šè¿‡æ•°æ®å…ƒç´ ç‰©ç†å­˜å‚¨çš„ç›¸é‚»å…³ç³»æ¥åæ˜ æ•°æ®å…ƒç´ ä¹‹é—´é€»è¾‘ä¸Šçš„ç›¸é‚»å…³ç³»ï¼Œé‡‡ç”¨é¡ºåºå­˜å‚¨ç»“æ„çš„çº¿æ€§è¡¨é€šå¸¸ç§°ä¸ºé¡ºåºè¡¨ã€‚
é¡ºåºè¡¨çš„ç‰¹ç‚¹ æ ¹æ®é¡ºåºè¡¨çš„å®šä¹‰ï¼Œæ€»ç»“é¡ºåºè¡¨æœ‰ä»¥ä¸‹çš„ç‰¹å¾ï¼š
  å±äºç›´æ¥æ˜ å°„â€”â€”é€»è¾‘ä¸Šç›¸é‚»çš„å…ƒç´ ï¼Œå…¶ç‰©ç†ä½ç½®ä¹Ÿç›¸é‚»ã€‚
  å…·æœ‰éšæœºå­˜å–ç‰¹æ€§ï¼Œé€šè¿‡é¦–åœ°å€å’Œå…ƒç´ åºå·å¯ä»¥åœ¨ $O(1)$ æ—¶é—´å†…æ‰¾åˆ°æŒ‡å®šå…ƒç´ ã€‚
  å­˜å‚¨å¯†åº¦é«˜ï¼Œå…¶å€¼ä¸º$1$ã€‚$å­˜å‚¨å¯†åº¦=\frac{èŠ‚ç‚¹æ•°æ®æœ¬èº«æ‰€å ç”¨çš„å­˜å‚¨é‡}{èŠ‚ç‚¹ç»“æ„å ç”¨çš„å­˜å‚¨é‡}$
  åˆ é™¤å’Œæ’å…¥å…ƒç´ éœ€è¦ç§»åŠ¨å¤§é‡å…ƒç´ ï¼š
  æ’å…¥å…ƒç´ ç§»åŠ¨çš„å¹³å‡æ¬¡æ•°$=\frac{1}{n}\sum_{i=1}^{n}(n-i&#43;1)=\frac{n}{2}$, å› æ­¤æ—¶é—´å¤æ‚åº¦ä¸º$O(n)$ã€‚
  åˆ é™¤å…ƒç´ ç§»åŠ¨çš„å¹³å‡æ¬¡æ•°$=\frac{1}{n}\sum_{i=1}^{n}(n-i)=\frac{n-1}{2}$ï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦ä¸º$O(n)$ã€‚
    æè¿°é¡ºåºè¡¨çš„ç»“æ„ ä¸ºäº†æè¿°é¡ºåºè¡¨ï¼Œéœ€è¦çŸ¥é“ï¼šâ‘  é¡ºåºè¡¨çš„èµ·å§‹åœ°å€ï¼›â‘¡ é¡ºåºè¡¨çš„æœ€å¤§é•¿åº¦ï¼›â‘¢ é¡ºåºè¡¨çš„å½“å‰é•¿åº¦ã€‚
#define MaxSize 1000 typedef struct { int data[MaxSize]; int length; } SqList; ä¸€äº›ä¹ é¢˜ æœ€é•¿å¹³å° ç»™å®šä¸€ä¸ªæœ‰$n$ä¸ªå…ƒç´ çš„æ•´å‹æ•°ç»„$data$,å…¶ä¸­è¿ç»­çš„ç›¸ç­‰å…ƒç´ æ„æˆçš„å­åºåˆ—ç§°ä¸ºå¹³å°ï¼Œè¯·è®¾è®¡ä¸€ä¸ªç®—æ³•æ±‚ $data$ ä¸­æœ€é•¿å¹³å°çš„é•¿åº¦ã€‚
template&amp;lt;typename T&amp;gt; int linerArith&amp;lt;T&amp;gt;::maximumPlatform(T *data, int length) { int start = 0; int maxLen = 1; int curLen = 1; for (int i = 1; i &amp;lt; length; &#43;&#43;i) { if (data[i] == data[start]) { curLen&#43;&#43;; } else { if (curLen &amp;gt; maxLen) { maxLen = curLen; } curLen = 1; start = i; } } //å¯èƒ½æœ€åä¸€ä¸ªè¿ç»­çš„å­åºåˆ—ä¸ºæœ€å¤§å¹³å°  if (curLen &amp;gt; maxLen) { maxLen = curLen; } return maxLen; } ä»¥keyä¸ºè½´è°ƒæ•´ è®¾æœ‰ä¸€ä¸ªæ•°ç»„ $data$ , å…¶å…ƒç´ ä¸ºæ•´å‹æ•°æ®ï¼Œè®¾è®¡ä¸€ä¸ªç®—æ³•å°† $data$ ä¸­æ‰€æœ‰å°äº $key$ çš„æ•´æ•°æ”¾åœ¨å‰åŠéƒ¨åˆ†ï¼Œå¤§äºç­‰äº $key$ çš„æ•´æ•°æ”¾åœ¨ååŠéƒ¨åˆ†ã€‚
template&amp;lt;typename T&amp;gt; void linerArith&amp;lt;T&amp;gt;::rotate(T *data, int length, int key) { assert(length &amp;gt;= 0); int start = 0, end = length - 1; while (start &amp;lt; end) { while (start &amp;lt; end &amp;amp;&amp;amp; data[start] &amp;lt; key) { start&#43;&#43;; } while (start &amp;lt; end &amp;amp;&amp;amp; data[end] &amp;gt;= key) { end--; } if (start &amp;lt; end) { std::swap(data[start], data[end]); } } } ä»¥ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºè½´è°ƒæ•´ è®¾æœ‰ä¸€ä¸ªæ•°ç»„ $data$ï¼Œå…¶å…ƒç´ ä¸ºæ•´å‹ã€‚è®¾è®¡ä¸€ä¸ªå°½å¯èƒ½é«˜æ•ˆçš„ç®—æ³•ï¼Œä»¥ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºåˆ†ç•Œçº¿ï¼Œå°†æ‰€æœ‰å°äºç­‰äºå®ƒçš„å…ƒç´ ç§»åˆ°è¯¥å…ƒç´ å‰é¢ï¼Œå°†æ‰€æœ‰å¤§äºå®ƒçš„å…ƒç´ ç§»åˆ°è¯¥å…ƒç´ çš„åé¢ã€‚
template&amp;lt;typename T&amp;gt; void linerArith&amp;lt;T&amp;gt;::rotateByFirst(T *data, int length) { assert(length &amp;gt;= 0); int start = 0, end = length - 1; T pivot = data[0]; while (start &amp;lt; end) { while (start &amp;lt; end &amp;amp;&amp;amp; data[start] &amp;lt;= pivot) { start&#43;&#43;; } while (start &amp;lt; end &amp;amp;&amp;amp; data[end] &amp;gt; pivot) { end--; } if (start &amp;lt; end) { std::swap(data[start], data[end]); } } //å› ä¸ºå¿½ç•¥äº†ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå› æ­¤è¿™é‡Œéœ€è¦æ£€æŸ¥æœ€ç»ˆä½ç½®çš„é‚£ä¸ªå…ƒç´ å’Œç¬¬ä¸€ä¸ªå…ƒç´ çš„å¤§å°å…³ç³»  if (data[start] &amp;lt; pivot) { std::swap(data[start], data[0]); } } template&amp;lt;typename T&amp;gt; void linerArith&amp;lt;T&amp;gt;::rotateByFirstVersion2(T *data, int length) { assert(length &amp;gt;= 0); int start = 0, end = length - 1; int pivot = data[0]; while (start &amp;lt; end) { while (start &amp;lt; end &amp;amp;&amp;amp; data[end] &amp;gt; pivot) { end--; } if (start &amp;lt; end) { data[start&#43;&#43;] = data[end]; } while (start &amp;lt; end &amp;amp;&amp;amp; data[start] &amp;lt;= pivot) { start&#43;&#43;; } if (start &amp;lt; end) { data[end--] = data[start]; } } data[start] = pivot; //æ‰¾åˆ°æœ€ç»ˆä½ç½® } //å‰‘æŒ‡offeré‡Œå¿«é€Ÿæ’åºçš„æ€è·¯,è¯¥ç®—æ³•å¯ä»¥ä¿æŒç›¸å¯¹æ¬¡åºä¸å˜ template&amp;lt;typename T&amp;gt; void linerArith&amp;lt;T&amp;gt;::rotateByFirstVersion3(T *data, int length) { assert(length &amp;gt;= 0); int i = 0; T pivot = data[0]; for (int j = 1; j &amp;lt; length; &#43;&#43;j) { //æ˜¯å°äºä¸æ˜¯&amp;lt;=,å› ä¸ºç¬¬ä¸€ä¸ªå…ƒç´ è¦è¢«æ›¿æ¢æ‰  if (data[j] &amp;lt; pivot) { i&#43;&#43;; if (i &amp;lt; j) { std::swap(data[i], data[j]); } } } //æœ€åäº¤æ¢ä¸‹æ ‡ä¸º0çš„å…ƒç´ å’Œä¸‹æ ‡ä¸ºiçš„å…ƒç´   std::swap(data[0],data[i]); } void move1(SqList &amp;amp;L) { int i = 0; j = L.length - 1; int pivot = L.data[0]; int tmp; while (i &amp;lt; j) { while (i &amp;lt; j &amp;amp;&amp;amp; L.data[j] &amp;gt; pivot) j--; while (i &amp;lt; j &amp;amp;&amp;amp; L.data[i] &amp;lt;= pivot) //ç¬¬ä¸€ä¸ªå…ƒç´ è‚¯å®šä¼šè¢«å¿½ç•¥æ‰  i&#43;&#43;; //æ­¤å¤„å¯ä»¥æ·»åŠ ä¸€ä¸ª i &amp;lt; j çš„åˆ¤æ–­ï¼Œè¿™é‡Œçœç•¥æ‰æ˜¯å› ä¸ºå‰é¢å·²ç»åˆ¤æ–­i&amp;lt;j,  //æ‰€ä»¥åˆ°è¿™é‡Œçš„æ—¶å€™æœ€å¤šä¹Ÿæ˜¯i==j, è¿™æ—¶å€™ç›´æ¥äº¤æ¢ä¹Ÿæ˜¯æ²¡æœ‰å‰¯ä½œç”¨çš„  tmp = L.data[i]; L.data[i] = L.data[j]; L.data[j] = tmp; } if (L.data[i] &amp;lt; pivot)//å› ä¸ºå¿½ç•¥äº†ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå› æ­¤è¿™é‡Œéœ€è¦æ£€æŸ¥æœ€ç»ˆä½ç½®çš„é‚£ä¸ªå…ƒç´ å’Œç¬¬ä¸€ä¸ªå…ƒç´ çš„å¤§å°å…³ç³»  { tmp = L.data[0]; L.data[0] = L.data[i]; L.data[i] = tmp; } } void move2(SqList &amp;amp;L) { int i = 0, j = L.length - 1; int pivot = L.data[0]; while (i &amp;lt; j) { while (i &amp;lt; j &amp;amp;&amp;amp; L.data[j] &amp;gt; pivot) j--; //å…ˆä»æœ€åå¼€å§‹ï¼Œå› ä¸ºç¬¬ä¸€ä¸ªå…ƒç´ éœ€è¦é¦–å…ˆè¢«æ›¿æ¢  if (i &amp;lt; j) { L.data[i] = L.data[j]; i&#43;&#43;; } while (i &amp;lt; j &amp;amp;&amp;amp; L.data[i] &amp;lt;= pivot) i&#43;&#43;; if (i &amp;lt; j) { L.data[j] = L.data[i]; j--; } } L.data[i] = pivot; //æœ€åæ‰¾åˆ°æœ€ç»ˆçš„ä½ç½® } void move3(SqList &amp;amp;L) //å‰‘æŒ‡offeré‡Œå¿«é€Ÿæ’åºçš„æ€è·¯ { //è¯¥ç®—æ³•å¯ä»¥ä¿æŒç›¸å¯¹æ¬¡åºä¸å˜  int i = 0; int pivot = L.data[0]; int tmp; for (int j = 1; j &amp;lt; L.length; j&#43;&#43;) { if (data[j] &amp;lt; pivot) { i&#43;&#43;; if (i &amp;lt; j) //æ˜¯å°äºä¸æ˜¯&amp;lt;=,å› ä¸ºç¬¬ä¸€ä¸ªå…ƒç´ è¦è¢«æ›¿æ¢æ‰  { tmp = L.data[i]; L.data[i] = L.data[j]; L.data[j] = tmp; } } } tmp = L.data[0]; //æœ€åäº¤æ¢ä¸‹æ ‡ä¸º0çš„å…ƒç´ å’Œä¸‹æ ‡ä¸ºiçš„å…ƒç´   L.data[0] = L.data[i]; L.data[i] = tmp; } åˆ é™¤å…ƒç´  å·²çŸ¥é•¿åº¦ä¸º$n$çš„æ•°ç»„$data$ï¼Œç¼–å†™ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ä¸º$O(n)$,ç©ºé—´å¤æ‚åº¦ä¸º$O(1)$ çš„ç®—æ³•ï¼Œè¯¥ç®—æ³•åˆ é™¤çº¿æ€§è¡¨ä¸­æ‰€æœ‰å€¼ä¸º$value$çš„å…ƒç´ ã€‚
template&amp;lt;typename T&amp;gt; int linerArith&amp;lt;T&amp;gt;::deleteSameElement(T *data, int length, int value) { assert(length &amp;gt;= 0); int base = 0; for (int i = 0; i &amp;lt; length; &#43;&#43;i) { if (data[i] != value) { data[base&#43;&#43;] = data[i]; } } return base; } template&amp;lt;typename T&amp;gt; int linerArith&amp;lt;T&amp;gt;::deleteSameElement(T *data, int length, int value) { assert(length &amp;gt;= 0); int count = 0; //ä¸åŒçš„æ˜¯è®°å½•ç›®å‰ç­‰äºvalueçš„å…ƒç´ ä¸ªæ•°  for (int i = 0; i &amp;lt; length; &#43;&#43;i) { if (data[i] == value) { count&#43;&#43;; } else { data[i - count] = data[i]; } } return length - count; } ä¸€èˆ¬ç±»ä¼¼çš„é¢˜ç›®æœ‰ï¼šå·²çŸ¥é•¿åº¦ä¸º $n$ çš„çº¿æ€§è¡¨ $L$ é‡‡ç”¨é¡ºåºå­˜å‚¨ç»“æ„ï¼Œè¯•è®¾è®¡ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ç©ºé—´å¤æ‚åº¦ä¸¤æ–¹é¢éƒ½å°½å¯èƒ½é«˜æ•ˆçš„ç®—æ³•ï¼Œè¯¥ç®—æ³•åˆ é™¤çº¿æ€§è¡¨ä¸­å…ƒç´ å€¼ä¸º$[x,y]$ä¹‹é—´çš„æ‰€æœ‰æ•°æ®å…ƒç´ ã€‚
å•é“¾è¡¨ å•é“¾è¡¨æ˜¯ä»»æ„ä¸€ç»„å­˜å‚¨å•å…ƒå­˜æ”¾çº¿æ€§è¡¨ä¸­çš„å…ƒç´ ï¼Œæ¯ä¸ªèŠ‚ç‚¹é€šè¿‡ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘å…¶åç»§èŠ‚ç‚¹ã€‚è¿™ç»„å­˜å‚¨å•å…ƒå¯ä»¥æ˜¯è¿ç»­çš„ä¹Ÿå¯ä»¥æ˜¯ä¸è¿ç»­çš„ã€‚å•é“¾è¡¨å…·æœ‰å¦‚ä¸‹çš„ç‰¹ç‚¹ï¼š
  é€šè¿‡é¦–èŠ‚ç‚¹(å¸¦å“¨å…µèŠ‚ç‚¹æˆ–ä¸å¸¦å“¨å…µèŠ‚ç‚¹)çš„æŒ‡é’ˆæ¥æ ‡è¯†ä¸€ä¸ªå•é“¾è¡¨ã€‚
  ä»ä¸€ä¸ªå·²çŸ¥èŠ‚ç‚¹å‡ºå‘ï¼Œåªèƒ½è®¿é—®è¯¥èŠ‚ç‚¹å’Œé€šè¿‡ $next$ æŒ‡é’ˆè®¿é—®å…¶åç»§èŠ‚ç‚¹ï¼Œæ— æ³•ç›´æ¥æ‰¾åˆ°è¯¥èŠ‚ç‚¹ä¹‹å‰çš„å…¶ä»–èŠ‚ç‚¹ã€‚
  åœ¨å•é“¾è¡¨ä¸­æ’å…¥ä¸€ä¸ªèŠ‚ç‚¹æˆ–è€…åˆ é™¤ä¸€ä¸ªèŠ‚ç‚¹å¿…é¡»æ‰¾åˆ°å…¶å‰é©±èŠ‚ç‚¹ï¼Œæ’å…¥å’Œåˆ é™¤æ“ä½œä¸éœ€è¦ç§»åŠ¨èŠ‚ç‚¹ã€‚ã€Œåˆ é™¤ä¸€ä¸ªèŠ‚ç‚¹ä¹Ÿå¯ä»¥ä¸ç”¨çŸ¥é“å…¶å‰é©±èŠ‚ç‚¹ï¼Œåªè¦å°†å…¶åç»§èŠ‚ç‚¹çš„å…ƒç´ å†…å®¹å¾€å‰ç§»åˆ°å½“å‰èŠ‚ç‚¹ï¼Œå¹¶å°†å½“å‰èŠ‚ç‚¹çš„åç»§ä¿®æ”¹ä¸ºå…¶åç»§èŠ‚ç‚¹çš„åç»§èŠ‚ç‚¹ï¼Œç„¶ååˆ é™¤åç»§èŠ‚ç‚¹å³å¯ã€‚ä½†æ˜¯è¦è€ƒè™‘è¯¥èŠ‚ç‚¹æ˜¯å¦ä¸ºæœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œæˆ–è€…ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€  typedef struct LinkedNode { T data; //Tè¡¨ç¤ºæ•°æ®ç±»å‹  struct LinkedNode *next; } LinkedList;  å»ºç«‹å•é“¾è¡¨ å»ºç«‹å•é“¾è¡¨æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯ä»å¤´éƒ¨æ’å…¥ï¼›å¦ä¸€ç§æ˜¯ä»å°¾éƒ¨æ’å…¥ã€‚ä»å¤´éƒ¨æ’å…¥èŠ‚ç‚¹ç”Ÿæˆçš„å•é“¾è¡¨ï¼Œæœ€åèŠ‚ç‚¹å…ƒç´ é¡ºåºä¸æ’å…¥å…ƒç´ çš„é¡ºåºç›¸åï¼Œå³æˆé€†åºæ’åˆ—äº†ã€‚void creatLinkedList(LinkedList *&amp;amp;L, int *a, int n) { LinkedList *cur; L = (LinkedList *) malloc(sizeof(LinkedList)); L-&amp;gt;next = NULL; for (int i = 0; i &amp;lt; n; i&#43;&#43;) { cur = (LinkedList *)(malloc(sizeof(LinkedList))); cur-&amp;gt;data = a[i]; cur-&amp;gt;next = L-&amp;gt;next; L-&amp;gt;next = cur; //å½“å‰èŠ‚ç‚¹æˆä¸ºå“¨å…µèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹  } } å°¾æ’æ³•æ˜¯åœ¨å•é“¾è¡¨çš„å°¾éƒ¨æ’å…¥èŠ‚ç‚¹å…ƒç´ ï¼Œæœ€åç”Ÿæˆçš„å•é“¾è¡¨çš„èŠ‚ç‚¹å…ƒç´ é¡ºåºå’Œæ’å…¥å…ƒç´ çš„é¡ºåºæ˜¯ç›¸åŒçš„ã€‚
void creatLinkedList(LinkedList *&amp;amp;L, int *a, int n) { LinkedList *cur, *tail; L = (LinkedList *) malloc(sizeof(LinkedList)); tail = L; //tailå§‹ç»ˆæŒ‡å‘æœ€åçš„èŠ‚ç‚¹ï¼Œå¼€å§‹æ—¶æŒ‡å‘é“¾è¡¨çš„å¤´ç»“ç‚¹  for (int i = 0; i &amp;lt; n; i&#43;&#43;) { cur = (LinkedList *) malloc(sizeof(LinkedList)); cur-&amp;gt;data = a[i]; tail-&amp;gt;next = cur; tail = cur; } tail-&amp;gt;next = NULL; } åŸºæœ¬æ“ä½œ  æŒ‰åºå·æŸ¥æ‰¾èŠ‚ç‚¹å€¼ç®—æ³•  bool findNode(LinkedList *L,int i,int &amp;amp;result) { int j=0; LinkedList *cur=L; while(cur!=NULL &amp;amp;&amp;amp; j&amp;lt;i) { j&#43;&#43;; cur=cur-&amp;gt;next; } if(NULL==cur) return false; result=cur-&amp;gt;data; return true; } æŒ‰å…ƒç´ å€¼æŸ¥æ‰¾åºå·ç®—æ³•  int findNode(LinkedList *L,int key) { LinkedList *cur=L-&amp;gt;next; int index=0; while(cur!=NULL &amp;amp;&amp;amp; cur-&amp;gt;data!=key) { index&#43;&#43;; cur=cur-&amp;gt;next; } if(cur!=NULL) return index; else return -1; //è¿”å›-1ï¼Œè¡¨ç¤ºæ²¡æœ‰æ‰¾åˆ°è¯¥å…ƒç´  }   æ’å…¥å…ƒç´ ï¼šå°†å€¼ä¸º$x$çš„å…ƒç´ çš„æ–°èŠ‚ç‚¹æ’å…¥åˆ°ç¬¬$i$ä¸ªèŠ‚ç‚¹çš„ä½ç½®ä¸Šï¼Œå³å…ˆåœ¨å•é“¾è¡¨ä¸­æ‰¾åˆ°æ’å…¥èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹ï¼Œå³ç¬¬$i-1$ä¸ªèŠ‚ç‚¹ï¼Œå†åœ¨å…¶åæ’å…¥æ–°èŠ‚ç‚¹ã€‚
cur-&amp;gt;next=pre-&amp;gt;next; //curè¡¨ç¤ºå°†è¦æ’å…¥åˆ°é“¾è¡¨ä¸­çš„èŠ‚ç‚¹,æ’å…¥çš„ä½ç½®æ˜¯èŠ‚ç‚¹preä¹‹å  pre-&amp;gt;next=cur;   åˆ é™¤å…ƒç´ :å°†å•é“¾è¡¨ä¸­çš„ç¬¬$i$ä¸ªèŠ‚ç‚¹åˆ é™¤ã€‚
cur=pre-&amp;gt;next; //pre-&amp;gt;nextæ˜¯å¾…åˆ é™¤çš„èŠ‚ç‚¹ï¼Œcuræ˜¯å¾…åˆ é™¤èŠ‚ç‚¹çš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹  pre-&amp;gt;next=cur-&amp;gt;next; free (cur);    å°±åœ°é€†ç½® æœ‰ä¸€ä¸ªçº¿æ€§è¡¨$(a_1,a_2,&amp;hellip;,a_n)$ é‡‡ç”¨å¸¦å“¨å…µèŠ‚ç‚¹çš„å•é“¾è¡¨$L$å­˜å‚¨ï¼Œè®¾è®¡ä¸€ä¸ªå°±åœ°ç®—æ³•å°†å…¶å°±åœ°é€†ç½®ï¼Œæ‰€è°“â€œå°±åœ°â€æ˜¯æŒ‡ç®—æ³•çš„è¾…åŠ©ç©ºé—´ä¸º$O(1)$ã€‚void reverse(LinkedList * &amp;amp; L) //ä¼ å…¥å¼•ç”¨ { LinkedList *cur=L-&amp;gt;next; LinkedList *next; L-&amp;gt;next=NULL; while(cur!=NULL) { next=ptr-&amp;gt;next; //å…ˆä¿å­˜ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç„¶åä½¿ç”¨å¤´æ’æ³•è¿›è¡Œé€†ç½®  cur-&amp;gt;next=L-&amp;gt;next; L-&amp;gt;next=cur; cur=next; } }  æ‹†åˆ†é“¾è¡¨ è®¾$C={a_1,b_1,a_2,b_2,&amp;hellip;,a_n,b_n}$ ä¸ºä¸€çº¿æ€§è¡¨ï¼Œé‡‡ç”¨å¸¦å“¨å…µèŠ‚ç‚¹çš„$hc$å•é“¾è¡¨å­˜æ”¾ï¼Œè®¾è®¡ä¸€ä¸ªå°±åœ°ç®—æ³•ï¼Œå°†å…¶æ‹†åˆ†ä¸ºä¸¤ä¸ªçº¿æ€§è¡¨ï¼ˆå®ƒä»¬éƒ½æ˜¯ç”¨å•é“¾è¡¨å­˜æ”¾ï¼‰ä½¿å¾—$A={a_1,a_2,&amp;hellip;,a_n},B={b_n,b_{n-1},&amp;hellip;,b_2,b_1}$ï¼Œå³$A$æ˜¯æ­£åºæ’åˆ—ï¼Œ$B$æ˜¯é€†åºæ’åˆ—ã€‚
//å‚æ•°ä¼ å…¥å¼•ç”¨ï¼Œhaå­˜å‚¨æ˜¯Aï¼Œhbå­˜å‚¨çš„æ˜¯B void split(LinkedList *hc,LinkedList *&amp;amp;ha,LinkedList *&amp;amp; hb) { LinkedList *tail=ha; LinkedList *cur=hc-&amp;gt;next; LinkedList *next; hb-&amp;gt;next=NULL; while(cur != NULL) { tail-&amp;gt;next=cur; //å°¾æ’æ³•  tail=cur; cur=cur-&amp;gt;next; next=cur-&amp;gt;next; cur-&amp;gt;next= hb-&amp;gt;next; //å¤´æ’æ³•  hb-&amp;gt;next= cur; cur=next; } tail-&amp;gt;next=NULL; //åˆ«å¿˜äº† } é€’å¢æ’åº æœ‰ä¸€ä¸ªå¸¦å“¨å…µç»“ç‚¹çš„å•é“¾è¡¨$L$,è®¾è®¡ä¸€ä¸ªç®—æ³•ä½¿å…¶å…ƒç´ é€’å¢æœ‰åºã€‚æœ€åŸºæœ¬çš„æƒ³æ³•æ˜¯ä½¿ç”¨ç›´æ¥æ’å…¥æ’åºçš„æ€æƒ³ï¼Œä¸€ä¸ªä¸€ä¸ªæ’ï¼Œä¸åŒäºæ•°ç»„æ’åºï¼Œè¿™é‡Œå•é“¾è¡¨åªèƒ½ä»å¤´å¼€å§‹æŸ¥æ‰¾ã€‚void sortï¼ˆLinkedList * &amp;amp;L) { LinkedList *cur=L-&amp;gt;next; LinkedList *next=cur-&amp;gt;next; LinkedList *pre,*assist; //  cur-&amp;gt;next=NULL; //åªå«æœ‰ä¸€ä¸ªå…ƒç´ çš„æœ‰åºå•é“¾è¡¨  cur=next; while(cur!=NULL) { next=cur-&amp;gt;next; //é¦–å…ˆä¿å­˜ä¸‹ä¸€ä¸ªé“¾è¡¨èŠ‚ç‚¹  pre=L; //å•é“¾è¡¨åªèƒ½ä»å¤´å¼€å§‹å¾€åå¯»æ‰¾èŠ‚ç‚¹  assist=pre-&amp;gt;next; //assistä»å¤´å¼€å§‹éå†  while(assist!=NULL &amp;amp;&amp;amp; assist-&amp;gt;data &amp;lt; cur-&amp;gt;data) { pre=assist; //preè®°å½•æ’å…¥ä½ç½®çš„å‰ä¸€ä¸ªèŠ‚ç‚¹  assist=assist-&amp;gt;next; } cur-&amp;gt;next=pre-&amp;gt;next; //preçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹å°±æ˜¯è¦æ’å…¥çš„ä½ç½®  pre-&amp;gt;next=cur; //preçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹å°±æ˜¯è¦æ’å…¥çš„ä½ç½®  cur=next; } }  å…¬å…±èŠ‚ç‚¹ ç»™å®šä¸¤ä¸ªå•é“¾è¡¨ï¼Œç¼–å†™ç®—æ³•æ‰¾å‡ºå…¶å…¬å…±çš„èŠ‚ç‚¹ã€‚ç¬¬ä¸€ç§æ–¹æ³•åˆ†æï¼šä»å¤´åˆ°å°¾æ‰«æå•é“¾è¡¨$A$ï¼Œåˆ¤æ–­å½“å‰å…ƒç´ æ˜¯å¦åœ¨å•é“¾è¡¨$B$ä¸­å‡ºç°ï¼Œè‹¥åœ¨åˆ™æ’å…¥åˆ°å•é“¾è¡¨$C$ä¸­ã€‚
void findSameNode(LinkedList *A,LinkedList *B,LinkedList *&amp;amp;C) { LinkedList *curA=A-&amp;gt;next; LinkedList *curB=B-&amp;gt;next; LinkedList *tail; //å°¾æ’æ³•æ„å»ºæ–°çš„å•é“¾è¡¨  C=(LinkedList*)malloc(sizeof(LinkedList)); //é™æ€å­˜å‚¨åŒºåˆ†é…å†…å­˜  C-&amp;gt;next=NULL; tail=C; while(curA!=NULL) { curB=B-&amp;gt;next; while(curB!=NULL &amp;amp;&amp;amp; curB-&amp;gt;data!= curA-&amp;gt;data) curB=curB-&amp;gt;next; if(curB!=NULL) { tail-&amp;gt;next=curA; tail=curA; } curA=curA-&amp;gt;next; } tail-&amp;gt;next=NULL; //å°¾æ’æ³•æœ€ååº”è¯¥å°†å°¾å·´çš„nextåŸŸç½®ç©º } ç¬¬äºŒç§æ–¹æ³•åˆ†æï¼šå€Ÿç”¨ä¸¤ä¸ªè¾…åŠ©æ ˆï¼Œåˆ†åˆ«å­˜å‚¨ä¸¤ä¸ªé“¾è¡¨éå†æ—¶çš„åºåˆ—ï¼Œç„¶ååŒæ—¶å°†ä¸¤ä¸ªè¾…åŠ©æ ˆä¸­å…ƒç´ å¼¹å‡ºï¼Œç›´åˆ°å¼¹å‡ºçš„å…ƒç´ ä¸ç›¸ç­‰ï¼Œå¼¹å‡ºæ—¶é‡‡ç”¨å¤´æ’æ³•è¿›è¡Œæ„é€ æ–°çš„å•é“¾è¡¨ã€‚
ç¬¬ä¸‰ç§æ–¹æ³•åˆ†æï¼šé¦–å…ˆéå†ä¸¤ä¸ªé“¾è¡¨ï¼Œå¾—åˆ°ä¸¤ä¸ªå•é“¾è¡¨çš„é•¿åº¦å·®$k$ï¼Œç„¶åé•¿çš„å•é“¾è¡¨å…ˆèµ°$k-1$æ­¥ï¼Œç„¶åçŸ­çš„å’Œé•¿çš„åŒæ—¶èµ°ï¼Œç›´åˆ°é‡åˆ°ç›¸ç­‰çš„å…ƒç´ ï¼Œå³ä¸ºæ–°çš„å•é“¾è¡¨çš„é¦–èŠ‚ç‚¹ã€‚
 ç²¾é€‰ä¹ é¢˜ å¾ªç¯å·¦ç§» å°†$n$ä¸ªæ•´æ•°å­˜æ”¾åˆ°ä¸€ç»´æ•°ç»„$R$ä¸­ã€‚è¯•è®¾è®¡ä¸€ä¸ªåœ¨æ—¶é—´å’Œç©ºé—´å°½å¯èƒ½é«˜çš„ç®—æ³•ã€‚å°†$R$ä¸­ä¿å­˜çš„åºåˆ—å¾ªç¯å·¦ç§»$p ï¼ˆ0 \lt q\lt n)$ä¸ªä½ç½®ï¼Œå³å°†$R$ä¸­çš„æ•°æ®ç”±$(X_0,X_1,...,X_{n-1})$å˜æ¢ä¸º$(X_p,X_{p&#43;1},...,X_{n-1},X_0,X_1,....,X_{p-1})$
void reverse(int R[],int start,int end) { int i=start,j=end; int assist; while(i&amp;lt;j) { assist=R[i]; R[i]=R[j]; R[j]=assist; i&#43;&#43;; j--; } } void leftShift(int R[],int n,int p) { if(p&amp;gt;0 &amp;amp;&amp;amp;p&amp;lt;n) { reverse(R,0,n-1); reverse(R,0,n-p-1); reverse(R,n-p,n-1); } }  å¯»æ‰¾ä¸­ä½æ•° ç»™å®šä¸¤ä¸ªæ•°ç»„$A$å’Œ$B$,æ•°ç»„çš„é•¿åº¦ä¸º$n$,ä¸¤ä¸ªæ•°ç»„éƒ½åˆ†åˆ«æœ‰åºï¼Œæ±‚å‡ºä¸¤ä¸ªæ•°ç»„ä¸­çš„æ‰€æœ‰æ•°æ’åºåçš„ä¸­ä½æ•°ã€Œå¶æ•°åºåˆ—ä¸­é—´ä¸¤æ•°çš„å‰ä¸€ä¸ªä¸ºå…¶ä¸­ä½æ•°ã€ã€‚
è§£æ³•ä¸€ å› ä¸ºæ•°ç»„$A$å’Œ$B$å‡æœ‰åºï¼Œå› æ­¤å°†ä¸¤ä¸ªæ•°ç»„æ’åºåï¼Œç¬¬$n$ä¸ªæ•°å°±æ˜¯é¢˜ç›®ä¸­æ‰€è¦æ‰¾çš„ä¸­ä½æ•°ã€‚
int search(int A[], int B[], int n) { int i = 0, j = 0, k = 0; while (i &amp;lt; n &amp;amp;&amp;amp; j &amp;lt; n) { k&#43;&#43;; if (A[i] &amp;lt; B[j]) { if (k == n) return A[i]; i&#43;&#43;; } else { if (k == n) return B[j]; j&#43;&#43;; } } } è§£æ³•äºŒ åˆ†åˆ«æ±‚å‡ºä¸¤ä¸ªå‡åºåºåˆ—$A$ï¼Œ$B$çš„ä¸­ä½æ•°ï¼Œè®°ä¸º$aï¼Œb$ã€‚è‹¥$a=b$,åˆ™$a$æˆ–$b$å³ä¸ºæ‰€æ±‚ï¼Œå¦åˆ™èˆå¼ƒ$a,b$ä¸­è¾ƒå°è€…æ‰€åœ¨åºåˆ—çš„è¾ƒå°ä¸€åŠï¼ŒåŒæ—¶èˆå¼ƒè¾ƒå¤§è€…æ‰€åœ¨åºåˆ—çš„è¾ƒå¤§ä¸€åŠï¼Œè¦æ±‚ä¸¤æ¬¡èˆå¼ƒçš„å…ƒç´ ä¸ªæ•°ç›¸åŒï¼ˆæ¯æ¬¡ä»å·¦ä¾§å’Œå³ä¾§åˆ é™¤ç›¸åŒä¸ªæ•°çš„å…ƒç´ åï¼Œæ–°çš„ä¸¤ä¸ªæ•°ç»„ï¼Œå®ƒä»¬çš„ä¸­ä½æ•°ä¸åŸå§‹æ•°ç»„çš„ä¸­ä½æ•°æ˜¯ç›¸åŒçš„ï¼‰ã€‚é‡å¤ä¸Šè¿°è¿‡ç¨‹ï¼Œç›´åˆ°ä¸¤ä¸ªåºåˆ—å‡åªå«ä¸€ä¸ªå…ƒç´ ä¸ºæ­¢ï¼Œåˆ™è¾ƒå°çš„å³ä¸ºæ‰€æ±‚çš„ä¸­ä½æ•°ã€‚
int searchMid(int A[], int B[], int n) { int startA, midA, endA; startA = 0; endA = n - 1; startB = 0; endB = n - 1; while (startA != endA || startB != endB) { midA = (startA &#43; endA) / 2; midB = (startB &#43; endB) / 2; if (A[midA] == B[midB]) return A[midA]; if (A[midA] &amp;lt; B[midB]) { if ((startA &#43; endA) % 2 == 0)//è‹¥å…ƒç´ ä¸ªæ•°ä¸ºå¥‡æ•°æ—¶  { startA = midA; //èˆå¼ƒAä¸­é—´ç‚¹ä»¥å‰çš„éƒ¨åˆ†ä¸”ä¿ç•™ä¸­é—´ç‚¹  endB = midB; //èˆå¼ƒBä¸­é—´ç‚¹ä»¥åçš„éƒ¨åˆ†ä¸”ä¿ç•™ä¸­é—´ç‚¹  } else //è‹¥å…ƒç´ ä¸ªæ•°ä¸ºå¶æ•°æ—¶  { startA = midA &#43; 1; //èˆå¼ƒAçš„å‰åŠéƒ¨åˆ†,æ¯æ¬¡èˆå¼ƒçš„é•¿åº¦ç›¸åŒï¼Œå¯ä»¥ä¿è¯åŒæ—¶åˆ°è¾¾  endB = midB; //èˆå¼ƒBçš„ååŠéƒ¨åˆ†  } } else if (A[midA] &amp;gt; B[midB]) { if ((startA &#43; endA) % 2 == 0)//è‹¥å…ƒç´ ä¸ªæ•°ä¸ºå¥‡æ•°æ—¶  { endA = midA; //èˆå¼ƒAä¸­é—´ç‚¹ä»¥åçš„éƒ¨åˆ†ä¸”ä¿ç•™ä¸­é—´ç‚¹  startB = midB;//èˆå¼ƒBä¸­é—´ç‚¹ä»¥å‰çš„éƒ¨åˆ†ä¸”ä¿ç•™ä¸­é—´ç‚¹  } else //è‹¥å…ƒç´ ä¸ªæ•°ä¸ºå¶æ•°æ—¶  { endA = midA; //èˆå¼ƒAçš„ååŠéƒ¨åˆ†  startB = midB &#43; 1; //èˆå¼ƒBçš„å‰åŠéƒ¨åˆ†  } } } return A[startA] &amp;lt; B[startB] ? A[startA] : B[startB]; //è¾ƒå°è€…å³ä¸ºæ‰€æ±‚ }   è‹¥$A$å’Œ$B$æ•°ç»„çš„é•¿åº¦ä¸º$2k&#43;1$ï¼Œå–$A$æ•°ç»„çš„ä¸­ä½æ•°ä¸º$A[k]$ï¼Œ$B$æ•°ç»„çš„ä¸­ä½æ•°ä¸º$B[k]$ï¼Œ$A$å’Œ$B$ç»„åˆèµ·æ¥çš„ä¸­ä½æ•°åº”è¯¥æ˜¯ç¬¬$2k&#43;1$å¤§çš„é‚£ä¸ªæ•°ã€‚å¦‚æœ$A[k]==B[k]$ï¼Œåˆ™$A[k]$å¿…å®šä¸ºç¬¬$2k&#43;1$å¤§çš„æ•°ï¼Œæ˜¯æ‰€æœ‰æ•°å­—çš„ä¸­ä½æ•°ã€‚å¦‚æœ$A[k]\gt B[k]$ï¼Œåˆ™$A[k]$è‡³å°‘ä¸ºç¬¬$2k&#43;2$å¤§çš„æ•°ï¼Œ$B[k]$è‡³å¤šä¸ºç¬¬$2k&#43;1$å¤§çš„æ•°ï¼Œä¸­ä½æ•°ä»‹äº$B[k]$å’Œ$A[k]$ä¹‹é—´ã€‚
  è‹¥$A$å’Œ$B$æ•°ç»„çš„é•¿åº¦ä¸º$2k$ï¼ŒæŒ‰ç…§é¢˜ç›®æ‰€è¿°æ¡ä»¶ï¼Œåˆ™$A$çš„ä¸­ä½æ•°ä¸º$A[k-1]$,åˆ™$B$çš„ä¸­ä½æ•°ä¸º$B[k-1]$,$A$å’Œ$B$ç»„åˆèµ·æ¥çš„ä¸­ä½æ•°åº”è¯¥æ˜¯ç¬¬$2k$å¤§çš„é‚£ä¸ªæ•°ï¼Œè‹¥$A[k-1]==B[k-1]$,åˆ™$B[k-1]$å¿…ä¸ºç¬¬$2k$å¤§çš„é‚£ä¸ªæ•°ï¼Œå³æ‰€æœ‰æ•°å­—çš„ä¸­ä½æ•°ã€‚å¦‚æœ$A[k-1]\gt B[k-1]$ï¼Œåˆ™$A[k-1]$è‡³å°‘ä¸ºç¬¬$2k$å¤§çš„æ•°ï¼Œ$B[k-1]$è‡³å¤šä¸ºç¬¬$2k-1$å¤§çš„æ•°ï¼Œä¸­ä½æ•°ä»‹äº$B[k-1]$å’Œ$A[k-1]$ä¹‹é—´ã€‚   æ¬¡æ•°å¤§äºä¸€åŠ å·²çŸ¥ä¸€ä¸ªæ•´æ•°åºåˆ—$A=(a_0,a_1,...,a_{n-1})$ï¼Œåœ¨è¿™ä¸ªåºåˆ—ä¸­è‹¥å­˜åœ¨ã€Œä¸è¦æ±‚è¿ç»­çš„åºåˆ—ã€$a_{p_1} = ... = a_{p_m} = xï¼Œ0&amp;lt;= a_{i} &amp;lt; n, m &amp;gt; n/2 , (0 &amp;lt;= p_k &amp;lt; n, 1&amp;lt;=k&amp;lt;=m)$,åˆ™ç§° $x ä¸º A$ çš„ä¸»å…ƒç´ ï¼Œä¾‹å¦‚$A=(0,5,5,3,5,7,5,5)$,åˆ™$5$ä¸ºä¸»å…ƒç´ ï¼›åˆå¦‚$A=(0,5,5,3,5,1,5,7)$ï¼Œåˆ™$A$ä¸­æ²¡æœ‰ä¸»å…ƒç´ ã€‚å‡è®¾$A$ä¸­çš„ $n$ ä¸ªå…ƒç´ ä¿å­˜åœ¨ä¸€ä¸ªä¸€ç»´æ•°ç»„ä¸­ï¼Œè¯·è®¾ä¸€ä¸ªå°½å¯èƒ½é«˜æ•ˆçš„ç®—æ³•ï¼Œæ‰¾å‡º$A$çš„ä¸»å…ƒç´ ã€‚è‹¥å­˜åœ¨ä¸»å…ƒç´ ï¼Œåˆ™è¾“å‡ºè¯¥å…ƒç´ ï¼Œå¦åˆ™è¾“å‡º$-1$ã€‚
è§£æ³•ä¸€ ä¸»å…ƒç´ é—®é¢˜æ–¹æ³•ä¸€ï¼šå¯¹æ•°ç»„ä¸­å…ƒç´ è¿›è¡Œè®¡æ•°ï¼Œç„¶åæŸ¥çœ‹å‡ºç°æ¬¡æ•°æœ€å¤šçš„å…ƒç´ ï¼Œè‹¥æ¬¡æ•°å¤§äºä¸€åŠï¼Œåˆ™ä¸ºä¸»å…ƒç´ ã€‚è¿™ç§æ–¹å¼åªéœ€è¦å¯¹æ•°ç»„æ‰«æä¸€éï¼Œæ—¶é—´å¤æ‚åº¦ä¸º$O(n)$,ç©ºé—´å¤æ‚åº¦ä¸º$O(n)$ã€‚
int moreThanHalf(int A[],int n) { int *count=(int*)malloc(sizeof(int)*n); int index=0; for(int i=0;i&amp;lt;n;i&#43;&#43;) count[i]=0; for(int i=0;i&amp;lt;n;i&#43;&#43;) { count[A[i]]&#43;&#43;; if(count[A[i]) &amp;gt; count[A[index]]) index=A[i]; } if(count[index]&amp;gt;(n/2)) return index; else return -1; }  è§£æ³•äºŒ é¦–å…ˆä½¿ç”¨å¿«é€Ÿæ’åºï¼Œå°†å…ƒç´ æ’å¥½åºï¼Œç„¶åç»Ÿè®¡ç›¸åŒå…ƒç´ å‡ºç°çš„æœ€å¤§æ¬¡æ•°ã€‚ç»Ÿè®¡çš„æ—¶å€™å¯ä»¥ä½¿ç”¨æ±‚æœ€é•¿å¹³å°çš„ç®—æ³•ã€‚æ—¶é—´å¤æ‚åº¦ä¸º$O(nlogn)$,ç©ºé—´å¤æ‚åº¦ä¸º$O(n)$ã€‚
void quickSort(int A[],int start,int end) { int i=start,j=end; if(i&amp;lt;j) { while(i&amp;lt;j) { while(i&amp;lt;j &amp;amp;&amp;amp; A[j]&amp;gt;tmp) j--; A[i]=A[j]; if(i&amp;lt;j) { A[i]=A[j]; i&#43;&#43;; } while(i&amp;lt;j &amp;amp;&amp;amp; A[i]&amp;lt;=tmp) i&#43;&#43;; if(i&amp;lt;j) { A[j]=A[i]; j--; } } quickSort(A,start,i-1); quickSort(A, i&#43;1, end); } } //ç„¶åä½¿ç”¨å¹³å°ç®—æ³•  è§£æ³•ä¸‰ æ•°ç»„ä¸­å­˜åœ¨ä¸»å…ƒç´ æ—¶ï¼Œæ‰€æœ‰çš„éä¸»å…ƒç´ ä¸ªæ•°å’Œå¿…å°‘äºä¸€åŠã€‚å¦‚è®©ä¸»å…ƒç´ ä¸ä¸€ä¸ªéä¸»å…ƒç´ &amp;quot;é…å¯¹â€œï¼Œåˆ™æœ€åå¤šå‡ºæ¥çš„å…ƒç´ ï¼ˆæ²¡æœ‰å…ƒç´ ä¸ä¹‹é…å¯¹ï¼‰å°±æ˜¯ä¸»å…ƒç´ ã€‚ä»å‰å¾€åæ‰«ææ•°ç»„å…ƒç´ ï¼Œå‡å®šé‡åˆ°çš„å½“å‰å€¼é€‰å®šä¸ºä¸»å…ƒç´ ï¼Œå†æ¬¡é‡åˆ°å®ƒæ—¶è®¡æ•°åŠ 1ï¼Œé‡åˆ°ä¸ç­‰çš„å€¼æ—¶ï¼Œè®¡æ•°å‡1ã€‚å½“è®¡æ•°å‡ä¸º0åï¼Œå°†é‡åˆ°çš„ä¸‹ä¸€ä¸ªå€¼é‡æ–°é€‰å®šä¸ºä¸»å…ƒç´ ã€‚æ‰«æå®Œæ¯•ï¼Œå½“å‰é€‰å®šçš„å…ƒç´ ï¼ˆè®¡æ•°å€¼å¤§äº0ï¼‰å¯èƒ½æ˜¯ä¸»å…ƒç´ ï¼Œä½†æœªå¿…æ˜¯ä¸»å…ƒç´ ã€‚è¿˜éœ€è¦å¯¹æ•°ç»„å†è¿›è¡Œä¸€æ¬¡æ‰«æï¼Œè®°å½•å®ƒå‡ºç°çš„å®é™…ä¸ªæ•°ï¼Œä»¥åˆ¤å®šå®ƒæ˜¯å¦æ˜¯ä¸»å…ƒç´ ã€‚æ—¶é—´å¤æ‚åº¦ä¸º$O(n)$,ç©ºé—´å¤æ‚åº¦ä¸º $O(1)$ã€‚
void moreThanHalf(int A[],int n) { int pivot=A[0]; int count=1; int count2=0; for(int i=1;i&amp;lt;n;i&#43;&#43;) { if(A[i]==base) count&#43;&#43;; else { if(count&amp;gt;0) count--; else { pivot=A[i]; count=1; } } } if(count &amp;gt; 0) { count2=0; for(int i=0;i&amp;lt;n;i&#43;&#43;) { if(pivot==A[i]) count2&#43;&#43;; } if(count2 &amp;gt; n/2) return pivot; } return ERROR; //ERROR ä»£è¡¨ä¸ä¼šåœ¨åºåˆ—ä¸­å‡ºç°çš„é‚£ä¸ªæ•° }  </content>
    </entry>
    
     <entry>
        <title>Go æ ‡ç­¾</title>
        <url>https://iihui.github.io/post/go-label/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>Go</tag>
        </tags>
        <content type="html">  åœ¨for,switchæˆ–è€…selectä¸­éƒ½å¯ä»¥é…åˆæ ‡ç­¾å½¢å¼çš„æ ‡è¯†ç¬¦ä½¿ç”¨â€”â€”æŸä¸€è¡Œç¬¬ä¸€ä¸ªä»¥å†’å·ç»“å°¾çš„å•è¯ï¼ˆå› ä¸ºgofmtä¼šè‡ªåŠ¨å°†åç»­ä»£ç ç§»åŠ¨è‡³ä¸‹ä¸€è¡Œï¼‰ã€‚
 ä¸€ä¸ªå®ä¾‹ package main import &amp;#34;fmt&amp;#34; func main() { LABEL1: for i := 0; i &amp;lt;= 5; i&#43;&#43; { for j := 0; j &amp;lt;= 5; j&#43;&#43; { if j == 4 { continue LABEL1 } fmt.Printf(&amp;#34;i is: %d, and j is: %d\n&amp;#34;, i, j) } } æ³¨æ„äº‹é¡¹   æ ‡ç­¾çš„åç§°æ˜¯å¤§å°å†™æ•æ„Ÿçš„ï¼Œä¸ºäº†æå‡å¯è¯»æ€§ï¼Œä¸€èˆ¬å»ºè®®æ ‡ç­¾å…¨éƒ¨ä½¿ç”¨å¤§å†™ã€‚
  ä½¿ç”¨é€†å‘çš„go toè¯­å¥å®¹æ˜“äº§ç”Ÿæ„å¤§åˆ©è‹—æ¡ä¼¼çš„ä»£ç ï¼Œæ‰€ä»¥åº”è¯¥é¿å…ã€‚é€†å‘æ˜¯æŒ‡å…ˆä½¿ç”¨go toè¯­å¥ï¼Œåå®šä¹‰æ ‡ç­¾ã€‚
  å¦‚æœä¸€å®šè¦ä½¿ç”¨æ ‡ç­¾ï¼Œå»ºè®®ä½¿ç”¨æ­£å‘æ ‡ç­¾ã€‚ä½†æ˜¯ï¼Œæ ‡ç­¾å’Œgo to è¯­å¥ä¹‹é—´ä¸èƒ½æœ‰å˜é‡å®šä¹‰ï¼Œå¦åˆ™ä¼šå‡ºç°ç¼–è¯‘é”™è¯¯ã€‚
  å®šä¹‰äº†æ ‡ç­¾ï¼Œå¦‚æœä¸ä½¿ç”¨æ ‡ç­¾ä¼šäº§ç”Ÿç¼–è¯‘é”™è¯¯ã€‚
  æ­£ç¡®ä½¿ç”¨æ ‡ç­¾çš„æƒ…å½¢ï¼šå‘ç”Ÿé”™è¯¯æ—¶ï¼Œè·³å‡ºæ— é™å¾ªç¯ï¼Œå¹¶å…³é—­æŸäº›ä¸œè¥¿ã€‚
   </content>
    </entry>
    
     <entry>
        <title>Go ä¸­ifè¯­å¥</title>
        <url>https://iihui.github.io/post/go-if/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>Go</tag>
        </tags>
        <content type="html"> ifæ˜¯ç”¨äºæµ‹è¯•æŸä¸ªæ¡ä»¶ï¼ˆå¸ƒå°”å‹ï¼Œåˆè¢«ç§°ä¸ºé€»è¾‘å‹ï¼‰çš„è¯­å¥ï¼Œå¦‚æœè¯¥æ¡ä»¶æˆç«‹ï¼Œåˆ™ä¼šæ‰§è¡Œifåç”±å¤§æ‹¬å·æ‹¬èµ·æ¥çš„ä»£ç å—ï¼Œå¦åˆ™å°±å¿½ç•¥è¯¥ä»£ç å—ç»§ç»­æ‰§è¡Œåç»­çš„ä»£ç ã€‚Goä¸­ifè¯­å¥æ€»å…±æœ‰ä¸‰ç§å½¢å¼ï¼Œåˆ†åˆ«æ˜¯ï¼š
  ä¸å¸¦elseçš„ifï¼›
  å¸¦ä¸€ä¸ªelseçš„ifè¯­å¥ï¼›
  å¸¦else ifçš„ifè¯­å¥ï¼›
  åŒ…å«åˆå§‹åŒ–çš„ifè¯­å¥
  ä¸å¸¦elseçš„if æµ‹è¯•æ¡ä»¶æ˜¯å¸ƒå°”å‹çš„è¯­å¥ï¼Œå¦‚æœè¯¥æ¡ä»¶æˆç«‹ï¼Œåˆ™æ‰§è¡Œå¤§æ‹¬å·ä¸­çš„å†…å®¹ã€‚
if condition { //{ ä¸condition é¡»åœ¨åŒä¸€è¡Œ  //do something } å¸¦elseçš„if if condition { //do something }else{ //do something }  å¸¦else ifçš„if if condition1 { // do something  } else if condition2 { // do something else } else { // catch-all or default }  å¸¦åˆå§‹åŒ–çš„if if initialization; condition { // do something }   åœ¨ifæ¡ä»¶ä¸­å£°æ˜çš„å˜é‡çš„ä½œç”¨åŸŸåªå­˜åœ¨äºifç»“æ„ä¸­ï¼Œå³åœ¨ifç»“æ„çš„å¤§æ‹¬å·ä¹‹é—´ï¼Œå¦‚æœä½¿ç”¨if-elseç»“æ„åˆ™åœ¨elseä»£ç å—ä¸­å˜é‡ä¹Ÿä¼šå­˜åœ¨ã€‚  å¦‚æœå˜é‡åœ¨ifç»“æ„ä¹‹å‰å°±å·²ç»å­˜åœ¨ï¼Œé‚£ä¹ˆåœ¨ifç»“æ„ä¸­ï¼Œè¯¥å˜é‡åŸæ¥çš„å€¼ä¼šè¢«éšè—ã€‚
   æ³¨æ„äº‹é¡¹   éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå³ä½¿ä»£ç å—ä¹‹é—´åªæœ‰ä¸€æ¡è¯­å¥ï¼Œå¤§æ‹¬å·ä¹Ÿä¸èƒ½è¢«çœç•¥ã€‚
  å…³é”®å­—ifå’Œelseä¹‹åçš„å·¦å¤§æ‹¬å·{å¿…é¡»å’Œå…³é”®å­—åœ¨åŒä¸€è¡Œï¼Œè¿™æ˜¯ç¼–è¯‘å™¨å¼ºåˆ¶è§„å®šçš„ã€‚
  å¦‚æœä½¿ç”¨äº†else-ifç»“æ„ï¼Œåˆ™å‰æ®µä»£ç å—çš„å³å¤§æ‹¬å·}å¿…é¡»å’Œelse-ifå…³é”®å­—åœ¨åŒä¸€è¡Œï¼Œè¿™æ˜¯ç¼–è¯‘å™¨å¼ºåˆ¶è§„å®šçš„ã€‚
  ä½¿ç”¨gofmtæ ¼å¼åŒ–ä»£ç ä¹‹åï¼Œæ¯ä¸ªåˆ†æ”¯å†…çš„ä»£ç éƒ½ä¼šç¼©è¿›4ä¸ªæˆ–8ä¸ªç©ºæ ¼ï¼Œæˆ–è€…æ˜¯1ä¸ª tabï¼Œå¹¶ä¸”å³å¤§æ‹¬å·ä¸å¯¹åº”çš„ifå…³é”®å­—å‚ç›´å¯¹é½ã€‚  å½“ifç»“æ„å†…æœ‰breakã€continueã€gotoæˆ–è€…returnè¯­å¥æ—¶ï¼ŒGo ä»£ç çš„å¸¸è§å†™æ³•æ˜¯çœç•¥elseéƒ¨åˆ†ã€‚
   </content>
    </entry>
    
     <entry>
        <title>ä½è¿ç®—ç®—æ³•</title>
        <url>https://iihui.github.io/post/arith-bits/</url>
        <categories>
          <category>ç®—æ³•</category>
        </categories>
        <tags>
          <tag>ç®—æ³•</tag>
        </tags>
        <content type="html"> åˆ¤æ–­æ˜¯å¦ä¸º2çš„næ¬¡æ–¹ å¯¹äºæ•´æ•°æ•°æ¥è¯´ï¼Œå¦‚æœä¸€ä¸ªæ•°ä¸º$x=2^n$,é‚£ä¹ˆå¿…ç„¶æœ‰ä¸€ä½ä¸º1ï¼Œå³è¾¹å…¶å®ƒä½å…¨ä¸º0ã€‚é‚£ä¹ˆ$(x-1)$åœ¨å…¶å¯¹åº”ä¸º1çš„ä½ç½®ä¸Šä¸º0ï¼Œå¯¹åº”ä½å³è¾¹å…¨éƒ¨ä¸º1ã€‚å› æ­¤ï¼Œx&amp;amp;(x-1)çš„å€¼åˆ™ä¸º0ã€‚
(x&amp;amp;(x-1) == 0) //è¦æ±‚æ˜¯æ­£æ•´æ•°  ä½è¿ç®—å®ç°åŠ æ³• å¯¹äºäºŒè¿›åˆ¶åŠ æ³•ï¼Œå¦‚æœä¸è€ƒè™‘ç›¸åŠ æ—¶çš„è¿›ä½ï¼Œåˆ™æœ‰ï¼š1&#43;1=0ï¼Œ0&#43;1=1ï¼Œ1&#43;0=1ï¼Œ0&#43;0=0ï¼Œè¿™æ˜¯äºŒè¿›åˆ¶çš„å¼‚æˆ–ã€‚ç„¶åï¼Œå†è€ƒè™‘ç›¸åŠ æ—¶æœ‰è¿›ä½çš„æƒ…å†µï¼š1&#43;1=1ï¼Œ1&#43;0=0ï¼Œ0&#43;1=0ï¼Œ0&#43;0=0ï¼Œè¿™æ˜¯äºŒè¿›åˆ¶çš„ä¸è¿ç®—ã€‚
å› æ­¤ï¼ŒäºŒè¿›åˆ¶å¯ä»¥æŒ‰ç…§å¦‚ä¸‹çš„æ–¹å¼è¿›è¡Œï¼šâ‘ é¦–å…ˆä¸è€ƒè™‘è¿›ä½çš„æƒ…å†µæ—¶ï¼Œè®¡ç®—å„ä½çš„ç´¯åŠ å¾—åˆ°å€¼çš„ç´¯åŠ aï¼›â‘¡ç„¶åè€ƒè™‘æœ‰è¿›ä½çš„æƒ…å†µï¼Œå…ˆè®¡ç®—è¿›ä½å¹¶å°†å…¶å·¦ç§»å¾—åˆ°bï¼Œå¦‚æœbçš„å€¼ä¸º0ï¼Œé‚£ä¹ˆaçš„å€¼å°±æ˜¯æœ€åçš„è®¡ç®—ç»“æœï¼Œå¦‚æœbçš„å€¼ä¸ä¸º0ï¼Œåˆ™a&#43;bæ˜¯æœ€åçš„ç»“æœã€‚
éé€’å½’å®ç° int add(int x,int y) { int result=x,carray=y,tmp; while(carray!=0) { tmp = (result &amp;amp; carray) &amp;lt;&amp;lt;1; result ^= carray; carray = tmp; } return result; } public class Arithmetic { public static func add(x:Int ,y:Int) -&amp;gt; Int { var sum = x var carry = y while carry != 0 { let tmp = (sum &amp;amp; carry) &amp;lt;&amp;lt; 1 sum ^= carry carry = tmp } return sum } } func testArith() throws { XCTAssert(Arithmetic.add(x:23,y:23) == 46) } /// ä½è¿ç®—åŠ æ³• /// - Parameters: /// - a: è¢«åŠ æ•° /// - b: åŠ æ•° /// - Returns: a &#43; b çš„å’Œ public static func add(a: Int, b: Int) -&amp;gt; Int { var sum = a var carry = b while carry != 0 { let tmp = (sum &amp;amp; carry) &amp;lt;&amp;lt; 1 sum = sum ^= carry carry = tmp } return sum }  é€’å½’æ–¹å¼å®ç° int recAddNoArithm(int a, int b) { if (b == 0) return a; int sum = a ^ b; int carry = (a &amp;amp; b) &amp;lt;&amp;lt; 1; return recAddNoArithm(sum, carry); }  ä½è¿ç®—å®ç°å‡æ³• å‡æ³•å¯ä»¥è½¬æ¢ä¸ºåŠ æ³•ï¼Œä¾‹å¦‚a-bå¯ä»¥å†™æˆa&#43;(-b)ã€‚å› æ­¤ï¼Œåªè¦å…ˆé€šè¿‡bçš„å€¼ï¼Œæ±‚å¾—-bçš„å€¼ï¼Œç„¶åå†åˆ©ç”¨ä¸Šé¢çš„åŠ æ³•å®ç°å°±å¯ä»¥å¾—åˆ°a-bçš„å€¼ã€‚ç”±bæ±‚-bçš„å¿«æ·æ–¹å¼æ˜¯æŒ‰ä½å–åï¼Œç„¶åæœ«ä½åŠ 1ï¼Œå› æ­¤ä½è¿ç®—çš„å‡æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š
int subNoArithm(int a, int b) { auto sub = nonRecAddNoArithm(~b, 1); return nonRecAddNoArithm(a, sub); }  äº¤æ¢ä¸¤ä¸ªæ•°çš„å€¼ åœ¨å¼‚æˆ–è¿ç®—ä¸­ï¼Œå¶æ•°ä¸ªç›¸åŒçš„æ•°å¼‚æˆ–çš„ç»“æœä¸º0ï¼›å¥‡æ•°ä¸ªç›¸åŒçš„æ•°çš„å¼‚æˆ–çš„ç»“æœä¸ºè¿˜æ˜¯å½“å‰æ•°ï¼›æŸä¸ªæ•°å’Œ0è¿›è¡Œå¼‚æˆ–çš„ç»“æœä»ä¸ºåŸæ•°ï¼Œå¹¶ä¸”å¼‚æˆ–è¿ç®—æ˜¯æ”¯æŒäº¤æ¢å¾‹çš„ï¼š
a = a ^ b; b = a ^ b; a = a ^ b; ä¸Šé¢æ˜¯aåœ¨å…¬å¼å·¦è¾¹å‡ºç°ä¸¤æ¬¡ï¼Œæˆ–è€…båœ¨å…¬å¼å·¦è¾¹å‡ºç°ä¸¤æ¬¡ï¼Œè¿™ä¸¤æ¬¡æ˜¯æœ€å¼€å§‹å’Œæœ€åå‡ºç°ï¼š
b = a ^ b; a = a ^ b; b = a ^ b;  ä¸¤ä¸ªæ•°è¾ƒå¤§è€… ä¸»è¦è¿ç”¨å¼‚æˆ–çš„ç‰¹ç‚¹ï¼šå¶æ•°ä¸ªç›¸åŒçš„æ•°å¼‚æˆ–çš„ç»“æœä¸º0ï¼›å¥‡æ•°ä¸ªç›¸åŒæ•°å¼‚æˆ–ç»“æœè¿˜æ˜¯å½“å‰æ•°ï¼›æŸä¸ªæ•°å’Œ0è¿›è¡Œå¼‚æˆ–çš„ç»“æœä»ä¸ºåŸæ•°ï¼Œå¹¶ä¸”å¼‚æˆ–è¿ç®—æ˜¯æ”¯æŒäº¤æ¢å¾‹çš„ï¼Œå¯¹äº-1æ¥è¯´å…¶äºŒè¿›åˆ¶ä½å…¨éƒ¨ä¸º1ï¼Œ
y ^ ((x ^ y) &amp;amp; (-(x &amp;gt;= y)) //å¿«é€Ÿè®°å¿†ï¼šy åœ¨å‰åˆ™æ‰¾è¾ƒå¤§è€…  ä¸¤ä¸ªæ•°è¾ƒå°è€… x ^ ((x ^ y) &amp;amp; (-( x &amp;gt;= y)) //å¿«é€Ÿè®°å¿†ï¼šx åœ¨å‰åˆ™æ‰¾è¾ƒå°è€…  ä¸¤ä¸ªæ•°çš„å¹³å‡å€¼ (x &amp;amp; y) &#43; (x ^ y &amp;gt;&amp;gt; 1);  äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•° åˆ©ç”¨n &amp;amp; (n-1) ç¬¬ä¸€ç§æ–¹å¼æ¯æ¬¡ä½¿ç”¨å…¬å¼n&amp;amp;(n-1)å¯ä»¥å»é™¤äºŒè¿›åˆ¶è¡¨ç¤ºä¸­çš„1ä½1ï¼Œå½“æ‰€æœ‰ä½ç½®çš„1éƒ½è¢«å»é™¤ä¹‹åï¼Œç»“æœä¸º0ï¼Œè¿™å°±æ˜¯ç»ˆæ­¢æ¡ä»¶ã€‚
int getBinary1Bits1(int n) { int count = 0; while (n != 0) { n = n &amp;amp; (n - 1); //n &amp;amp; ï¼ˆn-1)æ¯æ¬¡å¯ä»¥å»é™¤äºŒè¿›åˆ¶è¡¨ç¤ºä¸­çš„ä¸€ä¸ª1  count&#43;&#43;; } return count; } //æ³¨æ„å‚æ•°çš„å˜åŒ– int getBinary1Bits2(unsigned int n) { int count = 0; while (n &amp;gt; 0) //ç»ˆæ­¢æ¡ä»¶æ˜¯ n&amp;gt;0,å› ä¸º n æ€»æ˜¯&amp;gt;=0  { n = n &amp;amp; (n - 1); count&#43;&#43;; } return count; }  åˆ©ç”¨æ ‡è¯†ä½ ç¬¬äºŒç§æ–¹å¼ï¼Œä½¿ç”¨ä¸€ä¸ªæ ‡è¯†æ•°ï¼Œå…¶åˆå§‹å€¼è®¾ç½®ä¸º1ã€‚ç„¶åï¼Œä½¿ç”¨è¿™æ¬¡æ ‡è¯†æ•°ä¸å½“å‰æ•°è¿›è¡Œä½ä¸è¿ç®—ï¼Œä¾¿å¯å¾—åˆ°å½“å‰ä½æ˜¯å¦ä¸º1ï¼›æ¥ç€ï¼Œä½¿æ ‡è¯†æ•°å‘å·¦ç§»åŠ¨ä¸€ä½ï¼Œç„¶åé‡å¤ä¸Šä¸€æ­¥ï¼Œæœ€ç»ˆå¾—åˆ°1çš„ä¸ªæ•°ã€‚
int getBinary1Bits3(int n) { int count = 0; unsigned int flag = 1; //æ ‡è¯†æ•°åº”è¯¥å£°æ˜ä¸ºæ— ç¬¦å·æ•°  while (flag != 0) { if (flag &amp;amp; n) { count&#43;&#43;; } flag = flag &amp;lt;&amp;lt; 1; } return count; } åˆ©ç”¨æ±‰æ˜ç¼–ç  ç¬¬ä¸‰ç§æ–¹å¼ä½¿ç”¨æ±‰æ˜ï¼š
typedef unsigned int64 uint64; //assume this gives 64-bits const uint64 m1 = 0x5555555555555555; //binary: 0101... const uint64 m2 = 0x3333333333333333; //binary: 00110011.. const uint64 m4 = 0x0f0f0f0f0f0f0f0f; //binary: 4 zeros, 4 ones ... const uint64 m8 = 0x00ff00ff00ff00ff; //binary: 8 zeros, 8 ones ... const uint64 m16 = 0x0000ffff0000ffff; //binary: 16 zeros, 16 ones ... const uint64 m32 = 0x00000000ffffffff; //binary: 32 zeros, 32 ones ... const uint64 hff = 0xffffffffffffffff; //binary: all ones const uint64 h01 = 0x0101010101010101; //the sum of 256 to the power of 0,1,2,3...  //This is a naive implementation, shown for comparison, //and to help in understanding the better functions. //It uses 24 arithmetic operations (shift, add, and). int popcount_1(uint64 x) { x = (x &amp;amp; m1 ) &#43; ((x &amp;gt;&amp;gt; 1) &amp;amp; m1 ); //put count of each 2 bits into those 2 bits  x = (x &amp;amp; m2 ) &#43; ((x &amp;gt;&amp;gt; 2) &amp;amp; m2 ); //put count of each 4 bits into those 4 bits  x = (x &amp;amp; m4 ) &#43; ((x &amp;gt;&amp;gt; 4) &amp;amp; m4 ); //put count of each 8 bits into those 8 bits  x = (x &amp;amp; m8 ) &#43; ((x &amp;gt;&amp;gt; 8) &amp;amp; m8 ); //put count of each 16 bits into those 16 bits  x = (x &amp;amp; m16) &#43; ((x &amp;gt;&amp;gt; 16) &amp;amp; m16); //put count of each 32 bits into those 32 bits  x = (x &amp;amp; m32) &#43; ((x &amp;gt;&amp;gt; 32) &amp;amp; m32); //put count of each 64 bits into those 64 bits  return x; }  </content>
    </entry>
    
     <entry>
        <title>è´¥è€…æ ‘</title>
        <url>https://iihui.github.io/post/arith-loser-tree/</url>
        <categories>
          <category>ç®—æ³•</category>
        </categories>
        <tags>
          <tag>ç®—æ³•</tag>
        </tags>
        <content type="html">  èƒœè€…æ ‘å’Œè´¥è€…æ ‘éƒ½æ˜¯å®Œå…¨äºŒå‰æ ‘ï¼Œæ˜¯æ ‘å½¢é€‰æ‹©æ’åºçš„ä¸€ç§å˜å‹ã€‚æ¯ä¸ªå¶å­ç»“ç‚¹ç›¸å½“äºä¸€ä¸ªé€‰æ‰‹ï¼Œæ¯ä¸ªä¸­é—´ç»“ç‚¹ç›¸å½“äºä¸€åœºæ¯”èµ›ï¼Œæ¯ä¸€å±‚ç›¸å½“äºä¸€è½®æ¯”èµ›ã€‚ä¸åŒçš„æ˜¯ï¼Œèƒœè€…æ ‘çš„ä¸­é—´ç»“ç‚¹è®°å½•çš„æ˜¯èƒœè€…çš„æ ‡å·ï¼›è€Œè´¥è€…æ ‘çš„ä¸­é—´ç»“ç‚¹è®°å½•çš„è´¥è€…çš„æ ‡å·ã€‚èƒœè€…æ ‘ä¸è´¥è€…æ ‘éƒ½å¯ä»¥åœ¨$log(n)$çš„æ—¶é—´å†…æ‰¾åˆ°æœ€å€¼ã€‚ä»»ä½•ä¸€ä¸ªå¶å­ç»“ç‚¹çš„å€¼æ”¹å˜åï¼Œåˆ©ç”¨ä¸­é—´ç»“ç‚¹çš„ä¿¡æ¯ï¼Œè¿˜æ˜¯èƒ½å¤Ÿå¿«é€Ÿåœ°æ‰¾åˆ°æœ€å€¼ï¼Œåœ¨kè·¯å½’å¹¶æ’åºä¸­ç»å¸¸ç”¨åˆ°ã€‚
 èƒœè€…æ ‘ èƒœè€…æ ‘çš„çˆ¶èŠ‚ç‚¹ä¿å­˜çš„æ˜¯ä¸¤ä¸¤æ¯”è¾ƒèƒœå‡ºè€…çš„ä¸‹æ ‡ï¼Œæ‰€ä»¥å½“é‡æ„æ—¶ï¼ˆä¸€ä¸ªé€‰æ‰‹çš„å€¼å‘ç”Ÿæ”¹å˜æ—¶ï¼‰åªè¦æ‰¾åˆ°å…¶çˆ¶èŠ‚ç‚¹ç„¶åä¸å…¶å…„å¼ŸèŠ‚ç‚¹æ¯”è¾ƒï¼Œå¹¶å°†çˆ¶èŠ‚ç‚¹æ›´æ”¹ä¸ºæ–°çš„èƒœåˆ©èŠ‚ç‚¹çš„ä¸‹æ ‡ã€‚
è¿™æ˜¯å› ä¸ºé‡æ„æ—¶è¦†ç›–åŸæ¥å¶å­èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹éƒ½æ¯”åŸå¶å­èŠ‚ç‚¹å°ï¼Œè¿™é‡Œçš„å°æ˜¯æŒ‡èƒœåˆ©çš„åæ–¹å‘ï¼Œæ­¤æ—¶åªè¦å’Œè´¥è€…æ¯”è¾ƒå°±å¯ä»¥äº†ï¼Œå› ä¸ºä¸æ¸…æ¥šä¸Šä¸€æ¬¡çš„è´¥è€…æ˜¯è°ï¼Œæ‰€ä»¥ä¸€å®šè¦å’Œå…„å¼Ÿä»¥åŠçˆ¶èŠ‚ç‚¹æ¯”è¾ƒã€‚
å› æ­¤ï¼Œåªè¦æ²¿ç€å‘ç”Ÿæ”¹å˜çš„ç»“ç‚¹åˆ°æ ¹ç»“ç‚¹çš„è·¯å¾„ä¿®æ”¹è¿™æ£µäºŒå‰æ ‘ï¼Œè€Œä¸å¿…æ”¹å˜å…¶ä»–æ¯”èµ›çš„ç»“æœã€‚åœ¨ä¸‹é¢ç»™å‡ºçš„ä¾‹å­çš„å›¾ç¤ºä¸­éƒ½æ˜¯æ•°å€¼è¶Šå°è¡¨ç¤ºèƒœåˆ©ã€‚
![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-09-29 ä¸‹åˆ9.29.49.png)
![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-09-29 ä¸‹åˆ9.32.04.png)
ä½†æ˜¯ï¼Œèƒœè€…æ ‘æ¯ä¸Šå‡ä¸€æ¬¡éœ€è¦è®¿é—®ä¸¤ä¸ªèŠ‚ç‚¹â€”â€”çˆ¶èŠ‚ç‚¹å’Œå…„å¼ŸèŠ‚ç‚¹ã€‚è€Œå¯¹äºè´¥è€…æ ‘æ¥è¯´ï¼Œå®ƒåªè¦è®¿é—®çˆ¶èŠ‚ç‚¹ï¼Œè¿™æ˜¯è´¥è€…æ ‘çš„ä¼˜åŠ¿ã€‚
 è´¥è€…æ ‘ å¯¹äºèƒœè€…æ ‘æ¥è¯´ï¼Œåœ¨èŠ‚ç‚¹ä¸Šå‡çš„æ—¶å€™é¦–å…ˆéœ€è¦è·å¾—çˆ¶èŠ‚ç‚¹ï¼Œç„¶åå†è·å¾—å…„å¼ŸèŠ‚ç‚¹ï¼Œç„¶åå†æ¯”è¾ƒã€‚è¿™æ—¶äººä»¬åˆæƒ³èƒ½å¦å‡å°‘è®¿å­˜æ¬¡æ•°ï¼Œäºæ˜¯å°±æœ‰äº†è´¥è€…æ ‘ã€‚
åœ¨è´¥è€…æ ‘ä¸­ï¼Œç”¨çˆ¶ç»“ç‚¹è®°å½•å…¶å·¦å³å­ç»“ç‚¹è¿›è¡Œæ¯”èµ›çš„è´¥è€…ï¼Œè®©èƒœè€…å‚åŠ ä¸‹ä¸€è½®çš„æ¯”èµ›ã€‚è´¥è€…æ ‘çš„æ ¹ç»“ç‚¹è®°å½•çš„æ˜¯è´¥è€…ï¼Œå› æ­¤ï¼Œéœ€è¦åŠ ä¸€ä¸ªç»“ç‚¹æ¥è®°å½•æ¯”èµ›çš„æœ€ç»ˆèƒœè€…ã€‚
![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-09-29 ä¸‹åˆ9.37.52.png)
è´¥è€…æ ‘é‡æ„è¿‡ç¨‹å¦‚ä¸‹ï¼šâ‘ é¦–å…ˆï¼Œå°†æ–°è¿›å…¥è´¥è€…æ ‘çš„æ–°ç»“ç‚¹ä¸å…¶çˆ¶ç»“ç‚¹è¿›è¡Œæ¯”è¾ƒï¼Œå¹¶å°†è´¥è€…å­˜æ”¾åœ¨çˆ¶ç»“ç‚¹ä¸­ï¼›â‘¡ç„¶åï¼Œå°†ç¬¬1æ­¥ä¸­æ¯”è¾ƒåçš„èƒœè€…å†ä¸ä¸Šä¸€çº§çš„çˆ¶ç»“ç‚¹æ¯”è¾ƒã€‚
å› ä¸ºé‡æ„æ—¶è¦†ç›–åŸæ¥å¶å­èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹éƒ½æ¯”åŸå¶å­èŠ‚ç‚¹å°ï¼Œè¿™é‡Œçš„å°æ˜¯æŒ‡èƒœåˆ©çš„åæ–¹å‘ï¼Œæ‰€ä»¥åªè¦å’Œè´¥è€…æ¯”å³å¯ã€‚æ­¤æ—¶çˆ¶èŠ‚ç‚¹è®°å½•çš„å°±æ˜¯è´¥è€…ï¼Œå› æ­¤ï¼Œåªè¦å’Œçˆ¶èŠ‚ç‚¹æ¯”è¾ƒå³å¯ã€‚æ‰€ä»¥è¯´å¯¹äºè´¥è€…æ ‘æ¥è¯´ï¼Œå®ƒåªè¦è®¿é—®çˆ¶èŠ‚ç‚¹ï¼Œè¿™æ˜¯è´¥è€…æ ‘çš„ä¼˜åŠ¿ã€‚
![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-09-29 ä¸‹åˆ9.41.55.png)
 èƒœè€…æ ‘å’Œè´¥è€…æ ‘ä¸å †çš„åŒºåˆ« ç›¸åŒç‚¹ èƒœè€…æ ‘ã€è´¥è€…æ ‘å’Œå †çš„ç›¸åŒç‚¹ï¼šç©ºé—´å’Œæ—¶é—´å¤æ‚åº¦å‡ç›¸åŒâ€”â€”è°ƒæ•´ä¸€æ¬¡çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ $O(logN)$ï¼Œç©ºé—´å¤æ‚åº¦ä¸º$O(1)$ã€‚
 ä¸åŒç‚¹ å †æ’åºä¸­æ¯æ¬¡å–å‡ºå½“å‰æœ€å°å€¼ä¹‹åï¼ŒæŠŠæœ€åä¸€ä¸ªæ•°æ¢åˆ°å †é¡¶ã€‚åœ¨è°ƒæ•´å †çš„æ—¶å€™ï¼Œæ¯æ¬¡éƒ½è¦é€‰å‡ºçˆ¶èŠ‚ç‚¹çš„ä¸¤ä¸ªå­©å­èŠ‚ç‚¹çš„æœ€å°å€¼ï¼Œç„¶åå†ç”¨å­©å­èŠ‚ç‚¹çš„æœ€å°å€¼å’Œçˆ¶èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒï¼Œæ‰€ä»¥æ¯è°ƒæ•´ä¸€æ¬¡éœ€è¦æ¯”è¾ƒä¸¤æ¬¡ã€‚
æ‰€ä»¥èƒœè€…æ ‘ç›¸å¯¹äºå †æ¥è¯´å‡å°‘äº†ä¸€æ¬¡æ¯”è¾ƒï¼Œè´¥è€…æ ‘ç›¸å¯¹äºèƒœè€…æ ‘æ¥è¯´å‡å°‘äº†ä¸€ä¸ªè®¿å­˜ï¼Œä½†æ˜¯å¹¶ä¸èƒ½ä¿è¯æ¯æ¬¡éƒ½å¯ä»¥å‡å°‘ä¸€æ¬¡è®¿å­˜ã€‚ä¾‹å¦‚ä¸Šé¢˜ï¼Œå‡å¦‚$b_3$ä¸€å¼€å§‹æ˜¯13ï¼Œè€Œä¸æ˜¯6ï¼Œé‚£ä¹ˆ$b_3$æ˜¯è´¥è€…ï¼Œè€Œæ­¤æ—¶$b_3$ è¢«æ›¿æ¢ä¸º6æ—¶ï¼Œç”±äºæ­¤å‰ $b_3$ ä¸ºè´¥è€…ï¼Œå› æ­¤æ­¤æ—¶å°±è¦å’Œå…„å¼ŸèŠ‚ç‚¹æ¯”è¾ƒäº†ï¼Œæ‰€ä»¥æ­¤æ—¶è®¿å­˜æ¬¡æ•°ä¸º2ã€‚
ä¹Ÿå°±æ˜¯è¯´ï¼Œå †æ’åºä¸­ä¸€å®šè¦å’Œå…„å¼ŸèŠ‚ç‚¹å’Œçˆ¶èŠ‚ç‚¹æ¯”è¾ƒï¼Œå³è®¿å­˜2æ¬¡ï¼Œæ¯”è¾ƒ2æ¬¡ï¼›è€Œèƒœè€…æ ‘åªè¦å’Œå…„å¼Ÿæ¯”è¾ƒï¼Œä½†æ˜¯éœ€è¦è®¿é—®å…„å¼ŸèŠ‚ç‚¹å’Œçˆ¶èŠ‚ç‚¹ï¼Œå³è®¿å­˜2æ¬¡ï¼Œæ¯”è¾ƒ1æ¬¡ï¼›è€Œè´¥è€…æ•°ä¸€èˆ¬å’Œçˆ¶èŠ‚ç‚¹æ¯”è¾ƒï¼Œå¯èƒ½è¦å’Œå…„å¼ŸèŠ‚ç‚¹æ¯”è¾ƒï¼Œå› æ­¤è®¿å­˜æ­¤æ•°å¯èƒ½æ¯”èƒœè€…æ ‘å°‘1æ¬¡ï¼Œå³è®¿å­˜æ˜¯1æ¬¡æˆ–è€…2æ¬¡ï¼Œæ¯”è¾ƒ1æ¬¡ã€‚
 å¤–æ’åº åœ¨å¤–æ’åºçš„Kè·¯å½’å¹¶çš„æ—¶å€™ï¼Œç”±äºéœ€è¦è®¿é—®å¤–å­˜ï¼Œè€Œå¯¹äºè®¡ç®—æ¥è¯´æ­¤æ—¶è®¿é—®å¤–å­˜æ˜¯æœ€ä¸»è¦çš„æ—¶é—´è€—è´¹ã€‚æ­¤æ—¶ï¼Œå¸¸ä½¿ç”¨è´¥è€…æ ‘æ¥è¿›è¡ŒKè·¯å½’å¹¶æ’åºï¼Œå½’å¹¶çš„æ—¶å€™Kä¸ªå¶å­èŠ‚ç‚¹ä¿å­˜çš„å°±æ˜¯Kä¸ªæ–‡ä»¶ä¸­çš„å½“å‰æœ€å°å€¼ã€‚
æ‰€ä»¥å¯¹äºKä¸ªæœ‰åºæ®µè¿›è¡ŒKè·¯å½’å¹¶æ—¶çš„æ­¥éª¤ä¸ºï¼š
  å–æ¯ä¸ªè¾“å…¥æœ‰åºæ®µçš„ç¬¬ä¸€ä¸ªæ•°æ®ä½œä¸ºè´¥è€…æ ‘çš„å¶å­èŠ‚ç‚¹ï¼Œå»ºç«‹åˆå§‹è´¥è€…æ ‘ã€‚ç„¶åï¼Œä¸¤ä¸¤å¶å­èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒï¼Œåœ¨åŒäº²èŠ‚ç‚¹ä¸­è®°å½•æ¯”èµ›çš„è´¥è€…ï¼Œè€Œè®©èƒœè€…å»å‚åŠ æ›´é«˜ä¸€å±‚çš„æ¯”èµ›ã€‚æœ€åï¼Œåœ¨æ ¹èŠ‚ç‚¹ä¹‹ä¸Šèƒœå‡ºçš„å† å†›æ˜¯å…³é”®å­—æœ€å°è€…ã€‚
  èƒœå‡ºçš„è®°å½•å†™åˆ°è¾“å‡ºå½’å¹¶æ®µä¸­ï¼Œåœ¨å¯¹åº”çš„å¶å­èŠ‚ç‚¹å¤„è¡¥å……å…¶è¾“å…¥æœ‰åºæ®µçš„ä¸‹ä¸€ä¸ªè®°å½•ï¼Œè‹¥è¯¥æ®µæœ‰åºå˜ç©ºï¼Œåˆ™è¡¥å……ä¸€ä¸ªå¤§å…³é”®å­—ï¼ˆæ¯”æ‰€æœ‰è®°å½•å…³é”®å­—éƒ½å¤§ï¼Œè®¾ä¸º $k_{max}$ï¼‰ã€‚
  è°ƒæ•´è´¥è€…æ ‘ï¼Œé€‰æ‹©æ–°çš„å…³é”®å­—æœ€å°çš„è®°å½•ã€‚ä»è¡¥å……è®°å½•çš„å¶å­èŠ‚ç‚¹å‘ä¸Šå’ŒåŒäº²èŠ‚ç‚¹çš„å…³é”®å­—æ¯”è¾ƒï¼Œè´¥è€…ç•™åœ¨è¯¥åŒäº²èŠ‚ç‚¹ï¼Œèƒœè€…ç»§ç»­å‘ä¸Šï¼Œç›´åˆ°æ ¹èŠ‚ç‚¹ï¼Œæœ€åå°†èƒœè€…æ”¾åˆ°æ ¹èŠ‚ç‚¹çš„åŒäº²èŠ‚ç‚¹ä¸­ã€‚
  è‹¥èƒœå‡ºçš„è®°å½•çš„å…³é”®å­—ç­‰äº$k_{max}$,åˆ™å½’å¹¶ç»“æŸï¼Œå¦åˆ™è½¬åˆ°ç¬¬2æ­¥ã€‚
   æœ€ä½³å½’å¹¶æ ‘ è‹¥å‚åŠ å½’å¹¶çš„åˆå§‹å½’å¹¶æ®µæœ‰mä¸ªï¼Œåškè·¯å¹³è¡¡å½’å¹¶ï¼Œæœ€ä½³å½’å¹¶æ ‘æ˜¯å¸¦æƒè·¯å¾„é•¿åº¦æœ€çŸ­çš„kæ¬¡å“ˆå¤«æ›¼æ ‘ã€‚åˆ™æ„é€ æ­¥éª¤å¦‚ä¸‹ï¼š
  è‹¥ $(m-1),mod,(k-1) \neq 0$,åˆ™éœ€è¦é™„åŠ  $(k-1)-(m-1),mod,(k-1)$ ä¸ªé•¿åº¦ä¸º0çš„è™šæ®µï¼Œä»¥ä½¿æ¯æ¬¡å½’å¹¶éƒ½å¯ä»¥å¯¹åº”$k$ä¸ªæ®µã€‚
  æŒ‰ç…§å“ˆå¤«æ›¼æ ‘çš„æ„é€ è§„åˆ™æ„é€ æœ€ä½³å½’å¹¶æ ‘ã€‚
  å‚è€ƒ1 å‚è€ƒ2 å‚è€ƒ3
 </content>
    </entry>
    
     <entry>
        <title>å‰‘æŒ‡offeré¢˜é›†1</title>
        <url>https://iihui.github.io/post/arith-sword-1/</url>
        <categories>
          <category>ç®—æ³•</category>
        </categories>
        <tags>
          <tag>ç®—æ³•</tag>
        </tags>
        <content type="html"> äºŒç»´æ•°ç»„ä¸­æŸ¥æ‰¾ åœ¨ä¸€ä¸ªäºŒç»´æ•°ç»„ä¸­ï¼Œæ¯ä¸€è¡Œéƒ½æŒ‰ä»å·¦åˆ°å³é€’å¢çš„é¡ºåºæ’åºï¼Œæ¯ä¸€åˆ—éƒ½æŒ‰ä»ä¸Šåˆ°ä¸‹é€’å¢çš„é¡ºåºæ’åˆ—ï¼Œè¯•ä»è¯¥äºŒç»´æ•°ç»„æŸ¥æ‰¾ç»™å®šçš„å…ƒç´ ã€‚
é¦–å…ˆåº”è¯¥ä»å³ä¸Šè§’çš„å…ƒç´ (è®°ä¸ºcur)å¼€å§‹æ¯”è¾ƒï¼Œå¦‚æœå½“å‰è¦æŸ¥æ‰¾çš„å…ƒç´ keyçš„å€¼æ¯”curå¤§ï¼Œé‚£ä¹ˆå°±åº”è¯¥å¾€curæ‰€åœ¨è¡Œçš„ä¸‹é¢å¼€å§‹å¯»æ‰¾ï¼›å¦‚æœkeyçš„å€¼æ¯”curå°ï¼Œé‚£ä¹ˆåº”è¯¥å¾€curæ‰€åœ¨åˆ—çš„å·¦è¾¹å¯»æ‰¾ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š
bool findKeyInMatrix(int *matrix, int rows, int colums, int key) { bool found = false; if (matrix != nullptr &amp;amp;&amp;amp; rows &amp;gt;= 0 &amp;amp;&amp;amp; colums &amp;gt;= 0) { int row = 0; int column = colums - 1; //row=0,column=colums-1è¡¨ç¤ºå®šä½åˆ°å³ä¸Šè§’çš„å…ƒç´   int cur = 0; while (row &amp;lt; rows &amp;amp;&amp;amp; colums &amp;gt;= 0) { cur = matrix[row * colums &#43; column]; if (cur == key) { found = true; break; } else if (cur &amp;gt; key) { column--; } else { row&#43;&#43;; } }; } return found; }  å­—ç¬¦ä¸²çš„èµ‹å€¼æ“ä½œç¬¦é‡è½½ å¯¹äºè‡ªå®šä¹‰çš„å­—ç¬¦ä¸²ç±»çš„èµ‹å€¼æ“ä½œç¬¦çš„é‡è½½æ—¶ï¼Œéœ€è¦æ³¨æ„4ç‚¹ï¼šâ‘ æ˜¯å¦ä¼ å…¥å¸¸å¼•ç”¨const A &amp;amp;ã€‚â‘¡ä¼ å…¥çš„å¼•ç”¨æ˜¯å¦æ˜¯è‡ªèº«ã€‚ â‘¢æ˜¯å¦é‡Šæ”¾æ‰åŸæ¥çš„ç©ºé—´ã€‚ â‘£æ˜¯å¦è¿”å›*thisã€‚
class CMyString { private: char *pdata; public: CMyString(char *ptr = NULL); CMyString(const CMyString &amp;amp;str); CMyString &amp;amp;operator=(const CMyString &amp;amp;str); } ~CMyString() {} }; CMyString &amp;amp;CMyString::operator=(const CMyString &amp;amp;str) { if (this != &amp;amp;str) { CMyString tmp(str); char *ptmp = tmp.pdata; tmp.pdata = pdata; pdata = ptmp; } return *this; } åœ¨è¿™ä¸ªèµ‹å€¼æ“ä½œç¬¦é‡è½½å‡½æ•°ä¸­ï¼Œé¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ªä¸´æ—¶å˜é‡tmpï¼Œå¦‚æœåˆ†é…å†…å­˜ä¸æˆåŠŸçš„è¯ï¼Œé‚£ä¹ˆä¼šæŠ›å‡ºbad_allocå¼‚å¸¸ï¼Œæ­¤æ—¶ä¹Ÿä¸ä¼šä¿®æ”¹åŸæ¥çš„å¯¹è±¡å®ä¾‹ã€‚
å¦‚æœæ­£å¸¸åˆ†é…çš„è¯ï¼Œå› ä¸ºtmpæ˜¯ä¸´æ—¶å˜é‡ï¼Œæ‰€ä»¥åœ¨ifçš„ä½œç”¨åŸŸç»“æŸä¹‹åï¼Œé‚£ä¹ˆä¼šè‡ªåŠ¨è°ƒç”¨ææ„å‡½æ•°ï¼Œæ­¤æ—¶å°±ä¼šææ„æ‰tmp.pdataæ‰€æŒ‡å‘çš„å†…å­˜ã€‚å› ä¸ºtmp.pdataå·²ç»å’Œpdataäº¤æ¢äº†ï¼Œæ‰€ä»¥è¿™ç›¸å½“äºè‡ªåŠ¨è°ƒç”¨ææ„å‡½æ•°é‡Šæ”¾å®ä¾‹çš„å†…å­˜ã€‚
 ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨ ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨ä¸­çš„å…ƒç´ ï¼Œæœ‰ä¸¤ç§è§£å†³æ–¹æ³•ï¼Œä¸€ç§æ˜¯é€’å½’ç®—æ³•ï¼Œå¦ä¸€ç§æ˜¯åˆ©ç”¨æ ˆæ¥å®ç°éé€’å½’ç®—æ³•ã€‚ä¸‹é¢æ˜¯é€’å½’ç®—æ³•çš„å®ç°ï¼š
void recPrintLinkedList(LinkedNode *head) { if (head != nullptr) { recPrintLinkedList(head-&amp;gt;next); std::cout&amp;lt;&amp;lt;head-&amp;gt;data&amp;lt;&amp;lt;&amp;#34;\t&amp;#34;; } } éé€’å½’ç®—æ³•æ˜¯å€ŸåŠ©æ ˆçš„åè¿›å…ˆå‡ºçš„ç‰¹æ€§ï¼Œé¦–å…ˆéå†é“¾è¡¨çš„æ‰€æœ‰å…ƒç´ ï¼Œå¹¶å°†å®ƒä»¬å­˜å…¥åˆ°æ ˆä¸­ã€‚å½“éå†å®Œæ ˆçš„æ—¶å€™å°±å¯ä»¥å‡ºæ ˆï¼š
void nonRecPrintLinkedList(LinkedNode *head) { if(head != nullptr) { stack&amp;lt;LinkedNode*&amp;gt; st; LinkedNode * cur = head; while(cur != nullptr) { st.push(cur); cur = cur-&amp;gt;next; } while(!st.empty()) { cur = st.top(); st.pop(); std::cout&amp;lt;&amp;lt;cur-&amp;gt;data&amp;lt;&amp;lt;&amp;#39;\t&amp;#39;; } } }  ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ— å°†stack1ä½œä¸ºå…¥é˜Ÿä½¿ç”¨ï¼Œ å°†stack2ä½œä¸ºå‡ºé˜Ÿä½¿ç”¨ã€‚å½“stack2ä¸ç©ºæ—¶ï¼Œå°±ä»stack2ç›´æ¥å¼¹å‡ºå…ƒç´ ï¼Œå¦åˆ™å°†stack1é‡Œå…ƒç´ å…ˆå…¨éƒ¨å¼¹å‡ºåˆ°stack2ä¸­ï¼Œå†ä»stack2ä¸­å¼¹å‡ºï¼Œè¿™æ ·ä¾¿å®ç°äº†å…ˆè¿›å…ˆå‡ºã€‚
template &amp;lt;typename T&amp;gt; class stackQueue { public: stackQueue(void){}; ~stackQueue(){}; void push(const T &amp;amp;node); void pop(); T &amp;amp;top(); private: stack&amp;lt;T&amp;gt; stack1; stack&amp;lt;T&amp;gt; stack2; }; template &amp;lt;typename T&amp;gt; void stackQueue&amp;lt;T&amp;gt;::push(const T &amp;amp;node) { stack1.push(node); } template &amp;lt;typename T&amp;gt; void stackQueue&amp;lt;T&amp;gt;::pop() { if (stack2.empty()) { while (!stack1.empty()) { stack2.push(stack1.top()); stack1.pop(); } } if (stack2.empty()) throw string(&amp;#34;queue is empty!&amp;#34;); stack2.pop(); } template &amp;lt;typename T&amp;gt; T &amp;amp;stackQueue&amp;lt;T&amp;gt;::top() { return stack2.top(); }  ä¸¤ä¸ªé˜Ÿåˆ—å®ç°ä¸€ä¸ªæ ˆ æ€»æ˜¯ä¿æŒä¸€ä¸ªé˜Ÿåˆ—æ˜¯ç©ºï¼Œå‡ºæ ˆçš„æ—¶å€™å°†ä¸ç©ºçš„é‚£ä¸ªé˜Ÿåˆ—çš„å‰$n-1$ä¸ªå…ƒç´ éƒ½æ”¾åˆ°ç©ºçš„é‚£ä¸ªé˜Ÿåˆ—é‡Œï¼Œç„¶åå‡ºå‰©ä¸‹çš„é‚£ä¸€ä¸ªå…ƒç´ ï¼›å…¥é˜Ÿçš„æ—¶å€™å…¥åˆ°ä¸ç©ºçš„é‚£ä¸ªé˜Ÿåˆ—é‡Œã€‚
template &amp;lt;typename T&amp;gt; class queueStack { public: queueStack(void){}; ~queueStack(){}; void push(const T &amp;amp; node); T pop(); private: queue&amp;lt;T&amp;gt; queue1; queue&amp;lt;T&amp;gt; queue2; }; template &amp;lt;typename T&amp;gt;void queueStack&amp;lt;T&amp;gt;::push(const T &amp;amp;node) { if(queue1.empty() &amp;amp;&amp;amp; queue2.empty()) { queue1.push(node); } else if(queue1.empty()) { queue1.push(node); } else if(queue2.empty()) { queue2.push(node); } else throw string(&amp;#34;Error!&amp;#34;); } template &amp;lt;typename T&amp;gt;T queueStack&amp;lt;T&amp;gt;::pop() { if(!queue1.empty() &amp;amp;&amp;amp; queue2.empty()) { while(queue1.size() != 1) { queue2.push(queue1.front()); queue1.pop(); } T &amp;amp; data = queue1.front(); queue1.pop(); return data; } else if(queue1.empty() &amp;amp;&amp;amp; !queue2.empty()) { while(queue2.size() != 1) { queue1.push(queue2.front()); queue2.pop(); } T &amp;amp; data = queue2.front(); queue2.pop(); return data; } else throw string(&amp;#34;Error!&amp;#34;); }  å¿«é€Ÿæ’åº å¿«é€Ÿæ’åºä¸­ï¼ŒåŸºå‡†å…ƒç´ çš„é€‰æ‹©æœ‰3ç§æ–¹å¼ï¼šâ‘ é€‰æ‹©å¾…æ’åºåŒºé—´å·¦è¾¹çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚â‘¡é€‰æ‹©å¾…æ’åºç©ºé—´çš„ä¸­é—´å…ƒç´ ã€‚â‘¢éšæœºä»å¾…æ’åºåŒºé—´ä¸­é€‰æ‹©ä¸€ä¸ªå…ƒç´ ã€‚ä¸‹é¢çš„ä»£ç æ˜¯éšæœºé€‰æ‹©åŸºå‡†å…ƒç´ ï¼š
int quickSortPartition(int *input, int length, int start, int end) { if (input == nullptr || start &amp;lt; 0 || length &amp;lt;= 0 || end &amp;gt;= length) { return -1; // å‚æ•°é”™è¯¯  } srand(time(NULL)); //Cé£æ ¼  int index = rand() % (end - start &#43; 1); int small = start - 1; swap(input[index], input[end]); for (int i = start; i &amp;lt; end; &#43;&#43;i) { if (input[i] &amp;lt; input[end]) { small&#43;&#43;; if (small &amp;lt; i) { swap(input[small], input[i]); } } } small&#43;&#43;; swap(input[small], input[end]); return small; } void quickSortMore(int *input, int length, int start, int end) { if (start == end) return; int index = quickSortPartition(input,length,start,end); if (index &amp;gt; start) quickSortMore(input,length,start,index-1); if (end &amp;gt; index) quickSortMore(input,length,index&#43;1,end); }  æ—‹è½¬æ•°ç»„ä¸­çš„æœ€å°å€¼ æŠŠä¸€ä¸ªæ•°ç»„çš„æœ€å¼€å§‹çš„è‹¥å¹²å…ƒç´ ç§»åŠ¨åˆ°æ•°ç»„çš„æœ«å°¾ï¼Œç§°ä¹‹ä¸ºæ•°ç»„çš„æ—‹è½¬ã€‚è¾“å…¥ä¸€ä¸ªé€’å¢çš„æ•°ç»„çš„ä¸€ä¸ªæ—‹è½¬ï¼Œæ‰¾åˆ°æ•°ç»„ä¸­çš„æœ€å°å…ƒç´ ã€‚
æœ€ç®€å•çš„æ–¹æ³•æ˜¯ä»å¤´åˆ°å°¾éå†ä¸€éæ•°ç»„ï¼Œå°±å¯ä»¥æ‰¾åˆ°æœ€å°çš„å…ƒç´ ï¼Œä½†æ˜¯è¿™ç§æ–¹æ³•æ²¡æœ‰ç”¨åˆ°æ—‹è½¬æ•°ç»„çš„å‰éƒ¨å’Œåéƒ¨æ˜¯æœ‰åºè¿™ä¸€ç‰¹ç‚¹ã€‚
int findSpinArrayMin(int *data, int length) { if (data == nullptr || length &amp;lt; 0) return -1; int start = 0; int end = length - 1; int mid, result = -1; while (data[start] &amp;gt;= data[end]) { if (end - start == 1) { mid = end; break; } mid = (start &#43; end) / 2; if (data[start] == data[mid] &amp;amp;&amp;amp; data[mid] == data[end]) { return minInOrder(data, start, end); } if (data[mid] &amp;gt;= data[end]) start = mid; else if (data[mid] &amp;lt;= data[end]) end = mid; } return data[mid]; } int minInOrder(int *data, int start, int end) { int result = data[start]; for (int i = start &#43; 1; i &amp;lt;= end; &#43;&#43;i) { if (result &amp;gt; data[i]) result = data[i]; } return result; }  æ–æ³¢é‚£å¥‘æ•°åˆ— é¦–å…ˆæ ¹æ®å®šä¹‰å¾ˆå®¹æ˜“æƒ³åˆ°é€’å½’ç®—æ³•ï¼Œä½†æ˜¯é€’å½’ç®—æ³•ä¼šé‡å¤è®¡ç®—å¾ˆå¤šæ¬¡ï¼Œæ‰€ä»¥å®é™…ä¸Šæµªè´¹äº†å¾ˆå¤šèµ„æº
long long recFibonacci(unsigned int n) { if (n &amp;lt;= 1) return n; else return recFibonacci(n - 1) &#43; recFibonacci(n - 2); } ä½¿ç”¨éé€’å½’è§£æ³•ï¼Œä¸å¿…é‡å¤è®¡ç®—
long long nonRecFibonacci(unsigned int n) { if (n &amp;lt;= 1) return n; long long first = 0, second = 1, result = 0; for (int i = 2; i &amp;lt;= n; i&#43;&#43;) { result = first &#43; second; first = second; second = result; } return result; }  æ•°ç»„çš„æ•´æ•°æ¬¡æ–¹ å®ç°å‡½æ•°double power(double base,int exponent),æ±‚ baseçš„expoentæ¬¡æ–¹ï¼Œä¸ä½¿ç”¨åº“å‡½æ•°ï¼ŒåŒæ—¶ä¸è€ƒè™‘å¤§æ•°é—®é¢˜ã€‚ä½†æ˜¯åœ¨è¿™ä¸ªé—®é¢˜ä¸Šéœ€è¦è€ƒè™‘baseæ¥è¿‘äº0çš„æƒ…å†µã€‚
double power(double base, int exponent) { double result = 1.0; unsigned int absExponent = (unsigned int) (exponent); if (base &amp;gt; 0.000001 &amp;amp;&amp;amp; base &amp;lt; 0.000001 &amp;amp;&amp;amp; exponent &amp;lt; 0) return 0; if (exponent &amp;lt; 0) { absExponent = (unsigned int) (-exponent); } for (unsigned int i = 0; i &amp;lt; absExponent; &#43;&#43;i) { result *= base; } if (exponent &amp;lt; 0) result = 1.0 / result; return result; } ä¼˜åŒ–çš„æ–¹æ³•ï¼Œä½¿ç”¨å¦‚ä¸‹æ–¹æ³•
![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-08-17 ä¸‹åˆ2.42.37.png)
double powerOptimize(double base, int exponent) { if (exponent == 0) return 1; if (exponent == 1) return base; double result = powerOptimize(base, exponent &amp;gt;&amp;gt; 1); result *= result; if ((exponent &amp;amp; 0x1) == 1) result *= base; return result; }  æ‰“å°1åˆ°æœ€å¤§çš„nä½æ•° è¾“å…¥æ•°å­— nï¼Œæ‰“å°1åˆ°æœ€å¤§çš„ n ä½åè¿›åˆ¶æ•°
void printNdigits(unsigned int n) { auto *digits = new char[n &#43; 1]; memset(digits, &amp;#39;0&amp;#39;, (n &#43; 1) * sizeof(char)); digits[n] = &amp;#39;\0&amp;#39;; while (!incrementByone(digits)) { printNumber(digits); } delete[] digits; } bool incrementByone(char *digits) { int length = strlen(digits); bool isOverFlow = false; int takeOver = 0; int cur = 0; for (auto i = length-1; i &amp;gt;= 0; --i) { cur = digits[i]-&amp;#39;0&amp;#39;&#43;takeOver; if( i==length-1) cur &#43;&#43;; if(cur &amp;gt; 10) { if(i == 0) isOverFlow = true; else { cur -= 10; digits[i]=&amp;#39;0&amp;#39;&#43;cur; takeOver =1; } } else { digits[i]=&amp;#39;0&amp;#39;&#43;cur; break; } } return isOverFlow; } void printNumber(const char *digits) { if (digits != nullptr) { while (*digits == &amp;#39;0&amp;#39;) { digits&#43;&#43;; } cout &amp;lt;&amp;lt; digits &amp;lt;&amp;lt; endl; } } é€’å½’æ–¹å¼ï¼Œå¦‚æœå°†å‰é¢çš„æ•°å­—è¡¥0çš„è¯ï¼Œå°±ä¼šå‘ç°nä½æ‰€æœ‰åè¿›åˆ¶æ•°å…¶å®å°±æ˜¯nä¸ªä»0å¼€å§‹åˆ°9çš„å…¨æ’åˆ—ï¼Œå°±æ˜¯æŠŠæ•°å­—ä»0åˆ°9æ’åˆ—ä¸€éï¼Œå°±å¾—åˆ°äº†åè¿›åˆ¶çš„å…¨æ’åˆ—ã€‚
void newPrintNdigts(unsigned int n) { auto *digits = new char[n &#43; 1]; digits[n] = &amp;#39;\0&amp;#39;; for (int i = 0; i &amp;lt; 10; &#43;&#43;i) { digits[0] =char(i&#43;&amp;#39;0&amp;#39;); recPrintNdigits(digits,n,0); } delete[] digits; } void recPrintNdigits(char *digits, int length, int index) { if(index == length-1) { printNumber(digits); return; } for (int i = 0; i &amp;lt; 10; &#43;&#43;i) { digits[index&#43;1] = char(i&#43;&amp;#39;0&amp;#39;); recPrintNdigits(digits,length,index&#43;1); } }  åœ¨O(1)æ—¶é—´å†…åˆ é™¤èŠ‚ç‚¹ åœ¨ $O(1)$ æ—¶é—´å¤æ‚åº¦å†…åˆ é™¤æŸä¸ªèŠ‚ç‚¹,å‡è®¾è¦åˆ é™¤çš„èŠ‚ç‚¹ä¸€å®šåœ¨é“¾è¡¨ä¸­ã€‚å¦‚æœåˆ é™¤çš„ä¸æ˜¯å°¾èŠ‚ç‚¹ï¼Œåˆ™åªè¦å°†å®ƒçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æ•°æ®ç§»åˆ°è¯¥èŠ‚ç‚¹å³å¯ã€‚
void deleteLinkedNode(LinkedNode * &amp;amp;root, LinkedNode * key) { if( root == nullptr || key == nullptr || !isNodeInLinkedList(root, key)) return; if(key-&amp;gt;next != nullptr) //åˆ é™¤çš„å¦‚æœä¸æ˜¯å°¾èŠ‚ç‚¹  { LinkedNode * next = key-&amp;gt;next; key-&amp;gt;data = next-&amp;gt;data; key-&amp;gt;next = next-&amp;gt;next; delete next; next = nullptr; } else if( root-&amp;gt;next == nullptr) //åˆ é™¤çš„æ˜¯å°¾èŠ‚ç‚¹ï¼Œè€Œä¸”é“¾è¡¨åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹  { delete root; root = nullptr; } else //åˆ é™¤çš„æ˜¯å°¾èŠ‚ç‚¹ï¼Œä¸”é“¾è¡¨ä¸æ­¢ä¸€ä¸ªèŠ‚ç‚¹  { LinkedNode * pre = root; LinkedNode * cur = root-&amp;gt;next; while(cur != nullptr ) { pre = cur; cur = cur-&amp;gt;next; } pre-&amp;gt;next = nullptr; delete cur; cur = nullptr; } }  é“¾è¡¨ä¸­çš„å€’æ•°ç¬¬ k ä¸ªèŠ‚ç‚¹ è¾“å…¥ä¸€ä¸ªé“¾è¡¨ï¼Œè¾“å‡ºè¯¥é“¾è¡¨ä¸­çš„å€’æ•°ç¬¬ k ä¸ªèŠ‚ç‚¹ï¼Œå…¶ä¸­é“¾è¡¨çš„å°¾èŠ‚ç‚¹ä¸ºå€’æ•°ç¬¬1ä¸ªèŠ‚ç‚¹
åŸºæœ¬æ€è·¯æ˜¯ç”¨ä¸¤ä¸ªæŒ‡é’ˆï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªæ¸¸æ ‡å…ˆå‘å‰èµ° k-1æ¬¡ï¼Œç„¶åå’Œå¦å¤–ä¸€ä¸ªæ¸¸æ ‡ä¸€èµ·å¾€å‰èµ°ï¼Œå¦‚æœç¬¬ä¸€ä¸ªæ¸¸æ ‡èµ°åˆ°å°¾èŠ‚ç‚¹ï¼Œé‚£ä¹ˆç¬¬äºŒä¸ªæ¸¸æ ‡ä¹Ÿå°±åˆ°äº†å€’æ•°ç¬¬ kä¸ªèŠ‚ç‚¹ã€‚
LinkedNode *findLastKthNodeFaster(LinkedNode *root, int k) { if( root == nullptr || k &amp;lt;= 0) return nullptr; LinkedNode * cur = root; LinkedNode * result = root; for (int i = 0; i &amp;lt; k-1; &#43;&#43;i) { if (cur-&amp;gt;next != nullptr) //è¦è€ƒè™‘kçš„å€¼æ˜¯å¦è¶…è¿‡äº†é“¾è¡¨çš„æ€»èŠ‚ç‚¹æ•°ç›®  cur = cur-&amp;gt;next; else return nullptr; } while (cur != nullptr) { cur = cur-&amp;gt;next; result = result-&amp;gt;next; } return result; }  åè½¬é“¾è¡¨ å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ï¼Œåè½¬è¯¥é“¾è¡¨å¹¶è¾“å‡ºåè½¬åé“¾è¡¨çš„å¤´ç»“ç‚¹ã€‚åˆ†ä¸ºé€’å½’å’Œéé€’å½’è§£æ³•ï¼Œéé€’å½’ä½¿ç”¨å¤´æ’æ³•å³å¯
LinkedNode * reverseLinkedList(LinkedNode *pHead) { if (pHead == nullptr) return nullptr; LinkedNode *newHead = pHead; LinkedNode *cur = pHead-&amp;gt;next; newHead-&amp;gt;next = nullptr; LinkedNode *next = nullptr; while (cur != nullptr) { next = cur-&amp;gt;next; cur-&amp;gt;next = newHead; newHead = cur; cur = next; } return newHead; } é€’å½’è§£æ³•
LinkedNode *recurReversionLinkedList(LinkedNode *head) { LinkedNode *cur = nullptr; LinkedNode *tmp = nullptr; LinkedNode *recurHead = nullptr; if(head == nullptr) { return nullptr; } if(head-&amp;gt;next == nullptr) return head; else { cur = head; tmp = head-&amp;gt;next; recurHead = recurReversionLinkedList(tmp); //å¾—åˆ°åè½¬ä¹‹åçš„å¤´èŠ‚ç‚¹  tmp-&amp;gt;next = cur; //æ­¤æ—¶tmpå°±æ˜¯æœ€åä¸€ä¸ªèŠ‚ç‚¹äº†,åº”è¯¥å°†curæ”¾åˆ°æ­¤æ—¶çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹tmpçš„åé¢  cur-&amp;gt;next = nullptr; return recurHead; } }  å‹ç¼©å­—ç¬¦ä¸² ç»™å®šä¸€æ®µå­—ç¬¦ä¸²ï¼Œä»…å‹ç¼©è¿ç»­é‡å¤å‡ºç°çš„å­—ç¬¦ï¼Œä¾‹å¦‚å­—ç¬¦ä¸²abcbcå‹ç¼©åä¸º1a1b1cï¼Œxxxyyyyzzå‹ç¼©åä¸º3x4y2z
void compressString(const char *src) { assert(src != nullptr); auto length = strlen(src); auto *result = new char[2 * length &#43; 1]; //å½“å­—ç¬¦éƒ½ä¸ç›¸åŒæ—¶ï¼Œå‹ç¼©åçš„å­—ç¬¦ä¸²é•¿åº¦å˜ä¸ºåŸæ¥çš„2å€  int i = 0, j = 0, k = 0; char cur; while (src[i] != &amp;#39;\0&amp;#39;) { cur = src[i]; j = i &#43; 1; while (src[j] == cur) { j&#43;&#43;; } result[k&#43;&#43;] = (char) (j - i &#43; &amp;#39;0&amp;#39;); result[k&#43;&#43;] = cur; i = j; } result[k] = &amp;#39;\0&amp;#39;; cout &amp;lt;&amp;lt; result &amp;lt;&amp;lt; endl; delete[] result; }  åˆ é™¤å¤šä½™ç©ºæ ¼ åœ¨ä¸å¼€è¾Ÿé¢å¤–ç©ºé—´çš„æƒ…å†µä¸‹åˆ é™¤å¼€å§‹å’Œç»“å°¾å¤„çš„ç©ºæ ¼ï¼Œå¹¶å°†ä¸­é—´çš„å¤šä¸ªè¿ç»­çš„ç©ºæ ¼åˆæˆä¸€ä¸ªã€‚
void deleteSpaces2(char *str) { auto length = strlen(str); auto i = length - 1; int j =0; while (str[i] == &amp;#39; &amp;#39;) i--; str[i&#43;1] = &amp;#39;\0&amp;#39;; i = 0; while (str[i] == &amp;#39; &amp;#39;) i&#43;&#43;; while(str[i] != &amp;#39;\0&amp;#39;) { str[j&#43;&#43;] = str[i&#43;&#43;]; if(str[i] == &amp;#39; &amp;#39;) { while(str[i] == &amp;#39; &amp;#39;) i&#43;&#43;; str[j&#43;&#43;] = &amp;#39; &amp;#39;; } } str[j] = &amp;#39;\0&amp;#39;; cout&amp;lt;&amp;lt;&amp;#34;***&amp;#34;&amp;lt;&amp;lt;str&amp;lt;&amp;lt;&amp;#34;***&amp;#34;&amp;lt;&amp;lt;endl; }  åˆå¹¶ä¸¤ä¸ªæœ‰åºçš„é“¾è¡¨ å½“å¾—åˆ°ä¸¤ä¸ªé“¾è¡¨ä¸­å€¼è¾ƒå°çš„å¤´èŠ‚ç‚¹å¹¶æŠŠå®ƒé“¾æ¥åˆ°å·²ç»åˆå¹¶çš„é“¾è¡¨ä¹‹åï¼Œä¸¤ä¸ªé“¾è¡¨å‰©ä½™çš„èŠ‚ç‚¹ä¾ç„¶æ˜¯æœ‰åºçš„ï¼Œå› æ­¤åˆå¹¶çš„æ­¥éª¤å’Œä¹‹å‰çš„æ­¥éª¤ä¸€æ ·ã€‚
LinkedNode *mergeOrderLinkedList(LinkedNode *head1, LinkedNode *head2) { if (head1 == nullptr) return head2; else if (head2 == nullptr) return head1; LinkedNode *mergeHead = nullptr; if (head1-&amp;gt;data &amp;lt;= head2-&amp;gt;data) { mergeHead = head1; mergeHead-&amp;gt;next = mergeOrderLinkedList(head1-&amp;gt;next, head2); } else { mergeHead = head2; mergeHead-&amp;gt;next = mergeOrderLinkedList(head1, head2-&amp;gt;next); } return mergeHead; }  æ ‘çš„å­ç»“æ„ è¾“å…¥ä¸¤æ£µäºŒå‰æ ‘ A å’Œ Bï¼Œåˆ¤æ–­ B æ˜¯ä¸æ˜¯ A çš„å­æ ‘
bool hasSubTree(BinTreeNode *root1, BinTreeNode *root2) { bool result = false; if(root1 != nullptr &amp;amp;&amp;amp; root2 != nullptr ) { if(root1-&amp;gt;data == root2-&amp;gt;data) result = DoesTree1HasTree2(root1,root2); if(false == result) { result = hasSubTree(root1-&amp;gt;leftChild,root2); } if(false == result) { result = hasSubTree(root1-&amp;gt;rightChild,root2); } } return result; } bool DoesTree1HasTree2(BinTreeNode *root1, BinTreeNode *root2) { if(root2 == nullptr) return true; else if(root1 == nullptr) return false; if(root1-&amp;gt;data != root2-&amp;gt;data) return false; return DoesTree1HasTree2(root1-&amp;gt;rightChild,root2-&amp;gt;leftChild) &amp;amp;&amp;amp; DoesTree1HasTree2(root1-&amp;gt;rightChild,root2-&amp;gt;rightChild); }  æ ‘çš„é•œåƒ å…ˆå‰åºéå†è¿™æ£µæ ‘çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¦‚æœéå†åˆ°çš„èŠ‚ç‚¹æœ‰å­èŠ‚ç‚¹åˆ™äº¤æ¢å®ƒä»¬ï¼Œå½“äº¤æ¢å®Œæ‰€æœ‰çš„éå¶å­èŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹ä¹‹åï¼Œå°±å¾—åˆ°äº†æ ‘çš„é•œåƒ
void changeToMirror(BinTreeNode *root) { if (root == nullptr) return; if (root-&amp;gt;leftChild == nullptr &amp;amp;&amp;amp; root-&amp;gt;rightChild == nullptr) return; BinTreeNode *tmp; tmp = root-&amp;gt;leftChild; root-&amp;gt;leftChild = root-&amp;gt;rightChild; root-&amp;gt;rightChild = tmp; if(nullptr != root-&amp;gt;leftChild) changeToMirror(root-&amp;gt;leftChild); if(nullptr != root-&amp;gt;rightChild) changeToMirror(root-&amp;gt;rightChild); }  é¡ºæ—¶é’ˆæ‰“å°çŸ©é˜µ void clockwisePrintMatrix(int **input, int columns, int rows) { if (input == nullptr || columns &amp;lt; 0) return; int start = 0; while (columns &amp;gt; start * 2 &amp;amp;&amp;amp; rows &amp;gt; start * 2) //æ‰“å°è¿›è¡Œçš„æ¡ä»¶  { printMatrixInCircle(input, columns, rows, start); start&#43;&#43;; } } void printMatrixInCircle(int **input, int rows, int columns, int start) { int endX = columns - 1 - start; //è®°å½•è¡Œçš„æœ€å³è¾¹  int endY = rows - 1 - start; //è®°å½•åˆ—çš„æœ€ä¸‹è¾¹  //ä»å·¦å¾€å³æ‰“å°ä¸€è¡Œ  for (int i = start; i &amp;lt;= endX ; &#43;&#43;i) { cout&amp;lt;&amp;lt;input[start][i]&amp;lt;&amp;lt;&amp;#34;\t&amp;#34;; } //ä»ä¸Šå¾€ä¸‹æ‰“å°ä¸€åˆ—  for (int i = start&#43;1; i&amp;lt;= endY; &#43;&#43;i) { cout&amp;lt;&amp;lt;input[i][endX]&amp;lt;&amp;lt;&amp;#34;\t&amp;#34;; } for (int i = endX-1; i &amp;gt;=start ; --i) { cout&amp;lt;&amp;lt;input[endY][i]&amp;lt;&amp;lt;&amp;#34;\t&amp;#34;; } for (int i = endY-1; i &amp;gt; start ; --i) { cout&amp;lt;&amp;lt;input[i][start]&amp;lt;&amp;lt;&amp;#34;\t&amp;#34;; } cout&amp;lt;&amp;lt;endl; }  åŒ…å«minå‡½æ•°çš„æ ˆ å®šä¹‰æ ˆçš„æ•°æ®ç»“æ„ï¼Œåœ¨è¯¥ç±»å‹ä¸­å®ç°ä¸€ä¸ªèƒ½å¤Ÿå¾—åˆ°æ ˆçš„æœ€å°å…ƒç´ çš„minå‡½æ•°ã€‚
åˆ©ç”¨ä¸€ä¸ªè¾…åŠ©æ ˆï¼Œæ¯æ¬¡å°†æœ€å°çš„å…ƒç´ ï¼ˆå½“å‰æœ€å°å’Œå…¥æ ˆå‹å…¥çš„æ–°å…ƒç´ æ¯”è¾ƒï¼‰éƒ½ä¿å­˜åœ¨è¿™ä¸ªè¾…åŠ©æ ˆä¸­ã€‚å½“å¼¹å‡ºå…ƒç´ æ—¶ï¼Œè¾…åŠ©æ ˆä¸­çš„å…ƒç´ ä¹Ÿå¼¹å‡ºä¸€ä¸ªã€‚
 åˆ¤æ–­æ­£ç¡®çš„å‡ºæ ˆåºåˆ— è¾“å…¥ä¸¤ä¸ªæ•´æ•°åºåˆ—ï¼Œç¬¬ä¸€ä¸ªè¡¨ç¤ºæ ˆçš„å‹å…¥é¡ºåºï¼Œç¬¬äºŒä¸ªè¡¨ç¤ºå¼¹å‡ºåºåˆ—ï¼Œåˆ¤æ–­å¼¹å‡ºåºåˆ—æ˜¯å¦æ˜¯ç¬¬ä¸€ä¸ªå‹å…¥åºåˆ—çš„æœ‰æ•ˆå¼¹å‡ºåºåˆ—ã€‚
ä½¿ç”¨ä¸€ä¸ªè¾…åŠ©æ ˆæ¥ä¿å­˜å‹å…¥åºåˆ—ï¼Œå¦‚æœä¸‹ä¸€ä¸ªå¼¹å‡ºçš„æ•°å­—åˆšå¥½æ˜¯æ ˆé¡¶æ•°å­—ï¼Œé‚£ä¹ˆç›´æ¥å¼¹å‡ºï¼Œå¦‚æœä¸‹ä¸€ä¸ªå¼¹å‡ºçš„æ•°å­—ä¸åœ¨æ ˆé¡¶ï¼Œåˆ™æŠŠå‹æ ˆåºåˆ—ä¸­è¿˜æœªå‹å…¥çš„æ•°å­—å‹å…¥åˆ°æ ˆä¸­ï¼Œç›´åˆ°æŠŠä¸‹ä¸€ä¸ªéœ€è¦å¼¹å‡ºçš„æ•°å­—å‹å…¥åˆ°æ ˆé¡¶ä¸ºæ­¢ï¼Œå¦‚æœæ‰€æœ‰æ•°å­—éƒ½å‹å…¥åˆ°æ ˆä¸­äº†è¿˜æœªæ‰¾åˆ°ä¸‹ä¸€ä¸ªå¼¹å‡ºçš„æ•°å­—ï¼Œé‚£ä¹ˆè¯¥åºåˆ—å°±ä¸æ˜¯åˆæ³•çš„å¼¹å‡ºåºåˆ—ã€‚
ä¸‹é¢è¿™ä¸ªæ˜¯é’ˆå¯¹ä¸æ ˆä¸­å…ƒç´ æ˜¯æ•´å‹å˜é‡çš„ï¼š
bool isPopOrder(const int *pushOrder, const int *popOrder, int length) { bool result = false; const int *nextPush = pushOrder; const int *nextPop = popOrder; stack&amp;lt;int&amp;gt; st; if (pushOrder != nullptr &amp;amp;&amp;amp; popOrder != nullptr &amp;amp;&amp;amp; length &amp;gt; 0) { while ((nextPop - popOrder) &amp;lt; length) { while (st.empty() || *nextPop != st.top()) { if ((nextPush - pushOrder) == length) break; st.push(*nextPush); nextPush&#43;&#43;; } if (st.top() != *nextPush) break; nextPop&#43;&#43;; st.pop(); } if (st.empty() &amp;amp;&amp;amp; (nextPop - popOrder == length)) result = true; } return result; } è¿™ä¸ªæ˜¯é’ˆå¯¹äºæ ˆä¸­å…ƒç´ æ˜¯å­—ç¬¦å‹
bool isPopOrder(const char *pushOrder, const char *popOrder) { bool result = false; auto length = strlen(pushOrder); if(popOrder != nullptr &amp;amp;&amp;amp; pushOrder != nullptr &amp;amp;&amp;amp; length == strlen(popOrder)) { stack&amp;lt;char&amp;gt; st; const char * nextPush = pushOrder; const char * nextPop = popOrder; while(*nextPop != &amp;#39;\0&amp;#39;) { while(st.empty() || *nextPop != st.top()) { if(*nextPush == &amp;#39;\0&amp;#39;) break; st.push(*nextPush); nextPush&#43;&#43;; } if(*nextPop != st.top()) break; nextPop&#43;&#43;; st.pop(); } if(st.empty() &amp;amp;&amp;amp; *nextPop == &amp;#39;\0&amp;#39;) result = true; } return result; }  äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ— è¾“å…¥ä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œåˆ¤æ–­è¯¥æ•°ç»„æ˜¯ä¸æ˜¯æŸäºŒå‰æœç´¢æ ‘çš„ååºéå†çš„ç»“æœï¼Œå¦‚æœæ˜¯åˆ™è¿”å›trueï¼Œä¸æ˜¯åˆ™è¿”å›false
bool verifySquenceOfBST(int *input, int length) { bool result = false; if (input == nullptr || length &amp;lt;= 0) return result; int cur = input[length - 1]; //æ ¹èŠ‚ç‚¹  int index = 0; int mid = 0; while (index &amp;lt; length &amp;amp;&amp;amp; input[index] &amp;lt; cur) { index&#43;&#43;; } mid = index; while (index &amp;lt; length &amp;amp;&amp;amp; input[index] &amp;gt; cur) { index&#43;&#43;; } if (index == length - 1) //æ³¨æ„è¾¹ç•Œåˆ¤æ–­  { bool left = false, right = false; if (mid &amp;gt; 0) left = verifySquenceOfBST(input, mid); if (mid &amp;lt; length - 1) right = verifySquenceOfBST(input &#43; mid, length - mid - 1); result = left &amp;amp;&amp;amp; right; } return result; }  äºŒå‰æ ‘ä¸­ä»æ ¹å¼€å§‹å’Œä¸ºæŸä¸€å€¼çš„è·¯å¾„ è¾“å…¥ä¸€æ£µäºŒå‰æ ‘å’Œä¸€ä¸ªæ•´æ•°ï¼Œæ‰“å°äºŒå‰æ ‘ä¸­èŠ‚ç‚¹å€¼çš„å’Œä¸ºè¾“å…¥æ•´æ•°çš„æ‰€æœ‰è·¯å¾„ã€‚ä»æ ‘çš„æ ¹èŠ‚ç‚¹å¼€å§‹å¾€ä¸‹ä¸€ç›´åˆ°æŸä¸€èŠ‚ç‚¹æ‰€ç»è¿‡çš„èŠ‚ç‚¹å½¢æˆä¸€æ¡è·¯å¾„ã€‚
void findPath(BinTreeNode *root, int sum) { if (root == nullptr) return; vector&amp;lt;char&amp;gt; path; int currentSum = 0; findPath(root, path, sum, currentSum); } void findPath(BinTreeNode *root, vector&amp;lt;char&amp;gt; &amp;amp;path, int sum, int currentsum) { currentsum &#43;= root-&amp;gt;data; path.push_back(root-&amp;gt;data); if (sum == currentsum) { for (auto it = path.begin(); it != path.end(); it&#43;&#43;) { cout &amp;lt;&amp;lt; *it &amp;lt;&amp;lt; &amp;#39;\t&amp;#39;; } cout &amp;lt;&amp;lt; endl; } if (root-&amp;gt;leftChild != nullptr) { findPath(root-&amp;gt;leftChild, path, currentsum, sum); } if (root-&amp;gt;rightChild != nullptr) { findPath(root-&amp;gt;rightChild, path, currentsum, sum); } path.pop_back(); } ä¸ç”¨vectorç®—æ³•çš„å†™æ³•ï¼š
void printSumPath(BinTreeNode *root, char *path, int length, int sum) { if (root == nullptr) return; path[length] = root-&amp;gt;data; sum -= root-&amp;gt;data; length&#43;&#43;; if (0 == sum) { for (int i = 0; i &amp;lt;= length; &#43;&#43;i) { cout &amp;lt;&amp;lt; path[i]; } cout &amp;lt;&amp;lt; endl; } if (root-&amp;gt;leftChild != nullptr) { printSumPath(root-&amp;gt;leftChild, path, length, sum); } if (root-&amp;gt;rightChild != nullptr) { printSumPath(root-&amp;gt;rightChild, path, length, sum); } length--; //å‡ä¸å‡å…¶å®æ— æ‰€è°“ }  äºŒå‰æ ‘ä¸­å’Œä¸ºæŸä¸€å€¼çš„è·¯å¾„ ä¸€æ£µäºŒå‰æ ‘æ¯ä¸ªèŠ‚ç‚¹åŒ…å«ä¸€ä¸ªæ•´æ•°ï¼Œè®¾è®¡ä¸€ä¸ªç®—æ³•è¾“å‡ºæ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„è·¯å¾„ï¼šåœ¨æ­¤è·¯å¾„ä¸Šæ‰€æœ‰ç»™å®šçš„èŠ‚ç‚¹ä¹‹å’Œä¸ºç»™å®šå€¼ï¼Œä¸å¿…ä»æ ¹èŠ‚ç‚¹å¼€å§‹void printSumPath(BinTreeNode *root, vector&amp;lt;char&amp;gt; &amp;amp;path, int sum, int level) { if(root != nullptr) { path.push_back(root-&amp;gt;data); int currentSum = sum; for (int i = level; i &amp;gt;=0; &#43;&#43;i) { currentSum-=path[i]; if(currentSum == 0) printSumPath(path,i,level); } level&#43;&#43;; if(root-&amp;gt;leftChild != nullptr) printSumPath(root-&amp;gt;leftChild,path,sum,level); if(root-&amp;gt;rightChild != nullptr) printSumPath(root-&amp;gt;rightChild,path,sum,level); path.pop_back(); } } void printSumPath(vector&amp;lt;char&amp;gt; path, int start, int end) { for (int i = start; i &amp;lt;= end; &#43;&#43;i) { cout&amp;lt;&amp;lt;path[i]&amp;lt;&amp;lt;&amp;#39;\t&amp;#39;; } cout&amp;lt;&amp;lt;endl; }  </content>
    </entry>
    
     <entry>
        <title>C&#43;&#43;æ™ºèƒ½æŒ‡é’ˆ</title>
        <url>https://iihui.github.io/post/cpp-smart-pointer/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>C&#43;&#43;</tag>
        </tags>
        <content type="html">  æ™ºèƒ½æŒ‡é’ˆæ˜¯ä¸€ä¸ªç±»ï¼Œå®ƒå¯¹æ™®é€šæŒ‡é’ˆè¿›è¡Œå°è£…ï¼Œä½¿æ™ºèƒ½æŒ‡é’ˆç±»å¯¹è±¡å…·æœ‰æ™®é€šæŒ‡é’ˆç±»å‹ä¸€æ ·çš„æ“ä½œã€‚å…·ä½“è€Œè¨€ï¼Œå¤åˆ¶å¯¹è±¡æ—¶ï¼Œå‰¯æœ¬å’ŒåŸå¯¹è±¡éƒ½æŒ‡å‘åŒä¸€å­˜å‚¨åŒºåŸŸï¼Œå¦‚æœé€šè¿‡ä¸€ä¸ªå‰¯æœ¬æ”¹å˜å…¶æ‰€æŒ‡çš„å€¼ï¼Œåˆ™é€šè¿‡å¦ä¸€å¯¹è±¡è®¿é—®çš„å€¼ä¹Ÿä¼šæ”¹å˜ã€‚ä¸æ™®é€šæŒ‡é’ˆæ‰€ä¸åŒçš„æ˜¯ï¼Œæ™ºèƒ½æŒ‡é’ˆèƒ½å¤Ÿå¯¹å†…å­˜è¿›è¡Œè¿›è¡Œè‡ªåŠ¨ç®¡ç†ï¼Œé¿å…å‡ºç°æ‚¬å‚æŒ‡é’ˆç­‰æƒ…å†µã€‚
 æ™®é€šæŒ‡é’ˆ å¯¹äºæ™®é€šæŒ‡é’ˆï¼Œå½“æœ‰å¤šä¸ªæŒ‡é’ˆæŒ‡å‘åŒä¸€ä¸ªåŸºç¡€å¯¹è±¡æ—¶ï¼Œå¦‚æœæŸä¸ªæŒ‡é’ˆdeleteäº†è¯¥åŸºç¡€å¯¹è±¡ï¼Œå¯¹è¿™ä¸ªæŒ‡é’ˆæ¥è¯´å·²ç»æ˜ç¡®è¯´æ˜å®ƒæ‰€æŒ‡çš„å¯¹è±¡è¢«é‡Šæ”¾æ‰äº†ï¼Œæ‰€ä»¥å®ƒä¸ä¼šå†å¯¹æ‰€æŒ‡å¯¹è±¡è¿›è¡Œæ“ä½œã€‚ä½†æ˜¯ï¼Œå¯¹äºå‰©ä¸‹çš„æŒ‡å‘åŒä¸€ä¸ªåŸºç¡€å¯¹è±¡çš„æŒ‡é’ˆæ¥è¯´ï¼Œå®ƒä»¬ä¾ç„¶æŒ‡å‘å·²ç»è¢«åˆ é™¤çš„åŸºç¡€å¯¹è±¡å¹¶éšæ—¶å‡†å¤‡å¯¹å®ƒè¿›è¡Œæ“ä½œï¼Œäºæ˜¯æ‚¬å‚æŒ‡é’ˆå°±å½¢æˆäº†ã€‚
int * ptr1 = new int (1); int * ptr2 = ptr1; int * ptr3 = prt2; cout &amp;lt;&amp;lt; *ptr1 &amp;lt;&amp;lt; endl; cout &amp;lt;&amp;lt; *ptr2 &amp;lt;&amp;lt; endl; cout &amp;lt;&amp;lt; *ptr3 &amp;lt;&amp;lt; endl; delete ptr1; cout &amp;lt;&amp;lt; *ptr2 &amp;lt;&amp;lt; endl; ![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-08-13 ä¸‹åˆ4.12.02.png)
![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-08-13 ä¸‹åˆ4.12.12.png)
![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-08-13 ä¸‹åˆ4.12.32.png)
ä»å›¾å¯ä»¥çœ‹å‡ºï¼Œé”™è¯¯çš„äº§ç”Ÿæ¥è‡ªäºptr1çš„â€œæ— çŸ¥â€ï¼šå®ƒå¹¶ä¸çŸ¥é“è¿˜æœ‰å…¶ä»–æŒ‡é’ˆå…±äº«ç€å®ƒæŒ‡å‘çš„å¯¹è±¡ã€‚å¦‚æœæœ‰ä¸ªåŠæ³•è®©ptr1çŸ¥é“ï¼Œé™¤äº†å®ƒè‡ªå·±å¤–è¿˜æœ‰ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘åŸºç¡€å¯¹è±¡ï¼Œè€Œå®ƒä¸åº”è¯¥åˆ é™¤åŸºç¡€å¯¹è±¡ï¼Œé‚£ä¹ˆæ‚¬å‚æŒ‡é’ˆçš„é—®é¢˜å°±å¾—ä»¥è§£å†³äº†ã€‚
![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-08-13 ä¸‹åˆ4.14.30.png)
 å¼•ç”¨è®¡æ•° å¦‚ä½•æ¥è®©æŒ‡é’ˆçŸ¥é“è¿˜æœ‰å…¶ä»–æŒ‡é’ˆçš„å­˜åœ¨å‘¢ï¼Ÿè¿™ä¸ªæ—¶å€™è¯¥å¼•å…¥å¼•ç”¨è®¡æ•°çš„æ¦‚å¿µäº†ã€‚å¼•ç”¨è®¡æ•°æ˜¯è¿™æ ·ä¸€ä¸ªæŠ€å·§ï¼Œå®ƒå…è®¸æœ‰å¤šä¸ªç›¸åŒå€¼çš„å¯¹è±¡å…±äº«è¿™ä¸ªå€¼çš„å®ç°ã€‚å¼•ç”¨è®¡æ•°çš„ä½¿ç”¨å¸¸æœ‰ä¸¤ä¸ªç›®çš„ï¼š
  ä¸€æ—¦ä¸€ä¸ªå¯¹è±¡é€šè¿‡è°ƒç”¨newè¢«åˆ†é…å‡ºæ¥ï¼Œè®°å½•è°æ‹¥æœ‰è¿™ä¸ªå¯¹è±¡æ˜¯å¾ˆé‡è¦çš„ï¼Œå› ä¸ºå…¶æ‰€æœ‰è€…è¦è´Ÿè´£å¯¹å®ƒè¿›è¡Œdeleteã€‚ä½†æ˜¯å¯¹è±¡æ‰€æœ‰è€…å¯ä»¥æœ‰å¤šä¸ªï¼Œä¸”æ‰€æœ‰æƒèƒ½å¤Ÿè¢«ä¼ é€’ï¼Œè¿™å°±ä½¿å¾—å†…å­˜è·Ÿè¸ªå˜å¾—å›°éš¾ã€‚å¼•ç”¨è®¡æ•°å¯ä»¥è·Ÿè¸ªå¯¹è±¡æ‰€æœ‰æƒï¼Œå¹¶èƒ½å¤Ÿè‡ªåŠ¨é”€æ¯å¯¹è±¡ã€‚å¯ä»¥è¯´å¼•ç”¨è®¡æ•°æ˜¯ä¸ªç®€å•çš„åƒåœ¾å›æ”¶ä½“ç³»ã€‚
  èŠ‚çœå†…å­˜ï¼Œæé«˜ç¨‹åºè¿è¡Œæ•ˆç‡ã€‚å¦‚æœå¾ˆå¤šå¯¹è±¡æœ‰ç›¸åŒçš„å€¼ï¼Œä¸ºè¿™å¤šä¸ªç›¸åŒçš„å€¼å­˜å‚¨å¤šä¸ªå‰¯æœ¬æ˜¯å¾ˆæµªè´¹ç©ºé—´çš„ï¼Œæ‰€ä»¥æœ€å¥½åšæ³•æ˜¯è®©å·¦å³å¯¹è±¡éƒ½å…±äº«åŒä¸€ä¸ªå€¼çš„å®ç°ã€‚C&#43;&#43;æ ‡å‡†åº“ä¸­stringç±»é‡‡å–ä¸€ç§ç§°ä¸ºâ€œå†™æ—¶å¤åˆ¶â€çš„æŠ€æœ¯ï¼Œä½¿å¾—åªæœ‰å½“å­—ç¬¦ä¸²è¢«ä¿®æ”¹çš„æ—¶å€™æ‰åˆ›å»ºå„è‡ªçš„æ‹·è´ï¼Œå¦åˆ™å¯èƒ½ï¼ˆæ ‡å‡†åº“å…è®¸ä½¿ç”¨ä½†æ²¡å¼ºåˆ¶è¦æ±‚ï¼‰é‡‡ç”¨å¼•ç”¨è®¡æ•°æŠ€æœ¯æ¥ç®¡ç†å…±äº«å¯¹è±¡çš„å¤šä¸ªå¯¹è±¡ã€‚
   æ™ºèƒ½æŒ‡é’ˆå®ç° æ™ºèƒ½æŒ‡é’ˆçš„å®ç°ç­–ç•¥æœ‰ä¸¤ç§ï¼šè¾…åŠ©ç±»ä¸å¥æŸ„ç±»ï¼Œè¿™é‡Œä»‹ç»è¾…åŠ©ç±»å®ç°
åŸºç¡€ç±» class Point { public: Point(int xVal = 0, int yVal = 0) :x(xVal), y(yVal) { } int getX() const { return x; } int getY() const { return y; } void setX(int xVal) { x = xVal; } void setY(int yVal) { y = yVal; } private: int x, y; };  è¾…åŠ©ç±» åœ¨åˆ›å»ºæ™ºèƒ½æŒ‡é’ˆç±»ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªè¾…åŠ©ç±»ã€‚è¿™ä¸ªç±»çš„æ‰€æœ‰æˆå‘˜çš†ä¸ºç§æœ‰ç±»å‹ï¼Œå› ä¸ºå®ƒä¸è¢«æ™®é€šç”¨æˆ·æ‰€ä½¿ç”¨ã€‚ä¸ºäº†åªä¸ºæ™ºèƒ½æŒ‡é’ˆä½¿ç”¨ï¼Œè¿˜éœ€è¦æŠŠæ™ºèƒ½æŒ‡é’ˆç±»å£°æ˜ä¸ºè¾…åŠ©ç±»çš„å‹å…ƒã€‚è¿™ä¸ªè¾…åŠ©ç±»å«æœ‰ä¸¤ä¸ªæ•°æ®æˆå‘˜ï¼šè®¡æ•°countä¸åŸºç¡€å¯¹è±¡æŒ‡é’ˆã€‚ä¹Ÿå³è¾…åŠ©ç±»ç”¨ä»¥å°è£…ä½¿ç”¨è®¡æ•°ä¸åŸºç¡€å¯¹è±¡æŒ‡é’ˆã€‚
class U_Ptr { private: friend class SmartPtr; U_Ptr(Point *ptr) :p(ptr), count(1) { } ~U_Ptr() { delete p; } int count; Point *p; };  æ™ºèƒ½æŒ‡é’ˆç±» å¼•ç”¨è®¡æ•°æ˜¯å®ç°æ™ºèƒ½æŒ‡é’ˆçš„ä¸€ç§é€šç”¨æ–¹æ³•ã€‚æ™ºèƒ½æŒ‡é’ˆå°†ä¸€ä¸ªè®¡æ•°å™¨ä¸ç±»æŒ‡å‘çš„å¯¹è±¡ç›¸å…³è”ï¼Œå¼•ç”¨è®¡æ•°è·Ÿè¸ªå…±æœ‰å¤šå°‘ä¸ªç±»å¯¹è±¡å…±äº«åŒä¸€æŒ‡é’ˆã€‚å®ƒçš„å…·ä½“åšæ³•å¦‚ä¸‹ï¼š
  å½“åˆ›å»ºç±»çš„æ–°å¯¹è±¡æ—¶ï¼Œåˆå§‹åŒ–æŒ‡é’ˆï¼Œå¹¶å°†å¼•ç”¨è®¡æ•°è®¾ç½®ä¸º1
  å½“å¯¹è±¡ä½œä¸ºå¦ä¸€ä¸ªå¯¹è±¡çš„å‰¯æœ¬æ—¶ï¼Œå¤åˆ¶æ„é€ å‡½æ•°å¤åˆ¶å‰¯æœ¬æŒ‡é’ˆï¼Œå¹¶å¢åŠ ä¸æŒ‡é’ˆç›¸åº”çš„å¼•ç”¨è®¡æ•°ï¼ˆåŠ 1ï¼‰
  ä½¿ç”¨èµ‹å€¼æ“ä½œç¬¦å¯¹ä¸€ä¸ªå¯¹è±¡è¿›è¡Œèµ‹å€¼æ—¶ï¼Œå¤„ç†å¤æ‚ä¸€ç‚¹ï¼šå…ˆä½¿å·¦æ“ä½œæ•°çš„æŒ‡é’ˆçš„å¼•ç”¨è®¡æ•°å‡1ï¼ˆå› ä¸ºæŒ‡é’ˆå·²ç»æŒ‡å‘åˆ«çš„åœ°æ–¹ï¼‰ï¼Œå¦‚æœå‡1åå¼•ç”¨è®¡æ•°ä¸º0ï¼Œåˆ™é‡Šæ”¾æŒ‡é’ˆæ‰€æŒ‡å¯¹è±¡å†…å­˜ã€‚ç„¶åå¢åŠ å³æ“ä½œæ•°æ‰€æŒ‡å¯¹è±¡çš„å¼•ç”¨è®¡æ•°ï¼ˆä¸ºä½•å¢åŠ ï¼šå› ä¸ºæ­¤æ—¶åšæ“ä½œæ•°æŒ‡å‘å¯¹è±¡å³å³æ“ä½œæ•°æŒ‡å‘å¯¹è±¡ï¼‰ã€‚
  ææ„å‡½æ•°ï¼šè°ƒç”¨ææ„å‡½æ•°æ—¶ï¼Œææ„å‡½æ•°å…ˆä½¿å¼•ç”¨è®¡æ•°å‡1ï¼Œå¦‚æœå‡è‡³0åˆ™deleteå¯¹è±¡ã€‚
  class SmartPtr { public: SmartPtr(Point *ptr) : rp(new U_Ptr(ptr)) {} SmartPtr(const SmartPtr &amp;amp;sp) : rp(sp.rp) { &#43;&#43;rp-&amp;gt;count; } SmartPtr &amp;amp;operator=(const SmartPtr &amp;amp;rhs) { &#43;&#43;rhs.rp-&amp;gt;count; if (--rp-&amp;gt;count == 0) delete rp; rp = rhs.rp; return *this; } ~SmartPtr() { if (--rp-&amp;gt;count == 0) delete rp; else cout &amp;lt;&amp;lt; &amp;#34;è¿˜æœ‰&amp;#34; &amp;lt;&amp;lt; rp-&amp;gt;count &amp;lt;&amp;lt; &amp;#34;ä¸ªæŒ‡é’ˆæŒ‡å‘åŸºç¡€å¯¹è±¡&amp;#34; &amp;lt;&amp;lt; endl; } private: U_Ptr *rp; };  ä½¿ç”¨ä¸æµ‹è¯• int main() { Point *pa = new Point(10, 20); //å®šä¹‰ä¸€ä¸ªåŸºç¡€å¯¹è±¡ç±»æŒ‡é’ˆ  //å®šä¹‰ä¸‰ä¸ªæ™ºèƒ½æŒ‡é’ˆç±»å¯¹è±¡ï¼Œå¯¹è±¡éƒ½æŒ‡å‘åŸºç¡€ç±»å¯¹è±¡pa  //ä½¿ç”¨èŠ±æ‹¬å·æ§åˆ¶ä¸‰ä¸ªæŒ‡é’ˆæŒ‡é’ˆçš„ç”Ÿå‘½æœŸï¼Œè§‚å¯Ÿè®¡æ•°çš„å˜åŒ–  { SmartPtr sptr1(pa); //æ­¤æ—¶è®¡æ•°count=1  { SmartPtr sptr2(sptr1); //è°ƒç”¨å¤åˆ¶æ„é€ å‡½æ•°ï¼Œæ­¤æ—¶è®¡æ•°ä¸ºcount=2  { SmartPtr sptr3 = sptr1; //è°ƒç”¨èµ‹å€¼æ“ä½œç¬¦ï¼Œæ­¤æ—¶è®¡æ•°ä¸ºconut=3  } //æ­¤æ—¶count=2  } //æ­¤æ—¶count=1ï¼›  } //æ­¤æ—¶count=0ï¼›paå¯¹è±¡è¢«deleteæ‰  cout &amp;lt;&amp;lt; pa-&amp;gt;getX() &amp;lt;&amp;lt; endl; return 0; }  æ”¹è¿›ä¸€ è™½ç„¶æ­¤æ—¶çš„SmartPtrç±»ç§°ä¸ºæ™ºèƒ½æŒ‡é’ˆï¼Œä½†å®ƒç›®å‰å¹¶ä¸èƒ½åƒçœŸæ­£çš„æŒ‡é’ˆé‚£æ ·æœ‰-&amp;gt;ã€*ç­‰æ“ä½œç¬¦ï¼Œä¸ºäº†ä½¿å®ƒçœ‹èµ·æ¥æ›´åƒä¸€ä¸ªæŒ‡é’ˆï¼Œæˆ‘ä»¬æ¥ä¸ºå®ƒé‡è½½è¿™äº›æ“ä½œç¬¦ã€‚ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š
class SmartPtr { public: SmartPtr(Point *ptr) :rp(new U_Ptr(ptr)) { } SmartPtr(const SmartPtr &amp;amp;sp) :rp(sp.rp) { &#43;&#43;rp-&amp;gt;count; } SmartPtr&amp;amp; operator=(const SmartPtr&amp;amp; rhs) { &#43;&#43;rhs.rp-&amp;gt;count; if (--rp-&amp;gt;count == 0) delete rp; rp = rhs.rp; return *this; } ~SmartPtr() { if (--rp-&amp;gt;count == 0) delete rp; else cout &amp;lt;&amp;lt; &amp;#34;è¿˜æœ‰&amp;#34; &amp;lt;&amp;lt; rp-&amp;gt;count &amp;lt;&amp;lt; &amp;#34;ä¸ªæŒ‡é’ˆæŒ‡å‘åŸºç¡€å¯¹è±¡&amp;#34; &amp;lt;&amp;lt; endl; } Point &amp;amp; operator *() //é‡è½½*æ“ä½œç¬¦  { return *(rp-&amp;gt;p); } Point* operator -&amp;gt;() //é‡è½½-&amp;gt;æ“ä½œç¬¦  { return rp-&amp;gt;p; } private: U_Ptr *rp; };  æ”¹è¿›äºŒ ç›®å‰è¿™ä¸ªæ™ºèƒ½æŒ‡é’ˆæ™ºèƒ½ç”¨äºç®¡ç†Pointç±»çš„åŸºç¡€å¯¹è±¡ï¼Œå¦‚æœæ­¤æ—¶å®šä¹‰äº†ä¸ªçŸ©é˜µçš„åŸºç¡€å¯¹è±¡ç±»ï¼Œé‚£ä¸æ˜¯è¿˜å¾—é‡æ–°å†™ä¸€ä¸ªå±äºçŸ©é˜µç±»çš„æ™ºèƒ½æŒ‡é’ˆç±»å—ï¼Ÿä½†æ˜¯çŸ©é˜µç±»çš„æ™ºèƒ½æŒ‡é’ˆç±»è®¾è®¡æ€æƒ³å’ŒPointç±»ä¸€æ ·å•Šï¼Œå°±ä¸èƒ½å€Ÿç”¨å—ï¼Ÿç­”æ¡ˆå½“ç„¶æ˜¯èƒ½ï¼Œé‚£å°±æ˜¯ä½¿ç”¨æ¨¡æ¿æŠ€æœ¯ã€‚
//æ¨¡æ¿ç±»ä½œä¸ºå‹å…ƒæ—¶è¦å…ˆæœ‰å£°æ˜ template &amp;lt;typename T&amp;gt; class SmartPtr; template &amp;lt;typename T&amp;gt; class U_Ptr //è¾…åŠ©ç±» { private: //è¯¥ç±»æˆå‘˜è®¿é—®æƒé™å…¨éƒ¨ä¸ºprivateï¼Œå› ä¸ºä¸æƒ³è®©ç”¨æˆ·ç›´æ¥ä½¿ç”¨è¯¥ç±»  friend class SmartPtr&amp;lt; T&amp;gt;; //å®šä¹‰æ™ºèƒ½æŒ‡é’ˆç±»ä¸ºå‹å…ƒï¼Œå› ä¸ºæ™ºèƒ½æŒ‡é’ˆç±»éœ€è¦ç›´æ¥æ“çºµè¾…åŠ©ç±»  //æ„é€ å‡½æ•°çš„å‚æ•°ä¸ºåŸºç¡€å¯¹è±¡çš„æŒ‡é’ˆ  U_Ptr(T *ptr) : p(ptr), count(1) {} //ææ„å‡½æ•°  ~U_Ptr() { delete p; } //å¼•ç”¨è®¡æ•°  int count; //åŸºç¡€å¯¹è±¡æŒ‡é’ˆ  T *p; }; template &amp;lt;typename T&amp;gt; class SmartPtr //æ™ºèƒ½æŒ‡é’ˆç±» { public: SmartPtr(T *ptr) : rp(new U_Ptr&amp;lt;T&amp;gt;(ptr)) {} //æ„é€ å‡½æ•°  SmartPtr(const SmartPtr&amp;lt;T&amp;gt; &amp;amp;sp) : rp(sp.rp) { &#43;&#43;rp-&amp;gt;count; } //å¤åˆ¶æ„é€ å‡½æ•°  SmartPtr &amp;amp;operator=(const SmartPtr&amp;lt;T&amp;gt; &amp;amp;rhs) { //é‡è½½èµ‹å€¼æ“ä½œç¬¦  &#43;&#43;rhs.rp-&amp;gt;count; //é¦–å…ˆå°†å³æ“ä½œæ•°å¼•ç”¨è®¡æ•°åŠ 1ï¼Œ  if (--rp-&amp;gt;count == 0) //ç„¶åå°†å¼•ç”¨è®¡æ•°å‡1ï¼Œå¯ä»¥åº”å¯¹è‡ªèµ‹å€¼  delete rp; rp = rhs.rp; return *this; } T &amp;amp;operator*() //é‡è½½*æ“ä½œç¬¦  { return *(rp-&amp;gt;p); } T *operator-&amp;gt;() //é‡è½½-&amp;gt;æ“ä½œç¬¦  { return rp-&amp;gt;p; } ~SmartPtr() { //ææ„å‡½æ•°  if (--rp-&amp;gt;count == 0) //å½“å¼•ç”¨è®¡æ•°å‡ä¸º0æ—¶ï¼Œåˆ é™¤è¾…åŠ©ç±»å¯¹è±¡æŒ‡é’ˆï¼Œä»è€Œåˆ é™¤åŸºç¡€å¯¹è±¡  delete rp; else cout &amp;lt;&amp;lt; &amp;#34;è¿˜æœ‰&amp;#34; &amp;lt;&amp;lt; rp-&amp;gt;count &amp;lt;&amp;lt; &amp;#34;ä¸ªæŒ‡é’ˆæŒ‡å‘åŸºç¡€å¯¹è±¡&amp;#34; &amp;lt;&amp;lt; endl; } private: U_Ptr&amp;lt;T&amp;gt; *rp; //è¾…åŠ©ç±»å¯¹è±¡æŒ‡é’ˆ };  </content>
    </entry>
    
     <entry>
        <title>Go ä¸­æ˜ å°„(å­—å…¸ï¼‰</title>
        <url>https://iihui.github.io/post/go-map/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>Go</tag>
        </tags>
        <content type="html">  æ˜ å°„(æˆ–ç§°ä¸ºå­—å…¸)æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œç”¨äºå­˜å‚¨ä¸€ç³»åˆ—æ— åºçš„é”®å€¼å¯¹ï¼Œå®ƒæ˜¯åŸºäºé”®æ¥å­˜å‚¨å€¼ã€‚æ˜ å°„çš„é”®å¯ä»¥æ˜¯ä»»ä½•å€¼ï¼Œåªè¦è¿™ä¸ªå€¼å¯ä»¥ä½¿ç”¨==è¿ç®—ç¬¦åšæ¯”è¾ƒå³å¯ã€‚åˆ‡ç‰‡ã€å‡½æ•°ä»¥åŠåŒ…å«åˆ‡ç‰‡çš„ç»“æ„ç±»å‹è¿™äº›ç±»å‹ç”±äºå…·æœ‰å¼•ç”¨è¯­ä¹‰ï¼Œ ä¸èƒ½ä½œä¸ºæ˜ å°„çš„é”®ã€‚
 åˆ›å»ºå’Œåˆå§‹åŒ– ä½¿ç”¨makeå‡½æ•° //åˆ›å»ºä¸€ä¸ªæ˜ å°„ï¼Œé”®çš„ç±»å‹æ˜¯stringï¼Œå€¼çš„ç±»å‹æ˜¯int dict1 := make(map[string]int) dict2 := make(map[string]int,5) //é•¿åº¦ä¸º5  ä½¿ç”¨å­—é¢é‡ // åˆ›å»ºä¸€ä¸ªæ˜ å°„ï¼Œé”®å’Œå€¼çš„ç±»å‹éƒ½æ˜¯ stringï¼Œä½¿ç”¨ä¸¤ä¸ªé”®å€¼å¯¹åˆå§‹åŒ–æ˜ å°„ dict2 := map[string]string{&amp;#34;Red&amp;#34;: &amp;#34;#da1337&amp;#34;, &amp;#34;Orange&amp;#34;: &amp;#34;#e95a22&amp;#34;} éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç›´æ¥ä½¿ç”¨var m map[string][int]è¿™ç§æ–¹å¼å®šä¹‰çš„mapå˜é‡çš„åˆå§‹å€¼ä¸ºnil,å¹¶ä¸”è¿™ä¸ªå˜é‡æ˜¯åªèƒ½è¯»ä¸èƒ½å†™çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å¯ä»¥æŒ‰ç…§é”®æ¥è¯»å€¼ï¼Œè¯»å‡ºæ¥æ˜¯ç±»å‹çš„é»˜è®¤é›¶å€¼ï¼Œä½†æ˜¯ä¸å¯ä»¥å¾€é‡Œé¢æ·»åŠ é”®å€¼å¯¹ï¼Œå¦åˆ™ä¼šäº§ç”Ÿä¸€ä¸ªè¿è¡Œæ—¶é”™è¯¯ã€‚
// é€šè¿‡å£°æ˜æ˜ å°„åˆ›å»ºä¸€ä¸ª nil æ˜ å°„ var colors map[string]string // å°† Red çš„ä»£ç åŠ å…¥åˆ°æ˜ å°„ colors[&amp;#34;Red&amp;#34;] = &amp;#34;#da1337&amp;#34; //äº§ç”Ÿè¿è¡Œæ—¶é”™è¯¯  //Runtime Error: //panic: runtime error: assignment to entry in nil map ç›¸æ¯”äºå€¼ä¸ºnilçš„æ˜ å°„ï¼Œç©ºæ˜ å°„æœ‰åˆå§‹åŒ–è¿‡ç¨‹ï¼Œä½†æ˜¯æ˜ å°„æ­¤æ—¶çš„å®¹é‡ä¸º0ï¼Œæ­¤æ—¶çš„æ˜ å°„æ˜¯å¯ä»¥ç”¨æ¥å­˜å‚¨é”®å€¼å¯¹çš„ï¼š
// åˆ›å»ºä¸€ä¸ªç©ºæ˜ å°„ï¼Œç”¨æ¥å­˜å‚¨é¢œè‰²ä»¥åŠé¢œè‰²å¯¹åº”çš„åå…­è¿›åˆ¶ä»£ç  colors := map[string]string{} //ç©ºæ˜ å°„ // å°† Red çš„ä»£ç åŠ å…¥åˆ°æ˜ å°„ colors[&amp;#34;Red&amp;#34;] = &amp;#34;#da1337&amp;#34; å†…å®¹ä¸ºç©ºçš„æ˜ å°„ä¸nilæ˜¯ä¸åŒçš„ï¼Œç©ºæ˜ å°„å¯ä»¥æ·»åŠ é”®å€¼ï¼Œnilå­—å…¸ä¸å¯ä»¥æ·»åŠ é”®å€¼ï¼š
var m1 map[string]int //nilæ˜ å°„ m2 := map[string]int{} //ç©ºæ˜ å°„  println(m1==nil,m2==nil)//true false  ä½¿ç”¨æ˜ å°„ æ˜ å°„çš„ä½¿ç”¨åŒ…æ‹¬ï¼šâ‘ æ ¹æ®é”®æ¥å–å€¼â€”â€”é€šå¸¸è¦é€šè¿‡ok-idiomæ¨¡å¼æ¥åˆ¤æ–­ç»™å®šçš„é”®æ˜¯å¦æœ‰å€¼ï¼› â‘¡ä½œä¸ºå‡½æ•°å‚æ•°â€”â€”å› ä¸ºæ˜¯å¼•ç”¨ç±»å‹ï¼Œå› æ­¤å‡½æ•°ä¸­åšçš„æ›´æ”¹å¯ä»¥å½±å“è¢«è°ƒå‡½æ•°ä¸­åŸå¼•ç”¨çš„å€¼ã€‚
æ ¹æ®é”®å–å€¼ value, exists := colors[&amp;#34;Blue&amp;#34;] // è¿™ä¸ªé”®å­˜åœ¨å—ï¼Ÿï¼Œè¿™å°±æ˜¯ok-idiomæ¨¡å¼  if exists { fmt.Println(value) } // åˆ›å»ºä¸€ä¸ªæ˜ å°„ï¼Œå­˜å‚¨é¢œè‰²ä»¥åŠé¢œè‰²å¯¹åº”çš„åå…­è¿›åˆ¶ä»£ç  colors := map[string]string{ &amp;#34;AliceBlue&amp;#34;: &amp;#34;#f0f8ff&amp;#34;, &amp;#34;Coral&amp;#34;: &amp;#34;#ff7F50&amp;#34;, &amp;#34;DarkGray&amp;#34;: &amp;#34;#a9a9a9&amp;#34;, &amp;#34;ForestGreen&amp;#34;: &amp;#34;#228b22&amp;#34;, } // æ˜¾ç¤ºæ˜ å°„é‡Œçš„æ‰€æœ‰é¢œè‰² for key, value := range colors { fmt.Printf(&amp;#34;Key: %s Value: %s\n&amp;#34;, key, value) } ä½œä¸ºå‡½æ•°å‚æ•° å› ä¸ºæ˜ å°„æ˜¯å¼•ç”¨ç±»å‹ï¼Œåœ¨å‡½æ•°é—´ä¼ é€’æ˜ å°„å¹¶ä¸ä¼šåˆ¶é€ å‡ºè¯¥æ˜ å°„çš„ä¸€ä¸ªå‰¯æœ¬ã€‚å®é™…ä¸Šï¼Œå½“ä¼ é€’æ˜ å°„ç»™ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶å¯¹è¿™ä¸ªæ˜ å°„åšäº†ä¿®æ”¹æ—¶ï¼Œæ‰€æœ‰å¯¹è¿™ä¸ªæ˜ å°„çš„å¼•ç”¨éƒ½ä¼šå¯Ÿè§‰åˆ°è¿™ä¸ªä¿®æ”¹ã€‚
colors := map[string]string{ &amp;#34;AliceBlue&amp;#34;:&amp;#34;#f0f8ff&amp;#34;, &amp;#34;Coral&amp;#34;:&amp;#34;#ff7F50&amp;#34;, &amp;#34;DarkGray&amp;#34;:&amp;#34;#a9a9a9&amp;#34;, &amp;#34;ForestGreen&amp;#34;: &amp;#34;#228b22&amp;#34;, } // æ˜¾ç¤ºæ˜ å°„é‡Œçš„æ‰€æœ‰é¢œè‰² for key, value := range colors { fmt.Printf(&amp;#34;Key: %s Value: %s\n&amp;#34;, key, value) } // è°ƒç”¨å‡½æ•°æ¥ç§»é™¤æŒ‡å®šçš„é”® removeColor(colors, &amp;#34;Coral&amp;#34;) // æ˜¾ç¤ºæ˜ å°„é‡Œçš„æ‰€æœ‰é¢œè‰²  for key, value := range colors { fmt.Printf(&amp;#34;Key: %s Value: %s\n&amp;#34;, key, value) } func removeColor(colors map[string]string, key string) { delete(colors, key) }  æ³¨æ„äº‹é¡¹ å­—å…¸mapæ˜¯æ— åºçš„ï¼Œæ¯æ¬¡æ‰“å°å‡ºæ¥çš„ç»“æœéƒ½ä¼šä¸ä¸€æ ·ï¼Œä¸èƒ½é€šè¿‡indexè·å–ï¼ˆä¸‹æ ‡è·å–ï¼‰åªèƒ½é€šè¿‡keyè·å–å­—å…¸è¦æ±‚keyå¿…é¡»æ”¯æŒç›¸ç­‰è¿ç®—ç¬¦==,!=çš„æ•°æ®ç±»å‹ï¼Œæ‰€ä»¥åˆ‡ç‰‡ä»¥åŠåŒ…å«åˆ‡ç‰‡çš„ç»“æ„ä½“ä¸èƒ½ä¸ºkeyã€‚é”®çš„å€¼ï¼Œå¯ä»¥æ˜¯æ•°å­—ã€å­—ç¬¦ä¸²ã€æŒ‡é’ˆã€æ•°ç»„ã€ç»“æ„ä½“ä»¥åŠæ¥å£ç±»å‹ã€‚
å†…ç½®çš„lenå‡½æ•°è¿”å›keyçš„æ•°é‡ï¼Œä¸å¯ä»¥ä½¿ç”¨capï¼ˆå³capä¸æ¥å—å­—å…¸ç±»å‹ï¼Œå› ä¸ºå®ƒæ²¡æœ‰å®¹é‡çš„æ¦‚å¿µï¼‰ã€‚
mapçš„åˆå§‹åŒ–å¯ä»¥é€šè¿‡key:valçš„æ–¹å¼åˆå§‹åŒ–ï¼š
rating := map[string]float32{&amp;#34;C&amp;#34;: 5, &amp;#34;Go&amp;#34;: 1.83} fmt.Println(rating) //map[C:5 Go:1.83] mapæ˜¯ä¸€ç§å¼•ç”¨ç±»å‹ï¼Œå¦‚æœä¸¤ä¸ªmapåŒæ—¶æŒ‡å‘åŒä¸€ä¸ªåº•å±‚ï¼Œé‚£ä¹ˆä¸€ä¸ªæ”¹å˜ï¼Œå¦ä¸€ä¸ªä¹Ÿæ”¹å˜ã€‚
m := make(map[string]string) m[&amp;#34;Hello&amp;#34;] = &amp;#34;hello&amp;#34; m1 := m m1[&amp;#34;Hello&amp;#34;] = &amp;#34;world&amp;#34; fmt.Println(m, m1) //map[Hello:world] map[Hello:world] è®¿é—®ä¸å­˜åœ¨çš„é”®å€¼ï¼Œé»˜è®¤è¿”å›çš„æ˜¯valueçš„é»˜è®¤é›¶å€¼ï¼Œä¸ä¼šå¼•å‘é”™è¯¯ï¼Œä½†æ¨èä½¿ç”¨ok-idiomæ¨¡å¼ã€‚
m := make(map[string]bool) m[&amp;#34;chen&amp;#34;] = true fmt.Println(m[&amp;#34;xiao&amp;#34;]) //é»˜è®¤é›¶å€¼false å½“valueæ˜¯ç»“æ„ä½“æˆ–è€…æ•°ç»„æ—¶ï¼Œä¸èƒ½ç›´æ¥ä¿®æ”¹valueä¸­çš„æˆå‘˜ï¼Œæ­£ç¡®çš„åšæ³•æ˜¯è¿”å›æ•´ä¸ªvalueï¼Œå¾…ä¿®æ”¹åå†è®¾ç½®å­—å…¸é”®å€¼ï¼Œæˆ–ç›´æ¥ç”¨æŒ‡é’ˆç±»å‹ã€‚
type user struct { name string age byte } m := map[int]user{ 1: {&amp;#34;Tom&amp;#34;, 19}, } m[1].age = 20 //é”™è¯¯,ç»“æ„ä½“çš„valueä¸èƒ½ç›´æ¥ä¿®æ”¹  u := m[1] //å…ˆå–å‡ºæ¥ï¼Œåœ¨æ”¹å˜valueçš„å€¼ï¼Œç„¶åå†æ ¹æ®ç´¢å¼•æ”¹å˜mapä¸­valueçš„å€¼ u.age = 20 m[1] = u ä¸èƒ½å¯¹nilå­—å…¸è¿›è¡Œå†™æ“ä½œï¼Œä½†å´èƒ½è¯»ï¼Œè¯»å‡ºæ¥çš„valueæ˜¯å…¶ç±»å‹å¯¹åº”çš„é›¶å€¼ã€‚
println(m[&amp;#34;a&amp;#34;]) m[&amp;#34;a&amp;#34;] = 1 //é”™è¯¯ å†…å®¹ä¸ºç©ºçš„å­—å…¸ä¸nilæ˜¯ä¸åŒçš„ï¼Œå†…å®¹ä¸ºç©ºçš„å­—å…¸å¯ä»¥æ·»åŠ é”®å€¼ï¼Œä½†æ˜¯nilå­—å…¸ä¸å¯ä»¥ã€‚
var m1 map[string]int m2 := map[string]int{} println(m1 == nil, m2 == nil) //true false åœ¨è¿­ä»£æœŸé—´(for range)åˆ é™¤æˆ–è€…æ–°å¢é”®å€¼æ˜¯å®‰å…¨çš„ï¼Œä½†æ˜¯åœ¨è¿è¡Œæ—¶ä¼šå¯¹å­—å…¸å¹¶å‘æ“ä½œä½œå‡ºæ£€æµ‹ï¼Œå¦‚æœæŸä¸ªä»»åŠ¡æ­£åœ¨å¯¹å­—å…¸è¿›è¡Œå†™æ“ä½œï¼Œé‚£ä¹ˆå…¶ä»–ä»»åŠ¡å°±ä¸èƒ½å¯¹è¯¥å­—å…¸è¿›è¡Œå¹¶å‘æ“ä½œï¼ˆè¯»ï¼Œå†™ï¼Œåˆ é™¤ï¼‰å¦åˆ™ä¼šå¯¼è‡´è¿›ç¨‹å´©æºƒï¼Œå³æ˜¯æ‰€è°“çš„çº¿ç¨‹ä¸å®‰å…¨çš„ã€‚
åº”è¯¥ä½¿ç”¨makeæ¥åˆ›å»ºmapï¼Œæ°¸è¿œä¸è¦ä½¿ç”¨newæ¥åˆ›å»ºmapï¼Œå› ä¸ºmapæ˜¯å¼•ç”¨ç±»å‹ï¼Œéœ€è¦åˆå§‹åŒ–æŸäº›ä¸œè¥¿ï¼Œè€Œnewæ˜¯å°†å†…å­˜æ¸…0ã€‚
mapä¸­çš„valueå¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼ŒåŒ…æ‹¬å‡½æ•°ï¼š
a6 := map[int]func() int{ 1: func() int { return 1 }, 2: func() int { return 2 }, 3: func() int { return 3 }, } fmt.Println(a6) //map[1:0x10982f0 2:0x1098300 3:0x1098310] mapçš„é•¿åº¦æ˜¯ä¸å›ºå®šçš„ï¼Œå¯ä»¥æ ¹æ®key-valueåŠ¨æ€çš„ä¼¸ç¼©ï¼Œå› æ­¤ä¸å­˜åœ¨å›ºå®šé•¿åº¦å’Œæœ€å¤§é•¿åº¦ã€Œä½†å—å†…å­˜é™åˆ¶ã€ã€‚å¦‚æœæå‰èƒ½é¢„ä¼°key-valueçš„ä¸ªæ•°ï¼Œå¯ä»¥åœ¨ä½¿ç”¨makeæŒ‡å®šé•¿åº¦ï¼Œè¿™æ ·å¯ä»¥å‡å°‘å› ä¸ºåŠ¨æ€å¢é•¿key-valueå¸¦æ¥çš„æ€§èƒ½æ¶ˆè€—é—®é¢˜ã€‚m:=make(map[string]int,10)
å¦‚æœä¸€ä¸ªkeyè¦å¯¹åº”å¤šä¸ªvalueï¼Œè¿™æ—¶å€™å»ºè®®å°†sliceä½œä¸ºvalueã€‚ä¾‹å¦‚ï¼Œå½“è¦å¤„ç†unixæœºå™¨ä¸Šçš„æ‰€æœ‰è¿›ç¨‹ï¼Œä»¥çˆ¶è¿›ç¨‹ï¼ˆpidä¸ºæ•´å‹å˜é‡ï¼‰ä½œä¸º keyï¼Œæ‰€æœ‰çš„å­è¿›ç¨‹ï¼ˆä»¥æ‰€æœ‰å­è¿›ç¨‹çš„pidç»„æˆçš„åˆ‡ç‰‡ï¼‰ä½œä¸ºvalueã€‚
ä½¿ç”¨delete(map1, key1)ä»mapä¸­åˆ é™¤é”®å€¼å¯¹ï¼Œå¦‚æœkey1ä¸å­˜åœ¨ï¼Œè¯¥æ“ä½œä¸ä¼šäº§ç”Ÿé”™è¯¯ã€‚
å‡è®¾æˆ‘ä»¬æƒ³è·å–ä¸€ä¸ªmapç±»å‹çš„åˆ‡ç‰‡ï¼Œæˆ‘ä»¬å¿…é¡»ä½¿ç”¨ä¸¤æ¬¡makeå‡½æ•°ï¼Œç¬¬ä¸€æ¬¡åˆ†é…åˆ‡ç‰‡ï¼Œç¬¬äºŒæ¬¡åˆ†é…åˆ‡ç‰‡ä¸­æ¯ä¸ªmapå…ƒç´ ã€‚
items := make([]map[int]int, 5) //æ³¨æ„å†™æ³• for i := range items { items[i] = make(map[int]int, 1) items[i][1] = 2 } fmt.Printf(&amp;#34;Version A: Value of items: %v\n&amp;#34;, items) mapé»˜è®¤æ˜¯æ— åºçš„ï¼Œä¸ç®¡æ˜¯æŒ‰ç…§keyè¿˜æ˜¯æŒ‰ç…§valueé»˜è®¤éƒ½ä¸æ’åºï¼›è¿™ä¸C&#43;&#43;ä¸­çš„mapæœ‰å¾ˆå¤§åŒºåˆ«ã€‚
 </content>
    </entry>
    
     <entry>
        <title>Go åˆ‡ç‰‡</title>
        <url>https://iihui.github.io/post/go-slice/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>Go</tag>
        </tags>
        <content type="html"> å®šä¹‰ åˆ‡ç‰‡æ˜¯å›´ç»•åŠ¨æ€æ•°ç»„çš„æ¦‚å¿µæ¥æ„å»ºçš„ï¼Œä½†æ˜¯æœ¬èº«å¹¶éåŠ¨æ€æ•°ç»„æˆ–æ•°ç»„æŒ‡é’ˆï¼Œå®ƒé€šè¿‡å†…éƒ¨æŒ‡é’ˆå¼•ç”¨åº•å±‚æ•°ç»„ï¼Œè®¾å®šç›¸å…³å±æ€§ï¼Œå°†æ•°æ®è¯»å†™æ“ä½œé™å®šåˆ°æŒ‡å®šåŒºåŸŸã€‚åˆ‡ç‰‡è¿™ä¸ªåå­—æ¥è‡ªäºâ€”â€”åˆ›å»ºä¸€ä¸ªæ–°çš„åˆ‡ç‰‡å°±æ˜¯æŠŠåº•å±‚æ•°ç»„åˆ‡å‡ºä¸€éƒ¨åˆ†ã€‚
type slice struct{ array unsafe.Pointer // sliceä¸­æŒ‡å‘åº•å±‚æ•°ç»„æŒ‡å®šä½ç½®çš„çš„æŒ‡é’ˆ  len int // slice çš„é•¿åº¦  cap int //slice å®¹é‡ï¼Œå³æœ€å¤§é•¿åº¦ï¼Œå°±æ˜¯sliceå¼€å§‹ä½ç½®åˆ°æ•°ç»„çš„æœ€åä½ç½®çš„é•¿åº¦ } ![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-08-03 ä¸‹åˆ3.38.29.png)
 å£°æ˜å’Œåˆå§‹åŒ– ä½¿ç”¨make ä¸€ç§åˆ›å»ºåˆ‡ç‰‡çš„æ–¹æ³•æ˜¯ä½¿ç”¨å†…ç½®çš„åˆ‡ç‰‡çš„é•¿åº¦ï¼Œå¦‚ä¸‹æ‰€ç¤ºä½¿ç”¨makeå‡½æ•°ã€‚å½“ä½¿ç”¨makeæ—¶ï¼Œéœ€è¦ä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼ŒæŒ‡å®šé•¿åº¦ï¼š
slice1 := make([]string, 5) //åªæŒ‡å®šé•¿åº¦ï¼Œåˆ‡ç‰‡çš„é•¿åº¦å’Œå®¹é‡ç›¸ç­‰ï¼Œå‡ä¸º5 slice2 := make([]int, 3, 5) //åˆ†åˆ«æŒ‡å®šé•¿åº¦å’Œå®¹é‡ï¼Œé•¿åº¦ä¸º3ï¼Œå®¹é‡ä¸º5 makeåœ¨åˆ›å»ºåˆ‡ç‰‡çš„æ—¶å€™ï¼Œå¯ä»¥æŒ‡å®šä¸¤ä¸ªé•¿åº¦ä¿¡æ¯ï¼Œåˆ†åˆ«è¡¨ç¤ºåˆ‡ç‰‡çš„å½“å‰é•¿åº¦å’Œå®¹é‡å¤§å°ã€Œæ¦‚å¿µå‚è€ƒC&#43;&#43;æ ‡å‡†åº“ä¸­çš„vectorã€‚ä¸å…è®¸åˆ›å»ºå®¹é‡å°äºé•¿åº¦çš„åˆ‡ç‰‡ï¼Œå¦åˆ™ä¼šå‡ºç°ç¼–è¯‘é”™è¯¯ã€‚
 åˆ©ç”¨å­—é¢é‡ å¦ä¸€ç§å¸¸ç”¨çš„åˆ›å»ºåˆ‡ç‰‡çš„æ–¹æ³•æ˜¯ä½¿ç”¨åˆ‡ç‰‡å­—é¢é‡ã€‚è¿™ç§æ–¹æ³•å’Œåˆ›å»ºæ•°ç»„ç±»ä¼¼ï¼Œåªæ˜¯ä¸éœ€è¦æŒ‡å®š[]è¿ç®—ç¬¦é‡Œçš„å€¼ã€‚åˆå§‹çš„é•¿åº¦å’Œå®¹é‡ä¼šåŸºäºåˆå§‹åŒ–æ—¶æä¾›çš„å…ƒç´ çš„ä¸ªæ•°ç¡®å®šã€‚
// åˆ›å»ºå­—ç¬¦ä¸²åˆ‡ç‰‡ï¼Œå…¶é•¿åº¦å’Œå®¹é‡éƒ½æ˜¯ 5 ä¸ªå…ƒç´  slice1 := []string{&amp;#34;Red&amp;#34;, &amp;#34;Blue&amp;#34;, &amp;#34;Green&amp;#34;, &amp;#34;Yellow&amp;#34;, &amp;#34;Pink&amp;#34;} // åˆ›å»ºä¸€ä¸ªæ•´å‹åˆ‡ç‰‡ï¼Œå…¶é•¿åº¦å’Œå®¹é‡éƒ½æ˜¯ 3 ä¸ªå…ƒç´  slice2 := []int{10, 20, 30} å¦‚æœåœ¨ [] è¿ç®—ç¬¦é‡ŒæŒ‡å®šäº†ä¸€ä¸ªå€¼ï¼Œé‚£ä¹ˆåˆ›å»ºçš„å°±æ˜¯æ•°ç»„è€Œä¸æ˜¯åˆ‡ç‰‡ã€‚
// åˆ›å»ºæœ‰ 3 ä¸ªå…ƒç´ çš„æ•´å‹æ•°ç»„ array := [3]int{10, 20, 30} // åˆ›å»ºé•¿åº¦å’Œå®¹é‡éƒ½æ˜¯ 3 çš„æ•´å‹åˆ‡ç‰‡ slice := []int{10, 20, 30} å½“ä½¿ç”¨åˆ‡ç‰‡å­—é¢é‡æ—¶ï¼Œ å¯ä»¥è®¾ç½®åˆå§‹é•¿åº¦å’Œå®¹é‡ï¼Œå³åœ¨å°±æ˜¯åœ¨åˆå§‹åŒ–æ—¶ç»™å‡ºæ‰€éœ€çš„é•¿åº¦å’Œå®¹é‡ä½œä¸ºç´¢å¼•ï¼š// åˆ›å»ºå­—ç¬¦ä¸²åˆ‡ç‰‡ï¼Œä½¿ç”¨ç©ºå­—ç¬¦ä¸²åˆå§‹åŒ–ç¬¬ 100 ä¸ªå…ƒç´  slice := []string{99: &amp;#34;&amp;#34;} //æœ€å¤§çš„ç´¢å¼•æ˜¯99ï¼Œå› æ­¤é•¿åº¦ä¸º99&#43;1 fmt.Println(len(slice1),cap(slice1)) //é•¿åº¦ä¸º100ï¼Œå®¹é‡ä¹Ÿä¸º100   ä»å·²çŸ¥åˆ‡ç‰‡åˆ›å»º åˆ‡ç‰‡å¯ä»¥ä»ä¸€ä¸ªæ•°ç»„ä¸­è·å–ï¼Œå‰ææ˜¯è¿™ä¸ªæ•°ç»„å¿…é¡»æ˜¯å¯å¯»å€çš„ã€‚åˆ‡ç‰‡é€šè¿‡array[i:j]æ¥è·å–ï¼Œè¡¨ç¤ºçš„åŒºé—´æ˜¯[i,j)å³å‰é—­åå¼€åŒºé—´ï¼Œé•¿åº¦ä¸ºj-iï¼Œå¯¹äºåº•å±‚æ•°ç»„å®¹é‡ä¸ºkçš„æ•°ç»„æ¥è¯´ï¼Œåˆ‡ç‰‡slice[i:j]çš„å®¹é‡ä¸ºk-iã€‚
var arr =[10]byte{&amp;#39;a&amp;#39;,&amp;#39;b&amp;#39;,&amp;#39;c&amp;#39;,&amp;#39;d&amp;#39;} //array å£°æ˜é•¿åº¦ var a,b []byte //sliceï¼Œæ–¹æ‹¬å·é‡Œä¸å£°æ˜é•¿åº¦ a = arr[1:3] //å‰é—­åå¼€,é•¿åº¦ä¸º2,å®¹é‡ä¸º9 b = arr[2:4] //å‰é—­åå¼€ï¼Œé•¿åº¦ä¸º2ï¼Œå®¹é‡ä¸º8 fmt.Println(a,b) //[98 99] [99 100] æˆ–è€…ä»ä¸€ä¸ªå·²ç»å­˜åœ¨çš„çš„åˆ‡ç‰‡ä¸­å†æ¬¡å£°æ˜ï¼Œå³å°†åŸåˆ‡ç‰‡çœ‹æˆæ˜¯[cap]slice,æ®æ­¤åˆ›å»ºçš„æ–°åˆ‡ç‰‡å¯¹è±¡ä¸èƒ½è¶…å‡ºcapã€‚
// åˆ›å»ºä¸€ä¸ªæ•´å‹åˆ‡ç‰‡ï¼Œå…¶é•¿åº¦å’Œå®¹é‡éƒ½æ˜¯ 5 slice := []int{10, 20, 30, 40, 50} // åˆ›å»ºä¸€ä¸ªæ–°åˆ‡ç‰‡ï¼Œå…¶é•¿åº¦ä¸º 2 ä¸ªå…ƒç´ ï¼Œå®¹é‡ä¸º 4 newSlice := slice[1:3] ![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-08-03 ä¸‹åˆ4.41.43.png)
 nilåˆ‡ç‰‡ åœ¨å£°æ˜åˆ‡ç‰‡æ—¶ä¸åšä»»ä½•åˆå§‹åŒ–ï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªnilåˆ‡ç‰‡ï¼Œnilåˆ‡ç‰‡æ— åº•å±‚æ•°ç»„ï¼Œå› æ­¤ä¸å¯æŒ‰ä¸‹æ ‡è®¿é—®ã€‚nilåˆ‡ç‰‡å˜ä¸ºæ­£å¸¸çš„åˆ‡ç‰‡æœ‰ä¸¤ç§æ–¹å¼ï¼šâ‘ åˆ©ç”¨èµ‹å€¼ã€‚ â‘¡ä½¿ç”¨appendå‡½æ•°ã€‚
var slice []int //ä¸åšä»»ä½•åˆå§‹åŒ–ï¼Œåˆ›å»ºçš„ä¸ºnilåˆ‡ç‰‡ fmt.Println(slice==nil) //true ![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-08-03 ä¸‹åˆ4.27.26.png)
 ç©ºåˆ‡ç‰‡ ç©ºåˆ‡ç‰‡ç›¸å¯¹äºnilåˆ‡ç‰‡è€Œè¨€ï¼Œå·²ç»å®Œæˆäº†åˆå§‹åŒ–â€”â€”å³å…¶å†…éƒ¨æŒ‡é’ˆå·²ç»è¢«èµ‹å€¼ä¸ºé0ï¼Œè€Œnilåˆ‡ç‰‡å†…éƒ¨çš„æŒ‡é’ˆä¸ºnilã€‚ä½†æ˜¯ï¼Œç©ºåˆ‡ç‰‡çš„len(s)å’Œcap(s)çš„å€¼éƒ½ä¸º0ã€‚
// ä½¿ç”¨ make åˆ›å»ºç©ºçš„æ•´å‹åˆ‡ç‰‡ slice1 := make([]int, 0) //ç©ºåˆ‡ç‰‡ // ä½¿ç”¨åˆ‡ç‰‡å­—é¢é‡åˆ›å»ºç©ºçš„æ•´å‹åˆ‡ç‰‡ slice2 := []int{} //nilåˆ‡ç‰‡ fmt.Println(slice1==nil,slice2==nil)//false false ![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-08-03 ä¸‹åˆ4.29.26.png)
 æ³¨æ„ åˆ‡ç‰‡æ˜¯å¼•ç”¨ç±»å‹ åˆ‡ç‰‡æ˜¯å¼•ç”¨ç±»å‹ï¼Œæ‰€ä»¥å½“å¼•ç”¨æ”¹å˜å…¶ä¸­å…ƒç´ çš„å€¼æ—¶ï¼Œå…¶ä»–æ‰€æœ‰å¼•ç”¨éƒ½ä¼šæ”¹å˜è¯¥å€¼ï¼š
var arr =[10]byte{81,82,83,84,85,86} //array var a,b,c [] byte //nil slice  a = arr[1:3] b = arr[2:4] fmt.Println(a,b) //[98 99] [99 100]  c = a[0:2] //cåˆ‡ç‰‡æ¥è‡ªäºåˆ‡ç‰‡aï¼Œåˆ‡ç‰‡aå‘ç”Ÿå˜åŒ–æ—¶ï¼Œcå°±ä¼šè·Ÿç€å˜åŒ– fmt.Println(c) //[82,83]  a = arr[1:5] fmt.Println(a,c) //[82 83 84 85] [82 83]  slice := []int{10, 20, 30, 40, 50} newSlice := slice[1:3] fmt.Println(slice,newSlice)//[10 20 30 40 50] [20 30] // ä¿®æ”¹newSliceç´¢å¼•ä¸º1çš„å…ƒç´ ï¼ŒåŒæ—¶ä¹Ÿä¿®æ”¹äº†åŸæ¥çš„ slice çš„ç´¢å¼•ä¸º 2 çš„å…ƒç´  newSlice[1] = 35 fmt.Println(slice,newSlice) //[10 20 35 40 50] [35 88]  ![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-08-03 ä¸‹åˆ4.42.59.png)
 ç´¢å¼•è¶Šç•Œ ç´¢å¼•è¶Šç•Œä¼šå¼•å‘è¿è¡Œæ—¶é”™è¯¯ï¼š
// åˆ›å»ºä¸€ä¸ªæ•´å‹åˆ‡ç‰‡ï¼Œå…¶é•¿åº¦å’Œå®¹é‡éƒ½æ˜¯ 5 ä¸ªå…ƒç´  slice := []int{10, 20, 30, 40, 50} // åˆ›å»ºä¸€ä¸ªæ–°åˆ‡ç‰‡ï¼Œå…¶é•¿åº¦ä¸º 2 ä¸ªå…ƒç´ ï¼Œå®¹é‡ä¸º 4 ä¸ªå…ƒç´  newSlice := slice[1:3] // ä¿®æ”¹newSliceç´¢å¼•ä¸º3çš„å…ƒç´ ï¼Œè¿™ä¸ªå…ƒç´ å¯¹äºnewSliceæ¥è¯´å¹¶ä¸å­˜åœ¨ newSlice[3] = 45 //å› ä¸ºnewSliceçš„é•¿åº¦ä¸º2ï¼Œå› æ­¤ç´¢å¼•åªåŒ…æ‹¬0ï¼Œ1 // è¿™ä¸ªåˆ‡ç‰‡æ“ä½œè¯•å›¾è®¾ç½®å®¹é‡ä¸º4ï¼Œè¿™æ¯”å¯ç”¨çš„å®¹é‡å¤§ source := []string{&amp;#34;Apple&amp;#34;, &amp;#34;Orange&amp;#34;, &amp;#34;Plum&amp;#34;, &amp;#34;Banana&amp;#34;, &amp;#34;Grape&amp;#34;} slice := source[2:3:6] //å®¹é‡å¤§äºå·²æœ‰å®¹é‡ï¼Œå› ä¸ºåŒ…æ‹¬2åœ¨å†…çš„ç´¢å¼•ä¸º2ï¼Œ3ï¼Œ4ï¼Œåªæœ‰3ä¸ªå…ƒç´ äº†  åˆ‡ç‰‡å¢é•¿ ä½¿ç”¨appendå‘sliceé‡Œé¢è¿½åŠ ä¸€ä¸ªæˆ–è€…å¤šä¸ªå…ƒç´ ï¼Œæ€»æ˜¯ä¼šå¢åŠ æ–°åˆ‡ç‰‡çš„é•¿åº¦ï¼Œè€Œå®¹é‡æœ‰å¯èƒ½ä¼šæ”¹å˜ï¼Œè¿™å–å†³äºè¢«æ“ä½œçš„åˆ‡ç‰‡çš„å¯ç”¨å®¹é‡ã€‚
ä½¿ç”¨appendä¼šè¿”å›ä¸€ä¸ªå’ŒåŸsliceä¸€æ ·ç±»å‹çš„sliceã€‚å¹¶ä¸”ä¼šæ”¹å˜sliceæ‰€å¼•ç”¨çš„æ•°ç»„çš„å†…å®¹ï¼Œä»è€Œå½±å“åˆ°å¼•ç”¨åŒä¸€æ•°ç»„çš„å…¶ä»–sliceã€‚å› æ­¤ä½¿ç”¨appendå‡½æ•°å¯èƒ½ä¼šå½±å“ä¹‹å‰çš„åˆ‡ç‰‡ã€‚
// åˆ›å»ºä¸€ä¸ªæ•´å‹åˆ‡ç‰‡ï¼Œå…¶é•¿åº¦å’Œå®¹é‡éƒ½æ˜¯ 5 ä¸ªå…ƒç´  slice := []int{10, 20, 30, 40, 50} // åˆ›å»ºä¸€ä¸ªæ–°åˆ‡ç‰‡ï¼Œå…¶é•¿åº¦ä¸º 2 ä¸ªå…ƒç´ ï¼Œå®¹é‡ä¸º 4 ä¸ªå…ƒç´  newSlice := slice[1:3] //[20 30] fmt.Println(slice,newSlice)//[10 20 30 40 50] [20 30]  // ä½¿ç”¨åŸæœ‰çš„å®¹é‡æ¥åˆ†é…ä¸€ä¸ªæ–°å…ƒç´ ï¼Œå°†æ–°å…ƒç´ èµ‹å€¼ä¸º 60 newSlice = append(newSlice, 60) //æ›¿æ¢ slice ä¸­ 40 ä¸º 60 fmt.Println(slice,newSlice) //[10 20 30 60 50] [20 30 60] ![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-08-03 ä¸‹åˆ5.04.54.png)
å¦‚æœåˆ‡ç‰‡çš„åº•å±‚æ•°ç»„æ²¡æœ‰è¶³å¤Ÿçš„å¯ç”¨å®¹é‡â€”â€”æ˜¯æŒ‡è¶…å‡ºåˆ‡ç‰‡çš„capé™åˆ¶ï¼Œè€Œéåº•å±‚æ•°ç»„é•¿åº¦é™åˆ¶ï¼Œå› ä¸ºæ•°ç»„é•¿åº¦lenå¯å°äºæ•°ç»„å®¹é‡capã€‚æ­¤æ—¶ï¼Œappend å‡½æ•°ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„åº•å±‚æ•°ç»„ï¼Œå°†è¢«å¼•ç”¨çš„ç°æœ‰çš„å€¼å¤åˆ¶åˆ°æ–°æ•°ç»„é‡Œï¼Œå†è¿½åŠ æ–°çš„å€¼ï¼š
// åˆ›å»ºä¸€ä¸ªæ•´å‹åˆ‡ç‰‡å…¶é•¿åº¦å’Œå®¹é‡éƒ½æ˜¯ 4 ä¸ªå…ƒç´  slice := []int{10, 20, 30, 40} // å‘åˆ‡ç‰‡è¿½åŠ ä¸€ä¸ªæ–°å…ƒç´  fmt.Println(slice) //[10 20 30 40] newSlice := append(slice, 50)// å°†æ–°å…ƒç´ èµ‹å€¼ä¸º 50 fmt.Println(slice,newSlice)//[10 20 30 40] [10 20 30 40 50] å½“è¿™ä¸ªappendæ“ä½œå®Œæˆåï¼Œ æ‹¥æœ‰ä¸€ä¸ªå…¨æ–°çš„åº•å±‚æ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„çš„å®¹é‡æ˜¯åŸæ¥çš„ä¸¤å€ã€Œæ–°åˆ†é…çš„åº•å±‚æ•°ç»„æ˜¯åŸcapçš„2å€ï¼Œè€ŒéåŸæ•°ç»„çš„2å€ã€ï¼Œæ­¤å¤–æ–°åˆ†é…æ—¶å¹¶éæ€»æ˜¯2å€ï¼Œå¯¹äºè¾ƒå¤§çš„åˆ‡ç‰‡ï¼Œä¼šå°è¯•æ‰©å®¹1/4ï¼Œä»¥èŠ‚çº¦å†…å­˜ã€‚
![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-08-03 ä¸‹åˆ5.34.08.png)
åœ¨åˆ‡ç‰‡çš„å®¹é‡å°äº1000ä¸ªå…ƒç´ æ—¶ï¼Œæ€»æ˜¯ä¼šæˆå€åœ°å¢åŠ å®¹é‡ã€‚ä¸€æ—¦å…ƒç´ ä¸ªæ•°è¶…è¿‡1000ï¼Œå®¹é‡çš„å¢é•¿å› å­ä¼šè®¾ä¸º1.25ï¼Œä¹Ÿå°±æ˜¯ä¼šæ¯æ¬¡å¢åŠ 25%çš„å®¹é‡ã€‚éšç€è¯­è¨€çš„æ¼”åŒ–ï¼Œè¿™ç§å¢é•¿ç®—æ³•å¯èƒ½ä¼šæœ‰æ‰€æ”¹å˜ã€‚å› æ­¤åœ¨å¯¹åˆ‡ç‰‡ä½¿ç”¨appendå‡½æ•°æ—¶ï¼Œè¦ç‰¹åˆ«æ³¨æ„æ˜¯å¦è¶…å‡ºäº†å®¹é‡ï¼Œå¦‚æœè¶…å‡ºäº†å®¹é‡ï¼Œåˆ™ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„åº•å±‚æ•°ç»„
 è¿­ä»£åˆ‡ç‰‡ å½“è¿­ä»£åˆ‡ç‰‡æ—¶ï¼Œå…³é”®å­—rangeä¼šè¿”å›ä¸¤ä¸ªå€¼ã€‚ç¬¬ä¸€ä¸ªå€¼æ˜¯å½“å‰è¿­ä»£åˆ°çš„ç´¢å¼•ä½ç½®(ä¸‹æ ‡ï¼‰ï¼Œç¬¬äºŒä¸ªå€¼æ˜¯è¯¥ä½ç½®å¯¹åº”å…ƒç´ å€¼çš„ä¸€ä»½å‰¯æœ¬ã€‚
slice := []int{10, 20, 30, 40} // è¿­ä»£æ¯ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶æ˜¾ç¤ºå…¶å€¼ for index, value := range slice { fmt.Printf(&amp;#34;Index: %d Value: %d\n&amp;#34;, index, value) } ![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-08-03 ä¸‹åˆ5.45.17.png)
ä½¿ç”¨for-rangeè¿­ä»£æ•°ç»„å’Œåˆ‡ç‰‡æœ‰å¾ˆé‡è¦çš„åŒºåˆ«ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
data :=[3] int{10,20,30} for i,x := range data { //æ›´æ–°æ•°ç»„çš„å€¼ä¹‹å,xçš„å€¼ä¸èµ·ä½œç”¨,çŒœæµ‹æ˜¯å¦å¤–ä½¿ç”¨äº†ä¸€ä¸ªæ•°ç»„æ¥å¤åˆ¶åŸæ•°ç»„ï¼Œå› ä¸ºæ•°ç»„ä¸æ˜¯å¼•ç”¨ç±»å‹ 	if i == 0{ data[0] &#43;= 100 data[1] &#43;= 200 data[2] &#43;= 300 } fmt.Println(x,data[i]) }//10 110 20 220 30 330  for i,x := range data[:] { //æ›´æ–°å¼•ç”¨ä¸­çš„å€¼ä¹‹å,xçš„å€¼åœ¨ä¸‹ä¸€è½®ç«‹å³èµ·ä½œç”¨ 	if i == 0{ data[0] &#43;= 100 data[1] &#43;= 200 data[2] &#43;= 300 } fmt.Println(x,data[i]) }//110 210 420 420 630 630  å‡½æ•°å‚æ•°ä¸ºåˆ‡ç‰‡ ç”±äºä¸åˆ‡ç‰‡å…³è”çš„æ•°æ®åŒ…å«åœ¨åº•å±‚æ•°ç»„é‡Œï¼Œä¸å±äºåˆ‡ç‰‡æœ¬èº«ï¼Œæ‰€ä»¥å°†åˆ‡ç‰‡å¤åˆ¶åˆ°ä»»æ„å‡½æ•°çš„æ—¶å€™ï¼Œå¯¹åº•å±‚æ•°ç»„å¤§å°éƒ½ä¸ä¼šæœ‰å½±å“ï¼Œå¤åˆ¶æ—¶åªä¼šå¤åˆ¶åˆ‡ç‰‡æœ¬èº«ï¼Œä¸ä¼šæ¶‰åŠåº•å±‚æ•°ç»„ï¼Œä½†æ˜¯æ“ä½œæ—¶å¯èƒ½æ”¹å˜é¡¶å±‚æ•°ç»„ã€‚
// åˆ†é…åŒ…å« 100 ä¸‡ä¸ªæ•´å‹å€¼çš„åˆ‡ç‰‡ slice := make([]int, 1e6) // å°† slice ä¼ é€’åˆ°å‡½æ•° foo slice = foo(slice) // å‡½æ•° foo æ¥æ”¶ä¸€ä¸ªæ•´å‹åˆ‡ç‰‡ï¼Œå¹¶è¿”å›è¿™ä¸ªåˆ‡ç‰‡ func foo(slice []int) []int { ... return slice } ![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-08-03 ä¸‹åˆ5.54.25.png)
åœ¨å‡½æ•°é—´ä¼ é€’24å­—èŠ‚ï¼ˆ64ä½æœºå™¨ï¼‰çš„æ•°æ®ä¼šéå¸¸å¿«é€Ÿã€ç®€å•ã€‚è¿™ä¹Ÿæ˜¯åˆ‡ç‰‡æ•ˆç‡é«˜çš„åœ°æ–¹ã€‚ä¸éœ€è¦ä¼ é€’æŒ‡é’ˆå’Œå¤„ç†å¤æ‚çš„è¯­æ³•ï¼Œåªéœ€è¦å¤åˆ¶åˆ‡ç‰‡ï¼ŒæŒ‰æƒ³è¦çš„æ–¹å¼ä¿®æ”¹æ•°æ®ï¼Œç„¶åä¼ é€’å›ä¸€ä»½æ–°çš„åˆ‡ç‰‡å‰¯æœ¬ã€‚
 </content>
    </entry>
    
     <entry>
        <title>Go æ•°ç»„</title>
        <url>https://iihui.github.io/post/go-array/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>Go</tag>
        </tags>
        <content type="html"> å®šä¹‰ åœ¨Goè¯­è¨€é‡Œï¼Œæ•°ç»„æ˜¯ä¸€ä¸ªé•¿åº¦å›ºå®šçš„æ•°æ®ç±»å‹ï¼Œç”¨äºè¿ç»­å­˜å‚¨å¤šä¸ªå…·æœ‰ç›¸åŒçš„ç±»å‹çš„å…ƒç´ ã€‚æ•°ç»„å­˜å‚¨çš„ç±»å‹å¯ä»¥æ˜¯å†…ç½®ç±»å‹ï¼Œå¦‚æ•´å‹æˆ–è€…å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯æŸç§ç»“æ„ç±»å‹ã€‚
![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-08-03 ä¸‹åˆ3.13.38.png)
 å£°æ˜å’Œåˆå§‹åŒ– å£°æ˜ å£°æ˜æ•°ç»„æ—¶éœ€è¦æŒ‡å®šå†…éƒ¨å­˜å‚¨çš„æ•°æ®çš„ç±»å‹ï¼Œä»¥åŠéœ€è¦å­˜å‚¨çš„å…ƒç´ çš„æ•°é‡ï¼Œè¿™ä¸ªæ•°é‡ä¹Ÿç§°ä¸ºæ•°ç»„çš„é•¿åº¦ã€‚æ•°ç»„é•¿åº¦å¿…é¡»æ˜¯ä¸€ä¸ªå¸¸é‡è¡¨è¾¾å¼ï¼Œå¹¶ä¸”æ˜¯ä¸€ä¸ªéè´Ÿæ•°ï¼Œæ•°ç»„é•¿åº¦æœ€å¤§ä¸º2Gbã€‚
var a [5]int //[5]ä¸intç´§è´´ ä¸€æ—¦å£°æ˜ï¼Œæ•°ç»„é‡Œå­˜å‚¨çš„æ•°æ®ç±»å‹å’Œæ•°ç»„é•¿åº¦å°±éƒ½ä¸èƒ½æ”¹å˜äº†ã€‚å¦‚æœéœ€è¦å­˜å‚¨æ›´å¤šçš„å…ƒç´ ï¼Œ å°±éœ€è¦å…ˆåˆ›å»ºä¸€ä¸ªæ›´é•¿çš„æ•°ç»„ï¼Œå†æŠŠåŸæ¥æ•°ç»„é‡Œçš„å€¼å¤åˆ¶åˆ°æ–°æ•°ç»„é‡Œã€‚
åœ¨Goè¯­è¨€ä¸­å£°æ˜å˜é‡æ—¶ï¼Œæ€»ä¼šä½¿ç”¨å¯¹åº”ç±»å‹çš„é›¶å€¼æ¥å¯¹å˜é‡è¿›è¡Œåˆå§‹åŒ–ã€‚æ•°ç»„ä¹Ÿä¸ä¾‹å¤–ã€‚ å½“æ•°ç»„åˆå§‹åŒ–æ—¶ï¼Œæ•°ç»„å†…æ¯ä¸ªå…ƒç´ éƒ½åˆå§‹åŒ–ä¸ºå¯¹åº”ç±»å‹çš„é›¶å€¼ã€‚
![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-08-03 ä¸‹åˆ3.16.38.png)
 åˆå§‹åŒ– å¦‚æœä½¿ç”¨...æ›¿ä»£æ•°ç»„çš„é•¿åº¦ï¼ŒGoè¯­è¨€ä¼šæ ¹æ®åˆå§‹åŒ–æ—¶æ•°ç»„å…ƒç´ çš„æ•°é‡æ¥ç¡®å®šè¯¥æ•°ç»„çš„é•¿åº¦ã€‚
array1 := [5]int{10,20,30,40,50} //å‰é¢çš„æ•°å­—5æ¥ç¡®å®šæ•°ç»„çš„é•¿åº¦ array2 := [...]int{1,2,3,4,5} //åé¢çš„æ•°æ®å…ƒç´ æ¥ç¡®å®šæ•°ç»„çš„é•¿åº¦ // var array3 [...]int =[...]int{12,35.89}è¿™ç§æ–¹å¼æ˜¯ä¸è¡Œçš„ï¼Œ //ä¹Ÿå°±æ˜¯è¯´[...]int å£°æ˜æ•°ç»„çš„æ—¶å€™ï¼Œ[...]intåªèƒ½å‡ºç°åœ¨=çš„å³è¾¹ï¼Œä¸èƒ½åœ¨å·¦è¾¹å‡ºç° å¦‚æœçŸ¥é“æ•°ç»„çš„é•¿åº¦ï¼Œå¹¶ä¸”å‡†å¤‡ç»™æ¯ä¸ªå€¼éƒ½æŒ‡å®šå…·ä½“å€¼ï¼Œå°±å¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„å½¢å¼æ¥å£°æ˜æ•°ç»„ï¼š
array :=[5]int{1:10,2:20} //æ•°ç»„é•¿åº¦å·²çŸ¥ï¼Œç»™æ•°ç»„ä¸­æŸäº›å…ƒç´ èµ‹äºˆç‰¹æ®Šçš„å€¼ ![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-08-03 ä¸‹åˆ3.21.09.png)
array := [4][2]int{1: {20, 21}, 3: {40, 41}}  æ³¨æ„äº‹é¡¹   ä½¿ç”¨ä¸‹æ ‡æ¥è®¿é—®æ•°ç»„æ—¶ï¼Œå› ä¸ºä¼šæ£€æµ‹ä¸‹æ ‡çš„å¤§å°ï¼Œæ‰€ä»¥ä¸€æ—¦è¶…å‡ºäº†æ•°ç»„çš„é•¿åº¦ï¼Œé‚£ä¹ˆä¼šç»™å‡ºæç¤ºï¼›å¦‚æœæ²¡æœ‰æ£€æµ‹åˆ°è¶…å‡ºèŒƒå›´è€Œå®é™…ä¸Šè¶…å‡ºäº†æ•°ç»„é•¿åº¦ï¼Œåˆ™è¿è¡Œæ—¶ä¼španicã€‚
  æ•°ç»„å˜é‡çš„ç±»å‹åŒ…æ‹¬æ•°ç»„é•¿åº¦å’Œæ¯ä¸ªå…ƒç´ çš„ç±»å‹ã€‚åªæœ‰è¿™ä¸¤éƒ¨åˆ†éƒ½ç›¸åŒçš„æ•°ç»„ï¼Œæ‰æ˜¯ç±»å‹ç›¸åŒçš„æ•°ç»„ï¼Œæ‰èƒ½ç›¸äº’èµ‹å€¼ã€‚
  å¤šç»´æ•°ç»„çš„ç±»å‹åŒ…æ‹¬æ¯ä¸€ç»´åº¦çš„é•¿åº¦ä»¥åŠæ•°æ®çš„ç±»å‹ã€‚
  åœ¨å‡½æ•°ä¹‹é—´ä¼ é€’å˜é‡æ—¶ï¼Œæ€»æ˜¯ä»¥å€¼çš„æ–¹å¼ä¼ é€’çš„ã€‚å¦‚æœè¿™ä¸ªå˜é‡æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ„å‘³ç€æ•´ä¸ªæ•°ç»„ï¼Œä¸ç®¡æœ‰å¤šé•¿éƒ½ä¼šå®Œæ•´å¤åˆ¶ï¼Œå¹¶ä¼ é€’ç»™å‡½æ•°ã€‚å¦‚æœæ•°ç»„é•¿åº¦å¾ˆå¤§çš„è¯ï¼Œä¼šå½±å“æ€§èƒ½ï¼Œæ­¤æ—¶å»ºè®®ä½¿ç”¨åˆ‡ç‰‡ã€‚
var array [1e6]int // å°†æ•°ç»„ä¼ é€’ç»™å‡½æ•° foo foo(array) // å‡½æ•° foo æ¥å—ä¸€ä¸ª 100 ä¸‡ä¸ªæ•´å‹å€¼çš„æ•°ç»„ func foo(array [1e6]int) { ... }   å®šä¹‰æ•°ç»„æ—¶ï¼Œæ•°ç»„é•¿åº¦å¿…é¡»æ˜¯éè´Ÿæ•´å‹å¸¸é‡è¡¨è¾¾å¼ï¼Œé•¿åº¦æ˜¯ç±»å‹çš„ç»„æˆéƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯è¯´å…ƒç´ ç±»å‹ç›¸åŒï¼Œä½†é•¿åº¦ä¸åŒçš„æ•°ç»„ä¸å±äºåŒä¸€ç±»å‹ã€‚
var d1 [3] int var d2 [4] int d1 = d2 //é”™è¯¯ï¼Œ d1 å’Œ d2 ä¸å±äºåŒä¸€ç±»å‹ï¼Œä¸èƒ½èµ‹å€¼ï¼Œä¸èƒ½æ¯”è¾ƒ   æœªæä¾›åˆå§‹åŒ–å€¼çš„å…ƒç´ è‡ªåŠ¨åˆå§‹åŒ–ä¸ºç±»å‹é›¶å€¼ã€‚
var d1 [3] int //åˆå§‹åŒ–ä¸º[0 0 0] var d2 [4] int //åˆå§‹åŒ–ä¸º[0 0 0 0] d3 := [5]int{2,3,4} //åˆå§‹åŒ–ä¸º [2 3 4 0 0] fmt.Println(d1,d2,d3) //[0 0 0] [0 0 0 0] [2 3 4 0 0]   æ•°ç»„åˆå§‹åŒ–æ—¶ï¼Œå¯æŒ‡å®šä½ç½®è¿›è¡Œåˆå§‹åŒ–ï¼Œåªè¦ä¸è¶…å‡ºæ•°ç»„çš„é•¿åº¦èŒƒå›´å³å¯ã€‚
d4 := [4]int{5,3:10} //[5 0 0 10]   ç¼–è¯‘å™¨å¯ä»¥æŒ‰ç…§åˆå§‹åŒ–å€¼çš„æ•°é‡ç¡®å®šæ•°ç»„é•¿åº¦ï¼Œæ•°ç»„åœ¨å£°æ˜çš„æ—¶å€™ä½¿ç”¨[...]å³å¯
d5 := [...]int{34,8,9} //é•¿åº¦ä¸º3 d6 := [...]int{5,3:10} //é•¿åº¦ä¸º4ï¼Œå†…å®¹ä¸º[5 0 0 10]   åœ¨å®šä¹‰å¤šç»´æ•°ç»„æ—¶ï¼Œä»…ç¬¬ä¸€ç»´å¯ä»¥å…è®¸ä½¿ç”¨...ï¼Œå³çœç•¥ç¬¬1ç»´çš„é•¿åº¦ã€‚
  å†…ç½®å‡½æ•°lenå’Œcapå¯ä»¥è¿”å›ç¬¬ä¸€ç»´é•¿åº¦d7 :=[3][4]int {{2},{3}} fmt.Println(len(d7),cap(d7)) //3,3 è¿”å›çš„æ˜¯ç¬¬ä¸€ç»´çš„é•¿åº¦   å¦‚æœæ•°ç»„ä¸­çš„å…ƒç´ æ”¯æŒ==ï¼Œï¼= ç­‰æ“ä½œç¬¦ï¼Œé‚£ä¹ˆæ•°ç»„ä¹Ÿæ”¯æŒè¯¥æ“ä½œã€‚var d1 [4] int //d1æ•°ç»„ä¸­å…ƒç´ å…¨éƒ¨ä¸º0 var d2 [4] int //d2æ•°ç»„ä¸­å…ƒç´ å…¨éƒ¨ä¸º0 d3 := [4]int{2,3,4} d4 := [4]int{5,3:10} fmt.Println(d1==d2,d3==d4) //true false   åˆ†æ¸…æŒ‡é’ˆæ•°ç»„å’Œæ•°ç»„æŒ‡é’ˆï¼šæ•°ç»„çš„åœ°å€ä¸ºæ•°ç»„æŒ‡é’ˆï¼Œè€Œæ•°ç»„ä¸­çš„å…ƒç´ ç±»å‹ä¸ºæŒ‡é’ˆåˆ™ä¸ºæ•°ç»„æŒ‡é’ˆã€‚
d11,d12:=20,10 d13:=[...]*int{&amp;amp;d11,&amp;amp;d12} //æŒ‡é’ˆæ•°ç»„ d14:=&amp;amp;d13 //æ•°ç»„æŒ‡é’ˆ fmt.Println(d13,d14) //[0xc420072250 0xc420072258] &amp;amp;[0xc420072250 0xc420072258]   å¯ä»¥è·å–æ•°ç»„ä¸­ä»»æ„å…ƒç´ çš„åœ°å€ï¼Œåªè¦åœ¨æ•°ç»„å…ƒç´ å‰åŠ &amp;amp;å³å¯ã€‚
d4 := [4]int{5,3:10} fmt.Println(&amp;amp;d4,&amp;amp;d4[0],&amp;amp;d4[3])//&amp;amp;[5 0 0 10] 0xc4200680e0 0xc4200680f8    </content>
    </entry>
    
     <entry>
        <title>Go æœªå‘½åç±»å‹</title>
        <url>https://iihui.github.io/post/go-undef-type/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>Go</tag>
        </tags>
        <content type="html"> æœªå‘½åç±»å‹ åœ¨Goä¸­æ•°ç»„ã€åˆ‡ç‰‡ã€å­—å…¸ã€é€šé“ç±»å‹ä¸å…·ä½“å…ƒç´ ç±»å‹æˆ–é•¿åº¦å±æ€§ç›¸å…³ï¼Œæ•…è¢«ç§°ä¸ºæœªå‘½åç±»å‹ã€‚å…·æœ‰ç›¸åŒå£°æ˜çš„æœªå‘½åç±»å‹è¢«ç§°ä¸ºåŒä¸€ç±»å‹ï¼Œåœ¨ Go ä¸­æœªå‘½åç±»å‹å…±æœ‰8ç±»ã€‚
  å…·æœ‰ç›¸åŒåŸºç¡€ç±»å‹çš„æŒ‡é’ˆ
  å…·æœ‰ç›¸åŒå…ƒç´ ç±»å‹å’Œé•¿åº¦çš„æ•°ç»„array
  å…·æœ‰ç›¸åŒå…ƒç´ ç±»å‹çš„åˆ‡ç‰‡slice
  å…·æœ‰ç›¸åŒé”®å’Œå€¼ç±»å‹çš„å­—å…¸map
  å…·æœ‰ç›¸åŒæ•°æ®ç±»å‹ä»¥åŠæ“ä½œæ–¹å‘çš„é€šé“channel
  å…·æœ‰ç›¸åŒå­—æ®µåºåˆ—ï¼ˆå­—æ®µåã€å­—æ®µç±»å‹ã€æ ‡ç­¾ä»¥åŠå­—æ®µé¡ºåºï¼‰çš„ç»“æ„ä½“struct
  å…·æœ‰ç›¸åŒç­¾åçš„ï¼ˆå‚æ•°å’Œè¿”å›å€¼åˆ—è¡¨ï¼Œä¸åŒ…æ‹¬å‚æ•°åï¼‰çš„å‡½æ•°funcï¼Œå…¶ä¸­å‡½æ•°çš„å‚æ•°é¡ºåºä¹Ÿå±äºç­¾åçš„ç»„æˆéƒ¨åˆ†
  å…·æœ‰ç›¸åŒæ–¹æ³•é›†ï¼ˆæ–¹æ³•åï¼Œæ–¹æ³•ç­¾åï¼Œä¸åŒ…æ‹¬é¡ºåºï¼‰çš„æ¥å£interface
  å®¹æ˜“è¢«å¿½ç•¥çš„æ˜¯struct tagå®ƒå±äºç±»å‹ç»„æˆçš„ä¸€éƒ¨åˆ†ï¼Œè€Œä¸ä»…ä»…æ˜¯å…ƒæ•°æ®æè¿°
  var a struct{ x int `x` s string `s` } var b struct{ x int s string } b=a //cannot use a (type struct { x int &amp;#34;x&amp;#34;; s string &amp;#34;s&amp;#34; })  //as type struct { x int; s string } in assignment fmt.Println(b)  æœªå‘½åç±»å‹çš„è½¬æ¢è§„åˆ™   æ‰€å±ç±»å‹å®Œå…¨ç›¸åŒ
  åŸºç¡€ç±»å‹ç›¸åŒï¼Œå…¶ä¸­ä¸€ä¸ªæ˜¯æœªå‘½åç±»å‹
  æ•°æ®ç±»å‹ç›¸åŒï¼Œå°†åŒå‘é€šé“èµ‹å€¼ç»™å•å‘é€šé“ï¼Œä¸”å…¶ä¸­ä¸€ä¸ªæ˜¯æœªå‘½åç±»å‹
type data [2]int //dataæ˜¯ä½¿ç”¨æ•°ç»„æ–°å®šä¹‰çš„ç±»å‹  var d data =[2]int{1,2} //åŸºç¡€ç±»å‹ç›¸åŒï¼Œå…¶ä¸­ä¸€ä¸ªæ˜¯æœªå‘½åç±»å‹ 	doubleChan := make(chan int,3) //åŒå‘é€šé“  var singleChan chan&amp;lt;- int = doubleChan //åŒå‘é€šé“èµ‹å€¼ç»™å•å‘é€šé“     </content>
    </entry>
    
     <entry>
        <title>Go æ¥å£</title>
        <url>https://iihui.github.io/post/go-interface/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>Go</tag>
        </tags>
        <content type="html"> æ¥å£å®šä¹‰ æ¥å£ä»£è¡¨ä¸€ç§è°ƒç”¨å¥‘çº¦ï¼Œæ˜¯å¤šä¸ªæ–¹æ³•å£°æ˜çš„é›†åˆã€‚åœ¨æŸäº›åŠ¨æ€è¯­è¨€ä¸­æ¥å£(interface)ä¹Ÿè¢«ç§°ä¸ºåè®®(protocol)ã€‚å‡†å¤‡äº¤äº’çš„åŒæ–¹ï¼Œå…±åŒéµå®ˆäº‹å…ˆçš„çº¦å®šè§„åˆ™ï¼Œä½¿å¾—åœ¨æ— é¡»çŸ¥é“å¯¹æ–¹èº«ä»½çš„æƒ…å†µä¸‹è¿›è¡Œåä½œã€‚æ¥å£å…³å¿ƒçš„æ˜¯åšä»€ä¹ˆï¼Œè€Œä¸å…³å¿ƒæ€ä¹ˆåšï¼Œè°æ¥åšã€‚æ¥å£è§£é™¤äº†ç±»å‹ä¾èµ–ï¼Œæœ‰åŠ©äºå‡å°‘ç”¨æˆ·å¯è§†æ–¹æ³•ï¼Œå±è”½å†…éƒ¨ç»“æ„å’Œå®ç°ç»†èŠ‚ã€‚ä½†è¿™å¹¶ä¸æ„å‘³ç€å¯ä»¥æ»¥ç”¨æ¥å£ï¼Œå› ä¸ºå®ç°æ¥å£ä¼šæœ‰è¿è¡Œæ—¶å¼€é”€ã€‚æ¥å£æœ€å¸¸è§çš„ä½¿ç”¨åœºæ™¯æ˜¯å¯¹åŒ…å¤–æä¾›è®¿é—®ï¼Œæˆ–é¢„ç•™æ‰©å±•ç©ºé—´ã€‚æ¥å£å®šä¹‰äº†ä¸€ç»„æ–¹æ³•ï¼Œä½†æ˜¯è¿™äº›æ–¹æ³•ä¸åŒ…æ‹¬å®ç°ä»£ç ï¼Œæ¥å£ä¸­ä¹Ÿä¸åŒ…å«å˜é‡ã€Œæˆ‘çš„ç†è§£æ˜¯ä¸åŒ…å«æ™®é€šå˜é‡ï¼Œä½†å¯ä»¥æœ‰æ¥å£å˜é‡ã€ã€‚
åœ¨Goä¸­åªè¦ç›®æ ‡ç±»å‹æ–¹æ³•é›†å†…åŒ…å«æ¥å£å£°æ˜çš„å…¨éƒ¨æ–¹æ³•ï¼Œå°±è¢«å½“ä½œå®ç°äº†è¯¥æ¥å£ï¼Œä¸éœ€è¦åšæ˜¾å¼çš„å£°æ˜ã€‚æ˜¾ç„¶è¿™æ˜¯ä¸€ç§éä¾µå…¥å¼çš„è®¾è®¡æ–¹æ³•ï¼Œè¿™ç§è®¾è®¡æ–¹æ³•çš„å¥½å¤„æ˜¯ï¼Œåœ¨å‰æœŸå¼€å‘æ—¶è®¾è®¡å‡ºåˆç†çš„æ¥å£å¹¶ä¸å®¹æ˜“ï¼Œç­‰åæœŸä»£ç é‡æ„æ—¶ï¼Œæ¨¡å—åˆ†æ‹†æ—¶å†åˆ†ç¦»å‡ºæ¥å£æ—¶æ¯”è¾ƒå®¹æ˜“ã€‚
 æ³¨æ„äº‹é¡¹ æŒ‰ç…§çº¦å®šï¼Œæ¥å£åå­—é¦–é€‰ä»¥eræˆ–è€…rç»“å°¾ï¼Œå…¶æ¬¡ä¸ºableä¸ºåç¼€ï¼Œæœ€æ¬¡ä»¥Iå¼€å¤´ã€‚åœ¨å®šä¹‰æ¥å£æ—¶éœ€è¦æ³¨æ„çš„äº‹é¡¹ï¼š
  æ¥å£çš„æœ¬è´¨å¯ä»¥è®¤ä¸ºæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œä½†å’ŒæŒ‡é’ˆåˆä¸å®Œå…¨ç›¸åŒâ€”â€”æŒ‡å‘æ¥å£å˜é‡çš„æŒ‡é’ˆæ˜¯éæ³•çš„ï¼Œå¦‚ä¸‹æ˜¯var ai nameråœ¨å†…å­˜ä¸­çš„å¸ƒå±€ï¼š ![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-12-18 ä¸Šåˆ8.54.39.png)
  æ¥å£å®šä¹‰ä¸­ï¼Œä¸èƒ½å‡ºç°å˜é‡å®šä¹‰ã€‚ã€Œæˆ‘çš„ç†è§£æ˜¯ä¸å¯ä»¥æœ‰æ™®é€šå˜é‡ï¼Œä½†æ˜¯å¯ä»¥åµŒå…¥å…¶ä»–æ¥å£ã€
  Goä¸­æ¥å£éƒ½å¾ˆç®€çŸ­ï¼Œä¸€èˆ¬0åˆ°3ä¸ªæ–¹æ³•ã€‚
  æ¥å£å®šä¹‰ä¸­åªèƒ½å£°æ˜æ–¹æ³•ï¼Œä¸èƒ½åŒ…å«æ–¹æ³•çš„å…·ä½“å®ç°ã€‚
  æ¥å£å®šä¹‰ä¸­ï¼Œä¸èƒ½å®šä¹‰æ¥å£è‡ªå·±çš„æ–¹æ³•ã€‚
  ç¼–è¯‘å™¨ä¼šæ ¹æ®ç›®æ ‡ç±»å‹çš„æ–¹æ³•é›†æ¥ç¡®å®šè¯¥ç±»å‹æ˜¯å¦å®ç°äº†è¯¥æ¥å£ï¼Œå¦‚æœç›®æ ‡ç±»å‹çš„æ–¹æ³•é›†ä¸­æ²¡æœ‰å®Œå…¨å®ç°æ¥å£ä¸­å£°æ˜çš„æ–¹æ³•ï¼Œé‚£ä¹ˆè¯¥ç›®æ ‡ç±»å‹å°±ä¸å¯ä»¥èµ‹å€¼ç»™è¯¥æ¥å£å˜é‡ã€‚
  å³ä½¿æ¥å£åœ¨ç±»å‹ä¹‹åæ‰å®šä¹‰ï¼ŒäºŒè€…å¤„äºä¸åŒçš„åŒ…ä¸­ï¼Œè¢«å•ç‹¬ç¼–è¯‘ã€‚ä½†æ˜¯ï¼Œåªè¦ç±»å‹å®ç°äº†æ¥å£ä¸­çš„æ–¹æ³•ï¼Œå®ƒå°±å®ç°äº†æ­¤æ¥å£ã€‚
  ä¸€ä¸ªæ¥å£å¯ä»¥åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå…¶ä»–æ¥å£ï¼Œè¿™ç›¸å½“äºç›´æ¥å°†è¿™äº›å†…åµŒæ¥å£çš„æ–¹æ³•åˆ—ä¸¾åœ¨å¤–å±‚æ¥å£ä¸­ä¸€æ ·ã€‚  å¯ä»¥åƒåµŒå…¥åŒ¿åå­—æ®µé‚£æ ·ï¼ŒåµŒå…¥å…¶ä»–æ¥å£ç±»å‹ã€‚æ­¤æ—¶ç›®æ ‡ç±»å‹æ–¹æ³•é›†ä¸­å¿…é¡»åŒ…å«åµŒå…¥çš„æ¥å£æ–¹æ³•åœ¨å†…çš„å…¨éƒ¨æ–¹æ³•ï¼Œæ‰èƒ½ç®—å®ç°äº†è¯¥æ¥å£ã€‚ä¹Ÿå°±æ˜¯è¯´åµŒå…¥å…¶ä»–æ¥å£ç±»å‹ï¼Œç›¸å½“äºå°†åµŒå…¥çš„æ¥å£å£°æ˜çš„å…¨éƒ¨æ–¹æ³•å¯¼å…¥ã€‚è¿™å°±è¦æ±‚åµŒå…¥æ¥å£ä¸­çš„æ–¹æ³•ä¸æœ¬æ¥å£ä¸­ä¸èƒ½æœ‰åŒåçš„æ–¹æ³•ï¼Œå› ä¸ºGoä¸æ”¯æŒé‡è½½ã€‚  åœ¨æ¥å£ä¸­åµŒå…¥æ¥å£æ—¶ï¼Œè¶…é›†æ¥å£å˜é‡å¯ä»¥éšå¼è½¬æ¢ä¸ºåµŒå…¥çš„æ¥å£å˜é‡ã€‚åè¿‡æ¥ä¸è¡Œâ€”â€”å› ä¸ºä¿¡æ¯ä¸å®Œæ•´äº†ã€‚
  åœ¨åµŒå…¥æ¥å£ç±»å‹æ—¶ï¼Œä¸èƒ½åµŒå…¥è‡ªèº«æˆ–å¾ªç¯åµŒå…¥ï¼Œé‚£ä¼šå¯¼è‡´é€’å½’é”™è¯¯ã€‚
  æ”¯æŒåŒ¿åæ¥å£ç±»å‹ï¼šâ‘ å¯ä»¥ç›´æ¥ç”¨äºå˜é‡å®šä¹‰ â‘¡å¯ç”¨äºç»“æ„ä½“å­—æ®µç±»å‹ã€‚
  å¤šä¸ªç±»å‹å¯ä»¥å®ç°åŒä¸€ä¸ªæ¥å£ï¼Œå®ç°æŸä¸ªæ¥å£çš„ç±»å‹ï¼ˆé™¤äº†å®ç°æ¥å£æ–¹æ³•å¤–ï¼‰å¯ä»¥æœ‰å…¶ä»–çš„æ–¹æ³•ï¼Œè¿™å°±è¯´æ˜ä¸€ä¸ªç±»å‹å¯ä»¥å®ç°å¤šä¸ªæ¥å£ã€‚
  æ¥å£å˜é‡çš„é»˜è®¤å€¼æ˜¯nil(å› ä¸ºæ¥å£ä¹Ÿæ˜¯ä¸€ç§å¼•ç”¨ç±»å‹)ã€‚
  å¯¹äºä¸¤ä¸ªæ¥å£å˜é‡å¯¹åº”çš„ç›®æ ‡ç±»å‹æ”¯æŒåˆ¤ç­‰è¿ç®—ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªå˜é‡å°±å¯ä»¥åšç›¸ç­‰è¿ç®—ã€‚
  å¦‚æœæ¥å£æ²¡æœ‰ä»»ä½•æ–¹æ³•å£°æ˜ï¼Œé‚£ä¹ˆå°±æ˜¯ä¸€ä¸ªç©ºæ¥å£ï¼Œå®ƒçš„ç”¨é€”å’ŒJavaä¸­çš„Objectä¸€æ ·ï¼Œå¯ä»¥è¢«èµ‹å€¼ä¸ºä»»ä½•ç±»å‹çš„å¯¹è±¡ã€‚
   æ¥å£åµŒå¥—æ¥å£ ä¸€ä¸ªæ¥å£å¯ä»¥åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå…¶ä»–çš„æ¥å£ï¼Œè¿™ç›¸å½“äºç›´æ¥å°†è¿™äº›å†…åµŒæ¥å£çš„æ–¹æ³•åˆ—ä¸¾åœ¨å¤–å±‚æ¥å£ä¸­ä¸€æ ·ã€‚type ReadWrite interface{ Read(b buffer) bool Write(b buffer) bool } type Lock interface{ Lock() Unlock() } type File interface{ ReadWrite //åµŒå…¥æ¥å£  Lock Close() //è‡ªå·±çš„æ–¹æ³• }  æ£€æµ‹å’Œè½¬æ¢æ¥å£å˜é‡ ä¸€ä¸ªæ¥å£å˜é‡å¯ä»¥è¢«ä»»ä½•å®ç°äº†è¯¥æ¥å£çš„ç±»å‹çš„å˜é‡èµ‹å€¼ï¼Œå³æ¥å£å˜é‡åœ¨è¿è¡Œæ—¶å­˜åœ¨å¤šæ€è¡Œä¸ºã€‚å› æ­¤éœ€è¦ä¸€ç§æ–¹æ³•æ¥æ£€æµ‹æŸä¸ªæ—¶åˆ»ä¸€ä¸ªæ¥å£å˜é‡æ˜¯å¦æ˜¯æŸä¸ªç±»å‹Tã€‚
v:=x.(T) //æœªæ£€æµ‹ç±»å‹æ–­è¨€  if v,ok := x.(T); ok{ //æ£€æµ‹ç±»å‹æ–­è¨€  do something return } å…¶ä¸­xè¡¨ç¤ºæ¥å£ç±»å‹çš„å˜é‡ï¼Œä¸”å¿…é¡»æ˜¯æ¥å£ç±»å‹å˜é‡ï¼Œå¦åˆ™ç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚è€ŒTè¡¨ç¤ºéœ€è¦è¢«æ£€æµ‹çš„ç›®æ ‡ç±»å‹ã€‚åœ¨æ£€æµ‹ç±»å‹æ–­è¨€ä¸­ï¼Œå¦‚æœè½¬æ¢åˆæ³•ï¼Œé‚£ä¹ˆvæ˜¯xè½¬æ¢åˆ°Tç±»å‹çš„å€¼ï¼Œokä¸ºtrueï¼Œå¦åˆ™væ˜¯Tç±»å‹çš„é›¶å€¼ï¼Œokçš„å€¼ä¸ºfalseï¼Œæ­¤æ—¶ä¸ä¼šæœ‰è¿è¡Œæ—¶é”™è¯¯å‘ç”Ÿã€‚
å½“éœ€è¦æ£€æµ‹çš„ç±»å‹è¾ƒå¤šæ—¶ï¼Œå»ºè®®ä½¿ç”¨type-switchï¼Œä½†æ˜¯åœ¨type-switchä¸å…è®¸æœ‰fallthroughã€‚switch t := areaIntf.(type) { case *Square: fmt.Printf(&amp;#34;Type Square %T with value %v\n&amp;#34;, t, t) case *Circle: fmt.Printf(&amp;#34;Type Circle %T with value %v\n&amp;#34;, t, t) case nil: fmt.Printf(&amp;#34;nil value: nothing to check?\n&amp;#34;) default: fmt.Printf(&amp;#34;Unexpected type %T\n&amp;#34;, t) } ä½†æ˜¯æ‰€æœ‰çš„caseè¯­å¥ä¸­åˆ—ä¸¾çš„ç±»å‹(nilé™¤å¤–)éƒ½å¿…é¡»å®ç°å¯¹åº”çš„æ¥å£ï¼Œå¦‚æœè¢«æ£€æµ‹ç±»å‹æ²¡æœ‰åŒ¹é…caseè¯­å¥åˆ—ä¸¾çš„ç±»å‹ï¼Œå°±ä¼šæ‰§è¡Œdefaultè¯­å¥ã€‚
 ç©ºæ¥å£ ç©ºæ¥å£æ˜¯ä¸åŒ…å«ä»»ä½•æ–¹æ³•ï¼Œå®ƒå¯¹å®ç°ä¸åšä»»ä½•è¦æ±‚ã€‚ä»»ä½•ç±»å‹éƒ½å®ç°äº†ç©ºæ¥å£ï¼Œanyæˆ–Anyæ˜¯ç©ºæ¥å£ä¸€ä¸ªå¾ˆå¥½çš„åˆ«åæˆ–è€…ç¼©å†™ã€‚
type any interface{} å¯ä»¥ç»™ä¸€ä¸ªç©ºæ¥å£ç±»å‹çš„å˜é‡var val interface{} èµ‹ä»»ä½•ç±»å‹çš„å€¼ã€‚
æ¯ä¸ªç©ºæ¥å£å˜é‡åœ¨å†…å­˜ä¸­å æ®ä¸¤ä¸ªå­—èŠ‚ï¼Œä¸€ä¸ªç”¨æ¥å­˜å‚¨å®ƒåŒ…å«çš„ç±»å‹ï¼Œå¦ä¸€ä¸ªç”¨æ¥å­˜å‚¨å®ƒåŒ…å«çš„æ•°æ®æˆ–è€…æŒ‡å‘æ•°æ®çš„æŒ‡é’ˆã€‚
 æ‰§è¡Œæœºåˆ¶ æ¥å£æ˜¯ä¸€ç§å¥‘çº¦ï¼Œå®ç°ç±»å‹å¿…é¡»æ»¡è¶³å®ƒï¼Œå®ƒæè¿°äº†ç±»å‹çš„è¡Œä¸ºï¼Œè§„å®šç±»å‹å¯ä»¥åšä»€ä¹ˆã€‚æ¥å£å°†ç±»å‹èƒ½åšä»€ä¹ˆå’Œå¦‚ä½•åšåˆ†ç¦»å¼€æ¥ï¼Œä½¿å¾—ç›¸åŒæ¥å£å˜é‡åœ¨ä¸åŒæ—¶åˆ»è¡¨ç°å‡ºä¸åŒçš„è¡Œä¸ºï¼Œè¿™å°±æ˜¯å¤šæ€çš„æœ¬è´¨ã€‚
ä»å†…éƒ¨å®ç°ä¸Šæ¥çœ‹ï¼Œæ¥å£è‡ªèº«ä¹Ÿæ˜¯ä¸€ç§ç»“æ„ä½“ï¼Œåªæ˜¯ç¼–è¯‘å™¨ä¼šå¯¹å…¶ä½œå‡ºå¾ˆå¤šé™åˆ¶ã€‚æ¥å£ä½¿ç”¨ä¸€ä¸ªåä¸ºitabçš„ç»“æ„ä½“å­˜å‚¨è¿è¡ŒæœŸæ‰€éœ€çš„ç›¸å…³ç±»å‹ä¿¡æ¯ã€‚
![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-12-18 ä¸Šåˆ8.54.39.png)
type iface struct{ tab * itab //ç±»å‹ä¿¡æ¯  data unsafe.Pointer //å®é™…å¯¹è±¡æŒ‡é’ˆ } type itab struct{ inter *interfacetype //æ¥å£ç±»å‹  _type *_type //å®é™…å¯¹è±¡ç±»å‹  fun [1]uintptr //å®é™…å¯¹è±¡æ–¹æ³•åœ°å€ } æ¥å£æœ‰ä¸€ä¸ªé‡è¦çš„ç‰¹æ€§ï¼šå°†å¯¹è±¡èµ‹å€¼ç»™æ¥å£å˜é‡æ—¶ï¼Œä¼šå¤åˆ¶è¯¥å¯¹è±¡ã€‚æˆ‘ä»¬ç”šè‡³æ— æ³•ä¿®æ”¹æ¥å£å­˜å‚¨çš„å¤åˆ¶å“ï¼Œå› ä¸ºå®ƒæ˜¯unaddreableï¼Œå³ä½¿å°†å…¶å¤åˆ¶å‡ºæ¥ï¼Œä½¿ç”¨æœ¬åœ°å˜é‡ä¿®æ”¹åï¼Œä¾ç„¶æ— æ³•å¯¹iface.dataèµ‹å€¼ã€‚è§£å†³çš„æ–¹æ³•æ˜¯å°†å¯¹è±¡æŒ‡é’ˆèµ‹å€¼ç»™æ¥å£ï¼Œé‚£ä¹ˆæ¥å£å†…å­˜å‚¨çš„å°±æ˜¯æŒ‡é’ˆçš„å¤åˆ¶å“ã€‚åªæœ‰å½“æ¥å£å˜é‡çš„å†…éƒ¨çš„ä¸¤ä¸ªæŒ‡é’ˆ(itab,data)éƒ½ä¸ºnilæ—¶ï¼Œæ¥å£æ‰ç­‰äºnilã€‚å› æ­¤é€ æˆçš„é”™è¯¯å¹¶ä¸å°‘è§ï¼Œå°¤å…¶æ˜¯åœ¨å‡½æ•°è¿”å›erroræ—¶ï¼Œè¯¦è§Goå­¦ä¹ ç¬”è®°P149ã€‚
var a interface{}=nil var b interface{}=(*int)(nil) println(a==nil,b==nil) //true false ç±»å‹æ¨æ–­å¯å°†æ¥å£å˜é‡è¿˜åŸä¸ºåŸå§‹ç±»å‹ï¼Œæˆ–è€…ç”¨æ¥åˆ¤æ–­æ˜¯å¦å®ç°äº†æŸä¸ªæ›´å…·ä½“çš„æ¥å£ç±»å‹
type data int func (d data) String() string{ return fmt.Sprintf(&amp;#34;data:&amp;#34;%d&amp;#34;,d) } var d data=16 if n,ok:=x.(fmt.Stringer); ok{ //è½¬æ¢ä¸ºæ›´å…·ä½“çš„æ¥å£ç±»å‹  fmt.Println(n) } if d2,ok:=x.(data); ok{ //è½¬æ¢ä¸ºåŸå§‹ç±»å‹  fmt.Println(d2) } e:=x.(error) //é”™è¯¯ï¼Œmain.data is not error fmt.Println(e) ä½¿ç”¨ok-idiomæ¨¡å¼ï¼Œå³ä½¿è½¬æ¢å¤±è´¥ä¹Ÿä¸ä¼šå¼•å‘panicã€‚è¿˜å¯ä»¥ç”¨switchè¯­å¥åœ¨å¤šç§ç±»å‹é—´ä½œå‡ºæ¨æ–­åŒ¹é…ï¼Œè¿™æ ·æ¥å£å°±èƒ½æœ‰æ›´å¤šçš„å‘æŒ¥ç©ºé—´ã€‚
var x interface{}=func(x int)string{ return fmt.Sprintf(&amp;#34;d:%d&amp;#34;,x) } switch v := x.type{ case nil: println(&amp;#34;nil&amp;#34;) case *int: println(*v) case func(int)string: println(v(100) case fmt.Stringer: fmt.println(v) default: fmt.println(&amp;#34;unknown&amp;#34;) } å¦‚ä¸Šæ‰€ç¤ºçš„type switchä¸­ä¸æ”¯æŒfallthroughtã€‚
 </content>
    </entry>
    
     <entry>
        <title>Go å®šä¹‰ç±»å‹</title>
        <url>https://iihui.github.io/post/go-struct/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>Go</tag>
        </tags>
        <content type="html">  å€¼çš„ç±»å‹ç»™ç¼–è¯‘å™¨æä¾›ä¸¤éƒ¨åˆ†ä¿¡æ¯ï¼šâ‘ éœ€è¦åˆ†é…å¤šå°‘å†…å­˜ç»™è¿™ä¸ªå€¼ï¼›â‘¡è¿™æ®µå†…å­˜è¡¨ç¤ºä»€ä¹ˆã€‚Goè¯­è¨€å…è®¸ç”¨æˆ·å®šä¹‰ç±»å‹ï¼Œå½“ç”¨æˆ·å£°æ˜ä¸€ä¸ªæ–°ç±»å‹æ—¶ï¼Œè¿™ä¸ªå£°æ˜å°±ç»™ç¼–è¯‘å™¨æä¾›ä¸€ä¸ªæ¡†æ¶ï¼Œå‘ŠçŸ¥å¿…è¦çš„å†…å­˜å¤§å°å’Œè¡¨ç¤ºä¿¡æ¯ã€‚
 ç»“æ„ä½“ Goè¯­è¨€ä¸­å£°æ˜ç”¨æˆ·å®šä¹‰çš„ç±»å‹æœ‰ä¸¤ç§æ–¹æ³•ï¼Œâ‘ æœ€å¸¸ç”¨çš„æ–¹æ³•æ˜¯ä½¿ç”¨å…³é”®å­—structï¼Œå®ƒå¯ä»¥è®©ç”¨æˆ·åˆ›å»ºä¸€ä¸ªç»“æ„ç±»å‹ï¼›â‘¡å¦ä¸€ç§æ˜¯ä½¿ç”¨æ ¹æ®å·²æœ‰ç±»å‹æ¥å®šä¹‰æ–°çš„ç±»å‹ã€‚
ç»“æ„ä½“çš„å®šä¹‰ ç»“æ„ä½“ç±»å‹é€šè¿‡ç»„åˆä¸€ç³»åˆ—å›ºå®šä¸”å”¯ä¸€çš„å­—æ®µæ¥å£°æ˜ï¼Œç»“æ„ä½“ä¸­æ¯ä¸ªå­—æ®µéƒ½ä¼šç”¨ä¸€ä¸ªå·²çŸ¥ç±»å‹å£°æ˜ã€‚ç»“æ„ä½“å£°æ˜ä»¥å…³é”®å­—typeå¼€å§‹ï¼Œä¹‹åæ˜¯æ–°ç±»å‹çš„åå­—ï¼Œæœ€åæ˜¯å…³é”®å­—structã€‚
type user struct { name string email string ext int privileged bool } var bill user //åƒå£°æ˜å†…ç½®ç±»å‹å˜é‡ä¸€æ ·å£°æ˜  ç»“æ„ä½“çš„åˆå§‹åŒ– å½“å£°æ˜ç»“æ„ä½“å˜é‡æ—¶ï¼Œè¿™ä¸ªå˜é‡å¯¹åº”çš„å€¼æ€»æ˜¯ä¼šè¢«åˆå§‹åŒ–ã€‚è¿™ä¸ªå€¼è¦ä¹ˆç”¨æŒ‡å®šçš„å€¼åˆå§‹åŒ–ï¼Œè¦ä¹ˆä½¿ç”¨ç±»å‹é›¶å€¼åšåˆå§‹åŒ–ã€‚
æ—¢ç„¶è¦åˆ›å»ºåˆå§‹åŒ–ä¸€ä¸ªç»“æ„ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨ç»“æ„ä½“å­—é¢é‡æ¥å®Œæˆè¿™ä¸ªåˆå§‹åŒ–ã€‚ç»“æ„ä½“å­—é¢é‡ä½¿ç”¨ä¸€å¯¹å¤§æ‹¬å·æ‹¬ä½å†…éƒ¨å­—æ®µçš„åˆå§‹å€¼ï¼Œç»“æ„å­—é¢é‡å¯ä»¥å¯¹ç»“æ„ç±»å‹å˜é‡åˆå§‹åŒ–å¯ä»¥é‡‡ç”¨ä¸¤ç§å½¢å¼ã€‚
ä¸€ç§æ˜¯é¡ºåºå­—é¢é‡ï¼Œå¦ä¸€ç§æ˜¯å‘½åå­—é¢é‡ã€‚åˆå§‹åŒ–çš„æ—¶å€™ï¼Œä½¿ç”¨é¡ºåºå­—é¢é‡å¯¹ç»“æ„ä½“å˜é‡è¿›è¡Œåˆå§‹åŒ–ç§°ä¸ºé¡ºåºåˆå§‹åŒ–ï¼Œè€Œä½¿ç”¨å‘½åå­—é¢é‡è¿›è¡Œåˆå§‹åŒ–ç§°ä¸ºå‘½ååˆå§‹åŒ–ã€‚æ¨èä½¿ç”¨å‘½ååˆå§‹åŒ–ï¼Œè¿™æ ·åœ¨æ‰©å……ç»“æ„ä½“çš„å­—æ®µæ—¶å°±ä¸ä¼šå¯¼è‡´åˆå§‹åŒ–é”™è¯¯ã€‚
user{ //å‘½åå­—é¢é‡  name : &amp;#34;Lisa&amp;#34;, email : &amp;#34;Lisa@gmail.com&amp;#34;, ext : 123, privileged : true, } //é¡ºåºå­—é¢é‡è¿›è¡Œé¡ºåºåˆå§‹åŒ–ï¼Œå¿…é¡»è¦å’Œç»“æ„å£°æ˜ä¸­çš„å­—æ®µçš„é¡ºåºä¸€è‡´ lisa := user{&amp;#34;Lisa&amp;#34;,&amp;#34;Lisa@gmail.com&amp;#34;,123,true} //é¡ºåºæ–¹å¼ u1 ï¼š= user{&amp;#34;Andy&amp;#34;,&amp;#34;Andy@gmail.com&amp;#34;} //é”™è¯¯ï¼Œé¡ºåºåˆå§‹åŒ–æ—¶å‚æ•°ä¸å¤Ÿ ä½¿ç”¨å‘½åå­—é¢é‡è¿›è¡Œåˆå§‹åŒ–ç§°ä¸ºå‘½ååˆå§‹åŒ–ï¼š
type node struct { _ int id int next * node } n1 := node{ id:1, //é€—å·ä¸å¯ä»¥çœç•¥ï¼Œæœªåˆå§‹åŒ–çš„ä¸ºç±»å‹é»˜è®¤é›¶å€¼ } n2 := node{ id:2, next: &amp;amp;n1, //å³ä½¿æ˜¯ç»“æ„ä½“çš„æœ€åä¸€ä¸ªå˜é‡ï¼Œé€—å·ä¸å¯ä»¥çœç•¥ } fmt.Println(n1,n2)//{0 1 &amp;lt;nil&amp;gt;} {0 2 0xc4200be4e0}  åŒ¿åç»“æ„ä½“ å¯ç›´æ¥å®šä¹‰åŒ¿åç»“æ„ä½“ç±»å‹å˜é‡ï¼Œæˆ–ç”¨åšç»“æ„ä½“çš„å‘½åå­—æ®µç±»å‹ã€Œä¸èƒ½æ˜¯åŒ¿åå­—æ®µç±»å‹ï¼Œå› ä¸ºç±»å‹å·²ç»æ²¡æœ‰åå­—ã€ã€‚åŒ¿åç»“æ„ä½“åœ¨ä½œä¸ºç»“æ„ä½“çš„å­—æ®µå€¼æ—¶å› å…¶ç¼ºå°‘ç±»å‹æ ‡è¯†ï¼Œæ— æ³•è¿›è¡Œç›´æ¥åˆå§‹åŒ–ï¼Œå‰é¢çš„ä¸¤ç§æ–¹å¼çš„å­—é¢é‡éƒ½éœ€è¦ç»“æ„ä½“ç±»å‹åå­—ï¼š
u := struct { // ç›´æ¥å®šä¹‰åŒ¿åç»“æ„ä½“  name string age byte }{ name : &amp;#34;Tom&amp;#34;, age : 12, } type file struct{ name string attr struct { //åŒ¿åç»“æ„ä½“å­—æ®µ  owner int perm int } f := file { name: &amp;#34;test.dat&amp;#34; // attr: { //é”™è¯¯ // owner: 1, // perm: 0755, //}, } f.attr.owner = 1 //ä¹Ÿå¯ä»¥åœ¨åˆå§‹åŒ–è¯­å¥ä¸­å†æ¬¡å®šä¹‰ï¼Œä½†é‚£æ ·çœ‹ä¸Šå»ä¼šéå¸¸ä¸‘é™‹ f.attr.perm = 0755  æ³¨æ„äº‹é¡¹ åªæœ‰åœ¨æ‰€æœ‰å­—æ®µç±»å…¨éƒ¨æ”¯æŒåˆ¤ç­‰æ“ä½œæ—¶ï¼Œæ‰å¯ä»¥åšç›¸ç­‰æ“ä½œ:
type data struct { x int y map[string]int } d1 := data{ //å‘½ååˆå§‹åŒ–  x: 100, } d2 := data{ //å‘½ååˆå§‹åŒ–  x: 100, } println(d1 == d2) å¯ä»¥ä½¿ç”¨æŒ‡é’ˆç›´æ¥æ“ä½œç»“æ„å­—æ®µï¼Œä½†ä¸èƒ½æ˜¯å¤šçº§æŒ‡é’ˆã€‚
type user struct { name string age int } p := &amp;amp; user{ name : &amp;#34;Tom&amp;#34; age : 12 } p.name = &amp;#34;Mary&amp;#34; //æŒ‡é’ˆç›´æ¥æ“ä½œç»“æ„ä½“å­—æ®µ p.age &#43;&#43; //æŒ‡é’ˆç›´æ¥æ“ä½œç»“æ„ä½“å­—æ®µ  p2 := &amp;amp; p *p2.name = &amp;#34;Jack&amp;#34; //é”™è¯¯ï¼Œä¸èƒ½ä½¿ç”¨å¤šçº§æŒ‡é’ˆç›´æ¥æ“ä½œç»“æ„ä½“å­—æ®µ  ç©ºç»“æ„ä½“ ç©ºç»“æ„ä½“struct {}æ˜¯æŒ‡æ²¡æœ‰å­—æ®µçš„ç»“æ„ç±»å‹ï¼Œå®ƒæ¯”è¾ƒç‰¹æ®Šï¼Œå› ä¸ºæ— è®ºæ˜¯å…¶è‡ªèº«ï¼Œè¿˜æ˜¯ä½œä¸ºæ•°ç»„å…ƒç´ ç±»å‹ï¼Œå…¶é•¿åº¦å‡ä¸º0ã€‚
var a struct{} var b [100] struct{} println(unsafe.Sizeof(a),unsafe.Sizeof(b))//0 0 å¯¹äºç©ºç»“æ„ä½“æ¥è¯´ï¼Œå°½ç®¡æ²¡æœ‰åˆ†é…æ•°ç»„å†…å­˜ï¼Œä½†ä¾ç„¶å¯ä»¥æ“ä½œå…ƒç´ ï¼Œå¯¹åº”åˆ‡ç‰‡len,capå±æ€§ä¹Ÿæ­£å¸¸ã€‚
var d[100] struct{} s := d[:] d[1] = struct{}{} d[2] = struct{}{} fmt.Println(s[3],len(s),cap(s)) //{} 100 100 å®é™…ä¸Šï¼Œè¿™ç±»é•¿åº¦ä¸º0çš„ç©ºç»“æ„ä½“å¯¹è±¡é€šå¸¸æŒ‡å‘runtime.zerobaseå˜é‡ã€‚ ç©ºç»“æ„ä½“å¯ä½œä¸ºé€šé“å…ƒç´ ç±»å‹ï¼Œç”¨äºäº‹ä»¶é€šçŸ¥ã€‚
a := [10]struct{}{} b := a[:] c := [0]int{} fmt.Println(&amp;amp;a,&amp;amp;b,&amp;amp;c)  ç»“æ„ä½“çš„åŒ¿åå­—æ®µ æ‰€è°“åŒ¿åå­—æ®µï¼Œæ˜¯æŒ‡æ²¡æœ‰åå­—ï¼Œä»…æœ‰ç±»å‹çš„å­—æ®µï¼Œä¹Ÿç§°ä½œåµŒå…¥å­—æ®µæˆ–åµŒå…¥ç±»å‹ã€‚
type attr struct { perm int } type file struct { name string attr //åŒ¿åå­—æ®µ,ä½†ä¸æ˜¯åŒ¿åç»“æ„ä½“ï¼Œæ³¨æ„åŒºåˆ« } ä»ç¼–è¯‘å™¨çš„è§’åº¦çœ‹ï¼Œè¿™åªæ˜¯éšå¼çš„ä»¥ç±»å‹ä½œä¸ºå­—æ®µåå­—ã€‚å¯ç›´æ¥å¼•ç”¨åŒ¿åå­—æ®µçš„æˆå‘˜ï¼Œä½†åˆå§‹åŒ–æ—¶é¡»å½“ä½œç‹¬ç«‹å­—æ®µã€‚f := file{ name : &amp;#34;test.data&amp;#34;, attr : attr{ //æ˜¾å¼åˆå§‹åŒ–åŒ¿åå­—æ®µï¼Œæ³¨æ„äºåŒ¿åç»“æ„ä½“é‚£ä¸€å°ç»“çš„åŒºåˆ«  perm : 0755, }, //åˆ†å·ä¸èƒ½å°‘ } f.perm = 0644 //ç›´æ¥è®¾ç½®åŒ¿åå­—æ®µæˆå‘˜ println(f.perm) å¦‚æœåµŒå…¥å…¶ä»–åŒ…ä¸­çš„ç±»å‹ï¼Œåˆ™éšå¼å­—æ®µåå­—ã€Œä¸æ˜¯åŒ¿åå­—æ®µï¼Œæ˜¯åŒ¿åå­—æ®µçš„åå­—ã€ä¸åŒ…æ‹¬åŒ…åï¼š
type data stuct { os.File //åŒ¿åå­—æ®µï¼ŒåŒ…æ‹¬åŒ…å } func main{ d := data { File : os.File{} //åŒ¿åå­—æ®µåˆå§‹åŒ–æ—¶ï¼Œå­—æ®µåå­—ä¸åŒ…æ‹¬åŒ…å } ä¸ä»…ä»…æ˜¯ç»“æ„ä½“ï¼Œé™¤æ¥å£æŒ‡é’ˆå’Œå¤šçº§æŒ‡é’ˆä»¥å¤–ä»»ä½•å‘½åç±»å‹éƒ½å¯ä»¥ä½œä¸ºç»“æ„ä½“çš„åŒ¿åå­—æ®µï¼š
type data stuct { * int string } x := 100 d := data { int: &amp;amp;x, //æŒ‡é’ˆä½œä¸ºåŒ¿åå­—æ®µæ—¶ï¼Œå…¶éšå¼åå­—ä¸ºåŸºç¡€ç±»å‹çš„åå­—  string: &amp;#34;abc&amp;#34;, } éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸èƒ½å°†åŸºç¡€ç±»å‹å’Œå…¶æŒ‡é’ˆç±»å‹åŒæ—¶åµŒå…¥ï¼Œå› ä¸ºä¸¤è€…éšå¼åå­—ç›¸åŒã€‚
type data stuct { * int //æŒ‡é’ˆç±»å‹ int //åŸºç¡€ç±»å‹ }  è™½ç„¶å¯ä»¥åƒæ™®é€šå­—æ®µé‚£æ ·è®¿é—®åŒ¿åå­—æ®µæˆå‘˜ï¼Œä½†ä¼šå­˜åœ¨é‡åé—®é¢˜ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨ä»å½“å‰æ˜¾å¼åå­—å­—æ®µå¼€å§‹ï¼Œé€æ­¥å‘å†…æŸ¥æ‰¾åŒ¿åå­—æ®µæˆå‘˜ã€‚å¦‚åŒ¿åå­—æ®µæˆå‘˜è¢«å¤–å±‚åŒåå­—æ®µé®è”½ï¼Œé‚£ä¹ˆå¿…é¡»ä½¿ç”¨æ˜¾å¼å­—æ®µåã€‚
type file struct { name string } type data struct{ file name string } d := data { name : &amp;#34;data&amp;#34; file : file{&amp;#34;file&amp;#34;} //åŒ¿åå­—æ®µåˆå§‹åŒ– } d.name = &amp;#34;data2&amp;#34; d.file.name = &amp;#34;file2&amp;#34; //åŒåå­—æ®µï¼Œä½¿ç”¨æ˜¾å¼å­—æ®µåè®¿é—® data.file.name å¦‚æœå¤šä¸ªç›¸åŒå±‚çº§çš„åŒ¿åå­—æ®µæˆå‘˜é‡åï¼Œå°±åªèƒ½ä½¿ç”¨æ˜¾å¼å­—æ®µåï¼Œå› ä¸ºç¼–è¯‘å™¨æ— æ³•ç¡®å®šç›®æ ‡ï¼š
type file struct { name string } type log struct { name string } type data struct { file log } func main(){ d := data{} d.name = &amp;#34;name&amp;#34; //é”™è¯¯ï¼Œå¿…é¡»ä½¿ç”¨æ˜¾å¼å­—æ®µå  d.file.name = &amp;#34;file&amp;#34; d.log.name = &amp;#34;log&amp;#34; }  å­—æ®µæ ‡ç­¾ å­—æ®µæ ‡ç­¾å¹¶ä¸æ˜¯æ³¨é‡Šï¼Œè€Œæ˜¯ç”¨æ¥å¯¹å­—æ®µè¿›è¡Œæè¿°çš„å…ƒæ•°æ®ã€‚å°½ç®¡å®ƒä¸å±äºæ•°æ®æˆå‘˜ï¼Œä½†å´æ˜¯ç±»å‹çš„ç»„æˆéƒ¨åˆ†ã€‚åœ¨è¿è¡ŒæœŸï¼Œå¯ç”¨åå°„è·å–æ ‡ç­¾ä¿¡æ¯ï¼Œå®ƒå¸¸è¢«ç”¨ä½œæ ¼å¼æ ¡éªŒï¼Œæ•°æ®åº“å…³ç³»æ˜ å°„ç­‰ã€‚
type user struct{ name string `æ˜µç§°` sex type `æ€§åˆ«` }  å†…å­˜å¸ƒå±€ åœ¨Goä¸­ä¸ç®¡ç»“æ„ä½“åŒ…å«å¤šå°‘ä¸ªå­—æ®µï¼Œå…¶å†…å­˜æ€»æ˜¯ä¸€æ¬¡æ€§åˆ†é…çš„ï¼Œå„å­—æ®µåœ¨ç›¸é‚»çš„åœ°å€ç©ºé—´æŒ‰å®šä¹‰é¡ºåºæ’åˆ—ã€‚å½“ç„¶ï¼Œå¼•ç”¨ç±»å‹ã€å­—ç¬¦ä¸²å’ŒæŒ‡é’ˆï¼Œç»“æ„å†…å­˜ä¸­åªåŒ…å«å…¶åŸºæœ¬(å¤´éƒ¨)æ•°æ®ã€‚åœ¨åˆ†é…å†…å­˜æ—¶ï¼Œå­—æ®µé¡»åšå¯¹é½å¤„ç†ï¼Œé€šå¸¸ä»¥æ‰€æœ‰å­—æ®µä¸­æœ€é•¿çš„åŸºç¡€ç±»å‹å®½åº¦ä¸ºæ ‡å‡†ã€‚
æ¯”è¾ƒç‰¹æ®Šçš„ç©ºç»“æ„ä½“ç±»å‹ã€‚å¦‚æœå®ƒæ˜¯æœ€åä¸€ä¸ªå­—æ®µï¼Œé‚£ä¹ˆç¼–è¯‘å™¨å°†å…¶å½“ä½œé•¿åº¦ä¸º1çš„ç±»å‹åšå¯¹é½å¤„ç†ï¼Œä»¥ä¾¿å…¶åœ°å€ä¸ä¼šè¶Šç•Œï¼Œé¿å…å¼•å‘åƒåœ¾å›æ”¶é”™è¯¯ã€‚
å¦‚æœä»…æœ‰ä¸€ä¸ªç©ºç»“æ„ä½“å­—æ®µï¼Œé‚£ä¹ˆåŒæ ·æŒ‰1å¯¹é½ï¼Œåªä¸è¿‡é•¿åº¦ä¸º0ï¼Œä¸”æŒ‡å‘runtime.zerobaseå˜é‡ã€‚
 æ ¹æ®å·²æœ‰ç±»å‹å®šä¹‰æ–°ç±»å‹ å¦ä¸€ç§å£°æ˜ç”¨æˆ·å®šä¹‰çš„ç±»å‹çš„æ–¹æ³•æ˜¯ï¼ŒåŸºäºä¸€ä¸ªå·²æœ‰çš„ç±»å‹ï¼Œå°†å…¶ä½œä¸ºæ–°ç±»å‹çš„ç±»å‹è¯´æ˜ã€‚å½“éœ€è¦ä¸€ä¸ªå¯ä»¥ç”¨å·²æœ‰ç±»å‹è¡¨ç¤ºçš„æ–°ç±»å‹çš„æ—¶å€™ï¼Œè¿™ç§æ–¹æ³•ä¼šéå¸¸æœ‰ç”¨ã€‚
type Duration int64 ç»™ä¸åŒç±»å‹çš„å˜é‡èµ‹å€¼ä¼šäº§ç”Ÿç¼–è¯‘é”™è¯¯
package main type Duration int64 func main(){ var dur Duration dur = int64(1000) //ä¼šå‡ºç°ç¼–è¯‘é”™è¯¯ }  </content>
    </entry>
    
     <entry>
        <title>Go å»¶è¿Ÿè°ƒç”¨</title>
        <url>https://iihui.github.io/post/go-defer/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>Go</tag>
        </tags>
        <content type="html">  å…³é”®å­—deferå…è®¸æˆ‘ä»¬æ¨è¿Ÿåˆ°å‡½æ•°è¿”å›å‰ä¸€åˆ»(æˆ–ä»»æ„ä½ç½®æ‰§è¡Œreturnè¯­å¥ä¹‹å)æ‰æ‰§è¡ŒæŸä¸ªè¯­å¥æˆ–å‡½æ•°ã€‚
 ä¸ºä»€ä¹ˆè¦åœ¨è¿”å›ä¹‹åæ‰æ‰§è¡Œè¿™äº›è¯­å¥ï¼Ÿå› ä¸ºreturnè¯­å¥åŒæ ·å¯ä»¥åŒ…å«ä¸€äº›æ“ä½œï¼Œè€Œä¸æ˜¯å•çº¯åœ°è¿”å›æŸä¸ªå€¼ï¼Œå®é™…ä¸Šæ­¤æ—¶returnè¯­å¥è¦åšä¸‰ä»¶äº‹ï¼šâ‘ å¦‚æœæœ‰å‘½åå‚æ•°ï¼Œå°†è¿”å›å€¼èµ‹ç»™å‘½åè¿”å›å€¼;â‘¡æ‰§è¡Œdeferè¯­å¥æˆ–å‡½æ•°;â‘¢ç»“æŸå‡½æ•°çš„æ‰§è¡Œã€‚
è¯­å¥deferå‘å½“å‰å‡½æ•°æ³¨å†Œç¨åæ‰§è¡Œçš„å‡½æ•°è°ƒç”¨ï¼Œè¿™äº›å‡½æ•°è¢«ç§°ä¸ºå»¶è¿Ÿè°ƒç”¨ï¼Œå› ä¸ºå®ƒä»¬ç›´åˆ°å½“å‰å‡½æ•°æ‰§è¡Œç»“æŸä¹‹åæ‰è¢«æ‰§è¡Œï¼Œå¸¸ç”¨äºèµ„æºé‡Šæ”¾ï¼Œè§£é™¤é”å®šï¼Œä»¥åŠé”™è¯¯å¤„ç†ç­‰æ“ä½œã€‚
æ‰§è¡Œé¡ºåº åŒä¸€å‡½æ•°ä¸­æ³¨å†Œå¤šä¸ªdeferè¯­å¥æ—¶ï¼Œæ‰§è¡Œæ—¶å°†ä¼šæŒ‰ç…§æ³¨å†Œé¡ºåºå…ˆè¿›åå‡ºçš„é¡ºåºæ‰§è¡Œå³FILOçš„æ¬¡åºæ‰§è¡Œã€‚
å¦‚æœé‡åˆ°panicè¯­å¥ï¼Œé‚£ä¹ˆå’Œé‡åˆ°returnè¯­å¥ä¸€æ ·ï¼Œä¼šè§¦å‘å»¶è¿Ÿè°ƒç”¨ï¼Œå¹¶ä¸”å»¶è¿Ÿè°ƒç”¨ä¼šå…ˆäºpanicä¸­çš„æ‰“å°è¯­å¥ã€‚func main() { defer_call() } func defer_call() { defer func() { fmt.Println(&amp;#34;æ‰“å°å‰&amp;#34;) }() //æœ€åè°ƒç”¨ 	defer func() { fmt.Println(&amp;#34;æ‰“å°ä¸­&amp;#34;) }() //ä¸­é—´è°ƒç”¨ 	defer func() { fmt.Println(&amp;#34;æ‰“å°å&amp;#34;) }() //æœ€å…ˆè°ƒç”¨  panic(&amp;#34;è§¦å‘å¼‚å¸¸&amp;#34;) //åœ¨deferä¹‹åæ‰§è¡Œ } //æ‰“å°å //æ‰“å°ä¸­ //æ‰“å°å‰ //panic: è§¦å‘å¼‚å¸¸ ç¼–è¯‘å™¨é€šè¿‡æ’å…¥é¢å¤–çš„æŒ‡ä»¤æ¥å®ç°å»¶è¿Ÿè°ƒç”¨æ‰§è¡Œï¼Œè€Œreturnå’Œpanicè¯­å¥éƒ½ä¼šç»ˆæ­¢å½“å‰å‡½æ•°æµç¨‹ï¼Œå¼•å‘å»¶è¿Ÿè°ƒç”¨ã€‚æ­¤å¤–ï¼Œreturnè¯­å¥ä¸æ˜¯retæ±‡ç¼–æŒ‡ä»¤ï¼Œå®ƒä¼šæ›´æ–°è¿”å›å€¼ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼š
func TestDefer() (z int) { defer func() { println(&amp;#34;defer&amp;#34;, z) //100 	z &#43;= 100 }() return 100 //æœ€åzçš„å€¼ä¸º200ï¼Œå®é™…æ‰§è¡Œæ¬¡åºä¸ºz=100ï¼Œ call deferï¼Œret }  ä½¿ç”¨åœºæ™¯ å»¶è¿Ÿè°ƒç”¨ä¸€èˆ¬ç”¨äºåšä¸€äº›æ”¶å°¾å·¥ä½œï¼Œä¾‹å¦‚ï¼šâ‘ å…³é—­æ–‡ä»¶æµï¼›â‘¡å…³é—­æ•°æ®åº“è¿æ¥ï¼›â‘¢è§£é”ä¸€ä¸ªåŠ é”çš„èµ„æºï¼›â‘£æ‰“å°æœ€ç»ˆçš„æŠ¥å‘Šã€‚
ä¸€ä¸ªåŸºç¡€ä½†ååˆ†å®ç”¨çš„å®ç°ä»£ç æ‰§è¡Œè¿½è¸ªçš„æ–¹æ¡ˆå°±æ˜¯åœ¨è¿›å…¥å’Œç¦»å¼€æŸä¸ªå‡½æ•°æ‰“å°ç›¸å…³çš„æ¶ˆæ¯ï¼Œå³å¯ä»¥æç‚¼ä¸ºä¸‹é¢ä¸¤ä¸ªå‡½æ•°
func trace(s string) { fmt.Println(&amp;#34;entering:&amp;#34;, s) } func untrace(s string) { fmt.Println(&amp;#34;leaving:&amp;#34;, s) }  æ³¨æ„äº‹é¡¹ å»¶è¿Ÿè°ƒç”¨æ³¨å†Œçš„æ˜¯è°ƒç”¨ï¼Œå¿…é¡»æä¾›æ‰§è¡Œæ‰€éœ€è¦çš„å‚æ•°ï¼ˆå“ªæ€•ä¸ºç©ºï¼‰ï¼Œå‚æ•°åœ¨æ³¨å†Œçš„æ—¶å€™è¢«å¤åˆ¶å¹¶ç¼“å­˜èµ·æ¥ï¼Œå¦‚å¯¹çŠ¶æ€æ•æ„Ÿï¼Œå¯æ”¹ç”¨æŒ‡é’ˆæˆ–é—­åŒ…ã€‚
func TestDeferRegister(){ x, y := 1,2 defer func(a int){ //ä¼ ç»™å‚æ•°açš„å€¼è¢«ç¼“å­˜èµ·æ¥ 	println(&amp;#34;defer x,y =&amp;#34;,a,y) //yæ˜¯åœ¨å»¶è¿Ÿè°ƒç”¨æ—¶è¯»å–è¢«æ”¹å˜ä¹‹åçš„å€¼ 	}(x) x &#43;= 100 y &#43;= 200 println(x,y) //yå¯¹äºdeferå‡½æ•°æ¥è¯´æ˜¯å¤–éƒ¨å˜é‡  } //101 202  //defer x,y = 1 202  å¦‚æœåœ¨å»¶è¿Ÿå‡½æ•°ä¸­ä½¿ç”¨å¤–éƒ¨å˜é‡ï¼Œå°±åº”è¯¥é€šè¿‡å‚æ•°ä¼ å…¥ã€‚å…·ä½“å®ä¾‹è§ä¸‹é¢ä»£ç ï¼š
func printNumber() { for i := 0; i &amp;lt; 5; i&#43;&#43; { defer func () { fmt.Printf(&amp;#34;%d\t&amp;#34;,i) } } }//è¾“å‡ºä¸º5 5 5 5 5 func printNumber() { for i := 0; i &amp;lt; 5; i&#43;&#43; { defer func (n int) { fmt.Printf(&amp;#34;%d\t&amp;#34;,i)	}(i) } } //è¾“å‡ºä¸º4 3 2 1 0 ç¬¬ä¸€ä¸ªå‡½æ•°çš„è¾“å‡ºä¸º5 5 5 5 5ï¼Œæ˜¯å› ä¸ºä½¿ç”¨äº†å¤–éƒ¨å˜é‡iï¼Œå½“è§¦å‘å»¶è¿Ÿè°ƒç”¨çš„æ—¶å€™ï¼Œiçš„å€¼å·²ç»å˜æˆäº†5ã€‚
ç¬¬äºŒä¸ªå‡½æ•°çš„è¾“å‡ºä¸º4 3 2 1 0ï¼Œæ˜¯å› ä¸ºåŒ¿åå‡½æ•°è¢«ä¼ å…¥äº†ä¸€ä¸ªå‚æ•°ï¼Œæ¯æ¬¡æ³¨å†Œçš„æ—¶å€™ï¼Œä¼šå°†ä¼ å…¥çš„å‚æ•°ç¼“å­˜èµ·æ¥ã€‚
 </content>
    </entry>
    
     <entry>
        <title>Go æ–¹æ³•</title>
        <url>https://iihui.github.io/post/go-method/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>Go</tag>
        </tags>
        <content type="html"> æ–¹æ³• åœ¨Goä¸­ç»“æ„ä½“å°±åƒæ˜¯ç±»çš„ä¸€ç§ç®€åŒ–å½¢å¼ï¼Œæ–¹æ³•å°±åƒç±»ä¸­çš„æ–¹æ³•ã€‚æ–¹æ³•æ˜¯ä¸å¯¹è±¡å®ä¾‹ç»‘å®šçš„ç‰¹æ®Šå‡½æ•°ï¼Œæ–¹æ³•å’Œå‡½æ•°å®šä¹‰è¯­æ³•åŒºåˆ«åœ¨äº:æ–¹æ³•æœ‰å‰ç½®å®ä¾‹æ¥æ”¶å‚æ•°receiverï¼Œç¼–è¯‘å™¨ä»¥æ­¤ç¡®å®šæ–¹æ³•æ‰€å±ç±»å‹ã€‚
æ¥æ”¶è€…ç±»å‹å‡ ä¹å¯ä»¥æ˜¯ä»»ä½•ç±»å‹ï¼Œä¸ä»…ä»…æ˜¯ç»“æ„ä½“ç±»å‹ï¼Œç”šè‡³å¯ä»¥æ˜¯å‡½æ•°ç±»å‹ã€‚ä½†æ˜¯ï¼Œæœ‰ä¸¤ç§ç±»å‹ä¸å¯ä»¥æœ‰æ–¹æ³•ï¼š
  æ¥æ”¶è€…ä¸èƒ½æ˜¯ä¸€ä¸ªæ¥å£ç±»å‹ï¼Œ å› ä¸ºæ¥å£æ˜¯ä¸€ä¸ªæŠ½è±¡å®šä¹‰ï¼Œä½†æ˜¯æ–¹æ³•éœ€è¦å…·ä½“å®ç°ã€‚
  æ¥æ”¶è€…çš„ç±»å‹ä¸èƒ½æ˜¯æœ¬èº«ç±»å‹æ˜¯æŒ‡é’ˆçš„ç±»å‹ï¼Œä¾‹å¦‚type TP *int,é‚£ä¹ˆTPå°±ä¸å¯ä»¥å®šä¹‰æ–¹æ³•ã€‚
  ä¸€ä¸ªç±»å‹åŠ ä¸Šå®ƒçš„æ–¹æ³•ç­‰ä»·äºé¢å‘å¯¹è±¡ä¸­çš„ä¸€ä¸ªç±»ã€‚åœ¨Goä¸­ï¼Œç±»å‹çš„ä»£ç å’Œç»‘å®šåœ¨å®ƒä¸Šé¢çš„æ–¹æ³•çš„ä»£ç å¯ä»¥ä¸æ”¾ç½®åœ¨ä¸€èµ·ï¼Œå®ƒä»¬å¯ä»¥å­˜åœ¨äºä¸åŒçš„æºæ–‡ä»¶ï¼Œå”¯ä¸€çš„è¦æ±‚â€”â€”å®ƒä»¬å¿…é¡»åœ¨åŒä¸€ä¸ªåŒ…ä¸­ã€‚
 ä½¿ç”¨ package main import ( &amp;#34;fmt&amp;#34; ) type user struct { name string email string } // ä½¿ç”¨userå€¼ç±»å‹ä½œä¸ºæ¥æ”¶è€… func (u user) notify() { fmt.Printf(&amp;#34;Sending User Email To %s&amp;lt;%s&amp;gt;\n&amp;#34;, u.name, u.email) } // ä½¿ç”¨æŒ‡é’ˆç±»å‹ä½œä¸ºæ¥æ”¶è€… func (u *user) changeEmail(email string) { u.email = email } // func main() { bill := user{&amp;#34;Bill&amp;#34;, &amp;#34;bill@email.com&amp;#34;} bill.notify() //å€¼ç±»å‹æ¥è°ƒç”¨æ–¹æ³•  lisa := &amp;amp;user{&amp;#34;Lisa&amp;#34;, &amp;#34;lisa@email.com&amp;#34;} lisa.notify() //æŒ‡å‘userç±»å‹å€¼çš„æŒ‡é’ˆä¹Ÿå¯ä»¥è°ƒç”¨ä½¿ç”¨å€¼ç±»å‹ä½œä¸ºæ¥æ”¶è€…çš„æ–¹æ³•  bill.changeEmail(&amp;#34;bill@newdomain.com&amp;#34;) bill.notify() //ä½¿ç”¨å€¼æ¥è°ƒç”¨ä»¥æŒ‡é’ˆä½œä¸ºæ¥æ”¶è€…çš„ç±»å‹  lisa.changeEmail(&amp;#34;Lisa@newdomain.com&amp;#34;) lisa.notify() //æŒ‡é’ˆç±»è°ƒç”¨ä»¥æŒ‡é’ˆç±»å‹ä½œä¸ºæ¥æ”¶è€…çš„ç±»å‹ }  æ³¨æ„äº‹é¡¹   æ–¹æ³•æ˜¯ä¸€ç§ç‰¹æ®Šçš„å‡½æ•°ï¼Œå› æ­¤æ–¹æ³•æ˜¯ä¸æ”¯æŒé‡è½½çš„ï¼Œå³ä¸€ä¸ªç±»å‹çš„æ–¹æ³•é›†ä¸­çš„æ‰€æœ‰æ–¹æ³•æ˜¯ä¸èƒ½å¤Ÿæœ‰åŒåçš„æ–¹æ³•ã€‚
  å¦‚æœæ–¹æ³•å†…éƒ¨ä¸å¼•ç”¨å®ä¾‹ï¼Œå¯çœç•¥å‚æ•°åï¼Œä»…ä¿ç•™ç±»å‹ã€‚
  æ¥æ”¶è€…receiverç±»å‹å¯ä»¥æ˜¯åŸºç¡€ç±»å‹æˆ–æŒ‡é’ˆç±»å‹ï¼ŒåŒºåˆ«åœ¨äºè°ƒç”¨æ—¶å¯¹è±¡å®ä¾‹æ˜¯å¦è¢«å¤åˆ¶ã€‚å€¼æ¥æ”¶è€…ä½¿ç”¨å€¼çš„å‰¯æœ¬æ¥è°ƒç”¨æ–¹æ³•ï¼Œè€ŒæŒ‡é’ˆæ¥å—è€…ä½¿ç”¨å®é™…å€¼æ¥è°ƒç”¨æ–¹æ³•ã€‚
type N int func TestMethod() { var a N = 25 //println(a.toString())  a.value() fmt.Printf(&amp;#34;a: %p,%v\n&amp;#34;, &amp;amp;a, a) a.pointer() fmt.Printf(&amp;#34;a: %p,%v\n&amp;#34;, &amp;amp;a, a) } func (n N) value() { //å€¼ç±»å‹çš„æ¥å—è€…ï¼Œè°ƒç”¨çš„æ—¶å€™ä¼šå¤åˆ¶ï¼Œæ‰€ä»¥nçš„å€¼çš„æ›´æ”¹ä¸ä¼šä½“ç°åˆ°æ¥æ”¶è€…çš„ç±»å‹ä¸Šæ¥  n&#43;&#43; fmt.Printf(&amp;#34;v: %p,%v\n&amp;#34;, &amp;amp;n, n) } func (n *N) pointer() { (*n)&#43;&#43; fmt.Printf(&amp;#34;p: %p, %v\n&amp;#34;, n, *n) }   å¯ä½¿ç”¨å®ä¾‹å€¼æˆ–è€…æŒ‡é’ˆè°ƒç”¨æ–¹æ³•ï¼Œç¼–è¯‘å™¨ä¼šæ ¹æ®æ–¹æ³•receiverç±»å‹è‡ªåŠ¨åœ¨åŸºç¡€ç±»å‹å’ŒæŒ‡é’ˆç±»å‹é—´è½¬æ¢ã€‚
var a N = 25 p := &amp;amp;a a.value() a.pointer() p.value() p.pointer()   åªèƒ½ä½¿ç”¨ä¸€çº§æŒ‡é’ˆè°ƒç”¨æ–¹æ³•ï¼Œä¸èƒ½ä½¿ç”¨å¤šçº§æŒ‡é’ˆè°ƒç”¨æ–¹æ³•ã€‚
var a N = 25 p := &amp;amp;a p2 := &amp;amp;p p2.value() //é”™è¯¯ï¼Œä½¿ç”¨å¤šçº§æŒ‡é’ˆ p2.pointer() //é”™è¯¯ï¼Œä½¿ç”¨å¤šçº§æŒ‡é’ˆè°ƒç”¨   æŒ‡é’ˆç±»å‹çš„receiverå¿…é¡»æ˜¯åˆæ³•åœ°å€ï¼ˆåŒ…æ‹¬nilï¼‰ï¼Œæˆ–èƒ½è·å–å®ä¾‹çš„åœ°å€ï¼Œå¦åˆ™ä¼šå‡ºç°è¿è¡Œæ—¶é”™è¯¯ã€‚
var b * N b.value() //b ç›¸å½“äºnil,å¯ä»¥è°ƒç”¨ï¼Œä½†æ˜¯ä¼šå‡ºç°è¿è¡Œæ—¶é”™è¯¯ï¼Œå› ä¸ºæ²¡æœ‰æŒ‡å‘å…·ä½“å®ä¾‹ï¼Œæ‰€ä»¥åœ¨ä¼ å‚æ•°æ—¶å‡ºç°é”™è¯¯ //N{}.pointer()   åˆ«åç±»å‹èƒ½å®šä¹‰æ–¹æ³•çš„å‰ææ˜¯å…¶åŸå§‹ç±»å‹æ²¡æœ‰å®šä¹‰è¿‡è¯¥æ–¹æ³•ã€‚
  åœ¨Goä¸­ç±»å‹å’Œä½œç”¨åœ¨å®ƒä¸Šé¢çš„æ–¹æ³•å¿…é¡»åœ¨åŒä¸€ä¸ªåŒ…é‡Œå®šä¹‰ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆä¸èƒ½åœ¨intã€floatæˆ–ç±»ä¼¼è¿™æ ·çš„æ ‡å‡†ç±»å‹ä¸Šå®šä¹‰æ–¹æ³•ã€‚æœ‰ä¸€ä¸ªæ¯”è¾ƒæ›²æŠ˜çš„ç»•è¿‡è¿™ç§è§„å®šçš„æ–¹å¼ï¼šå¯ä»¥å…ˆå®šä¹‰è¯¥ç±»å‹ï¼ˆæ¯”å¦‚intæˆ–floatï¼‰çš„åˆ«åç±»å‹ï¼Œç„¶åå†ä¸ºåˆ«åç±»å‹å®šä¹‰æ–¹æ³•ã€‚
   receiverå»ºè®® é€‰æ‹©æ–¹æ³•çš„receiverçš„å»ºè®®
  è¦ä¿®æ”¹å®ä¾‹çŠ¶æ€ï¼Œç”¨ * T
  æ— é¡»ä¿®æ”¹çš„å°å¯¹è±¡æˆ–å›ºå®šå€¼ï¼Œå»ºè®®ç”¨T
  å¤§å¯¹è±¡å»ºè®®ä½¿ç”¨ *Tï¼Œä»¥å‡å°‘å¤åˆ¶æˆæœ¬
  å¼•ç”¨ç±»å‹ï¼Œå­—ç¬¦ä¸²ï¼Œå‡½æ•°ç­‰æŒ‡é’ˆåŒ…è£…å¯¹è±¡ï¼Œç›´æ¥ç”¨T
  è‹¥åŒ…å« Mutex ç­‰åŒæ­¥å­—æ®µï¼Œç”¨*Tï¼Œé¿å…å› å¤åˆ¶é€ æˆé”æ“ä½œæ— æ•ˆ
  å…¶ä»–æ— æ³•ç¡®å®šçš„æƒ…å†µï¼Œéƒ½ç”¨ *T
  å¯ä»¥åƒè®¿é—®åŒ¿åå­—æ®µé‚£æ ·è°ƒç”¨å…¶æ–¹æ³•ï¼Œç”±ç¼–è¯‘å™¨è´Ÿè´£æŸ¥æ‰¾ï¼Œå°½ç®¡å¯ä»¥ç›´æ¥è®¿é—®åŒ¿åå­—æ®µçš„æˆå‘˜å’Œæ–¹æ³•ï¼Œä½†å®ƒä»¬ä»ä¸å±äºç»§æ‰¿å…³ç³»
type data struct { sync.Mutex } d := data{} d.Lock() defer d.Unlock()  æ–¹æ³•é›† ç±»å‹æœ‰ä¸€ä¸ªä¸ä¹‹å¯¹åº”çš„æ–¹æ³•é›†ï¼Œè¿™å†³å®šäº†å®ƒæ˜¯å¦å®ç°æŸä¸ªæ¥å£ã€‚å½“ä¸€ä¸ªåŒ¿åç±»å‹è¢«å†…åµŒåœ¨ç»“æ„ä½“ä¸­æ—¶ï¼ŒåŒ¿åç±»å‹çš„å¯è§æ–¹æ³•ä¹ŸåŒæ ·è¢«å†…åµŒã€‚è¿™åœ¨æ•ˆæœä¸Šç­‰åŒäºå¤–å±‚ç±»å‹ç»§æ‰¿äº†è¿™äº›æ–¹æ³•ã€‚è¿™ä¸ªæœºåˆ¶æä¾›äº†ä¸€ç§ç®€å•çš„æ–¹å¼æ¥æ¨¡æ‹Ÿç»å…¸é¢å‘å¯¹è±¡è¯­è¨€ä¸­çš„å­ç±»å’Œç»§æ‰¿ç›¸å…³çš„æ•ˆæœã€‚
  ç±»å‹Tçš„æ–¹æ³•é›†åŒ…å«äº†æ‰€æœ‰çš„receiver Tæ–¹æ³•
  ç±»å‹*TåŒ…å«äº†æ‰€æœ‰receiver T&#43;*Tæ–¹æ³•
  åŒ¿ååµŒå…¥Sï¼ŒTçš„æ–¹æ³•é›†ä¸­åŒ…å«æ‰€æœ‰receiver Sæ–¹æ³•
  åŒ¿ååµŒå…¥*Sï¼ŒTçš„æ–¹æ³•é›†ä¸­åŒ…å«æ‰€æœ‰receiver S&#43;*Sæ–¹æ³•
  åŒ¿ååµŒå…¥Sæˆ–*Sï¼Œ*Tçš„æ–¹æ³•é›†ä¸­åŒ…å«æ‰€æœ‰receiver S &#43; *Sæ–¹æ³•
  å’Œå†…åµŒç±»å‹æ–¹æ³•å…·æœ‰åŒæ ·åå­—çš„å¤–å±‚ç±»å‹çš„æ–¹æ³•ä¼šè¦†å†™å†…åµŒç±»å‹å¯¹åº”çš„æ–¹æ³•ã€‚
func (S) sVal() {} func (*S) sPtr() {} func (T) tVale() {} func (*T) tPtr() {} func MethodSet(a interface{}) { t := reflect.TypeOf(a) for i, n := 0, t.NumMethod(); i &amp;lt; n; i&#43;&#43; { m := t.Method(i) fmt.Println(m.Name, m.Type) } }  æ–¹æ³•è¡¨è¾¾å¼ æ–¹æ³•å’Œå‡½æ•°ä¸€æ ·ï¼Œé™¤ç›´æ¥è°ƒç”¨å¤–ï¼Œè¿˜å¯èµ‹å€¼å˜é‡ï¼Œä½œä¸ºå‚æ•°ä¼ é€’ï¼Œä¾ç…§å…·ä½“çš„å¼•ç”¨æ–¹æ³•ä¸åŒï¼Œåˆ†ä¸º expression å’Œ value ä¸¤ç§ã€‚
Method Expression é€šè¿‡ç±»å‹å¼•ç”¨çš„Method Expressionä¼šè¢«è¿˜åŸæˆæ™®é€šå‡½æ•°æ ·å¼,receiveræ˜¯ç¬¬ä¸€å‚æ•°ï¼Œè°ƒç”¨æ—¶é¡»æ˜¾å¼ä¼ å‚ï¼Œå¯ä»¥æ˜¯Tæˆ–*Tï¼Œåªè¦è¯¥æ–¹æ³•å­˜åœ¨äºè¯¥ç±»å‹æ–¹æ³•é›†ä¸­å³å¯ã€‚
type N int func (n N) test() { fmt.Printf(&amp;#34;test.n:,%p,%d\n&amp;#34;, &amp;amp;n, n) } var n N = 25 fmt.Printf(&amp;#34;main.n:,%p,%d\n&amp;#34;, &amp;amp;n, n) f1 := N.test f1(n) f2 := (*N).test //å°½ç®¡*Næ–¹æ³•é›†åŒ…è£…testæ–¹æ³•receiverç±»å‹ä¸åŒï¼Œä½†ç¼–è¯‘å™¨ä¼šä¿è¯æŒ‰åŸå®šä¹‰ç±»å‹æ‹·è´ä¼ å€¼ f2(&amp;amp;n) //main.n:,0xc42006e1a8,25 //test.n:,0xc42006e1c8,25 //test.n:,0xc42006e1d8,25 è¿˜å¯ä»¥ç›´æ¥ä»¥è¡¨è¾¾å¼çš„æ–¹å¼è°ƒç”¨
N.test(n) (*N).test(&amp;amp;n) //test.n:,0xc42006e1c8,25 //test.n:,0xc42006e1d8,25  Method Value åŸºäºå®ä¾‹æˆ–æŒ‡é’ˆå¼•ç”¨çš„method valueï¼Œå‚æ•°ç­¾åä¸ä¼šæ”¹å˜ï¼Œä¾æ—§æŒ‰æ­£å¸¸æ–¹å¼è°ƒç”¨ï¼Œä½†å½“method valueè¢«èµ‹å€¼ç»™å˜é‡æˆ–ä½œä¸ºå‚æ•°ä¼ é€’æ—¶ï¼Œä¼šç«‹å³è®¡ç®—å¹¶å¤åˆ¶è¯¥æ–¹æ³•æ‰§è¡Œæ‰€éœ€çš„receiverå¯¹è±¡ä¸å…¶ç»‘å®šï¼Œä»¥ä¾¿åœ¨ç¨åçš„æ‰§è¡Œæ—¶ï¼Œèƒ½éšå¼ä¼ å…¥receiverå‚æ•°ã€‚
var n N = 25 p := &amp;amp;n n&#43;&#43; t1 := n.test n&#43;&#43; t2 := p.test n&#43;&#43; fmt.Printf(&amp;#34;main.n:,%p,%d\n&amp;#34;, &amp;amp;n, n) t1() t2() //main.n:,0xc42000e258,28 //test.n:,0xc42000e278,26 //test.n:,0xc42000e288,27 å½“method valueä½œä¸ºå‚æ•°æ—¶ï¼Œä¼šå¤åˆ¶å«receiveråœ¨å†…çš„æ•´ä¸ªmethod value
func call(m func()){ m() } var n N = 25 p := &amp;amp;n fmt.Printf(&amp;#34;main.n:,%p,%d\n&amp;#34;, &amp;amp;n, n) n&#43;&#43; call(n.test) n&#43;&#43; call(p.test) //main.n:,0xc42006e1a8,25 //test.n:,0xc42006e1c8,26 //test.n:,0xc42006e1d8,27 å¦‚æœç›®æ ‡æ–¹æ³•çš„receiveræ˜¯æŒ‡é’ˆç±»å‹ï¼Œé‚£ä¹ˆè¢«å¤åˆ¶çš„ä»…æ˜¯æŒ‡é’ˆ
åªè¦receiverå‚æ•°ç±»å‹æ­£ç¡®ï¼Œä½¿ç”¨nilåŒæ ·å¯ä»¥æ‰§è¡Œ
type N int func (n N) value(){} func (n *N) pointer(){} var ptr *N ptr.pointer() (*N)(nil).pointer() (*N).pointer(nil)  </content>
    </entry>
    
     <entry>
        <title>Go åŒ…</title>
        <url>https://iihui.github.io/post/go-package/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>Go</tag>
        </tags>
        <content type="html">  åŒ…æ˜¯ç»“æ„åŒ–çš„ä¸€ç§æ–¹å¼,æ‰€æœ‰Goè¯­è¨€çš„ç¨‹åºéƒ½ä¼šç»„ç»‡æˆè‹¥å¹²ç»„æ–‡ä»¶ï¼Œæ¯ç»„æ–‡ä»¶è¢«ç§°ä¸ºä¸€ä¸ªåŒ…ã€‚æ¯ä¸ªæ–‡ä»¶éƒ½å±äºä¸”ä»…å±äºä¸€ä¸ªåŒ…ï¼Œä¸€ä¸ªåŒ…ä¸­å¯ä»¥åŒ…å«è®¸å¤šä»¥.goä¸ºæ‰©å±•åçš„æºæ–‡ä»¶ã€‚
 åŒ…ä¸­æºæ–‡ä»¶ æºæ–‡ä»¶éƒ½ä½¿ç”¨UTF-8ç¼–ç ï¼Œæ¯ä¸ªæºæ–‡ä»¶éƒ½å±äºåŒ…çš„ä¸€éƒ¨åˆ†ï¼Œåœ¨æ–‡ä»¶å¤´éƒ¨ç”¨packageå£°æ˜æ‰€å±åŒ…ã€‚
æ¯ä¸€ä¸ªå¯ç‹¬ç«‹è¿è¡Œçš„Goè¯­è¨€ç¨‹åºå¿…å®šåŒ…å«ä¸€ä¸ªmainåŒ…ï¼Œåœ¨è¿™ä¸ªmainåŒ…ä¸­å¿…å®šåŒ…å«ä¸€ä¸ªå…¥å£å‡½æ•°mainï¼Œè¿™ä¸ªå‡½æ•°æ²¡æœ‰å‚æ•°ä¹Ÿæ²¡æœ‰è¿”å›å€¼ã€‚
å…¥å£å‡½æ•°mainæ²¡æœ‰å‚æ•°ï¼Œå¿…é¡»æ”¾åˆ°mainåŒ…ä¸­ï¼Œå¦‚æœ mainå‡½æ•°æ²¡æœ‰æ”¾åˆ°mainåŒ…ä¸­ï¼Œæ„å»ºå·¥å…·å°±ä¸ä¼šç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ã€‚
å¦‚æœä¸€ä¸ªæºæ–‡ä»¶è¢«å£°æ˜å±äºmainä»£ç åŒ…ï¼Œä¸”è¯¥æ–‡ä»¶ä»£ç ä¸­åŒ…å«æ— å‚æ•°å£°æ˜å’Œæ— è¿”å›å€¼å£°æ˜çš„mainå‡½æ•°ï¼Œåˆ™å®ƒæ˜¯å‘½ä»¤æºç æ–‡ä»¶ã€‚å‘½ä»¤æºæ–‡ä»¶å¯ä»¥é€šè¿‡go runå‘½ä»¤ç›´æ¥å¯åŠ¨è¿è¡Œã€‚
åŒä¸€ä¸ªä»£ç åŒ…ä¸­å¯ä»¥æœ‰å¤šä¸ªå‘½ä»¤æºæ–‡ä»¶ï¼Œå¯é€šè¿‡go runå‘½ä»¤åˆ†åˆ«è¿è¡Œï¼Œä½†è¿™ä¼šä½¿go buildå’Œgo installå‘½ä»¤æ— æ³•ç¼–è¯‘å’Œå®‰è£…è¯¥ä»£ç åŒ…ï¼Œå› æ­¤ä¸åº”è¯¥æŠŠå¤šä¸ªå‘½ä»¤æºæ–‡ä»¶æ”¾å…¥åˆ°åŒä¸€ä¸ªåŒ…ä¸­ã€‚
åº“æºç æ–‡ä»¶å£°æ˜çš„åŒ…åä¼šå’Œå®ƒæ‰€å±çš„ç›®å½•åä¸€è‡´ï¼ˆå»ºè®®è¿™æ ·åšï¼‰ï¼Œä¸”åº“æºç æ–‡ä»¶ä¸­ä¸åŒ…å«æ— å‚æ•°å£°æ˜å’Œæ— è¿”å›å€¼å£°æ˜çš„mainå‡½æ•°ã€‚
 å·¥ä½œç©ºé—´ Goçš„å·¥ä½œç©ºé—´å°±æ˜¯ä¸€ä¸ªå¯¹åº”äºç‰¹å®šå·¥ç¨‹çš„ç›®å½•ï¼Œå®ƒåŒ…å«3ä¸ªç›®å½•ï¼Œåˆ†åˆ«æ˜¯srcã€binã€pkgç›®å½•ã€‚
  srcç›®å½•ç”¨ä»¥ä»£ç åŒ…çš„å½¢å¼ç»„ç»‡å¹¶ä¿å­˜Goæºç æ–‡ä»¶ã€‚
  pkgç›®å½•ç”¨ä»¥ä¿å­˜ä½¿ç”¨go installå‘½ä»¤å®‰è£…åçš„ä»£ç åŒ…çš„å½’æ¡£æ–‡ä»¶ã€‚å½’æ¡£æ–‡ä»¶æ˜¯æŒ‡é‚£äº›ä»¥.aç»“å°¾çš„æ–‡ä»¶ã€‚è¯¥ç›®å½•ä¸GOROOTç›®å½•ä¸‹çš„pkgç›®å½•çš„åŠŸèƒ½ç±»ä¼¼ï¼ŒåŒºåˆ«åœ¨äºå·¥ä½œåŒºä¸‹çš„pkgç›®å½•ä¿å­˜çš„ç”¨æˆ·ä»£ç çš„å½’æ¡£æ–‡ä»¶ã€‚
  binç›®å½•ï¼Œä¸pkgç›®å½•ç±»ä¼¼ï¼Œåœ¨é€šè¿‡go installå‘½ä»¤å®Œæˆå®‰è£…åï¼Œä¿å­˜ç”±Goå‘½ä»¤æºç æ–‡ä»¶ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚
  é€šå¸¸éœ€è¦å°†å·¥ä½œç©ºé—´çš„è·¯å¾„æ·»åŠ GOPATHç¯å¢ƒå˜é‡åˆ—è¡¨ä¸­ï¼Œå·¥ä½œç©ºé—´å¯ä»¥æœ‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªã€‚
  GOPATHä¸­ä¸è¦åŒ…å«Goè¯­è¨€çš„æ ¹ç›®å½•ï¼Œä»¥ä¾¿å°†Goè¯­è¨€æœ¬èº«çš„å·¥ä½œç©ºé—´åŒç”¨æˆ·çš„å·¥ä½œåŒºä¸¥æ ¼åˆ†å¼€ã€‚
  é€šè¿‡go installå‘½ä»¤è·å–çš„æºç ï¼Œå°†ä¼šä¸‹è½½åˆ°GOPATHä¸­è®¾å®šçš„ç¬¬ä¸€ä¸ªå·¥ä½œç©ºé—´ä¸­ï¼Œå¹¶åœ¨å…¶ä¸­å®Œæˆç¼–è¯‘å’Œå®‰è£…ã€‚
  åªæœ‰å½“ç¯å¢ƒå˜é‡GOPATHä¸­åªåŒ…å«ä¸€ä¸ªå·¥ä½œåŒºçš„ç›®å½•è·¯å¾„æ—¶ï¼Œgo installå‘½ä»¤æ‰ä¼šæŠŠå‘½ä»¤çš„æºç æ–‡ä»¶å®‰è£…åˆ°å½“å‰å·¥ä½œåŒºçš„binç›®å½•ä¸‹ã€‚å¦åˆ™æ‰§è¡Œgo installå°±ä¼šå‡ºé”™ï¼Œæ­¤æ—¶éœ€è¦è®¾ç½®ç¯å¢ƒå˜é‡GOBINï¼Œç”¨äºå­˜æ”¾æ‰€æœ‰å› å®‰è£…Goå‘½ä»¤æºç æ–‡ä»¶è€Œäº§ç”Ÿçš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚
  åœ¨å·¥ä½œç©ºé—´é‡Œï¼ŒåŒ…æ‹¬å­åŒ…åœ¨å†…çš„æ‰€æœ‰æºç æ–‡ä»¶éƒ½ä¿å­˜åœ¨srcç›®å½•ä¸‹ã€‚è‡³äºbinã€pkgä¸¤ä¸ªç›®å½•ï¼Œå…¶ä¸»è¦å½±å“go install/get å‘½ä»¤ï¼Œå®ƒä»¬å°†ç¼–è¯‘ç»“æœå®‰è£…åˆ°ä¸¤ä¸ªç›®å½•ä¸‹ï¼Œä»¥å®ç°å¢é‡ç¼–è¯‘ã€‚ä½¿ç”¨æ ‡å‡†åº“æˆ–ç¬¬ä¸‰æ–¹åŒ…å‰ï¼Œé¡»ç”¨importå¯¼å…¥ï¼Œå‚æ•°æ˜¯å·¥ä½œç©ºé—´ä¸­ä»¥srcä¸ºèµ·å§‹çš„ç»å¯¹è·¯å¾„ã€‚
å¯¹äºä¸€ä¸ªå¯¼å…¥çš„åŒ…ï¼Œç¼–è¯‘å™¨é¦–å…ˆä»æ ‡å‡†åº“å¼€å§‹æœç´¢ï¼Œå¦‚æœæœªæ‰¾åˆ°ç„¶åå°±ä¾æ¬¡æœç´¢GOPATHåˆ—è¡¨ä¸­çš„å„ä¸ªå·¥ä½œç©ºé—´ã€‚ä¸€æ—¦æ‰¾åˆ°äº†å¯¼å…¥çš„åŒ…ï¼Œå³åˆ»åœæ­¢æœç´¢ã€‚
ç¼–è¯‘å™¨ç­‰ç›¸å…³å·¥å…·æŒ‰GOPATHè®¾ç½®çš„è·¯å¾„æœç´¢ç›®æ ‡ï¼Œå¯¼å…¥ç›®æ ‡åº“æ—¶ï¼Œæ’åœ¨åˆ—è¡¨å‰é¢çš„è·¯å¾„æ¯”å½“å‰å·¥ä½œç©ºé—´çš„ä¼˜å…ˆçº§åˆ«æ›´é«˜ã€‚å…¶ä¸­go geté»˜è®¤å°†ä¸‹è½½çš„ç¬¬ä¸‰æ–¹åŒ…ä¿å­˜åˆ°åˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå·¥ä½œç©ºé—´å†…ã€‚
ç¯å¢ƒå˜é‡GOROOTç”¨äºæŒ‡ç¤ºå·¥å…·é“¾å’Œæ ‡å‡†åº“çš„å­˜æ”¾è·¯å¾„ã€‚ç¯å¢ƒå˜é‡PATHä¸­ä¹Ÿåº”è¯¥æ·»åŠ ä¸€é¡¹GOROOT/binï¼Œè¿™æ ·å°±å¯ä»¥åœ¨ä»»æ„ç›®å½•ä¸­ä½¿ç”¨Goçš„å‘½ä»¤äº†ã€‚
 4ç§æ–¹å¼å¯¼å…¥ ä½¿ç”¨æ ‡å‡†åº“æˆ–ç¬¬ä¸‰æ–¹åŒ…ï¼Œé¡»ç”¨importå¯¼å…¥ï¼Œå‚æ•°æ˜¯å·¥ä½œç©ºé—´ä¸­ä»¥srcç›®å½•ä¸ºèµ·å§‹çš„ç»å¯¹è·¯å¾„ã€‚
importè¯­å¥å‘Šè¯‰ç¼–è¯‘å™¨åˆ°ç£ç›˜çš„å“ªé‡Œå»æ‰¾æƒ³è¦å¯¼å…¥çš„åŒ…ï¼Œç¼–è¯‘å™¨ä¼šä½¿ç”¨Goç¯å¢ƒå˜é‡è®¾ç½®çš„è·¯å¾„ï¼Œé€šè¿‡å¼•å…¥çš„ç›¸å¯¹è·¯å¾„æ¥æŸ¥æ‰¾ç£ç›˜ä¸Šçš„åŒ…ã€‚
ç¼–è¯‘å™¨é¦–å…ˆä¼šæŸ¥æ‰¾Goçš„å®‰è£…ç›®å½•ï¼Œç„¶åæ‰ä¼šæŒ‰é¡ºåºæŸ¥æ‰¾GOPATHå˜é‡ä¸­åˆ—å‡ºçš„ç›®å½•ã€‚åŒ…çš„å¯¼å…¥ï¼Œæ€»å…±æœ‰å››ç§æ–¹å¼ï¼š
import &amp;#34;study/test&amp;#34; //é»˜è®¤æ–¹å¼ï¼š test.A import X &amp;#34;study/test&amp;#34; //åˆ«åæ–¹å¼ï¼š X.A import . &amp;#34;study/test&amp;#34; //ç®€ä¾¿æ–¹å¼ï¼šA import _ &amp;#34;study/test&amp;#34; //åˆå§‹åŒ–æ–¹å¼ï¼Œæ— æ³•å¼•ç”¨ï¼Œä»…ç”¨æ¥åˆå§‹åŒ–ç›®æ ‡åŒ…ï¼Œå³è°ƒç”¨initå‡½æ•° åœ¨Goä¸­æœªä½¿ç”¨çš„å¯¼å…¥(ä¸åŒ…æ‹¬åˆå§‹åŒ–æ–¹å¼)ä¼šè¢«ç¼–è¯‘å™¨è§†ä¸ºé”™è¯¯ï¼Œè¿™ä¸C&#43;&#43;æœ‰å¾ˆå¤§çš„åŒºåˆ«ã€‚
 æ³¨æ„äº‹é¡¹ ä¸€ä¸ªåº”ç”¨ç¨‹åºå¯ä»¥åŒ…å«ä¸åŒçš„åŒ…ï¼ŒæŒ‰ç…§æƒ¯ä¾‹æ‰€æœ‰çš„åŒ…åéƒ½åº”è¯¥ä½¿ç”¨å°å†™å­—æ¯ã€‚åœ¨Goçš„å®‰è£…æ–‡ä»¶ä¸­åŒ…å«äº†ä¸€äº›å¯ä»¥ç›´æ¥ä½¿ç”¨çš„åŒ…â€”â€”æ ‡å‡†åº“ã€‚
å±äºåŒä¸€åŒ…çš„æºæ–‡ä»¶å¿…é¡»å…¨éƒ¨ä¸€èµ·è¢«ç¼–è¯‘ï¼Œä¸€ä¸ªåŒ…å°±æ˜¯ç¼–è¯‘æ—¶çš„ä¸€ä¸ªå•å…ƒã€‚å¦‚æœå¯¹ä¸€ä¸ªåŒ…è¿›è¡Œäº†é‡æ–°ç¼–è¯‘ï¼Œé‚£ä¹ˆä½¿ç”¨äº†è¿™ä¸ªåŒ…çš„å®¢æˆ·ç«¯ç¨‹åºå¿…é¡»å…¨éƒ¨é‡æ–°ç¼–è¯‘ã€‚
æŒ‰ç…§æƒ¯ä¾‹ï¼Œæ¯ä¸ªç›®å½•åªåŒ…å«ä¸€ä¸ªåŒ…ï¼ŒåŒ…åä¸€èˆ¬å’Œç›®å½•çš„åå­—ç›¸åŒï¼Œä½†è¿™ä¸æ˜¯å¼ºåˆ¶è§„å®šï¼ŒåŒ…åå’Œç›®å½•åå¯ä»¥ä¸ä¸€æ ·ã€‚
é™¤äº†æ ‡è¯†ç¬¦_,åŒ…ä¸­æ‰€æœ‰çš„ä»£ç å¯¹è±¡çš„æ ‡è¯†ç¬¦å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œä»¥é¿å…åç§°å†²çªï¼Œä½†æ˜¯ç›¸åŒçš„æ ‡è¯†ç¬¦å¯ä»¥åœ¨ä¸åŒçš„åŒ…ä¸­ä½¿ç”¨ï¼Œå› ä¸ºå¯ä»¥ä½¿ç”¨åŒ…åæ¥åŒºåˆ†å®ƒä»¬ã€‚
å½“æ ‡è¯†ç¬¦ä»¥ä¸€ä¸ªå¤§å†™å­—æ¯å¼€å¤´ï¼Œé‚£ä¹ˆå®ƒå°±å¯ä»¥è¢«å¤–éƒ¨åŒ…çš„ä»£ç æ‰€ä½¿ç”¨ï¼Œè¿™ç§æ–¹å¼ç§°ä¹‹ä¸ºåŒ…çš„å¯¼å‡ºã€‚æ ‡è¯†ç¬¦å¦‚æœä»¥å°å†™å­—æ¯å¼€å¤´ï¼Œåˆ™å¯¹å¤–éƒ¨åŒ…æ˜¯ä¸å¯è§çš„ï¼Œä½†æ˜¯å®ƒä»¬åœ¨å†…éƒ¨åŒ…ä¸­æ˜¯å¯è§å¯ç”¨çš„ã€‚
  å¤„äºåŒä¸€æ–‡ä»¶å¤¹ä¸‹çš„ä»£ç æ–‡ä»¶ï¼Œå¿…é¡»ä½¿ç”¨åŒä¸€ä¸ªåŒ…åã€‚
  åœ¨Goä¸­æŒ‰ç…§æƒ¯ä¾‹åŒ…å’Œæ–‡ä»¶å¤¹åŒåã€‚å®é™…ä¸Šï¼ŒåŒ…åå’Œç›®å½•åå¹¶æ— å…³ç³»ï¼Œä¸è¦æ±‚ä¿æŒä¸€è‡´ã€‚
  ç¨‹åºä¸­æ¯ä¸ªä»£ç æ–‡ä»¶ä¸­çš„initå‡½æ•°éƒ½ä¼šåœ¨mainå‡½æ•°ä¹‹å‰è¢«æ‰§è¡Œã€‚æ‰§è¡Œé¡ºåºä¸ºå…¨å±€å˜é‡çš„åˆå§‹åŒ–ã€initå‡½æ•°çš„æ‰§è¡Œï¼Œmainå‡½æ•°çš„æ‰§è¡Œã€‚
  ä»¥ä¸‹å‡ ä¸ªåŒ…è¢«ä¿ç•™ï¼Œæœ‰ç‰¹æ®Šå«ä¹‰
  mainï¼š å¯æ‰§è¡Œå…¥å£ï¼ˆå…¥å£å‡½æ•°main.main)ã€‚
  all: æ ‡å‡†åº“ä»¥åŠGOPATHä¸­èƒ½æ‰¾åˆ°çš„æ‰€æœ‰åŒ…ã€‚
  std,cmd: æ ‡å‡†åº“ä»¥åŠå·¥å…·é“¾ã€‚
  documentation: å­˜å‚¨æ–‡æ¡£ä¿¡æ¯ï¼Œæ— æ³•å¯¼å…¥ï¼ˆå’Œç›®å½•åæ— å…³ï¼‰ã€‚
    æ‰€æœ‰æˆå‘˜åœ¨åŒ…å†…å‡å¯è®¿é—®ï¼Œæ— è®ºæ˜¯å¦åœ¨åŒä¸€æºç æ–‡ä»¶ä¸­ï¼›ä½†åªæœ‰åç§°é¦–å­—æ¯å¤§å†™çš„ä¸ºå¯å¯¼å‡ºæˆå‘˜ï¼Œåœ¨åŒ…å¤–æ˜¯å¯è§çš„ã€‚
  åŒ…å†…æ¯ä¸ªæºç æ–‡ä»¶å¯å®šä¹‰ä¸€åˆ°å¤šä¸ªåˆå§‹åŒ–initå‡½æ•°ï¼Œä½†ç¼–è¯‘å™¨ä¸ä¿è¯æ‰§è¡Œæ¬¡åºï¼Œå®é™…ä¸Šæ‰€æœ‰è¿™äº›åˆå§‹åŒ–å‡½æ•°ï¼ˆåŒ…æ‹¬æ ‡å‡†åº“å’Œå¯¼å…¥ç¬¬ä¸‰æ–¹åŒ…ï¼‰éƒ½ç”±ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆçš„ä¸€ä¸ªåŒ…è£…å‡½æ•°è¿›è¡Œè°ƒç”¨ï¼Œå› æ­¤å¯ä¿è¯åœ¨å•ä¸€çº¿ç¨‹ä¸Šæ‰§è¡Œï¼Œä¸”æ‰§è¡Œä¸€æ¬¡ã€‚
  ç¼–è¯‘å™¨é¦–å…ˆâ‘ ç¡®ä¿å®Œæˆæ‰€æœ‰å…¨å±€å˜é‡åˆå§‹åŒ–ï¼Œç„¶åâ‘¡æ‰æ‰§è¡Œåˆå§‹åŒ–å‡½æ•°ã€‚ç›´åˆ°è¿™äº›å…¨éƒ¨ç»“æŸåï¼Œè¿è¡Œæ—¶æ‰æ­£å¼â‘¢è¿›å…¥åˆ°main.mainå…¥å£å‡½æ•°ã€‚
  ä½¿ç”¨importå¯¼å…¥æ ‡å‡†åº“æˆ–ç¬¬ä¸‰æ–¹åŒ…ï¼Œå¿…é¡»åˆ é™¤æœªä½¿ç”¨çš„å¯¼å…¥ï¼Œå¦åˆ™ç¼–è¯‘å™¨ä¼šå°†å…¶å½“ä½œé”™è¯¯å¤„ç†ã€‚
   </content>
    </entry>
    
     <entry>
        <title>Go æ•°æ®</title>
        <url>https://iihui.github.io/post/go-data/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>Go</tag>
        </tags>
        <content type="html"> æ•°æ®ç±»å‹ Go ä¸­æ•°æ®åˆ†ä¸ºåŸºæœ¬ç±»å‹ï¼Œæ•°ç»„ï¼Œå¼•ç”¨ï¼Œå­—å…¸ï¼ˆæ˜ å°„)ï¼Œé€šé“ï¼Œå‡½æ•°ï¼Œç»“æ„ä½“ï¼Œæ¥å£ç­‰ç­‰ã€‚
  åˆ‡ç‰‡sliceå¯å®ç°ç±»ä¼¼åŠ¨æ€æ•°ç»„çš„åŠŸèƒ½y := make([]int, 0, 5); append(y,7)ã€‚
  å°†å­—å…¸mapç±»å‹å†…ç½®ï¼Œå¯ä»¥ç›´æ¥ä»è¿è¡Œå±‚é¢è·å¾—æ€§èƒ½ä¼˜åŒ–ã€‚
  æ‰€è°“ok-idiomæ¨¡å¼ï¼Œå°±æ˜¯åœ¨è¿”å›å€¼ä¸­ç”¨ä¸€ä¸ªåä¸ºokçš„å¸ƒå°”å€¼æ¥æ ‡è¯†æ“ä½œæ˜¯å¦æˆåŠŸï¼Œå› ä¸ºå¾ˆå¤šæ“ä½œé»˜è®¤è¿”å›é›¶å€¼ï¼Œæ‰€ä»¥éœ€è¦é¢å¤–è¯´æ˜ã€‚
m := make(map[string]int) m[&amp;#34;a&amp;#34;]=1 z,ok:=m[&amp;#34;b&amp;#34;] fmt.Println(z,ok)   å¯ä»¥ä¸ºä»»æ„ç±»å‹å®šä¹‰æ–¹æ³•:
type X int func (x * X) inc() { *x&#43;&#43; }    å­—ç¬¦ä¸² å­—ç¬¦ä¸²æ˜¯ç”¨ä¸€å¯¹åŒå¼•å·&amp;quot;&amp;quot;æˆ–è€…åå¼•å·æ‹¬èµ·æ¥å®šä¹‰çš„ï¼Œå‡é‡‡ç”¨UTF-8ç¼–ç ï¼Œå¹¶ä¸”æ˜¯ä¸å¯å˜çš„ã€‚
  å­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªä¸å¯å˜(byteï¼‰å­—èŠ‚åºåˆ—ï¼Œæœ¬èº«æ˜¯ä¸€ä¸ªå¤åˆåºåˆ—ã€‚å¤´éƒ¨æŒ‡é’ˆæŒ‡å‘å­—èŠ‚æ•°ç»„ï¼Œä½†æ²¡æœ‰nullptrç»“å°¾ï¼Œé»˜è®¤ä»¥UTF-8å­˜å‚¨å­—ç¬¦ï¼Œå­—é¢é‡é‡Œå…è®¸16è¿›åˆ¶ï¼Œ8è¿›åˆ¶ä»¥åŠUTFç¼–ç ã€‚
type stringStruct struct{ //å­—ç¬¦ä¸²çš„åº•å±‚ç»“æ„  str unsafe.Pointer len int }   å­—ç¬¦ä¸²çš„é»˜è®¤å€¼æ˜¯&amp;quot;&amp;quot;è€Œä¸æ˜¯ nilã€‚
  ä½¿ç”¨$`$å®šä¹‰ä¸åšè½¬ä¹‰å¤„ç†çš„åŸå§‹å­—ç¬¦ä¸², å¹¶ä¸”æ”¯æŒè·¨è¡Œã€‚
s := `line\r\n, //`å¼€å§‹å®šä¹‰ä¸åšè½¬ä¹‰çš„å­—ç¬¦ä¸² line 2` fmt.Println(s)   æ”¯æŒ==ã€!=ã€&amp;lt;ã€&amp;gt;ã€&#43;ã€&#43;= æ“ä½œç¬¦ï¼Œä½¿ç”¨åŠ æ³•æ“ä½œç¬¦è·¨è¡Œæ—¶ï¼ŒåŠ æ³•æ“ä½œç¬¦å¿…é¡»æ¥åœ¨ä¸Šä¸€è¡Œçš„ç»“å°¾ã€‚
sï¼š=&amp;#34;ab&amp;#34;&#43; &amp;#34;cd&amp;#34; fmt.Println(s==&amp;#34;abcd&amp;#34;, s &amp;gt; &amp;#34;abc&amp;#34;) //true true   å…è®¸ä»¥ç´¢å¼•å·è®¿é—®å­—èŠ‚æ•°ç»„ï¼ˆéå­—ç¬¦ï¼‰ï¼Œä½†ä¸èƒ½è·å–å…ƒç´ åœ°å€ï¼Œå› ä¸ºå­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„ã€‚
sï¼š=&amp;#34;hello&amp;#34; fmt.Println(s[0]) //ä½†æ˜¯ä¸å¯ä»¥ä½¿ç”¨ &amp;amp;s[0]   ä»¥åˆ‡ç‰‡è¯­æ³•ï¼ˆèµ·å§‹å’Œç»“æŸç´¢å¼•å·ï¼‰è¿”å›å­ä¸²æ—¶ï¼Œå…¶å†…éƒ¨ä¾æ—§æŒ‡å‘åŸå­—èŠ‚æ•°ç»„ã€‚
s := &amp;#34;abcdefg&amp;#34; s1 := s[:3] //abcï¼Œå‰é—­åå¼€ s2:=s[1:4] //bcd s3:=s[2:] //cdefg  fmt.Println(s1,s2,s3) fmt.Printf(&amp;#34;%#v\n&amp;#34;,(*reflect.StringHeader)(unsafe.Pointer(&amp;amp;s))) //&amp;amp;reflect.StringHeader{Data:0x10b4007, Len:7} fmt.Printf(&amp;#34;%#v\n&amp;#34;,(*reflect.StringHeader)(unsafe.Pointer(&amp;amp;s1)))//&amp;amp;reflect.StringHeader{Data:0x10b4007, Len:3}   ä½¿ç”¨foréå†å­—ç¬¦ä¸²æ—¶ï¼Œåˆ†ä¸ºbyte å’Œ runeä¸¤ç§æ–¹å¼ã€‚å› ä¸ºå­—ç¬¦ä¸²æ˜¯UTF-8ç¼–ç çš„ï¼Œè€ŒUTF-8æ˜¯å˜é•¿ç¼–ç ï¼Œå› æ­¤ä¸éš¾ç†è§£ä¼šæœ‰è¿™ä¸¤ç§å½¢å¼ã€‚
s := &amp;#34;å‰æ—&amp;#34; for i:=0;i&amp;lt;len(s) ;i&#43;&#43; { //byteå½¢å¼  fmt.Printf(&amp;#34;%d:[%c]\n&amp;#34;,i,s[i]) //0:[Ã¥]1:[Â]2:[Â‰]3:[Ã¦]4:[Â]5:[Â—] } for i,c:=range s { //runeå½¢å¼  fmt.Printf(&amp;#34;%d:[%c]\n&amp;#34;,i,c) //0:[å‰]3:[æ—]  }   è¦ä¿®æ”¹å­—ç¬¦ä¸²ï¼Œå¿…é¡»å°†å…¶è½¬æ¢ä¸ºå¯å˜ç±»å‹[]byte æˆ–[]rune,å¾…å®Œæˆåå†è½¬æ¢å›æ¥ï¼Œä½†æ˜¯ä¸ç®¡å¦‚ä½•è½¬æ¢ï¼Œéƒ½å¿…é¡»é‡æ–°åˆ†é…å†…å­˜ï¼Œå¹¶å¤åˆ¶æ•°æ®ã€‚
  ä½¿ç”¨åŠ æ³•æ“ä½œç¬¦æ‹¼æ¥å­—ç¬¦ä¸²æ—¶ï¼Œæ¯æ¬¡éƒ½å¿…é¡»é‡æ–°åˆ†é…å†…å­˜ï¼Œå› ä¸ºå­—ç¬¦ä¸²æ˜¯ä¸å˜çš„ã€‚
  å­—ç¬¦ä¸²æ“ä½œé€šå¸¸åœ¨å †ä¸Šåˆ†é…å†…å­˜ï¼Œè¿™ä¼šå¯¹Webé«˜å¹¶å‘åº”ç”¨é€ æˆè¾ƒå¤§å½±å“ï¼Œä¼šæœ‰å¤§é‡å­—ç¬¦ä¸²å¯¹è±¡è¦åšåƒåœ¾å›æ”¶ï¼Œå»ºè®®ä½¿ç”¨[]byteç¼“å­˜æ± ã€‚
  ä½¿ç”¨å•å¼•å·çš„å­—é¢é‡ï¼Œå…¶é»˜è®¤æ˜¯runeï¼ˆä¸“é—¨ç”¨æ¥å­˜å‚¨unicodeç ç‚¹ï¼Œå®ƒæ˜¯uint32çš„åˆ«åï¼‰ã€‚
  ä¸èƒ½ä½¿ç”¨ç´¢å¼•çš„æ–¹å¼ä¿®æ”¹å­—ç¬¦ä¸²çš„å€¼ï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨ä½¿ç”¨èµ‹å€¼çš„æ–¹å¼ä¿®æ”¹æ•´ä¸ªå­—ç¬¦ä¸²çš„å€¼ï¼Œç±»æ¯”ä¸C&#43;&#43;ä¸­å­—ç¬¦æŒ‡é’ˆæŒ‡å‘å­—ç¬¦ä¸²å¸¸é‡æ—¶ï¼Œä¸èƒ½ä»¥ç´¢å¼•çš„å½¢å¼ä¿®æ”¹å•ä¸ªå­—ç¬¦ï¼Œä½†æ˜¯èƒ½å¤Ÿæ”¹å˜å­—ç¬¦æŒ‡é’ˆçš„æŒ‡å‘ã€‚
s := &amp;#34;abcdef&amp;#34; fmt.Println(s,&amp;amp;s) //abcdef 0xc42000e3c0 s =&amp;#34;hello&amp;#34; //é‡æ–°æŒ‡å‘ fmt.Println(s,&amp;amp;s) //hello 0xc42000e3c0 s[1]=&amp;#39;c&amp;#39; //è¿™æ˜¯é”™è¯¯çš„,å› ä¸ºå­—ç¬¦ä¸²çš„å†…éƒ¨æŒ‡é’ˆæŒ‡å‘çš„æ˜¯ä¸å¯å˜å­—èŠ‚ï¼Œä¸èƒ½è·å–åœ°å€    æ•°ç»„   å®šä¹‰æ•°ç»„æ—¶ï¼Œæ•°ç»„é•¿åº¦å¿…é¡»æ˜¯éè´Ÿæ•´å‹å¸¸é‡è¡¨è¾¾å¼ï¼Œé•¿åº¦æ˜¯ç±»å‹çš„ç»„æˆéƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯è¯´å…ƒç´ ç±»å‹ç›¸åŒï¼Œä½†é•¿åº¦ä¸åŒçš„æ•°ç»„ä¸å±äºåŒä¸€ç±»å‹ã€‚
var d1 [3] int var d2 [4] int d1 = d2 // d1 å’Œ d2 ä¸å±äºåŒä¸€ç±»å‹ï¼Œä¸èƒ½èµ‹å€¼ï¼Œä¸èƒ½æ¯”è¾ƒ   æœªæä¾›åˆå§‹åŒ–å€¼çš„å…ƒç´ è‡ªåŠ¨åˆå§‹åŒ–ä¸ºç±»å‹é›¶å€¼ï¼ˆä¸åŒç±»å‹çš„é›¶å€¼ä¸ä¸€æ ·çš„ï¼‰ã€‚
var d1 [3] int var d2 [4] int d3 := [5]int{2,3,4} fmt.Println(d1,d2,d3) //[0 0 0] [0 0 0 0] [2 3 4 0 0]   æ•°ç»„åˆå§‹åŒ–æ—¶ï¼Œå¯æŒ‡å®šä½ç½®è¿›è¡Œåˆå§‹åŒ–ã€‚
d4 := [4]int{5,3:10} //[5 0 0 10]   ç¼–è¯‘å™¨å¯ä»¥æŒ‰ç…§åˆå§‹åŒ–å€¼çš„æ•°é‡ç¡®å®šæ•°ç»„é•¿åº¦ã€‚å…¶ä¸­å£°æ˜æ—¶çš„...ä¸€å®šä¸å¯ä»¥è¢«çœç•¥ã€‚
d5 := [...]int{34,8,9} //é•¿åº¦ä¸º3 d6 := [...]int{5,3:10} //é•¿åº¦ä¸º4ï¼Œå†…å®¹ä¸º[5 0 0 10]   åœ¨å®šä¹‰å¤šç»´æ•°ç»„æ—¶ï¼Œä»…ç¬¬ä¸€ç»´å¯ä»¥å…è®¸ä½¿ç”¨...ï¼Œå³çœç•¥ç¬¬1ç»´çš„é•¿åº¦ã€‚
  å†…ç½®å‡½æ•°lenå’Œcapå¯ä»¥è¿”å›æ•°ç»„çš„ç¬¬ä¸€ç»´é•¿åº¦ã€‚
d7 :=[3][4]int {{2},{3}} fmt.Println(len(d7),cap(d7)) //3,3   å¦‚å…ƒç´ æ”¯æŒ==ï¼Œï¼= ç­‰æ“ä½œç¬¦ï¼Œé‚£ä¹ˆæ•°ç»„ä¹Ÿæ”¯æŒè¯¥æ“ä½œï¼Œè¿™ä¸Cå’ŒC&#43;&#43;æœ‰å¾ˆå¤§çš„åŒºåˆ«ã€‚
var d1 [4] int var d2 [4] int d3 := [4]int{2,3,4} d4 := [4]int{5,3:10} fmt.Println(d1==d2,d3==d4) //true false   åˆ†æ¸…æŒ‡é’ˆæ•°ç»„å’Œæ•°ç»„æŒ‡é’ˆï¼Œè¿™ä¸ªæ¦‚å¿µå’ŒCä¸C&#43;&#43;æ˜¯ä¸€æ ·çš„ã€‚
d11,d12:=20,10 d13:=[]*int{&amp;amp;d11,&amp;amp;d12} //æŒ‡é’ˆæ•°ç»„ d14:=&amp;amp;d13 //æ•°ç»„æŒ‡é’ˆ fmt.Println(d13,d14) //[0xc420072250 0xc420072258] &amp;amp;[0xc420072250 0xc420072258]   å¯ä»¥è·å–ä»»æ„å…ƒç´ çš„åœ°å€ï¼›è€Œå¯¹äºå­—ç¬¦ä¸²æ¥è¯´ï¼Œæ˜¯ä¸å¯ä»¥è·å–å•ä¸ªå­—ç¬¦çš„åœ°å€ã€‚
d4 := [4]int{5,3:10} fmt.Println(&amp;amp;d4,&amp;amp;d4[0],&amp;amp;d4[3])//&amp;amp;[5 0 0 10] 0xc4200680e0 0xc4200680f8   æ•°ç»„çš„èµ‹å€¼å’Œä¼ å‚éƒ½ä¼šå¤åˆ¶æ•´ä¸ªæ•°ç»„ï¼Œä¸ºäº†é¿å…æ•°æ®å¤åˆ¶ï¼Œå¯ä»¥æ”¹ç”¨æŒ‡é’ˆæˆ–åˆ‡ç‰‡ã€‚
   åˆ‡ç‰‡ åˆ‡ç‰‡æœ¬èº«å¹¶éåŠ¨æ€æ•°ç»„æˆ–æ•°ç»„æŒ‡é’ˆï¼Œå®ƒé€šè¿‡å†…éƒ¨æŒ‡é’ˆå¼•ç”¨åº•å±‚æ•°ç»„ï¼Œè®¾å®šç›¸å…³å±æ€§ï¼Œå°†æ•°æ®è¯»å†™æ“ä½œé™å®šåˆ°æŒ‡å®šåŒºåŸŸã€‚
type slice struct{ array unsafe.Pointer // æŒ‡å‘æ•°ç»„ä¸­sliceä¸­æŒ‡å®šçš„å¼€å§‹ä½ç½®  len int // slice çš„é•¿åº¦  cap int //æœ€å¤§é•¿åº¦ï¼Œå°±æ˜¯sliceå¼€å§‹ä½ç½®åˆ°æ•°ç»„çš„æœ€åä½ç½®çš„é•¿åº¦ } åˆ‡ç‰‡å¯ä»¥ä»ä¸€ä¸ªæ•°ç»„æˆ–ä¸€ä¸ªå·²ç»å­˜åœ¨çš„çš„åˆ‡ç‰‡ä¸­å†æ¬¡å£°æ˜ã€‚åˆ‡ç‰‡é€šè¿‡ array[i:j] æ¥è·å–ï¼Œè¡¨ç¤ºçš„åŒºé—´æ˜¯[i,j)å³å‰é—­åå¼€åŒºé—´ï¼Œé•¿åº¦ä¸ºj-iã€‚
var arr =[10]byte{&amp;#39;a&amp;#39;,&amp;#39;b&amp;#39;,&amp;#39;c&amp;#39;,&amp;#39;d&amp;#39;} //array å£°æ˜é•¿åº¦ var a,b[] byte //sliceï¼Œæ–¹æ‹¬å·é‡Œä¸å£°æ˜é•¿åº¦  a = arr[1:3] b = arr[2:4] fmt.Println(a,b) //[98 99] [99 100] åˆ‡ç‰‡æ˜¯å¼•ç”¨ç±»å‹ï¼Œæ‰€ä»¥å½“æŒ‡å‘ç›¸åŒçš„åº•å±‚ç»“æ„çš„åˆ‡ç‰‡æ”¹å˜å…ƒç´ çš„å€¼æ—¶ï¼Œå…¶ä»–æ‰€æœ‰å¼•ç”¨è¯¥åº•å±‚æ•°ç»„çš„åˆ‡ç‰‡éƒ½ä¼šæ”¹å˜è¯¥å€¼ã€‚
var arr =[10]byte{81,82,83,84,85,86} //array  var a,b,c [] byte //slice  a = arr[1:3] b = arr[2:4] fmt.Println(a,b) //[98 99] [99 100]  c = a[0:2] fmt.Println(c) //[82,83]  a = arr[1:5] fmt.Println(a,c) //[82 83 84 85] [82 83] å‡½æ•°appendå‘sliceé‡Œé¢è¿½åŠ ä¸€ä¸ªæˆ–è€…å¤šä¸ªå…ƒç´ ï¼Œç„¶åè¿”å›ä¸€ä¸ªå’Œ sliceä¸€æ ·ç±»å‹çš„sliceã€‚å¹¶ä¸”ä¼šæ”¹å˜sliceæ‰€å¼•ç”¨çš„æ•°ç»„çš„å†…å®¹ï¼Œä»è€Œå½±å“åˆ°å¼•ç”¨åŒä¸€æ•°ç»„çš„å…¶ä»–sliceã€‚
 å­—å…¸ mapæ˜¯å¼•ç”¨ç±»å‹ï¼Œåº”è¯¥ä½¿ç”¨makeæ¥åˆ†é…ç©ºé—´ã€‚åœ¨å£°æ˜çš„æ—¶å€™ä¸éœ€è¦çŸ¥é“mapçš„é•¿åº¦ï¼Œå› ä¸ºmapæ˜¯åŠ¨æ€å¢é•¿çš„ã€‚
æœªåˆå§‹åŒ–çš„mapçš„å€¼æ˜¯nil,æ­¤æ—¶ä¸èƒ½å¯¹nilå­—å…¸è¿›è¡Œå†™æ“ä½œï¼Œä½†æ˜¯å¯ä»¥è¿›è¡Œè¯»æ“ä½œã€‚
  keyå¯ä»¥æ˜¯ä»»æ„ä½¿ç”¨==æˆ–è€…!=æ“ä½œç¬¦æ¯”è¾ƒçš„ç±»å‹ï¼Œæ‰€ä»¥åˆ‡ç‰‡ä¸èƒ½ä½œä¸ºkey(åªåŒ…å«å†…å»ºç±»å‹çš„structå¯ä»¥ä½œä¸ºkeyï¼Œå³ä¸åŒ…å«åˆ‡ç‰‡çš„æ•°ç»„)ï¼ŒæŒ‡é’ˆå’Œæ¥å£ç±»å‹éƒ½å¯ä»¥ä½œä¸ºkeyã€‚
  valueå¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼Œé€šè¿‡ç©ºæ¥å£å¯ä»¥å­˜å‚¨ä»»æ„ç±»å‹çš„å€¼ï¼Œmapä¹Ÿå¯ä»¥ä½¿ç”¨å‡½æ•°ä½œä¸ºè‡ªå·±çš„å€¼ã€‚
  å­—å…¸mapæ˜¯æ— åºçš„ï¼ˆå› ä¸ºkeyæ˜¯æ— åºçš„ï¼Œå¯¼è‡´valueä¹Ÿæ˜¯æ— åºçš„ï¼‰ï¼Œæ‰€ä»¥æ¯æ¬¡æ‰“å°å‡ºæ¥çš„ç»“æœéƒ½ä¼šä¸ä¸€æ ·ã€‚
  valueä¸èƒ½é€šè¿‡ä¸‹æ ‡è·å–ï¼Œåªèƒ½é€šè¿‡keyè·å–ï¼Œæ­¤æ—¶çš„ç´¢å¼•æ˜¯keyè€Œä¸æ˜¯ä¸‹æ ‡ã€‚
  mapçš„é•¿åº¦å¯ä»¥åŠ¨æ€å¢é•¿ï¼Œå½“mapå¢åŠ åˆ°å®¹é‡ä¸Šé™çš„æ—¶å€™ï¼Œå¦‚æœå†å¢åŠ æ–°çš„Key-valueå¯¹ï¼Œmapçš„å¤§å°ä¼šè‡ªåŠ¨åŠ 1ã€‚å‡ºäºæ€§èƒ½è€ƒè™‘ï¼Œå¯¹äºå¤§çš„mapæˆ–è€…ä¼šå¿«é€Ÿæ‰©å¼ çš„mapï¼Œå³ä½¿åªæ˜¯å¤§æ¦‚çŸ¥é“å®¹é‡ï¼Œä¹Ÿæœ€å¥½é¢„å…ˆæ ‡æ˜å®¹é‡ã€‚
  å†…ç½®çš„lenå‡½æ•°è¿”å›keyçš„æ•°é‡ï¼Œä¸æ”¯æŒcapï¼›è€Œæ•°ç»„å’Œåˆ‡ç‰‡ä¸­éƒ½å¯ä»¥ä½¿ç”¨lenå’Œcapå‡½æ•°ã€‚
  mapçš„åˆå§‹åŒ–å¯ä»¥é€šè¿‡key:valçš„æ–¹å¼åˆå§‹åŒ–ï¼š
rating :=map[string]float32{&amp;#34;C&amp;#34;:5,&amp;#34;Go&amp;#34;:1.83} fmt.Println(rating) //map[C:5 Go:1.83]   mapæ˜¯ä¸€ç§å¼•ç”¨ç±»å‹ï¼Œå¦‚æœä¸¤ä¸ªmapåŒæ—¶æŒ‡å‘åŒä¸€ä¸ªåº•å±‚ï¼Œé‚£ä¹ˆä¸€ä¸ªæ”¹å˜ï¼Œå¦ä¸€ä¸ªä¹Ÿæ”¹å˜ï¼š
m := make(map[string]string) m [&amp;#34;Hello&amp;#34;] = &amp;#34;hello&amp;#34; m1 := m m1[&amp;#34;Hello&amp;#34;] = &amp;#34;world&amp;#34; fmt.Println(m,m1) //map[Hello:world] map[Hello:world]   è®¿é—®ä¸å­˜åœ¨çš„é”®å€¼ï¼Œé»˜è®¤è¿”å›çš„æ˜¯valueçš„ç±»å‹é›¶å€¼ï¼Œä¸ä¼šå¼•å‘é”™è¯¯ï¼Œå› æ­¤æ¨èä½¿ç”¨ok-idiomæ¨¡å¼ï¼Œç¡®å®šæ˜¯å¦æ­£ç¡®è¿”å›ã€‚
m := make(map[string]bool) m[&amp;#34;chen&amp;#34;] = true fmt.Println(m[&amp;#34;xiao&amp;#34;]) //false   å½“valueæ˜¯æ•°ç»„æˆ–è€…ç»“æ„ä½“æˆå‘˜æ—¶ï¼Œä¸èƒ½ç›´æ¥ä¿®æ”¹valueæˆå‘˜ï¼Œæ­£ç¡®çš„åšæ³•æ˜¯è¿”å›æ•´ä¸ªvalueï¼Œå¾…ä¿®æ”¹åå†è®¾ç½®å­—å…¸é”®å€¼ï¼Œæˆ–ç›´æ¥ç”¨æŒ‡é’ˆç±»å‹ã€‚
  ä¸èƒ½å¯¹nilå­—å…¸è¿›è¡Œå†™æ“ä½œï¼Œä½†å´èƒ½è¯»ã€‚
var m map[string] int println(m[&amp;#34;a&amp;#34;]) m[&amp;#34;a&amp;#34;]=1 //é”™è¯¯   å†…å®¹ä¸ºç©ºçš„å­—å…¸ä¸nilæ˜¯ä¸åŒçš„ï¼Œå†…å®¹ä¸ºç©ºçš„å­—å…¸æ˜¯å¯ä»¥å†™çš„ï¼Œè€Œnilå­—å…¸ä¸å¯ä»¥å†™ã€‚
var m1 map[string]int m2 := map[string]int{} println(m1==nil,m2==nil)//true false   åœ¨è¿­ä»£æœŸé—´åˆ é™¤æˆ–è€…æ–°å¢é”®å€¼æ˜¯å®‰å…¨çš„ã€‚
  è¿è¡Œæ—¶ä¼šå¯¹å­—å…¸å¹¶å‘æ“ä½œä½œå‡ºæ£€æµ‹ï¼Œå¦‚æœæŸä¸ªä»»åŠ¡æ­£åœ¨å¯¹å­—å…¸è¿›è¡Œå†™æ“ä½œï¼Œé‚£ä¹ˆå…¶ä»–ä»»åŠ¡å°±ä¸èƒ½å¯¹è¯¥å­—å…¸è¿›è¡Œå¹¶å‘æ“ä½œï¼ˆè¯»ï¼Œå†™ï¼Œåˆ é™¤ï¼‰å¦åˆ™ä¼šå¯¼è‡´è¿›ç¨‹å´©æºƒã€‚
  mapé»˜è®¤æ˜¯æ— åºçš„ï¼Œä¸ç®¡æ˜¯æŒ‰ç…§keyè¿˜æ˜¯æŒ‰ç…§valueé»˜è®¤éƒ½ä¸æ’åºï¼Œå¦‚æœæƒ³è¦ä¸ºmapæ’åºï¼Œå¿…é¡»å°†keyæ‹·è´åˆ°ä¸€ä¸ªåˆ‡ç‰‡ï¼Œå†å¯¹åˆ‡ç‰‡è¿›è¡Œæ’åºï¼Œç„¶åä½¿ç”¨åˆ‡ç‰‡çš„for-rangeçš„æ–¹æ³•æ‰“å°å‡ºæ‰€æœ‰çš„keyå’Œvalueã€‚
   </content>
    </entry>
    
     <entry>
        <title>Go å‡½æ•°</title>
        <url>https://iihui.github.io/post/go-func/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>Go</tag>
        </tags>
        <content type="html"> Goä¸­æœ‰3ç§ç±»å‹çš„å‡½æ•°ï¼Œç¬¬ä¸€ç§æ˜¯æ™®é€šå¸¦åå­—çš„å‡½æ•°ï¼Œç¬¬äºŒç§æ˜¯åŒ¿åå‡½æ•°(æˆ–è€…è¢«ç§°ä¸ºlambdaå‡½æ•°)ï¼Œç¬¬ä¸‰ç§æ˜¯æ–¹æ³•ï¼ˆå«æœ‰æ¥æ”¶è€…çš„ç‰¹æ®Šå‡½æ•°ï¼‰ã€‚
ç‰¹ç‚¹ åœ¨Goä¸­å…³é”®å­—funcç”¨äºå®šä¹‰å‡½æ•°ï¼Œç›¸æ¯”äºå…¶ä»–è¯­è¨€ï¼ŒGoä¸­å‡½æ•°æœ‰ä»¥ä¸‹çš„ç‰¹ç‚¹ï¼š
  å‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘ï¼Œå³å¯ä½œä¸ºå‚æ•°æˆ–è€…è¿”å›å€¼ï¼Œå¯ä»¥å­˜å…¥å˜é‡ï¼Œä¸å˜é‡çš„åœ°ä½æ˜¯ç­‰åŒçš„ã€‚
  å‡½æ•°å¯å®šä¹‰å¤šä¸ªè¿”å›å€¼ï¼Œä¹Ÿå¯ä»¥å¯¹è¿”å›å€¼å‘½åã€‚
  Go ä¸­å‡½æ•°æ— éœ€å‰ç½®è¯´æ˜ï¼Œå³å¯ä»¥å…ˆä½¿ç”¨åå®šä¹‰ã€‚
  Goä¸­å‡½æ•°ä¸æ”¯æŒåŒåé‡è½½ï¼Œä¸»è¦æ˜¯å› ä¸ºå‡½æ•°é‡è½½éœ€è¦åŒ¹é…å¤šä½™çš„ç±»å‹è€Œå½±å“æ€§èƒ½ã€‚å› æ­¤ï¼Œå¯¹äºå‚æ•°ç±»å‹ä¸åŒçš„åŠŸèƒ½ç›¸ä¼¼çš„å‡½æ•°è¦å–ä¸åŒçš„åå­—ã€‚
  Goä¸­ä¸æ”¯æŒé»˜è®¤å‚æ•°ã€‚
  Goå‡½æ•°ä¸­ä¸æ”¯æŒå‘½ååµŒå¥—å®šä¹‰(nested)â€”â€”å³åœ¨å‡½æ•°ä¸­å†å®šä¹‰æœ‰åå‡½æ•°ï¼Œä½†åœ¨å‡½æ•°ä¸­ä½¿å¯ä»¥å®šä¹‰åŒ¿åå‡½æ•°ï¼Œè€Œä¸”å¯ä»¥å°†åŒ¿åå‡½æ•°èµ‹å€¼ç»™å˜é‡ï¼Œç„¶åä½¿ç”¨è¯¥å˜é‡æ¥è°ƒç”¨ç›¸åº”çš„å‡½æ•°ã€‚
  Goä¸­å‡½æ•°æ”¯æŒä¸å®šé•¿å‚æ•°ï¼Œä½†æ˜¯å¿…é¡»æ”¾åœ¨æœ«å°¾ã€‚
  Goä¸­æ”¯æŒåŒ¿åå‡½æ•°å’Œé—­åŒ…ã€‚
  å‡½æ•°ä¸­çš„å·¦èŠ±æ‹¬å·ä¸å¯ä»¥å¦èµ·ä¸€è¡Œã€‚
   å®šä¹‰ æ¯ä¸ªæ™®é€šå‡½æ•°çš„å£°æ˜éƒ½åŒ…å«ä¸€ä¸ªåå­—ï¼Œä¸€ä¸ªå½¢å‚åˆ—è¡¨ï¼Œä¸€ä¸ªå¯é€‰çš„è¿”å›åˆ—è¡¨ä»¥åŠå‡½æ•°ä½“ã€‚
func name(parameter-list)(result-list){ body } å‡½æ•°çš„ç±»å‹ç§°ä¹‹ä¸ºå‡½æ•°ç­¾åã€‚å½“ä¸¤ä¸ªå‡½æ•°æ‹¥æœ‰ç›¸åŒçš„å½¢å‚åˆ—è¡¨å’Œè¿”å›å€¼åˆ—è¡¨æ—¶ï¼Œè®¤ä¸ºä¸¤ä¸ªå‡½æ•°çš„ç±»å‹æˆ–ç­¾åæ˜¯ç›¸åŒçš„ã€‚ä¸‹é¢å››ç§æ–¹å¼å£°æ˜ä¸€ä¸ªå«æœ‰ä¸¤ä¸ªå½¢å‚å’Œä¸€ä¸ªè¿”å›å€¼çš„å‡½æ•°ï¼š
func add(x int, y int)int{ return x&#43;y} func sub(x,y int)(z int) { z=x-y; return } func first(x int, _ int) int {return x} func zero(int, int) int {return 0} å‡½æ•°å½¢å‚ä»¥åŠå‘½åè¿”å›å€¼éƒ½å±äºå‡½æ•°æœ€å¤–å±‚ä½œç”¨åŸŸçš„å±€éƒ¨å˜é‡ï¼›å®å‚æ˜¯æŒ‰å€¼ä¼ é€’çš„ï¼Œæ‰€ä»¥å‡½æ•°æ¥æ”¶åˆ°çš„æ˜¯æ¯ä¸ªå®å‚çš„å‰¯æœ¬ï¼Œä¿®æ”¹å‡½æ•°çš„å½¢å‚å¹¶ä¸ä¼šå½±å“åˆ°è°ƒç”¨è€…æä¾›çš„å®å‚ã€‚ä½†æ˜¯ï¼Œå¦‚æœæä¾›çš„å®å‚åŒ…å«å¼•ç”¨ç±»å‹ï¼Œä¾‹å¦‚æŒ‡é’ˆï¼Œsliceï¼Œmapã€å‡½æ•°æˆ–è€…é€šé“ï¼Œé‚£ä¹ˆå½“å‡½æ•°ä½¿ç”¨å½¢å‚å˜é‡æ—¶å°±ä¼šå¯èƒ½é—´æ¥åœ°ä¿®æ”¹å®å‚å˜é‡ã€‚
å‡½æ•°åªèƒ½åˆ¤æ–­æ˜¯å¦ä¸ºnilï¼Œä¸æ”¯æŒå…¶ä»–æ¯”è¾ƒæ“ä½œå¯ä»¥è®¤ä¸ºå‡½æ•°æ˜¯ä¸€ç§å¼•ç”¨ç±»å‹ã€‚
func A() {} func B() {} func main() { fmt.Println(hellolib.A == nil) //å¯ä»¥æ¯”è¾ƒï¼Œç»“æœä¸ºfalse } ä»å‡½æ•°è¿”å›å±€éƒ¨å˜é‡æŒ‡é’ˆæ˜¯å®‰å…¨çš„ï¼Œç¼–è¯‘å™¨ä¼šé€šè¿‡é€ƒé€¸åˆ†æ(escape analysisï¼‰å¯¹å‡½æ•°ä¸­çš„æŒ‡é’ˆè¿›è¡Œæ‰«æï¼ŒæŸ¥çœ‹å®ƒçš„ä½œç”¨åŸŸæ˜¯å¦åœ¨å‡½æ•°å†…ï¼Œæ¥å†³å®šæ˜¯å¦åœ¨å †ä¸Šåˆ†é…å†…å­˜ã€‚
func LocalPtr() *int { x := 0x100 return &amp;amp;x } fmt.Println(hellolib.LocalPtr()) //å˜æˆäº†å †å†…å­˜,0xc42007a078  å‚æ•°ä¸è¿”å›å€¼ å‚æ•°   ä¸æ”¯æŒæœ‰é»˜è®¤å€¼çš„å‚æ•°ã€‚
  ä¸æ”¯æŒå‘½åå®å‚è°ƒç”¨ï¼ˆå³æ ¹æ®å‚æ•°çš„åå­—æ‰“ä¹±é¡ºåºè°ƒç”¨ï¼ŒRè¯­è¨€æ”¯æŒè¿™ç§æ–¹å¼ï¼‰ã€‚
  è°ƒç”¨æ—¶å¿…é¡»æŒ‰ç…§ç­¾åé¡ºåºä¼ é€’æŒ‡å®šç±»å‹å’Œæ•°é‡çš„å®å‚ï¼Œå°±ç®—ä»¥_å‘½åçš„å‚æ•°ä¹Ÿä¸èƒ½è¢«å¿½ç•¥ã€‚
  åœ¨å‚æ•°åˆ—è¡¨ä¸­ï¼Œç›¸é‚»çš„åŒç±»å‹å‚æ•°å¯åˆå¹¶ï¼Œè¿™æ ·å†™æ›´æ–¹ä¾¿ä¸€ç‚¹ï¼š
func f(a, b int) { fmt.Println(&amp;#34;Test&amp;#34;) }   å‚æ•°å¯è§†ä½œå±€éƒ¨å˜é‡ï¼Œå› æ­¤ä¸èƒ½åœ¨ç›¸åŒå±‚æ¬¡å®šä¹‰åŒåå˜é‡ã€‚
  ä¸ç®¡æ˜¯æŒ‡é’ˆï¼Œå¼•ç”¨ç±»å‹è¿˜æ˜¯å…¶ä»–ç±»å‹å‚æ•°ï¼Œéƒ½æ˜¯å€¼æ‹·è´ï¼ŒåŒºåˆ«åœ¨äºæ˜¯æ‹·è´ç›®æ ‡å¯¹è±¡è¿˜æ˜¯æ‹·è´æŒ‡é’ˆã€‚
  åœ¨å‡½æ•°è°ƒç”¨å‰ï¼Œä¼šä¸ºå½¢å‚å’Œè¿”å›å€¼åˆ†é…å†…å­˜ç©ºé—´ï¼Œå¹¶å°†å®å‚æ‹·è´åˆ°å½¢å‚å†…å­˜ä¸­ã€‚
  å˜å‚ï¼ˆä¸å®šé•¿ï¼‰æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªåˆ‡ç‰‡ï¼Œåªèƒ½æ¥æ”¶0åˆ°å¤šä¸ªåŒç±»å‹å‚æ•°ï¼Œä¸”å¿…é¡»æ”¾åˆ°åˆ—è¡¨å°¾éƒ¨ã€‚å˜å‚çš„é•¿åº¦å¯ä»¥ä¸º0ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸ä¼ å…¥å‚æ•°ã€‚
func tt1(a ...int) { fmt.Println(a) } func main() { tt1() //å¯ä»¥ä¸å¸¦å‚æ•°è°ƒç”¨ }   å¦‚æœä¸å®šé•¿å‚æ•°çš„å€¼éƒ½å­˜å‚¨åœ¨åˆ‡ç‰‡ä¸­ï¼ˆä¸èƒ½æ˜¯æ•°ç»„ï¼Œå¦‚æœæ˜¯æ•°ç»„å¿…é¡»å…ˆè½¬ä¸ºåˆ‡ç‰‡ï¼‰ï¼Œåˆ™ä½¿ç”¨slice...ï¼ˆ3ä¸ªç‚¹ä¸èƒ½å°‘ï¼‰çš„æ–¹å¼è¿›è¡Œå±•å¼€ï¼Œä»¥ä¼ é€’å‚æ•°ã€‚
  ä¸å®šé•¿å‚æ•°å¯ä»¥ä½œä¸ºå¯¹åº”ç±»å‹çš„åˆ‡ç‰‡ï¼ˆä¸åšä»»ä½•ä¿®æ”¹ï¼‰è¿›è¡ŒäºŒæ¬¡ä¼ é€’ï¼Œè€Œåè¿‡æ¥ä¸è¡Œï¼Œå¦‚ä¸Šä¸€æ¡æ‰€ç¤ºï¼Œå¿…é¡»åœ¨åˆ‡ç‰‡åé¢åŠ ...æ‰èƒ½ä¼ é€’ç»™ä¸å®šé•¿çš„å‚æ•°ã€‚
  å¦‚æœæƒ³ä¼ é€’ç±»å‹ä¸åŒçš„å˜é•¿å‚æ•°ï¼Œä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ç»“æ„ä½“ï¼Œä¸€ç§æ–¹å¼ä½¿ç”¨ç©ºæ¥å£ã€‚
  åœ¨å‡½æ•°è°ƒç”¨ä¸­ï¼Œåˆ‡ç‰‡ã€å­—å…¸ã€é€šé“ä»¥åŠæ¥å£éƒ½æ˜¯æŒ‰å¼•ç”¨ç±»å‹ä¼ é€’ã€‚
   è¿”å›å€¼ æœ‰è¿”å›å€¼çš„å‡½æ•°ï¼Œå¿…é¡»æœ‰æ˜ç¡®çš„returnç»ˆæ­¢è¯­å¥ã€‚é™¤éæœ‰panicæˆ–è€…æ— breakçš„æ­»å¾ªç¯ï¼Œæ‰å¯ä»¥æ²¡æœ‰returnè¯­å¥ã€‚
func TestReturn(x int) int { for { break } } å‘½åè¿”å›å€¼å’Œå‚æ•°ä¸€æ ·ï¼Œå¯å½“ä½œå‡½æ•°å±€éƒ¨å˜é‡ä½¿ç”¨ï¼Œæœ€åç”±returnéšå¼è¿”å›ã€‚ä½†æ˜¯ï¼Œè¿™äº›ç‰¹æ®Šçš„â€œå±€éƒ¨å˜é‡â€å¯èƒ½ä¼šè¢«ä¸åŒå±‚çº§çš„åŒåå˜é‡é®è”½ï¼Œæ­¤æ—¶éœ€è¦æ˜¾å¼returnè¿”å›ã€‚
func Add(x, y int) (z int) { { z := x &#43; y //é‡æ–°å®šä¹‰æ–°çš„å˜é‡ 	return z //å› ä¸ºæœ‰é®è”½ä½œç”¨ï¼Œæ‰€æœ‰ä¸å¯ä»¥ç›´æ¥ä½¿ç”¨éšå¼returnï¼Œè€Œéœ€è¦æ˜¾å¼çš„è¿”å›ä¸€ä¸ªå€¼ï¼Œè¿™ç›¸å½“äºå°†æ–°çš„zèµ‹å€¼ç»™æ—§çš„z 	} return }  åŒ¿åå‡½æ•° åŒ¿åå‡½æ•°å¦‚å…¶åå­—ä¸€æ ·ï¼Œè¡¨ç¤ºæ²¡æœ‰åå­—çš„å‡½æ•°ã€‚åœ¨å®šä¹‰åŒ¿åå‡½æ•°æ—¶ï¼Œå‚æ•°åˆ—è¡¨çš„ç¬¬ä¸€å¯¹æ‹¬å·å¿…é¡»ç´§æŒ¨ç€å…³é”®å­—funcï¼Œå› ä¸ºåŒ¿åå‡½æ•°æ²¡æœ‰åå­—ï¼ŒèŠ±æ‹¬å·{}æ¶µç›–ç€å‡½æ•°ä½“ï¼Œæ‰€ä»¥æœ€åçš„ä¸€å¯¹åœ†æ‹¬å·()è¡¨ç¤ºå¯¹è¯¥åŒ¿åå‡½æ•°çš„è°ƒç”¨ã€‚
å¯ä»¥åœ¨å‡½æ•°å†…éƒ¨å®šä¹‰åŒ¿åå‡½æ•°ï¼Œå½¢æˆç±»ä¼¼åµŒå¥—çš„æ•ˆæœï¼Œâ‘ åŒ¿åå‡½æ•°å¯ä»¥ç›´æ¥è°ƒç”¨;â‘¡æˆ–è€…ä¿å­˜åˆ°å˜é‡ï¼Œä½œä¸ºå‚æ•°æˆ–è¿”å›å€¼ã€‚func main() { func() { //åŒ¿åå‡½æ•°å¼€å§‹ 	sum = 0.0 for i := 1; i &amp;lt;= 1e6; i&#43;&#43; { sum &#43;= i } }() //è¡¨ç¤ºè°ƒç”¨ } å°†åŒ¿åå‡½æ•°èµ‹å€¼ç»™å˜é‡ï¼Œä¸ä¸ºæ™®é€šå‡½æ•°æä¾›åå­—æ ‡è¯†ç¬¦æœ‰ç€æœ¬è´¨åŒºåˆ«ï¼Œç¼–è¯‘å™¨ä¼šä¸ºåŒ¿åå‡½æ•°ç”Ÿæˆä¸€ä¸ªéšæœºç¬¦å·åã€‚
add := func(x, y int) int { return x &#43; y } println(add(23, 34)) åŒ¿åå‡½æ•°å¯ä»¥ä½œä¸ºå‚æ•°ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼Œç›¸å½“äºç»™åŒ¿åå‡½æ•°å–äº†ä¸€ä¸ªåå­—ã€‚
func add(f func()) { f() } func main() { add(func() { println(&amp;#34;hello,world!&amp;#34;) }) } åœ¨Goä¸­ä¸ä½¿ç”¨çš„åŒ¿åå‡½æ•°ä¼šè¢«ç¼–è¯‘å™¨å½“ä½œé”™è¯¯ã€‚
åœ¨Goä¸­æ™®é€šå‡½æ•°å’ŒåŒ¿åå‡½æ•°éƒ½å¯ä½œä¸ºç»“æ„ä½“å­—æ®µï¼Œæˆ–ç»é€šé“ä¼ é€’ï¼Œå› ä¸ºå‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘ã€‚
 é—­åŒ… åŒ¿åå‡½æ•°åŒæ ·è¢«ç§°ä¹‹ä¸ºé—­åŒ…ï¼ˆå‡½æ•°å¼ç¼–ç¨‹è¯­è¨€çš„æœ¯è¯­ï¼‰ï¼šå®ƒä»¬è¢«å…è®¸è°ƒç”¨å®šä¹‰åœ¨å…¶å®ƒç¯å¢ƒä¸‹çš„å˜é‡ã€‚é—­åŒ…å¯ä½¿å¾—æŸä¸ªå‡½æ•°æ•æ‰åˆ°ä¸€äº›å¤–éƒ¨çŠ¶æ€ï¼Œä¾‹å¦‚ï¼šå‡½æ•°è¢«åˆ›å»ºæ—¶çš„çŠ¶æ€ã€‚å¦ä¸€ç§è¡¨ç¤ºæ–¹å¼ä¸ºï¼šä¸€ä¸ªé—­åŒ…ç»§æ‰¿äº†å‡½æ•°æ‰€å£°æ˜æ—¶çš„ä½œç”¨åŸŸã€‚è¿™ç§çŠ¶æ€ï¼ˆä½œç”¨åŸŸå†…çš„å˜é‡ï¼‰éƒ½è¢«å…±äº«åˆ°é—­åŒ…çš„ç¯å¢ƒä¸­ï¼Œå› æ­¤è¿™äº›å˜é‡å¯ä»¥åœ¨é—­åŒ…ä¸­è¢«æ“ä½œï¼Œç›´åˆ°è¢«é”€æ¯ã€‚
åœ¨Goä¸­é—­åŒ…å‡½æ•°ä¿å­˜å¹¶ç§¯ç´¯å…¶ä¸­çš„å˜é‡çš„å€¼ï¼Œä¸ç®¡å¤–éƒ¨å‡½æ•°é€€å‡ºä¸å¦ï¼Œå®ƒéƒ½èƒ½å¤Ÿç»§ç»­æ“ä½œå¤–éƒ¨å‡½æ•°ä¸­çš„å±€éƒ¨å˜é‡ã€‚
func main() { var f = Adder() fmt.Print(f(1), &amp;#34; - &amp;#34;) fmt.Print(f(20), &amp;#34; - &amp;#34;) fmt.Print(f(300)) //è¾“å‡ºç»“æœä¸ºï¼š1-21-321 } func Adder() func(int) int { var x int return func(delta int) int { x &#43;= delta return x } } åœ¨é—­åŒ…ä¸­ä½¿ç”¨åˆ°çš„å˜é‡å¯ä»¥æ˜¯åœ¨é—­åŒ…å‡½æ•°ä½“å†…å£°æ˜çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯åœ¨å¤–éƒ¨å‡½æ•°å£°æ˜çš„ï¼š
var g int go func(i int) { s := 0 for j := 0; j &amp;lt; i; j&#43;&#43; { s &#43;= j } g = s }(1000) // Passes argument 1000 to the function literal. ä¸€ä¸ªè¿”å›å€¼ä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„å‡½æ•°å¯ä»¥è¢«ç§°ä¹‹ä¸ºå·¥å‚å‡½æ•°ï¼Œè¿™åœ¨éœ€è¦åˆ›å»ºä¸€ç³»åˆ—ç›¸ä¼¼çš„å‡½æ•°çš„æ—¶å€™éå¸¸æœ‰ç”¨ï¼šä¹¦å†™ä¸€ä¸ªå·¥å‚å‡½æ•°è€Œä¸æ˜¯é’ˆå¯¹æ¯ç§æƒ…å†µéƒ½ä¹¦å†™ä¸€ä¸ªå‡½æ•°ã€‚
å¯ä»¥è¿”å›å…¶å®ƒå‡½æ•°çš„å‡½æ•°å’Œæ¥å—å…¶å®ƒå‡½æ•°ä½œä¸ºå‚æ•°çš„å‡½æ•°å‡è¢«ç§°ä¹‹ä¸ºé«˜é˜¶å‡½æ•°ï¼Œæ˜¯å‡½æ•°å¼è¯­è¨€çš„ç‰¹ç‚¹ã€‚
é—­åŒ…åªæ˜¯åœ¨å½¢å¼å’Œè¡¨ç°ä¸Šåƒå‡½æ•°ï¼Œä½†å®é™…ä¸Šä¸æ˜¯å‡½æ•°ã€‚å‡½æ•°æ˜¯ä¸€äº›å¯æ‰§è¡Œçš„ä»£ç ï¼Œè¿™äº›ä»£ç åœ¨å‡½æ•°è¢«å®šä¹‰åå°±ç¡®å®šäº†ï¼Œä¸ä¼šåœ¨æ‰§è¡Œæ—¶å‘ç”Ÿå˜åŒ–ï¼Œæ‰€ä»¥ä¸€ä¸ªå‡½æ•°åªæœ‰ä¸€ä¸ªå®ä¾‹ã€‚
é—­åŒ…åœ¨è¿è¡Œæ—¶å¯ä»¥æœ‰å¤šä¸ªå®ä¾‹ï¼Œä¸åŒçš„å¼•ç”¨ç¯å¢ƒå’Œç›¸åŒçš„å‡½æ•°ç»„åˆå¯ä»¥äº§ç”Ÿä¸åŒçš„å®ä¾‹ã€‚
æ‰€è°“å¼•ç”¨ç¯å¢ƒæ˜¯æŒ‡åœ¨ç¨‹åºæ‰§è¡Œä¸­çš„æŸä¸ªç‚¹æ‰€æœ‰å¤„äºæ´»è·ƒçŠ¶æ€çš„çº¦æŸæ‰€ç»„æˆçš„é›†åˆã€‚å…¶ä¸­çš„çº¦æŸæ˜¯æŒ‡ä¸€ä¸ªå˜é‡çš„åå­—å’Œå…¶æ‰€ä»£è¡¨çš„å¯¹è±¡ä¹‹é—´çš„è”ç³»ã€‚
é‚£ä¹ˆä¸ºä»€ä¹ˆè¦æŠŠå¼•ç”¨ç¯å¢ƒä¸å‡½æ•°ç»„åˆèµ·æ¥å‘¢ï¼Ÿè¿™ä¸»è¦æ˜¯å› ä¸ºåœ¨æ”¯æŒåµŒå¥—ä½œç”¨åŸŸçš„è¯­è¨€ä¸­ï¼Œæœ‰æ—¶ä¸èƒ½ç®€å•ç›´æ¥åœ°ç¡®å®šå‡½æ•°çš„å¼•ç”¨ç¯å¢ƒã€‚è¿™æ ·çš„è¯­è¨€ä¸€èˆ¬å…·æœ‰è¿™æ ·çš„ç‰¹æ€§ï¼š
  å‡½æ•°æ˜¯ä¸€é˜¶å€¼ï¼ˆFirst-class valueï¼‰ï¼Œå³å‡½æ•°å¯ä»¥ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼æˆ–å‚æ•°ï¼Œè¿˜å¯ä»¥ä½œä¸ºä¸€ä¸ªå˜é‡çš„å€¼ã€‚
  å‡½æ•°å¯ä»¥åµŒå¥—å®šä¹‰ï¼Œå³åœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨å¯ä»¥å®šä¹‰å¦ä¸€ä¸ªå‡½æ•°ã€‚
   å»¶è¿Ÿè°ƒç”¨ è¯­å¥deferå‘å½“å‰å‡½æ•°æ³¨å†Œç¨åæ‰§è¡Œå‡½æ•°è°ƒç”¨ï¼Œè¿™äº›è°ƒç”¨è¢«ç§°ä¸ºå»¶è¿Ÿè°ƒç”¨ï¼Œå› ä¸ºå®ƒä»¬ç›´åˆ°å‡½æ•°æ‰§è¡Œç»“æŸå‰æ‰è¢«æ‰§è¡Œã€Œé‡åˆ°returnæˆ–è€…panicä¹Ÿä¼šè§¦å‘å»¶è¿Ÿè°ƒç”¨ã€ã€‚å»¶è¿Ÿè°ƒç”¨å¸¸ç”¨äºèµ„æºçš„é‡Šæ”¾ï¼Œè§£é™¤é”å®šï¼Œä»¥åŠé”™è¯¯å¤„ç†ç­‰æ“ä½œã€‚
  å»¶è¿Ÿè°ƒç”¨æ³¨å†Œæ—¶ï¼Œå¿…é¡»æä¾›æ‰§è¡Œæ‰€éœ€å‚æ•°(å“ªæ€•ä¸ºç©º),å‚æ•°å€¼åœ¨æ³¨å†Œæ—¶è¢«æ‹·è´ç¼“å­˜èµ·æ¥ã€‚
  å¤šä¸ªå»¶è¿Ÿæ³¨å†ŒæŒ‰ç…§FILO(åè¿›å…ˆå‡º)æ¬¡åºæ‰§è¡Œã€‚
  ç¼–è¯‘å™¨é€šè¿‡æ’å…¥é¢å¤–æŒ‡ä»¤æ¥å®ç°å»¶è¿Ÿè°ƒç”¨æ‰§è¡Œï¼Œè€Œreturnå’Œpanicè¯­å¥ä¼šç»ˆæ­¢å½“å‰å‡½æ•°æµç¨‹ï¼Œå¼•å‘å»¶è¿Ÿè°ƒç”¨ã€‚
  åœ¨Goä¸­ï¼Œreturnè¯­å¥ä¸æ˜¯retæ±‡ç¼–æŒ‡ä»¤ï¼Œå®ƒä¼šå…ˆæ›´æ–°è¿”å›å€¼ã€‚å³Goä¸­å‡½æ•°çš„return valueä¸æ˜¯åŸå­æ“ä½œï¼Œè€Œæ˜¯åœ¨ç¼–è¯‘å™¨ä¸­åˆ†è§£ä¸ºä¸¤éƒ¨åˆ†ï¼šè¿”å›å€¼èµ‹å€¼ å’Œ returnã€‚è€Œdeferåˆšå¥½è¢«æ’å…¥åˆ°æœ«å°¾çš„returnå‰æ‰§è¡Œã€‚
func TestDefer() (z int) { defer func() { fmt.Println(&amp;#34;defer&amp;#34;, z) //100 	z &#43;= 100 }() return 100 //å…ˆå°†100èµ‹å€¼ç»™zï¼Œç„¶åæ‰§è¡Œdeferå‡½æ•°ï¼Œæœ€åè¿”å›200 } ç›¸æ¯”äºç›´æ¥ä½¿ç”¨CALLæŒ‡ä»¤è°ƒç”¨å‡½æ•°ï¼Œå»¶è¿Ÿè°ƒç”¨åˆ™èŠ±è´¹æ›´å¤§ä»£ä»·ï¼ŒåŒ…æ‹¬æ³¨å†Œã€è°ƒç”¨ç­‰æ“ä½œï¼Œè¿˜æœ‰é¢å¤–çš„ç¼“å­˜å¼€é”€ã€‚
var m sync.Mutex func call() { m.Lock() m.Unlock() } func deferCall() { m.Lock() defer m.Unlock() } func BenchmarkCall(b *testing.B) { for i := 0; i &amp;lt; b.N; i&#43;&#43; { call() } } func BenchmarkDefer(b *testing.B) { for i := 0; i &amp;lt; b.N; i&#43;&#43; { deferCall() } }  error æ ‡å‡†åº“å°† errorå®šä¹‰ä¸ºæ¥å£ç±»å‹ï¼Œä»¥ä¾¿å®ç°è‡ªå®šä¹‰é”™è¯¯ç±»å‹ã€‚
type error inferface{ Error() string //åªè¦å®ç°äº†è¯¥æ–¹æ³•ï¼Œå°±è®¤ä¸ºæ˜¯è‡ªå®šä¹‰çš„æ¥å£ç±»å‹  } æŒ‰ç…§æƒ¯ä¾‹erroræ€»æ˜¯æœ€åä¸€ä¸ªè¿”å›å‚æ•°ï¼Œæ ‡å‡†åº“æä¾›äº†ç›¸å…³åˆ›å»ºå‡½æ•°ï¼Œå¯æ–¹ä¾¿åœ°åˆ›å»ºåŒ…å«ç®€å•é”™è¯¯æ–‡æœ¬çš„errorå¯¹è±¡
var errDivByZero = errors.New(&amp;#34;division by zero&amp;#34;) func div(x,y int)(int, error){ if y ==0{ return 0,errDivByZero } return x/y,nil } func TestDiv(){ z,err:= div(5,0) if err == errDivByZero{ log.Fatalln(err) } fmt.Println(z) } å¦‚æœè¦è‡ªå®šä¹‰é”™è¯¯ç±»å‹ï¼Œåˆ™åªè¦å®ç°Erroræ–¹æ³•å°±å¯ä»¥type DivError struct { x,y int } func(DivError) Error() string{ return &amp;#34;division by zero&amp;#34; } func div1(x,y int)(int,error){ if y==0 { return 0,DivError{x,y} } return x/y,nil } é€šå¸¸å»ºè®®åº”è¯¥é€šè¿‡é”™è¯¯å˜é‡ï¼Œè€Œéé”™è¯¯æ–‡æœ¬å†…å®¹æ¥åˆ¤å®šé”™è¯¯ç±»å‹ã€‚
 panicå’Œrecover ä¸errorç›¸æ¯”ï¼Œpanic/recoveråœ¨ä½¿ç”¨ä¸Šæ›´æ¥è¿‘try/catchã€‚å®ƒä»¬æ˜¯å†…ç½®å‡½æ•°è€Œéè¯­å¥ã€‚panicä¼šç«‹å³ä¸­æ–­å½“å‰å‡½æ•°æµç¨‹ï¼Œæ‰§è¡Œå»¶è¿Ÿè°ƒç”¨ã€‚è€Œåœ¨å»¶è¿Ÿè°ƒç”¨å‡½æ•°ä¸­ï¼Œrecoverå¯æ•è·å¹¶è¿”å›panicæäº¤çš„é”™è¯¯å¯¹è±¡ã€‚
func panic(v interface{}) func recover() interface{} func TestPanic(){ defer func(){ if err:=recover();err !=nil{ log.Fatalln(err) } }() panic(&amp;#34;I am dead&amp;#34;) println(&amp;#34;exit&amp;#34;) //ä¸ä¼šè¢«æ‰§è¡Œ }   è¿ç»­è°ƒç”¨panicï¼Œä»…æœ€åä¸€ä¸ªpanicä¼šè¢«recoveræ•è·
  åœ¨å»¶è¿Ÿå‡½æ•°è°ƒç”¨panicï¼Œä¸ä¼šå½±å“åç»­å»¶è¿Ÿè°ƒç”¨æ‰§è¡Œï¼Œè€Œrecoverä¹‹åpanicï¼Œå¯è¢«å†æ¬¡æ•è·ã€‚
  recoverå¿…é¡»åœ¨å»¶è¿Ÿè°ƒç”¨å‡½æ•°ä¸­æ‰§è¡Œæ‰èƒ½æ­£å¸¸å·¥ä½œã€‚
  é™¤éæ˜¯ä¸å¯æ¢å¤æ€§ï¼Œå¯¼è‡´ç³»ç»Ÿæ— æ³•æ­£å¸¸å·¥ä½œé”™è¯¯ï¼Œå¦åˆ™ä¸å»ºè®®ä½¿ç”¨panicã€‚
  è°ƒè¯•é˜¶æ®µï¼Œå¯ä½¿ç”¨runtime/debug.PrintStackå‡½æ•°è¾“å‡ºå®Œæ•´è°ƒç”¨å †æ ˆä¿¡æ¯ã€‚
   </content>
    </entry>
    
     <entry>
        <title>Go è¡¨è¾¾å¼</title>
        <url>https://iihui.github.io/post/go-expression/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>Go</tag>
        </tags>
        <content type="html"> è¿ç®—ç¬¦ åœ¨Goä¸­ï¼Œä¸€å…ƒè¿ç®—ç¬¦ä¼˜å…ˆçº§æœ€é«˜ï¼ŒäºŒå…ƒåˆ™åˆ†ä¸º5ä¸ªçº§åˆ«ï¼ŒäºŒå…ƒè¿ç®—ç¬¦éµå¾ªç›¸åŒä¼˜å…ˆçº§ä»å·¦åˆ°å³ä¾æ¬¡è®¡ç®—ï¼ŒäºŒå…ƒè¿ç®—ç¬¦ä»é«˜åˆ°ä½çš„5ä¸ªç­‰çº§ä¸ºï¼š
* / % &amp;lt;&amp;lt; &amp;gt;&amp;gt; &amp;amp; &amp;amp;^
&#43; - | ^
== != &amp;lt; &amp;lt;= &amp;gt; &amp;gt;=
&amp;amp;&amp;amp;
||
äºŒå…ƒè¿ç®—ç¬¦ä¸­é™¤äº†ç§»ä½æ“ä½œå¤–ï¼Œæ“ä½œæ•°ç±»å‹å¿…é¡»ç›¸åŒã€‚å¦‚æœå…¶ä¸­ä¸€ä¸ªæ˜¯æ— æ˜¾å¼ç±»å‹å£°æ˜çš„å¸¸é‡ï¼ˆè¯¥å¸¸é‡å£°æ˜æ—¶ï¼Œæ²¡æœ‰ç»™å‡ºç±»å‹ï¼‰ï¼Œé‚£ä¹ˆè¯¥å¸¸é‡æ“ä½œæ•°ä¼šè‡ªåŠ¨è½¬å‹ã€‚
åœ¨Goä¸­ï¼Œä½ç§»å³æ“ä½œæ•°å¿…é¡»æ˜¯æ— ç¬¦å·æ•´æ•°ï¼Œæˆ–å¯ä»¥è½¬æ¢çš„æ— æ˜¾å¼ç±»å‹å¸¸é‡ï¼ˆç”¨æ•´æ•°å­—é¢å€¼æ¥å®šä¹‰å¸¸é‡æ—¶ï¼ŒæœªæŒ‡å®šå¸¸é‡çš„ç±»å‹ï¼‰ã€‚
b := 23 x := 1 &amp;lt;&amp;lt; b // é”™è¯¯ï¼Œbçš„ç±»å‹æ˜¯intï¼Œä½¿ç”¨ç®€çŸ­æ¨¡å¼å£°æ˜çš„æ˜¯å˜é‡ è‡ªå¢ä¸è‡ªå‡ã€Œåªæœ‰åç½®&#43;&#43;ä¸åç½®--ã€ä¸å†æ˜¯è¿ç®—ç¬¦ï¼Œåªèƒ½ä½œä¸ºç‹¬ç«‹è¯­å¥ï¼Œä¸èƒ½ç”¨äºè¡¨è¾¾å¼,ä¹Ÿå°±æ˜¯ä¸èƒ½ä½œä¸ºifä¸­çš„conditionï¼Œè¿™ä¸å…¶ä»–è¯­è¨€æœ‰å¾ˆå¤§çš„åŒºåˆ«ã€‚
a := 1 //&#43;&#43;a //é”™è¯¯ï¼Œåªæœ‰åç½®&#43;&#43;ä¸--  if a&#43;&#43; &amp;gt; 1{ //âŒï¼Œä¸èƒ½ä½œä¸ºè¡¨è¾¾å¼ } p := &amp;amp;a *p&#43;&#43; //ä¼˜å…ˆçº§ä¸€æ ·ç­‰ä»·äº(*p)&#43;&#43;  æŒ‡é’ˆç±»å‹ æŒ‡é’ˆç±»å‹æ”¯æŒç›¸ç­‰è¿ç®—ç¬¦ï¼Œä½†ä¸æ”¯æŒåšåŠ å‡è¿ç®—å’Œç±»å‹è½¬æ¢ã€‚
æŒ‡é’ˆæ²¡æœ‰ä¸“é—¨æŒ‡å‘æˆå‘˜çš„-&amp;gt; è¿ç®—ç¬¦ï¼Œç»Ÿä¸€ä½¿ç”¨.æ¥é€‰æ‹©è¡¨è¾¾å¼ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨åšè½¬æ¢ã€‚
é›¶é•¿åº¦å¯¹è±¡çš„åœ°å€æ˜¯å¦ç›¸ç­‰å’Œå…·ä½“çš„å®ç°ç‰ˆæœ¬æœ‰å…³ï¼Œä½†æ˜¯ç»å¯¹ä¸ç­‰äºnilã€‚
var a, b struct{} print(&amp;amp;a, &amp;amp;b) //xc420039f56 0xc420039f56 fmt.Println(&amp;amp;a == &amp;amp;b, &amp;amp;a == nil) //true false  å¤åˆç±»å‹åˆå§‹åŒ– å¯¹å¤åˆç±»å‹ï¼ˆæ•°ç»„ã€åˆ‡ç‰‡ã€å­—å…¸ã€ç»“æ„ä½“ï¼‰å˜é‡åˆå§‹åŒ–æ—¶ï¼Œè¦éµå¾ªå¦‚ä¸‹åŸåˆ™
  åˆå§‹åŒ–è¡¨è¾¾å¼å¿…é¡»åŒ…å«ç±»å‹æ ‡ç­¾ã€‚
  å·¦èŠ±æ‹¬å·å¿…é¡»åœ¨ç±»å‹å°¾éƒ¨ï¼Œä¸èƒ½å¦èµ·ä¸€è¡Œã€‚
  å¤šä¸ªæˆå‘˜åˆå§‹å€¼ä»¥é€—å·åˆ†éš”ã€‚
  å…è®¸å¤šè¡Œï¼Œä½†æ¯è¡Œé¡»ä»¥é€—å·æˆ–è€…å³èŠ±æ‹¬å·ç»“æŸã€‚
   æµæ§åˆ¶ Goè¯­è¨€ä¸­ä»…æ”¯æŒä¸‰ç§æ§åˆ¶è¯­å¥ï¼Œåˆ†åˆ«æ˜¯ifã€switchã€forã€‚ä¸åŒäºå…¶ä»–è¯­è¨€ï¼Œè¿™3ç§æ§åˆ¶è¯­å¥ä¸­å‡å¯ä»¥æœ‰é¢„å¤„ç†è¯­å¥ã€Œå¤§å¤šæ•°æƒ…å†µä¸‹æ˜¯å˜é‡å®šä¹‰ã€ã€‚
if è¯­å¥ ifæ¡ä»¶è¡¨è¾¾å¼å¯ä»¥çœç•¥æ‹¬å·ã€Œæ¨èçš„åšæ³•ã€ï¼›å¹¶ä¸”æ¡ä»¶è¡¨è¾¾å¼çš„å€¼å¿…é¡»æ˜¯å¸ƒå°”ç±»å‹ï¼›å…¶ä¸­å·¦æ‹¬å·ä¸èƒ½å¦èµ·ä¸€è¡Œã€‚x := 3 if x &amp;gt; 3 { fmt.Println(&amp;#34;A&amp;#34;) } else if x &amp;lt; 3 &amp;amp;&amp;amp; x &amp;gt; 0 { fmt.Println(&amp;#34;B&amp;#34;) } else { fmt.Println(&amp;#34;C&amp;#34;) } ifä¸­çš„æ¡ä»¶åˆ¤æ–­è¯­å¥ä¹‹å‰ï¼šâ‘ å…è®¸å£°æ˜ä¸€ä¸ªå˜é‡ï¼›â‘¡æ‰§è¡Œå‡½æ•°è°ƒç”¨ã€‚åœ¨é¢„å¤„ç†è¯­å¥å’Œæ¡ä»¶è¯­å¥é—´ï¼Œå®ƒä»¬ä½¿ç”¨åˆ†å·åˆ†éš”ã€‚å¦‚æœæ˜¯å˜é‡å®šä¹‰çš„è¯ï¼Œè¿™ä¸ªå˜é‡çš„ä½œç”¨åŸŸåªèƒ½åœ¨è¯¥æ¡ä»¶é€»è¾‘å—ä¸­ï¼Œæ—¢åŒ…æ‹¬ifåˆåŒ…æ‹¬elseã€‚
if a,b := x&#43;1,x&#43;10; a&amp;lt;b{ fmt.Println(a,b) }else { fmt.Println(&amp;#34;Test&amp;#34;) } if InitIF(); x &amp;lt; 10{ fmt.Println(&amp;#34;initif&amp;#34;) } func InitIF(){ fmt.Println(&amp;#34;Init&amp;#34;) }  switchè¯­å¥ ä¸€ä¸ªcaseä¸­å¯ä»¥æœ‰å¤šä¸ªåŒ¹é…æ¡ä»¶ï¼Œæ­¤æ—¶åªè¦åŒ¹é…å…¶ä¸­ä¸€ä¸ªå°±å¯ä»¥äº†ã€‚å¯¹äºcaseæ˜¯å¸¸é‡çš„æƒ…å†µï¼Œä¸èƒ½æœ‰é‡å¤çš„æƒ…å†µï¼š
a, b, c, x := 1, 2, 3, 2 switch x { case a, b: fmt.Println(&amp;#34;a|b&amp;#34;) case c: fmt.Println(&amp;#34;c&amp;#34;) case 4: fmt.Println(&amp;#34;d&amp;#34;) default: fmt.Println(&amp;#34;z&amp;#34;) } switchä¸­çš„æ¡ä»¶è¡¨è¾¾å¼æ”¯æŒéå¸¸é‡å€¼ï¼Œè¿™æ¯”Cå’ŒC&#43;&#43;æ›´çµæ´»
switchæ”¯æŒåˆå§‹åŒ–è¯­å¥ï¼ŒæŒ‰ä»ä¸Šå¾€ä¸‹åŒ¹é…ï¼Œåªæœ‰å…¨éƒ¨åŒ¹é…å¤±è´¥æ—¶æ‰æ‰§è¡Œdefaultå—,ä¸ä¼šå› ä¸ºdefaultè¯­å¥åœ¨å‰é¢å°±å…ˆåŒ¹é…defaultå—ã€‚è€ƒè™‘åˆ°defaultçš„ä½œç”¨ç›¸å½“äºelseï¼Œæ‰€ä»¥å»ºè®®å°†å…¶æ”¾åˆ°æœ«å°¾ã€‚
switch y := 5; y { default: y &#43;= 100 fmt.Println(y) case 5: y &#43;= 50 fmt.Println(y) } //55 ä¸èƒ½å‡ºç°é‡å¤çš„caseå¸¸é‡å€¼ï¼›ç›¸é‚»çš„ç©ºcaseä¸æ„æˆå¤šæ¡ä»¶åŒ¹é…ã€Œè¿™ä¸ªä¸Cå’ŒC&#43;&#43;æœ‰æ˜æ˜¾çš„åŒºåˆ«ã€
æ— éœ€æ˜¾å¼æ‰§è¡Œbreakè¯­å¥ï¼Œcaseæ‰§è¡Œå®Œæ¯•åè‡ªåŠ¨ä¸­æ–­ã€‚
å¦‚éœ€è´¯é€šåç»­case ï¼ˆæŒ‰ç…§æºç é¡ºåº) å¿…é¡»æ‰§è¡Œfallthrough,ä½†ä¸å†åŒ¹é…åç»­æ¡ä»¶è¡¨è¾¾å¼ï¼Œè€Œä¸”fallthroughå¿…é¡»æ”¾åœ¨caseå—æœ«å°¾ï¼Œå¯ä½¿ç”¨breakè¯­å¥é˜»æ­¢ã€‚switch z := 20; z { default: fmt.Println(&amp;#34;default&amp;#34;) case 20: z &#43;= 10 fmt.Println(z) fallthrough //å¿…é¡»æ˜¯caseè¯­å¥å—çš„æœ€åä¸€æ¡è¯­å¥ case 21: z &#43;= 88 fmt.Println(z) } // 30 118  switch z := 20; z { case 20: z &#43;= 10 fmt.Println(z) fallthrough //å¿…é¡»æ˜¯caseè¯­å¥å—çš„æœ€åä¸€æ¡è¯­å¥ case 21: z &#43;= 88 fmt.Println(z) default: fmt.Println(&amp;#34;default&amp;#34;) } // ç»“æœä»ç„¶æ˜¯30 118 å…¶ä¸­defaultè¯­å¥ä¸ä¼šæ‰§è¡Œ è¢«çœç•¥æ¡ä»¶è¡¨è¾¾å¼çš„switchï¼Œå…¶è¡¨è¾¾å¼çš„é»˜è®¤å€¼ä¸ºtrueã€‚è¿™ç§æƒ…å†µï¼Œå¯ä»¥ç”¨æ¥æ›¿æ¢ifè¯­å¥
switch z1 := 5; { case z1 &amp;gt; 5: fmt.Println(&amp;#34;z1&amp;gt;5&amp;#34;) case z1 &amp;gt; 0 &amp;amp;&amp;amp; z1 &amp;lt;= 5: fmt.Println(&amp;#34;z1&amp;gt;0 &amp;amp;&amp;amp; z1&amp;lt;=5&amp;#34;) case z1 &amp;lt;= 0: fmt.Println(&amp;#34;z1&amp;lt;=&amp;#34;) default: fmt.Println(&amp;#34;Test&amp;#34;) } //z1&amp;gt;0 &amp;amp;&amp;amp; z1&amp;lt;=5  forè¯­å¥ forè¯­å¥ï¼ŒåŒ…æ‹¬ä¸€èˆ¬çš„forè¯­å¥å’Œ for range è¯­å¥ã€‚ä¸€èˆ¬çš„forè¯­å¥åŒ…æ‹¬3ç§æƒ…å†µï¼šâ‘ æœ‰åˆå§‹åŒ–è¯­å¥å’Œæ¡ä»¶åˆ¤æ–­è¯­å¥çš„ï¼›â‘¡åªæœ‰æ¡ä»¶åˆ¤æ–­è¯­å¥çš„ï¼›â‘¢æ—¢æ²¡æœ‰åˆå§‹åŒ–è¯­å¥ä¹Ÿæ²¡æœ‰æ¡ä»¶åˆ¤æ–­è¯­å¥çš„ã€‚
for i := 1; i &amp;lt; 10; i&#43;&#43; { println(i) } x1 := []int{12, 34, 78, 9, 22, 7, 9} //åˆ‡ç‰‡  for i, n := range x1 { println(i, &amp;#34;:&amp;#34;, n) } for x &amp;lt; 5 { println(x) x&#43;&#43; } for { println(x) x-- if x == 0 { break } } åˆå§‹åŒ–è¡¨è¾¾å¼æ”¯æŒå‡½æ•°è°ƒç”¨æˆ–å®šä¹‰å±€éƒ¨å˜é‡ï¼Œå…¶ä¸­åˆå§‹åŒ–è¯­å¥ä»…è¢«æ‰§è¡Œä¸€æ¬¡ï¼Œæ¡ä»¶è¡¨è¾¾å¼å¦‚æœæœ‰å‡½æ•°è°ƒç”¨ï¼Œé¡»ç¡®è®¤æ˜¯å¦ä¼šè¢«é‡å¤æ‰§è¡Œï¼Œå¯èƒ½ä¼šè¢«ç¼–è¯‘å™¨ä¼˜åŒ–æ‰ï¼Œä¹Ÿå¯èƒ½åŠ¨æ€ç»“æœé¡»æ¯æ¬¡æ‰§è¡Œç¡®è®¤ã€‚
func TestFor() { for i, c := 0, count(); i &amp;lt; c; i&#43;&#43; { println(&amp;#34;a&amp;#34;, i) } c := 0 for c &amp;lt; count() { println(&amp;#34;b&amp;#34;, c) c&#43;&#43; } } func count() int { print(&amp;#34;count.&amp;#34;) return 3 } å¯ç”¨for ...range å®Œæˆæ•°æ®è¿­ä»£ï¼Œæ”¯æŒå­—ç¬¦ä¸²ã€æ•°ç»„ã€æ•°ç»„æŒ‡é’ˆã€åˆ‡ç‰‡ã€å­—å…¸ã€é€šé“ç±»å‹ï¼Œè¿”å›ç´¢å¼•ã€é”®å€¼æ•°æ®ã€‚ rangeç›®æ ‡è¡¨è¾¾å¼æ˜¯å‡½æ•°è°ƒç”¨ï¼Œä¹Ÿä»…è¢«æ‰§è¡Œä¸€æ¬¡ã€‚
data := [3]string{&amp;#34;a&amp;#34;, &amp;#34;b&amp;#34;, &amp;#34;c&amp;#34;} for i, s := range data { println(i, s) } for i := range data { println(i, data[i]) } for _, s := range data { println(s) } for range data { //æ¸…ç©ºdata } fmt.Println(data)  breakä¸continue breakç”¨äºswitchï¼Œforï¼Œselectè¯­å¥ç»ˆæ­¢æ•´ä¸ªè¯­å¥å—æ‰§è¡Œ
continueä»…ç”¨äºforå¾ªç¯ï¼Œç»ˆæ­¢åç»­é€»è¾‘ï¼Œç«‹å³è¿›å…¥ä¸‹ä¸€è½®
é…åˆæ ‡ç­¾ï¼Œbreakå’Œcontinueå¯åœ¨å¤šå±‚åµŒå¥—ä¸­æŒ‡å®šç›®å½•å±‚çº§
outer: for x := 0; x &amp;lt; 10; x&#43;&#43; { for y := 0; y &amp;lt; 10; y&#43;&#43; { if y &amp;gt; 2 { println() continue outer } if x &amp;gt; 2 { break outer } println(x, y) } }  </content>
    </entry>
    
     <entry>
        <title>Go å¸¸é‡</title>
        <url>https://iihui.github.io/post/go-const/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>Go</tag>
        </tags>
        <content type="html">  å¸¸é‡æ˜¯ä¸€ç§è¡¨è¾¾å¼ï¼Œå…¶å¯ä»¥ä¿è¯åœ¨ç¼–è¯‘é˜¶æ®µè®¡ç®—å‡ºè¡¨è¾¾å¼çš„å€¼ï¼Œå¹¶ä¸éœ€è¦ç­‰åˆ°è¿è¡Œæ—¶ï¼Œä»è€Œä½¿ç¼–è¯‘å™¨å¾—ä»¥çŸ¥æ™“å…¶å€¼ã€‚æ‰€æœ‰å¸¸é‡æœ¬è´¨ä¸Šéƒ½å±äºåŸºæœ¬ç±»å‹ï¼šå¸ƒå°”å‹ï¼Œå­—ç¬¦ä¸²æˆ–æ•°å­—ã€‚
 ç‰¹åˆ«è¯´æ˜ Goä¸­å¸¸é‡å¯ä»¥æ˜¯ä»»æ„åŸºæœ¬ç±»å‹ï¼Œä¹ŸåŒ…æ‹¬å…·åçš„åŸºæœ¬ç±»å‹(ä¾‹å¦‚time.Duration)ã€‚ä½†æ˜¯è®¸å¤šå¸¸é‡å¹¶ä¸ä»å±æŸä¸€å…·ä½“ç±»å‹ã€‚ç¼–è¯‘å™¨å°†è¿™äº›ä»å±ç±»å‹å¾…å®šçš„å¸¸é‡è¡¨ç¤ºæˆæŸäº›å€¼ï¼Œè¿™äº›å€¼æ¯”åŸºæœ¬ç±»å‹çš„æ•°å­—ç²¾åº¦æ›´é«˜ï¼Œä¸”ç®—æœ¯ç²¾åº¦é«˜äºåŸç”Ÿçš„æœºå™¨ç²¾åº¦ï¼Œå¯ä»¥è®¤ä¸ºå®ƒä»¬çš„ç²¾åº¦è‡³å°‘è¾¾åˆ°256ä½ã€‚ä»å±ç±»å‹å¾…å®šçš„å¸¸é‡å…±æœ‰6ç§ï¼Œåˆ†åˆ«æ˜¯ï¼šâ‘ æ— ç±»å‹å¸ƒå°”ï¼›â‘¡æ— ç±»å‹æ•´æ•°ï¼›â‘¢æ— ç±»å‹æ–‡å­—ç¬¦å·(ä¾‹å¦‚&#39;a&#39;)ï¼›â‘£æ— ç±»å‹æµ®ç‚¹æ•°ï¼›â‘¤æ— ç±»å‹å¤æ•°ï¼›â‘¥æ— ç±»å‹å­—ç¬¦ä¸²ã€‚
å€ŸåŠ©æ¨è¿Ÿç¡®å®šä»å±ç±»å‹ï¼Œæ— ç±»å‹å¸¸é‡ä¸ä»…èƒ½å¤Ÿæš‚æ—¶ç»´æŒæ›´é«˜çš„ç²¾åº¦ï¼Œä¸ç±»å‹å·²ç¡®å®šçš„å¸¸é‡ç›¸æ¯”ï¼Œè¿˜èƒ½å†™è¿›æ›´å¤šçš„è¡¨è¾¾å¼æ— éœ€ç±»å‹è½¬æ¢ã€‚
åœ¨Goä¸­åªæœ‰å¸¸é‡æ‰å¯ä»¥æ˜¯æ— ç±»å‹çš„ã€‚å¦‚æœå°†æ— ç±»å‹çš„å¸¸é‡å£°æ˜ä¸ºå˜é‡æˆ–è€…åœ¨ç±»å‹æ˜ç¡®çš„å˜é‡èµ‹å€¼çš„å³æ–¹å‡ºç°æ— ç±»å‹çš„å¸¸é‡ï¼Œåˆ™å¸¸é‡ä¼šè¢«éšå¼è½¬æ¢ä¸ºè¯¥å˜é‡çš„ç±»å‹ï¼š
var f float64=3&#43;0i //æ— ç±»å‹å¤æ•°-&amp;gt;float64 f=2 //æ— ç±»å‹æ•´æ•°-&amp;gt;float64 f=1e123 //æ— ç±»å‹æµ®ç‚¹æ•°-&amp;gt;float64 f=&amp;#39;a&amp;#39; //æ— ç±»å‹æ–‡å­—ç¬¦å·-&amp;gt;float64 ä¸è®ºéšå¼è½¬æ¢è¿˜æ˜¯æ˜¾å¼è½¬æ¢ï¼Œå¸¸é‡ä»ä¸€ç§ç±»å‹è½¬æ¢ä¸ºå¦ä¸€ç§ç±»å‹ï¼Œéƒ½è¦æ±‚ç›®æ ‡ç±»å‹èƒ½å¤Ÿè¡¨ç¤ºåŸå€¼ï¼Œå®æ•°å’Œå¤æ•°å…è®¸èˆå…¥å–æ•´ã€‚
const ( x =0xdeadbeef //æ— ç±»å‹æ•´æ•°ï¼Œå€¼ä¸º3735928559  a = uint32(x) //unit32,å€¼ä¸º3735928559æ²¡æœ‰è¶…å‡ºèŒƒå›´  b = float32(x)//float32,å€¼ä¸º3735928559  c = int32(x) //ç¼–è¯‘é”™è¯¯ï¼Œæº¢å‡º  d = float64(1e309) //ç¼–è¯‘é”™è¯¯ï¼Œæº¢å‡º  f = uint(-1) //ç¼–è¯‘é”™è¯¯ï¼Œæº¢å‡ºï¼Œunitæ— æ³•å®¹çº³-1  ) å˜é‡å£°æ˜æ—¶ï¼ˆåŒ…æ‹¬ç®€çŸ­å£°æ˜ï¼‰ä¸­ï¼Œå‡å¦‚æ²¡æœ‰æ˜¾å¼æŒ‡å®šç±»å‹ï¼Œæ— ç±»å‹å¸¸é‡ä¼šéšå¼è½¬æ¢ä¸ºè¯¥å˜é‡çš„é»˜è®¤ç±»å‹ã€‚å¯¹äºboolå‹æ¥è¯´ä¸ºfalseï¼Œå¯¹äºæ•´å‹ã€æµ®ç‚¹ã€å¤æ•°æ¥è¯´ä¸º0ï¼Œå­—ç¬¦ä¸²ä¸ºâ€œâ€ï¼Œå¼•ç”¨ç±»å‹ä¸ºnilï¼Œå¤åˆç±»å‹ä¸ºå…¶åŸºç¡€ç±»å‹çš„é›¶å€¼ã€‚
i:=0 //æ— ç±»å‹æ•´æ•°ï¼Œéšå¼int(0ï¼‰ r:=&amp;#39;\000&amp;#39; //æ— ç±»å‹æ–‡å­—å¸¸é‡ï¼Œéšå¼rune(&amp;#39;\000&amp;#39;)ï¼Œè¿™ä¸ªè¦è®°ä½ f:=0.0 //æ— ç±»å‹æµ®ç‚¹æ•°ï¼Œéšå¼float64(0.0) c:=0i //æ— ç±»å‹æ•´æ•°ï¼Œéšå¼complex128(0i)  æ³¨æ„äº‹é¡¹ å¸¸é‡å¿…é¡»æ˜¯ç¼–è¯‘æœŸå¯ç¡®å®šçš„å­—ç¬¦ã€å­—ç¬¦ä¸²ã€æ•°å­—æˆ–å¸ƒå°”å€¼ã€‚å¯æŒ‡å®šå¸¸é‡ç±»å‹ï¼Œæˆ–ç”±ç¼–è¯‘å™¨é€šè¿‡åˆå§‹åŒ–å€¼æ¨å¯¼ï¼Œä¸æ”¯æŒC/C&#43;&#43;çš„æ•°å­—ç±»å‹åç¼€ã€‚
å®šä¹‰å¸¸é‡çš„æ—¶å€™å¿…é¡»åˆå§‹åŒ–ï¼Œå¦åˆ™ç¼–è¯‘é”™è¯¯ã€‚ä¸åŒäºæœªä½¿ç”¨çš„å±€éƒ¨å˜é‡ï¼Œä¸ä½¿ç”¨çš„å¸¸é‡ä¸ä¼šå¼•èµ·ç¼–è¯‘é”™è¯¯ã€‚const x = 123 fmt.Println(x) const y = 1.23 { const x = &amp;#34;abc&amp;#34; fmt.Println(x) } å¯¹äºå¸¸é‡æ“ä½œæ•°ï¼Œæ‰€æœ‰æ•°å­¦è¿ç®—ã€é€»è¾‘è¿ç®—å’Œæ¯”è¾ƒè¿ç®—çš„ç»“æœä¾ç„¶æ˜¯å¸¸é‡ã€‚å¸¸é‡çš„ç±»å‹è½¬æ¢ç»“æœå’ŒæŸäº›å†…ç½®å‡½æ•°çš„è¿”å›å€¼ï¼Œä¾‹å¦‚len,cap,real,imag,complex,unsafe.SizeofåŒæ ·æ˜¯å¸¸é‡ï¼Œå› æ­¤å¯ä»¥å°†è¿™äº›å‡½æ•°ä½œç”¨äºå¸¸é‡ç”¨äºå¸¸é‡çš„åˆå§‹åŒ–ã€‚
åœ¨å¸¸é‡ç»„ä¸­ï¼Œå¦‚æœä¸æŒ‡å®šç±»å‹å’Œåˆå§‹åŒ–å€¼ï¼Œåˆ™ä¸ä¸Šä¸€è¡Œéç©ºå¸¸é‡å³å€¼ï¼ˆè¡¨è¾¾å¼æ–‡æœ¬ï¼‰ç›¸åŒconst ( x uint16 = 120 y s = &amp;#34;abc&amp;#34; z ) fmt.Println(x, y, s, z) //120,120,abc,abc æ•°å­—å¸¸é‡åœ¨é¢„å¤„ç†é˜¶æ®µç›´æ¥å±•å¼€ï¼Œä½œä¸ºæŒ‡ä»¤æ•°æ®ä½¿ç”¨ï¼Œä¸åˆ†é…å†…å­˜ï¼Œå› æ­¤æ— æ³•è·å–åœ°å€package main const y = 0x200 func main() { println(y) //println(&amp;amp;y) // é”™è¯¯ï¼Œä¸èƒ½è·å–åœ°å€ï¼Œè¿™ä¸C&#43;&#43;æœ‰å¾ˆå¤§çš„åŒºåˆ« } const t = y //åŒæ ·æ— æ³•è·å–tçš„åœ°å€ const x = 100 //xæ²¡æœ‰æ˜ç¡®æŒ‡å®šç±»å‹ï¼Œä¹Ÿå°±æ˜¯å‰é¢è¯´çš„å¾…å®šç±»å‹ const y byte = x //ç›´æ¥å±•å¼€xï¼Œç›¸å½“äºconst y byte = 100 å¦‚æœæ˜¾å¼æŒ‡å®šç±»å‹ï¼Œå¿…é¡»ç¡®å®šå¸¸é‡å·¦å³å€¼ç±»å‹ä¸€è‡´ï¼Œéœ€è¦æ—¶å¯åšæ˜¾å¼è½¬æ¢ï¼Œå³å€¼ä¸èƒ½è¶…å‡ºå¸¸é‡ç±»å‹å–å€¼èŒƒå›´ï¼Œå¦åˆ™ä¼šå¼•èµ·æº¢å‡ºé”™è¯¯ã€‚const ( t1, t2 int = 99, -999 t3 byte = byte(t1) //t1 æŒ‡å®šä¸ºintå‹ï¼Œéœ€æ˜¾å¼è½¬æ¢ä¸ºbyteç±»å‹ï¼Œæ³¨æ„äºä¸Šä¸€ä¸ªä¾‹å­çš„åŒºåˆ« 	//t4 = uint8(t2) // å¸¸é‡-999,è¶…å‡ºäº†unit8çš„èŒƒå›´ï¼Œä¼šæŠ¥æº¢å‡ºé”™è¯¯ ) å¸¸é‡å€¼å¯ä»¥æ˜¯æŸäº›ç¼–è¯‘å™¨èƒ½è®¡ç®—å‡ºç»“æœçš„è¡¨è¾¾å¼ï¼Œå¦‚ unsafe.Sizeofã€lenã€capï¼Œä¸èƒ½æ˜¯è¿è¡Œæ—¶æ‰èƒ½è®¡ç®—å‡ºç»“æœçš„è¡¨è¾¾å¼ã€‚å› æ­¤lenï¼Œcapç­‰å†…ç½®å‡½æ•°ç”¨äºå®šä¹‰å¸¸é‡æ—¶ï¼Œä¸èƒ½ä½œç”¨äºå˜é‡ã€‚
const ( ptrSize = unsafe.Sizeof(uintptr(0)) //8 	strSize = len(&amp;#34;hello world!&amp;#34;) //12 	)  </content>
    </entry>
    
     <entry>
        <title>Go åŸºæœ¬ç±»å‹</title>
        <url>https://iihui.github.io/post/go-type/</url>
        <categories>
          <category>code</category>
        </categories>
        <tags>
          <tag>Go</tag>
        </tags>
        <content type="html"> Goè¯­è¨€ä¸­å®šä¹‰äº†æ¸…æ™°å®Œå¤‡çš„é¢„å®šä¹‰åŸºæœ¬ç±»å‹ï¼ˆå…±21ç±»ï¼‰ï¼Œä½¿å¾—å¼€å‘è·¨å¹³å°åº”ç”¨æ—¶æ— é¡»è¿‡å¤šè€ƒè™‘ç¬¦å·å’Œé•¿åº¦å·®å¼‚ï¼Œå…·ä½“å¦‚ä¸‹è¡¨ï¼š
![c600](http://oqe76o492.bkt.clouddn.com/å±å¹•å¿«ç…§ 2017-12-21 ä¸‹åˆ2.36.532.jpg)
 æ•´å‹æ•°æ®   åè¿›åˆ¶æ•´æ•°ï¼Œä½¿ç”¨0-9çš„æ•°å­—è¡¨ç¤ºä¸”ä¸ä»¥0å¼€å¤´ã€‚
  å…«è¿›åˆ¶æ•´æ•°ï¼Œä»¥0å¼€å¤´ï¼Œ0-7çš„æ•°å­—è¡¨ç¤ºã€‚
  åå…­è¿›åˆ¶æ•´æ•°ï¼Œä»¥0Xæˆ–è€…æ˜¯0xå¼€å¤´0-9|A-F|a-fç»„æˆã€‚
a,b,c:=100,0144,0x64 fmt.Println(a,b,c) //100 100 100 //æ‰“å°çš„æ—¶å€™é»˜è®¤æ˜¯10è¿›åˆ¶ fmt.Printf(&amp;#34;0b%b, %#o,%#x\n&amp;#34;,a,a,a) //0b1100100, 0144,0x64 //%#bå¯ä»¥æ‰“å°äºŒè¿›åˆ¶ï¼Œä½†æ˜¯ä¸ºäº†åŒºåˆ†åœ¨å‰é¢æ¡ä»¶0b fmt.Printf(&amp;#34;0b%#b,0b%b&amp;#34;,a,a) fmt.Println(math.MinInt8,math.MaxInt8) //-128,127   æ ‡å‡†åº“strconvå¯åœ¨ä¸åŒè¿›åˆ¶ï¼ˆå­—ç¬¦ä¸²ï¼‰é—´è½¬æ¢ã€‚
x,_:=strconv.ParseInt(&amp;#34;1100100&amp;#34;,2,32) //è§£é‡Šç»™å®šå­—ç¬¦ï¼Œ2è¡¨ç¤ºå­—ç¬¦ä¸²æ˜¯çš„åŸºæ•°æ˜¯2ï¼Œå³ä»¥2è¿›åˆ¶è¡¨ç¤ºï¼Œ //32è¡¨ç¤ºç»™å‡ºçš„ç»“æœè‡³å°‘è¦é€‚åº”32ä½ï¼Œè¿”å›å€¼çš„ç±»å‹ä¸ºint64 y,_:=strconv.ParseInt(&amp;#34;0144&amp;#34;,8,32) //å­—ç¬¦ä¸²æ˜¯8è¿›åˆ¶ z,_:=strconv.ParseInt(&amp;#34;64&amp;#34;,16,32) //å­—ç¬¦ä¸²æ˜¯16è¿›åˆ¶  fmt.Println(x,y,z) //100 100 100  fmt.Println(strconv.FormatInt(x,2)) //1100100,è½¬æ¢ä¸º2è¿›åˆ¶è¡¨ç¤º fmt.Println(strconv.FormatInt(x,8)) //0144ï¼Œè½¬æ¢ä¸º8è¿›åˆ¶è¡¨ç¤º fmt.Println(strconv.FormatInt(x,16)) //64ï¼Œè½¬æ¢ä¸º16è¿›åˆ¶è¡¨ç¤º   é»˜è®¤æ•´æ•°ç±»å‹æ˜¯intï¼Œä¸åŒç±»å‹ä¹‹é—´çš„è¿ç®—éœ€è¦è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚
a : = 10 b ï¼š= byte(100) //100çš„é»˜è®¤ç±»å‹æ˜¯intï¼Œå¦‚æœè¦ä½¿å¾—bçš„ç±»å‹ä¸ºbyteï¼Œé‚£ä¹ˆå°±è¦ç”¨å¼ºåˆ¶ç±»å‹è½¬æ¢ c := a &#43; int(b) //a å’Œ bæ˜¯ä¸åŒçš„æ•°æ®ç±»å‹ï¼Œå› æ­¤è¦è½¬æ¢æˆä¸€è‡´çš„æ•°æ®ç±»å‹    æµ®ç‚¹å‹ æµ®ç‚¹æ•°ç”±æ•´æ•°éƒ¨åˆ†ã€å°æ•°ç‚¹å’Œå°æ•°éƒ¨åˆ†ç»„æˆï¼Œæ•´æ•°éƒ¨åˆ†å’Œå°æ•°éƒ¨åˆ†å¯ä»¥éšè—å…¶ä¸­ä¸€ç§ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨ç§‘å­¦è®¡æ•°æ³•è¡¨ç¤ºï¼ˆæŠŠä¸€ä¸ªæ•°è¡¨ç¤ºæˆ$a$ï¼ˆ$1\le a \lt 10ï¼Œn$ä¸ºæ•´æ•°ï¼‰ä¸10çš„å¹‚ç›¸ä¹˜çš„å½¢å¼ï¼Œè¿™ç§è®°æ•°æ³•å«åšç§‘å­¦è®°æ•°æ³•ï¼‰ã€‚
     72.40 072.40 å’Œ 72.40ä¸€æ ·ï¼Œè¿™é‡Œå°±ä¸åŒºåˆ†8è¿›åˆ¶ä¸10è¿›åˆ¶ï¼Œæµ®ç‚¹æ•°çš„æ•°å­—å°±å…¨éƒ¨æ˜¯10è¿›åˆ¶äº† 2.71823 6.67428e-11 1E6 //è¿™ä¸ªä¹Ÿæ˜¯æµ®ç‚¹æ•° .25 .12345E&#43;5  æµ®ç‚¹æ•°çš„é»˜è®¤ç±»å‹æ˜¯float64ï¼Œä½¿ç”¨æ—¶éœ€è¦æ³¨æ„å°æ•°ç‚¹çš„ä½ç½®ã€‚float32ä¿è¯7ä½æœ‰æ•ˆæ•°å­—ã€Œå°æ•°ç‚¹å7ä½ã€ï¼Œfloat64ä¿è¯15ä½æœ‰æ•ˆæ•°å­—ã€Œå°æ•°ç‚¹å15ä½ã€ã€‚å…·ä½“ç»†èŠ‚å‚è§IEEE-754æ ‡å‡†ã€‚
var a float32 = 1.1234567899 //ä¿è¯å°æ•°ç‚¹å7ä½æœ‰æ•ˆæ•°å­— var b float32 = 1.12345678 //ä¿è¯å°æ•°ç‚¹å7ä½æœ‰æ•ˆæ•°å­— var c float32 = 1.123456781 //ä¿è¯å°æ•°ç‚¹å7ä½æœ‰æ•ˆæ•°å­—  fmt.Println(a, b, c) // 1.1234568 1.1234568 1.1234568 fmt.Println(a == b, b == c) //true true å› ä¸ºä¿è¯7ä½æœ‰æ•ˆæ•°å­—â€”å°æ•°ç‚¹å7ä½ fmt.Printf(&amp;#34;%v %v %v\n&amp;#34;, a, b, c) //1.1234568 1.1234568 1.1234568  å¤æ•°ç±»å‹ ç”±ä¸€ä¸ªæ•´æ•°æˆ–è€…æ˜¯ä¸€ä¸ªå°æ•°åŠ ä¸Šiè¡¨ç¤ºï¼Œåœ¨Goä¸­å®ƒçš„é»˜è®¤ç±»å‹æ˜¯complex128å³64ä½å®éƒ¨åˆ†&#43;64ä½è™šéƒ¨ï¼Œè™šéƒ¨å¦‚ä¸‹æ‰€ç¤ºï¼š
 0i 011i //==11i è¿™é‡Œä¸æ˜¯å…«è¿›åˆ¶äº†ï¼Œå’Œæµ®ç‚¹æ•°ä¸€æ ·ï¼Œæ•°å­—å‡è¡¨ç¤º10è¿›åˆ¶ 0.i 2.71825i 6.23423-11i 1E&#43;6i .25i .1234E&#43;5i   å¼•ç”¨ ç‰¹æŒ‡sliceï¼Œmapï¼Œchannelè¿™ä¸‰ç§é¢„å®šä¹‰ç±»å‹ï¼Œå¼•ç”¨ç±»å‹å…·æœ‰æ›´å¤æ‚çš„å­˜å‚¨ç»“æ„ï¼Œé™¤åˆ†é…å†…å­˜å¤–ï¼Œè¿˜å¿…é¡»åˆå§‹åŒ–ä¸€ç³»åˆ—å±æ€§ï¼Œè¯¸å¦‚æŒ‡é’ˆã€é•¿åº¦ã€ç”šè‡³åŒ…æ‹¬å“ˆå¸Œåˆ†å¸ƒï¼Œæ•°æ®é˜Ÿåˆ—ç­‰ã€‚
å†…ç½®å‡½æ•°newæŒ‰æŒ‡å®šç±»å‹é•¿åº¦åˆ†é…é›¶å€¼å†…å­˜ï¼Œè¿”å›æŒ‡é’ˆï¼Œå¹¶ä¸å…³å¿ƒç±»å‹å†…éƒ¨æ„é€ å’Œåˆå§‹åŒ–æ–¹å¼ã€‚è€Œå¼•ç”¨ç±»å‹å¿…é¡»ä½¿ç”¨makeå‡½æ•°åˆ›å»ºï¼Œç¼–è¯‘å™¨ä¼šå°†makeè½¬æ¢ä¸ºç›®æ ‡ç±»å‹ä¸“ç”¨çš„åˆ›å»ºå‡½æ•°ï¼ˆæŒ‡ä»¤ï¼‰ä»¥ç¡®ä¿å®Œæˆå…¨éƒ¨å†…å­˜åˆ†é…å’Œç›¸å…³å±æ€§åˆå§‹åŒ–ã€‚
m := make(map[string]int) m[&amp;#34;a&amp;#34;] = 1 fmt.Println(m) //map[a:1] s := make([]int, 0, 10) s = append(s, 100) fmt.Println(s) //[100] newå‡½æ•°ä¹Ÿå¯ä»¥ä¸ºå¼•ç”¨ç±»å‹åˆ†é…å†…å­˜ï¼Œä½†æ˜¯ä¸å®Œæ•´åˆ›å»ºã€‚ ä»¥å­—å…¸ä¸ºä¾‹ï¼Œå®ƒä»…åˆ†é…äº†å­—å…¸æœ¬èº«æ‰€éœ€çš„å†…å­˜ï¼Œå¹¶æ²¡æœ‰åˆ†é…é”®å€¼å­˜å‚¨å†…å­˜ï¼Œä¹Ÿæ²¡æœ‰åˆå§‹åŒ–æ•£åˆ—æ¡¶ç­‰å†…éƒ¨å±æ€§ï¼Œå› æ­¤æ— æ³•æ­£å¸¸å·¥ä½œ
p := new(map[string]int) t := *p //t[&amp;#34;a&amp;#34;] = 100 //fmt.Println(t) //panic: assignment to entry in nil map  åˆ«å åœ¨å®˜æ–¹æ–‡æ¡£ä¸­ï¼Œä¸“é—¨æåˆ°äº†ä¸¤ä¸ªåˆ«å byte alias for unit8ä»¥åŠrune alias for int32
  åˆ«åç±»å‹æ— éœ€è½¬æ¢ï¼Œå¯ç›´æ¥èµ‹å€¼ã€‚åˆ«åçš„ä½œç”¨æ˜¯ä¸ºäº†â€œè§å‹çŸ¥æ„â€
  æ‹¥æœ‰ç›¸åŒåº•å±‚ç»“æ„çš„å°±ä¸ä¸€å®šæ˜¯åˆ«åï¼Œå°±ç®—åœ¨64ä½å¹³å°ä¸Šintå’Œint64ç»“æ„å®Œå…¨ä¸€è‡´ï¼Œä½†æ˜¯è¿™ä¸¤ä¸ªä¹Ÿåˆ†å±ä¸åŒç±»å‹ï¼Œè¿™ä¸¤ä¸ªç±»å‹å‚ä¸è¿ç®—æ—¶é¡»æ˜¾å¼è½¬æ¢ã€‚   æœªå‘½åç±»å‹ï¼ˆ8ç§ï¼‰ åœ¨Goä¸­ æ•°ç»„ã€åˆ‡ç‰‡ã€å­—å…¸ã€é€šé“ç±»å‹ä¸å…·ä½“å…ƒç´ ç±»å‹æˆ–é•¿åº¦å±æ€§ç›¸å…³ï¼Œæ•…è¢«ç§°ä¸ºæœªå‘½åç±»å‹ã€‚å…·æœ‰ç›¸åŒå£°æ˜çš„æœªå‘½åç±»å‹è¢«ç§°ä¸ºåŒä¸€ç±»å‹ã€‚
  å…·æœ‰ç›¸åŒåŸºç±»å‹çš„æŒ‡é’ˆ
  å…·æœ‰ç›¸åŒå…ƒç´ ç±»å‹å’Œé•¿åº¦çš„æ•°ç»„array
  å…·æœ‰ç›¸åŒå…ƒç´ ç±»å‹çš„åˆ‡ç‰‡slice
  å…·æœ‰ç›¸åŒé”®å€¼ç±»å‹çš„å­—å…¸map
  å…·æœ‰ç›¸åŒæ•°æ®ç±»å‹ä»¥åŠæ“ä½œæ–¹å‘çš„é€šé“channel
  å…·æœ‰ç›¸åŒå­—æ®µåºåˆ—ï¼ˆå­—æ®µåã€å­—æ®µç±»å‹ã€æ ‡ç­¾ä»¥åŠå­—æ®µé¡ºåºï¼‰çš„ç»“æ„ä½“struct
  å…·æœ‰ç›¸åŒç­¾åçš„ï¼ˆå‚æ•°å’Œè¿”å›å€¼åˆ—è¡¨ï¼Œä¸åŒ…æ‹¬å‚æ•°åï¼‰çš„å‡½æ•°funcï¼Œå…¶ä¸­å‡½æ•°çš„å‚æ•°é¡ºåºä¹Ÿå±äºç­¾åçš„ç»„æˆéƒ¨åˆ†
  å…·æœ‰ç›¸åŒæ–¹æ³•é›†ï¼ˆæ–¹æ³•åï¼Œæ–¹æ³•ç­¾åï¼Œä¸åŒ…æ‹¬é¡ºåºï¼‰çš„æ¥å£
  å®¹æ˜“è¢«å¿½ç•¥çš„æ˜¯ç»“æ„ä½“çš„æ ‡ç­¾struct tag å®ƒå±äºç±»å‹ç»„æˆçš„ä¸€éƒ¨åˆ†ï¼Œè€Œä¸ä»…ä»…æ˜¯å…ƒæ•°æ®æè¿°
var a struct { x int `x` s string `s` } var b struct { x int s string } b = a //è¿™æ˜¯é”™è¯¯çš„ï¼Œå› ä¸ºä¸€ä¸ªæœ‰æ ‡ç­¾ï¼Œå¦ä¸€ä¸ªæ²¡æœ‰æ ‡ç­¾ fmt.Println(b)  æŒ‡é’ˆ æŒ‡é’ˆçš„é»˜è®¤å€¼æ˜¯nilï¼Œä¸æ”¯æŒåŠ å‡æ“ä½œå’Œç±»å‹è½¬æ¢ï¼Œåªæ”¯æŒç›¸ç­‰åˆ¤æ–­,è¿™ä¸€ç‚¹ä¸Cå’ŒC&#43;&#43;æœ‰å¾ˆå¤§åŒºåˆ«
x := 100 p := &amp;amp;x //p&#43;&#43; //ä¸èƒ½åŠ  //p&#43;1 //ä¸èƒ½åŠ ï¼Œåªèƒ½æ¯”è¾ƒæ˜¯å¦ç›¸ç­‰ var p2 = p fmt.Println(p2 == p) //true åœ¨æŒ‡é’ˆçš„æ¯”è¾ƒä¸­ï¼Œå¦‚æœä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘åŒä¸€ä¸ªåœ°å€ï¼Œæˆ–éƒ½ä¸ºnilåˆ™ç›¸ç­‰ æ¥å£ æ¥å£å®šä¹‰äº†ä¸€ä¸ªå‡½æ•°é›†åˆï¼Œä½†æ˜¯è¿™äº›æ–¹æ³•ä¸åŒ…æ‹¬å®ç°â€”â€”å®ƒä»¬æ˜¯æŠ½è±¡çš„ï¼Œæ¥å£é‡Œä¹Ÿä¸èƒ½å«å˜é‡ã€‚
 è‡ªå®šä¹‰ç±»å‹ ä½¿ç”¨å…³é”®å­—type å®šä¹‰ç”¨æˆ·è‡ªå®šä¹‰ç±»å‹ï¼ŒåŒ…æ‹¬åŸºäºç°æœ‰åŸºç¡€ç±»å‹åˆ›å»ºï¼Œæˆ–è€…æ˜¯ç»“æ„ä½“ã€å‡½æ•°ç±»å‹ã€‚ä¸constå’Œ varç±»ä¼¼ï¼Œå¤šä¸ªtypeå®šä¹‰å¯ä»¥åˆå¹¶ä¸ºç»„ï¼Œå¯åœ¨å‡½æ•°æˆ–è€…ä»£ç å—å†…å®šä¹‰å±€éƒ¨ç±»å‹
type ( user struct { name string age uint8 } event func(string) bool ) å½“è‡ªå®šä¹‰ç±»å‹æŒ‡å®šäº†åŸºç¡€ç±»å‹æ—¶ï¼Œä¹Ÿåªè¡¨æ˜ä»–ä»¬å…·æœ‰ç›¸åŒçš„åº•å±‚æ•°æ®ç»“æ„ï¼Œä¸¤è€…é—´ä¸å­˜åœ¨ä»»ä½•å…³ç³»ï¼Œå±äºå®Œå…¨ä¸åŒçš„ä¸¤ç§ç±»å‹ï¼Œä¸èƒ½ç›´æ¥è¿›è¡Œèµ‹å€¼æ“ä½œã€‚
é™¤äº†æ“ä½œç¬¦å¤–ï¼Œè‡ªå®šä¹‰ç±»å‹ä¸ä¼šç»§æ‰¿åŸºç¡€ç±»å‹çš„å…¶ä»–ä¿¡æ¯ï¼ˆåŒ…æ‹¬æ–¹æ³•ï¼‰ï¼Œä¸èƒ½è§†ä½œåˆ«åï¼Œä¸èƒ½éšå¼è½¬æ¢ï¼Œä¸èƒ½ç›´æ¥ç”¨äºæ¯”è¾ƒè¡¨è¾¾å¼ã€‚
type X int var m X = 23 if m &amp;lt; 100 { //ç»§æ‰¿æ“ä½œç¬¦ 	fmt.Println(&amp;#34;Test&amp;#34;) }  ç±»å‹è½¬æ¢ å› ä¸ºéšå¼è½¬æ¢å¸¦æ¥çš„é—®é¢˜è¿œå¤§äºå®ƒå¸¦æ¥çš„å¥½å¤„ï¼ŒGoä¸­ä¸¥æ ¼æŒ‰ç…§ç±»å‹è¿›è¡Œæ“ä½œã€‚å½“ä¸¤ä¸ªå˜é‡çš„ç±»å‹ä¸ä¸€è‡´çš„æ—¶å€™è¦åšå¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚
  é™¤äº†å¸¸é‡ã€åˆ«åç±»å‹ä»¥åŠæœªå‘½åç±»å‹å¤–ï¼ŒGoå¼ºåˆ¶è¦æ±‚ä½¿ç”¨æ˜¾å¼ç±»å‹è½¬æ¢
  Goä¸­ä¸æ”¯æŒæ“ä½œç¬¦é‡è½½  å¦‚æœè½¬æ¢çš„ç›®æ ‡ç±»å‹æ˜¯æŒ‡é’ˆã€å•å‘é€šé“æˆ–æ²¡æœ‰è¿”å›å€¼çš„å‡½æ•°ç±»å‹ï¼Œé‚£ä¹ˆå¿…é¡»ç”¨æ‹¬å·ï¼Œä»¥é¿å…é€ æˆè¯­æ³•åˆ†è§£é”™è¯¯
x := 100 p := (*int)(&amp;amp;x)    </content>
    </entry>
    
     <entry>
        <title>memcpy çš„å®ç°</title>
        <url>https://iihui.github.io/post/cpp-memcpy/</url>
        <categories>
          
        </categories>
        <tags>
          <tag>C&#43;&#43;</tag>
        </tags>
        <content type="html"> åœ°å€é‡å  void *memcpy(void *dst, const void *src, size_t n); //If copying takes place between objects that overlap, the behavior is undefined.   æ³¨æ„æ³¨é‡Šï¼Œå¯¹äºåœ°å€é‡å çš„æƒ…å†µï¼Œè¯¥å‡½æ•°çš„è¡Œä¸ºæ˜¯æœªå®šä¹‰çš„ã€‚äº‹å®ä¸Šæ‰€è¯´çš„é™·é˜±ä¹Ÿåœ¨äºæ­¤ï¼Œè‡ªå·±åŠ¨æ‰‹å®ç°memcpyæ—¶å°±éœ€è¦è€ƒè™‘åœ°å€é‡å çš„æƒ…å†µã€‚
  å¦å¤–ï¼Œæ ‡å‡†åº“ä¹Ÿæä¾›äº†åœ°å€é‡å æ—¶çš„å†…å­˜æ‹·è´å‡½æ•°ï¼šmemmoveï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆè¿˜è¦è€ƒè™‘é‡å†™memcpyå‡½æ•°å‘¢?
  å› ä¸ºmemmoveå‡½æ•°çš„å®ç°æ•ˆç‡é—®é¢˜ï¼Œè¯¥å‡½æ•°æŠŠæºå­—ç¬¦ä¸²æ‹·è´åˆ°ä¸´æ—¶bufferé‡Œï¼Œç„¶åå†ä»ä¸´æ—¶bufferé‡Œå†™åˆ°ç›®çš„åœ°å€ï¼Œå¢åŠ äº†ä¸€æ¬¡ä¸å¿…è¦çš„å¼€é”€ã€‚
   è‡ªå®ç°ç‰ˆæœ¬ å½“å¯èƒ½ä¼šå‘ç”Ÿé‡å æ—¶ï¼Œåº”è¯¥ä»åå¾€å‰æ‹·è´ï¼Œç±»ä¼¼äºvectorçš„æ’å…¥æ—¶å½“æ’å…¥ç‚¹çš„å…ƒç´ å¤§äºè¦æ’å…¥çš„å…ƒç´ ä¸ªæ•°æ—¶ã€‚
#include &amp;lt;stdio.h&amp;gt;#include &amp;lt;stdlib.h&amp;gt;#include &amp;lt;string.h&amp;gt; void *Memcpy(void *dst, const void *src, size_t size); int main(int argc, char *argv[]) { char buf[100] = &amp;#34;abcdefghijk&amp;#34;; // memcpy(buf&#43;2, buf, 5);  Memcpy(buf &#43; 2, buf, 5); printf(&amp;#34;%s\n&amp;#34;, buf &#43; 2); } void *Memcpy(void *dst, const void *src, size_t size) { char *psrc; char *pdst; if (NULL == dst || NULL == src) { return NULL; } if ((src &amp;lt; dst) &amp;amp;&amp;amp; (char *)src &#43; size &amp;gt; (char *)dst) // è‡ªåå‘å‰æ‹·è´  { psrc = (char *)src &#43; size - 1; pdst = (char *)dst &#43; size - 1; while (size--) { *pdst-- = *psrc--; } } else { psrc = (char *)src; pdst = (char *)dst; while (size--) { *pdst&#43;&#43; = *psrc&#43;&#43;; } } return dst; }  </content>
    </entry>
    
     <entry>
        <title>åŸºæœ¬æ’åºç®—æ³•</title>
        <url>https://iihui.github.io/post/arith-sort/</url>
        <categories>
          <category>ç®—æ³•</category>
        </categories>
        <tags>
          <tag>ç®—æ³•</tag>
        </tags>
        <content type="html"> åŸºæœ¬æ¦‚å¿µ   æ’åºç®—æ³•çš„ç¨³å®šæ€§ï¼šå¦‚æœå¾…æ’åºçš„æ•°æ®ä¸­ï¼Œå­˜åœ¨å¤šä¸ªå…³é”®å­—ç›¸åŒçš„å…ƒç´ ï¼Œç»è¿‡æ’åºåè¿™äº›å…·æœ‰ç›¸åŒå…³é”®å­—çš„å…ƒç´ ä¹‹é—´çš„ç›¸å¯¹æ¬¡åºä¿æŒä¸å˜ï¼Œåˆ™ç§°è¿™ç§æ’åºç®—æ³•æ˜¯ç¨³å®šçš„ï¼Œåä¹‹åˆ™ä¸ºä¸ç¨³å®šã€‚
  å†…æ’åºï¼šæ’åºè¿‡ç¨‹ä¸­ï¼Œæ•´ä¸ªè¡¨éƒ½æ˜¯æ”¾åœ¨å†…å­˜ä¸­å¤„ç†ï¼Œæ’åºæ—¶ä¸æ¶‰åŠæ•°æ®çš„å†…ã€å¤–äº¤æ¢ã€‚
  å¤–æ’åºï¼šæŒ‡èƒ½å¤Ÿå¤„ç†æå¤§é‡æ•°æ®çš„æ’åºç®—æ³•ï¼Œå¤–æ’åºå¤„ç†çš„æ•°æ®ä¸èƒ½ä¸€æ¬¡è£…å…¥å†…å­˜ï¼Œåªèƒ½æ”¾åœ¨è¯»å†™è¾ƒæ…¢çš„å¤–å­˜å‚¨å™¨(é€šå¸¸æ˜¯ç¡¬ç›˜)ä¸Šï¼Œå¤–æ’åºé€šå¸¸é‡‡ç”¨çš„æ˜¯ä¸€ç§ æ’åº-å½’å¹¶ çš„ç­–ç•¥ã€‚åœ¨æ’åºé˜¶æ®µï¼Œå…ˆè¯»å…¥èƒ½æ”¾åœ¨å†…å­˜ä¸­çš„æ•°æ®é‡ï¼Œå°†å…¶æ’åºç»“æœè¾“å‡ºåˆ°ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ï¼Œä¾æ­¤è¿›è¡Œï¼Œå°†å¾…æ’åºæ•°æ®ç»„ç»‡ä¸ºå¤šä¸ªæœ‰åºçš„ä¸´æ—¶æ–‡ä»¶ã€‚ç„¶ååœ¨å½’å¹¶é˜¶æ®µå°†è¿™äº›ä¸´æ—¶æ–‡ä»¶ç»„åˆä¸ºä¸€ä¸ªå¤§çš„æœ‰åºæ–‡ä»¶ï¼Œå³æ’åºç»“æœã€‚
   å†…æ’åºç®—æ³• ä¸€èˆ¬è¯´æ¥ï¼Œå†…æ’åºç®—æ³•å¯ä»¥åˆ†ä¸º7ç±»ï¼Œåˆ†åˆ«ä¸ºï¼š
  æ’å…¥æ’åº
  äº¤æ¢æ’åº
  é€‰æ‹©æ’åº
  å½’å¹¶æ’åº
  åŸºæ•°æ’åº
  æ¡¶æ’åº
  è®¡æ•°æ’åº
   æ’å…¥ç±»æ’åº ç›´æ¥æ’å…¥æ’åº ç›´æ¥æ’å…¥æ’åºï¼Œæ˜¯åœ¨æœ‰åºçš„åŸºç¡€ä¸Šå¯¹æ•°æ®å…ƒç´ è¿›è¡Œç›´æ¥æ’å…¥ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š
template&amp;lt;typename T&amp;gt; void innerSort&amp;lt;T&amp;gt;::insertSort(T *data, int length) { assert(length &amp;gt;= 0); int curItem, j; for (int i = 1; i &amp;lt; length; &#43;&#43;i) { curItem = data[i]; for (j = i - 1; j &amp;gt;= 0; --j) { if (curItem &amp;lt; data[j]) { data[j &#43; 1] = data[j]; } else { break; } } data[j &#43; 1] = curItem; //j&#43;1æ˜¯æœ€ç»ˆä½ç½®  } }   æœ€å¥½æƒ…å†µä¸ºå¾…æ’åºåºåˆ—æ˜¯æ­£åºçš„æ—¶å€™ï¼Œæ¯”è¾ƒæ¬¡æ•°ä¸º$(n-1)$æ¬¡ï¼Œç§»åŠ¨æ¬¡æ•°$2(n-1)$æ¬¡ï¼Œæ—¶é—´å¤æ‚åº¦ï¼š$O(n)$ã€‚
  æœ€åæƒ…å†µä¸ºå¾…æ’åºåºåˆ—æ˜¯é€†åºçš„æ—¶å€™ï¼Œæ¯”è¾ƒæ¬¡æ•° $ï¼ˆ1&#43;2&#43;3&#43;&amp;hellip;&#43;(n-1))=\frac{n(n-1)}{2}$ï¼Œç§»åŠ¨æ¬¡æ•° $(1&#43;2&#43;&amp;hellip;&#43;(n&#43;1))=\frac{n(n&#43;1)}{2}$ï¼Œæ—¶é—´å¤æ‚åº¦ï¼š$O(n^2)$ã€‚
  å¹³å‡æ—¶é—´å¤æ‚åº¦ï¼š$O(n^2)$ã€‚
  ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$ã€‚
  ç›´æ¥æ’å…¥æ’åºä¸èƒ½ä¿è¯ä¸€è¶Ÿä¹‹åæœ‰ä¸€ä¸ªå…ƒç´ åœ¨å…¶æœ€ç»ˆçš„ä½ç½®ã€‚
  ç›´æ¥æ’å…¥æ˜¯ç¨³å®šçš„æ’åºç®—æ³•ã€‚
   æŠ˜åŠæ’å…¥æ’åº æŠ˜åŠæ’å…¥æ’åºï¼Œåœ¨æŸ¥æ‰¾æ’å…¥ä½ç½®çš„æ—¶å€™ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼Œä»£ç å¦‚ä¸‹ï¼š
template&amp;lt;typename T&amp;gt; void innerSort&amp;lt;T&amp;gt;::binInsertSort(T *data, int length) { assert(length &amp;gt;= 0); int start, mid, end, curItem; for (int i = 1; i &amp;lt; length; &#43;&#43;i) { start = 0; end = i - 1; curItem = data[i]; while (start &amp;lt;= end) { mid = start &#43; (end - start) / 2; //å°½å¯èƒ½åœ°é¿å…æº¢å‡º  if (data[mid] == curItem) { end = mid; //end&#43;1ä¾¿æ˜¯æ’å…¥ä½ç½®  break; } else if (data[mid] &amp;lt; curItem) { start = mid &#43; 1; } else { end = mid - 1; } } //æœ€ç»ˆçš„æ’å…¥ä½ç½®ä¸ºend&#43;1,å› æ­¤éœ€è¦å°†end&#43;1æ‰€åœ¨çš„å…ƒç´ ç§»å¼€  for (int j = i - 1; j &amp;gt;= end &#43; 1; --j) { data[j &#43; 1] = data[j]; } //æ”¾åˆ°æœ€ç»ˆçš„æ’å…¥ä½ç½® end&#43;1  data[end &#43; 1] = curItem; } }   æ³¨æ„åé¢çš„ç¬¬äºŒä¸ªforå¾ªç¯ä¸­j &amp;gt;= end &#43; 1ï¼Œå› ä¸ºæœ€ç»ˆä½ç½®æ˜¯end&#43;1ã€‚
  ä»æ—¶é—´ä¸Šçœ‹ï¼ŒæŠ˜åŠæ’å…¥æ’åºåªæ˜¯å‡å°‘äº†å…³é”®å­—é—´çš„æ¯”è¾ƒæ¬¡æ•°ï¼Œè€Œå…ƒç´ çš„ç§»åŠ¨æ¬¡æ•°ä¸å˜ï¼Œå› ä¸ºæ‰¾åˆ°ä½ç½®ä¹‹åè¿˜æ˜¯è¦å°†å…ƒç´ å…¨éƒ¨ç§»åŠ¨ï¼Œå› æ­¤å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º$O(n^2)$ã€‚
  ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$ï¼ŒæŠ˜åŠæ’å…¥æ’åºç®—æ³•ä¸ç¨³å®šçš„çš„å†…æ’åºç®—æ³•ï¼Œä¾‹å¦‚1ï¼Œ1ï¼Œ1ï¼Œ1è¿›è¡ŒæŠ˜åŠæ’å…¥æ’åºæ—¶ã€‚
   Shellæ’åº Shellæ’åºï¼Œåˆç§°ä¸ºç¼©å°å¢é‡æ’åºæ–¹æ³•ã€‚å…¶åŸºæœ¬æ€æƒ³æ˜¯ï¼šæŠŠè®°å½•æŒ‰ä¸‹æ ‡çš„æŸä¸ªå¢é‡ $d$ åˆ†ç»„ï¼Œå¯¹æ¯ç»„è®°å½•é‡‡ç”¨ç›´æ¥æ’å…¥æ’åºæ–¹æ³•è¿›è¡Œæ’åºï¼Œéšç€å¢é‡é€æ¸ç¼©å°ï¼Œæ‰€åˆ†æˆçš„ç»„æ‰€åŒ…å«çš„è®°å½•è¶Šæ¥è¶Šå¤šï¼Œåˆ°å¢é‡çš„å€¼å‡å°‘åˆ°$1$æ—¶ï¼Œæ•´ä¸ªæ•°æ®åˆæˆä¸ºä¸€ç»„ï¼Œæ„æˆä¸€ç»„æœ‰åºè®°å½•ï¼Œåˆ™å®Œæˆæ’åºã€‚
  å…ˆå–ä¸€ä¸ªæ­£æ•´æ•° $d_1(d_1 \lt n)$ï¼ŒæŠŠå…¨éƒ¨è®°å½•åˆ†æˆ $d_1$ ä¸ªç»„ï¼Œæ‰€æœ‰è·ç¦»ä¸º $d_1$ çš„å€æ•°çš„è®°å½•çœ‹æˆä¸€ç»„ï¼Œç„¶ååœ¨å„ç»„å†…è¿›è¡Œæ’å…¥æ’åºã€‚
  ç„¶åå– $d_2(d_2 \lt d_1)$é‡å¤ä¸Šè¿°åˆ†ç»„å’Œæ’åºæ“ä½œï¼›ç›´åˆ°å– $d_i = 1(i \ge 1)$ ä½ç½®ï¼Œå³æ‰€æœ‰è®°å½•æˆä¸ºä¸€ä¸ªç»„ï¼Œæœ€åå¯¹è¿™ä¸ªç»„è¿›è¡Œæ’å…¥æ’åºã€‚ä¸€èˆ¬é€‰$d_1$çº¦ä¸º$\frac{n}{2}$ï¼Œ$d_2$ä¸º$\frac{d_1}{2}$ï¼Œ $d_3$ ä¸º $\frac{d_2}{2}$ ï¼Œ&amp;hellip;ï¼Œ $d_i = 1$ã€‚
  template&amp;lt;typename T&amp;gt; void innerSort&amp;lt;T&amp;gt;::shellSort(T *data, int length) { assert(length &amp;gt;= 0); for (int step = length / 2; step &amp;gt; 0; step /= 2) { assistShellSort(data, length, step); } } template&amp;lt;typename T&amp;gt; void innerSort&amp;lt;T&amp;gt;::assistShellSort(T *data, int length, int step) { assert(length &amp;gt;= 1 &amp;amp;&amp;amp; step &amp;gt;= 0); int j, curItem; for (int i = step; i &amp;lt; length; &#43;&#43;i) { curItem = data[i]; for (j = i - step; j &amp;gt;= 0; j -= step) { if (data[j] &amp;gt; curItem) { data[j &#43; step] = data[j]; } else { break; } } data[j &#43; step] = curItem; //j&#43;stepæ˜¯æœ€ç»ˆçš„ä½ç½®  } }   Shellæ’åºçš„æ¯è¶Ÿæ’åºï¼Œéƒ½ä¼šä½¿å¾—æ•´ä¸ªåºåˆ—å˜å¾—æ›´åŠ æœ‰åºï¼Œç­‰æ•´ä¸ªåºåˆ—åŸºæœ¬æœ‰åºäº†ï¼Œå†æ¥ä¸€è¶Ÿç›´æ¥æ’å…¥æ’åºï¼Œè¿™æ ·ä¼šä½¿æ’åºæ•ˆç‡æ›´é«˜ã€‚
  Shellæ’åºä¸èƒ½ä¿è¯ä¸€è¶Ÿä¹‹åæœ‰ä¸€ä¸ªå…ƒç´ åœ¨å…¶æœ€ç»ˆçš„ä½ç½®ã€‚
  Shellæ’åºæ˜¯ä¸ç¨³å®šçš„æ’åºç®—æ³•ï¼Œä¾‹å¦‚2,2,1(d=2,1)ã€‚
  åˆ†æShellæ’åºæ˜¯ä¸€ä¸ªå¤æ‚çš„é—®é¢˜ï¼Œå®ƒçš„æ—¶é—´å¤æ‚åº¦æ˜¯å¢é‡åºåˆ—çš„å‡½æ•°ï¼Œåˆ°ç°åœ¨ä¸ºæ­¢è¿˜æœªå¾—åˆ°æ•°å­¦ä¸Šçš„è§£å†³ã€‚
   äº¤æ¢ç±»æ’åº å¤§æ•°æ²‰åº•å†’æ³¡ å¤§æ•°æ²‰åº•çš„å†’æ³¡æ’åºçš„åŸºæœ¬æµç¨‹å¦‚ä¸‹ï¼š
  æ¯”è¾ƒç›¸é‚»çš„å…ƒç´ ï¼Œå¦‚æœç¬¬ä¸€ä¸ªæ¯”ç¬¬äºŒä¸ªå¤§ï¼Œå°±äº¤æ¢ä»–ä»¬ä¸¤ä¸ªã€‚
  å¯¹æ¯ä¸€å¯¹ç›¸é‚»å…ƒç´ åšåŒæ ·çš„å·¥ä½œï¼Œä»å¼€å§‹ç¬¬ä¸€å¯¹åˆ°ç»“å°¾çš„æœ€åä¸€å¯¹ï¼Œå½“äº¤æ¢åˆ°æœ€åçš„æ—¶å€™ï¼Œæœ€åçš„ä¸€ä¸ªå…ƒç´ å°†ä¼šæ˜¯æœ€å¤§çš„æ•°ã€‚
  é™¤äº†å·²ç»æ‰¾åˆ°çš„å…ƒç´ ï¼Œé’ˆå¯¹æ‰€æœ‰å‰©ä¸‹çš„å…ƒç´ é‡å¤ä»¥ä¸Šçš„æ­¥éª¤ã€‚
  æŒç»­æ¯æ¬¡å¯¹è¶Šæ¥è¶Šå°‘çš„å…ƒç´ é‡å¤ä¸Šé¢çš„æ­¥éª¤ï¼Œç›´åˆ°æ²¡æœ‰ä»»ä½•ä¸€å¯¹æ•°å­—éœ€è¦æ¯”è¾ƒã€‚
  //å¤§æ•°æ²‰åº•çš„å†’æ³¡æ’åº template&amp;lt;typename T&amp;gt; void innerSort&amp;lt;T&amp;gt;::bubbleSort(T *data, int length) { assert(length &amp;gt;= 0); bool flag; //æ ‡è¯†æœ¬è¶Ÿæ˜¯å¦æœ‰äº¤æ¢  for (int i = 1; i &amp;lt; length; &#43;&#43;i) { flag = false; //èµ‹å€¼ä¸ºfalseè¡¨ç¤ºè¿˜æ²¡æœ‰æ•°æ®äº¤æ¢  for (int j = 0; j &amp;lt; length - i; &#43;&#43;j) { if (data[j] &amp;gt; data[j &#43; 1]) { swap(data[j], data[j &#43; 1]); flag = true; //æœ¬è®ºå¾ªç¯ä¸­æœ‰æ•°æ®å…ƒç´ è¿›è¡Œäº¤æ¢  } } if (!flag) { break; //æœ¬æ¬¡å¾ªç¯å·²ç»æ²¡æœ‰æ•°æ®å…ƒç´ è¿›è¡Œäº¤æ¢ï¼Œè¯´æ˜å·²ç»æ’å¥½åº  } } }  å°æ•°æ²‰åº•å†’æ³¡ å¦‚æœè¦å°†åŸåºåˆ—æ’åºæˆé€†åºï¼Œåˆ™åªè¦å°†å°æ•°æ²‰åº•å³å¯ï¼Œå³æ¯æ¬¡æ¯”è¾ƒçš„æ—¶å€™å½“å‰å…ƒç´ æ¯”ä¸‹ä¸€ä¸ªå…ƒç´ å°çš„æ—¶å€™å°†å°†å…¶äº¤æ¢åˆ°åé¢ã€‚
void smallBubbleSort(int *data, int n) //å°æ•°ä¸‹æ²‰ï¼Œæœ€åå¾—åˆ°é€†åº { bool flag = false; for (int i = 1; i &amp;lt; n; &#43;&#43;i) { flag = false; for (int j = 0; j &amp;lt; n - i; &#43;&#43;j) { if (data[j] &amp;lt; data[j &#43; 1]) { std::swap(data[j], data[j &#43; 1]); flag = true; } } if (!flag) break; } }   æœ€åæƒ…å†µï¼šå¾…æ’åºåºåˆ—é€†åºï¼Œæ—¶é—´å¤æ‚åº¦ä¸º$O(n^2)$ã€‚
  æœ€å¥½æƒ…å†µï¼šå¾…æ’åºåºåˆ—æœ‰åºï¼Œæ—¶é—´å¤æ‚åº¦ä¸º$O(n)$ã€‚
  å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸ºï¼š$O(n^2)$ã€‚
  ç©ºé—´å¤æ‚åº¦ä¸º$O(1)$ã€‚
  æ¯æ¬¡éƒ½èƒ½ä¿è¯ä¸€ä¸ªå…ƒç´ åœ¨æœ€ç»ˆä½ç½®ã€‚
  å†’æ³¡æ’åºæ˜¯ç¨³å®šçš„æ’åºç®—æ³•ã€‚
   å¿«é€Ÿæ’åº å¿«é€Ÿæ’åº: å®ƒé‡‡ç”¨äº†ä¸€ç§åˆ†æ²»çš„ç­–ç•¥ï¼Œå°†åŸé—®é¢˜åˆ†è§£ä¸ºè‹¥å¹²ä¸ªè§„æ¨¡æ›´å°ä½†ç»“æ„ä¸åŸé—®é¢˜ç›¸ä¼¼çš„å­é—®é¢˜,ç„¶åé€’å½’åœ°è§£è¿™äº›å­é—®é¢˜ã€‚æœ€åå°†è¿™äº›å­é—®é¢˜çš„è§£ç»„åˆä¸ºåŸé—®é¢˜çš„è§£ã€‚å¿«é€Ÿæ’åºç®—æ³•çš„æ­¥éª¤ä¸ºï¼š
  é¦–å…ˆï¼Œåœ¨æ•°æ®é›†ä¹‹ä¸­ï¼Œé€‰æ‹©ä¸€ä¸ªå…ƒç´ ä½œä¸ºåŸºå‡†ï¼ˆpivotï¼‰, åŸºå‡†çš„é€‰æ‹©ä¸€èˆ¬æœ‰3ç§
  éšæœºé€‰æ‹©æ•°æ®å…ƒç´ ä½œä¸ºåŸºå‡†å…ƒç´ 
  é€‰æ‹©ä¸­é—´çš„é‚£ä¸ªæ•°æ®å…ƒç´ ä½œä¸ºåŸºå‡†å…ƒç´ 
  é€‰æ‹©å¾…æ’åºåºåˆ—çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä½œä¸ºåŸºå‡†å…ƒç´ 
    å…¶æ¬¡ï¼Œæ‰€æœ‰å°äºåŸºå‡†çš„å…ƒç´ ï¼Œéƒ½ç§»åˆ°åŸºå‡†çš„å·¦è¾¹ï¼›æ‰€æœ‰å¤§äºåŸºå‡†çš„å…ƒç´ ï¼Œéƒ½ç§»åˆ°åŸºå‡†çš„å³è¾¹ã€‚
  æœ€åï¼ŒåŸºå‡†å·¦è¾¹å’Œå³è¾¹çš„ä¸¤ä¸ªå­é›†ï¼Œä¸æ–­é‡å¤ç¬¬ä¸€æ­¥å’Œç¬¬äºŒæ­¥ï¼Œç›´åˆ°æ‰€æœ‰å­é›†åªå‰©ä¸‹ä¸€ä¸ªå…ƒç´ ä¸ºæ­¢ã€‚
  å‡è®¾æ•°æ®é›†ä¸º{85, 24, 63, 45, 17, 31, 96, 50}ï¼Œæ€ä¹ˆå¯¹å…¶è¿›è¡Œæ’åºå‘¢ï¼Ÿä¸‹é¢é‡‡ç”¨æ¯æ¬¡é€‰æ‹©ä¸­é—´çš„é‚£ä¸ªå…ƒç´ ä½œä¸ºåŸºå‡†å…ƒç´ ï¼š
  ç¬¬ä¸€æ­¥ï¼Œé€‰æ‹©ä¸­é—´çš„å…ƒç´ 45ä½œä¸ºåŸºå‡†pivotã€‚
  ç¬¬äºŒæ­¥ï¼ŒæŒ‰ç…§é¡ºåºå°†æ¯ä¸ªå…ƒç´ å’Œpivotè¿›è¡Œæ¯”è¾ƒï¼Œå½¢æˆä¸¤ä¸ªå­é›†ï¼Œä¸€ä¸ªå°äºpivotï¼Œä¸€ä¸ªå¤§äºpivotï¼š{24ï¼Œ17ï¼Œ31}ï¼Œ45ï¼Œ{85ï¼Œ63ï¼Œ96ï¼Œ50}ã€‚
  ç¬¬ä¸‰æ­¥ï¼Œå¯¹ä¸¤ä¸ªå­é›†ä¸æ–­é‡å¤ç¬¬ä¸€æ­¥å’Œç¬¬äºŒæ­¥ï¼Œç›´åˆ°æ‰€æœ‰å­é›†åªå‰©ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚17ï¼Œ{24ï¼Œ31}ï¼Œ45ï¼Œ{50}ï¼Œ63ï¼Œ{85ï¼Œ96}ã€‚17ï¼Œ24ï¼Œ{31}ï¼Œ45ï¼Œ50ï¼Œ63ï¼Œ85ï¼Œ{96}ã€‚æœ€åå¾—åˆ°ï¼š17ï¼Œ24ï¼Œ31ï¼Œ45ï¼Œ50ï¼Œ63ï¼Œ85ï¼Œ96ã€‚
  ç¬¬äºŒç§æ–¹å¼æ˜¯æ¯æ¬¡é€‰æ‹©ç¬¬ä¸€ä¸ªå…ƒç´ ä½œä¸ºåŸºå‡†çš„ç®—æ³•ï¼š
void quickHelp(int *data, int start, int end) { if (start &amp;lt; end) { auto pivot = adjustByFirst(data, start, end); quickHelp(data, start, pivot - 1); quickHelp(data, pivot &#43; 1, end); } } int adjustByFirst(int *data, int start, int end) { int cur = data[start]; int i = start, j = end; while (i &amp;lt; j) { while (i &amp;lt; j &amp;amp;&amp;amp; data[j] &amp;gt;= cur) j--; if (i &amp;lt; j) { data[i] = data[j]; i&#43;&#43;: } while (i &amp;lt; j &amp;amp;&amp;amp; data[j] &amp;lt; cur) j--; if (i &amp;lt; j) { data[j] = data[i]; j--: } } data[i] = cur; return i; } å€ŸåŠ©äºæ ˆï¼Œå¯ä»¥å°†ä¸Šé¢çš„é€’å½’ç®—æ³•æ”¹ä¸ºéé€’å½’ç®—æ³•ï¼š
struct Region { int start; int high; }; void noncurQuickSort(int *data, int length) { Region cur, left, right; Region stack[MAXSIZE]; int index; int top = -1; cur.start = 0; cur.high = length - 1; stack[top&#43;&#43;] = cur; while (top != -1) { cur = stack[top--]; index = partition(data, length, cur.start, cur.high); //è°ƒç”¨éšæœºé€‰æ‹©åŸºå‡†çš„å‡½æ•°  if (index &amp;gt; cur.start) { left.start = cur.start; left.high = index - 1; stack[&#43;&#43;top] = left; } if (index &amp;lt; cur.high) { right.start = index &#43; 1; right.high = cur.high; stack[&#43;&#43;top] = right; } } } ç¬¬ä¸‰ä¸ªç§æ–¹å¼æ˜¯éšæœºé€‰æ‹©ä¸€ä¸ªå…ƒç´ ä½œä¸ºåŸºå‡†è¿›è¡Œè°ƒæ•´ç®—æ³•ï¼š
template&amp;lt;typename T&amp;gt; void innerSort&amp;lt;T&amp;gt;::quickSort(T *data, int length) { quickSort(data, 0, length - 1); } template&amp;lt;typename T&amp;gt; void innerSort&amp;lt;T&amp;gt;::quickSort(T *data, int start, int end) { if (start &amp;gt;= 0 &amp;amp;&amp;amp; start &amp;lt; end) { int pivot = getPivot(data, start, end); if (pivot &amp;gt; start) { quickSort(data, start, pivot - 1); } if (end &amp;gt; pivot) { quickSort(data, pivot &#43; 1, end); } } } template&amp;lt;typename T&amp;gt; int innerSort&amp;lt;T&amp;gt;::getPivot(T *data, int start, int end) { assert(start &amp;gt;= 0 &amp;amp;&amp;amp; start &amp;lt; end); int index = random(start, end); int small = start - 1; swap(data[index], data[end]); for (int i = start; i &amp;lt; end; &#43;&#43;i) { if (data[i] &amp;lt; data[end]) { &#43;&#43;small; if (small != i) { swap(data[small], data[i]); } } } &#43;&#43;small; swap(data[small], data[end]); return small; } //http://notes.maxwi.com/2016/04/10/cpp-random/ //https://www.cnblogs.com/byhj/p/4149467.html template&amp;lt;typename T&amp;gt; int innerSort&amp;lt;T&amp;gt;::random(int start, int end) { // static std::default_random_engine e; // static std::uniform_int_distribution&amp;lt;unsigned&amp;gt; u(start, end); // int result = u(e);  srand(time(0)); int result = std::rand() % (end - start &#43; 1) &#43; start; return result; } ä¸Šé¢è¿™ç§æ–¹æ³•åº”è¯¥æ³¨æ„åé¢æ˜¯small&#43;&#43;ä¹‹åå†äº¤æ¢ï¼Œæƒ³è±¡ä¸€ä¸‹å…¨éƒ¨æœ‰åºå°±èƒ½ç†è§£äº†ğŸ˜‚ã€‚
  å¿«é€Ÿæ’åºæœ€å¥½æƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦ä¸º$O(nlog_2n)$ã€‚
  æœ€åæƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦ä¸º$O(n^2)$ã€‚
  å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º$O(nlog_2n)$,å°±å¹³å‡è€Œè¨€å¿«é€Ÿæ’åºæ˜¯æ‰€æœ‰æ’åºç®—æ³•ä¸­æ•ˆæœæœ€å¥½çš„,è¿™æ˜¯å¿«æ’çš„åå­—çš„ç”±æ¥ã€‚
  å¾…æ’åºåºåˆ—è¶Šæ¥è¿‘æ— åºï¼Œç®—æ³•æ•ˆç‡è¶Šé«˜ï¼Œä¸ªäººç†è§£åº”è¯¥æ˜¯æ— åºçš„æ—¶å€™åŸºç‚¹ä¸¤è¾¹å¹³è¡¡çš„æ¯”è¾ƒå¥½ï¼Œæ‰€ä»¥æ•ˆç‡æ¯”è¾ƒé«˜,è¿™æ˜¯é’ˆå¯¹äºä»¥ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºpivotçš„æƒ…å†µã€‚
  å¾…æ’åºåºåˆ—è¶Šæ¥è¿‘æœ‰åºï¼Œç®—æ³•æ•ˆç‡è¶Šä½ï¼ˆå¿«é€Ÿæ’åºåè€Œèœ•åŒ–ä¸ºå†’æ³¡æ’åºï¼Ÿï¼‰ã€‚
  å¿«é€Ÿæ’åºçš„è¶Ÿæ•°å’Œåˆå§‹åºåˆ—ç›¸å…³ã€‚
  æ˜¯ä¸ç¨³å®šçš„æ’åºç®—æ³•2ï¼Œ2ï¼Œ1 ã€‚
  ç©ºé—´å¤æ‚åº¦ä¸º$O(log_2n)$ã€‚
   é€‰æ‹©ç±»æ’åº ç®€å•é€‰æ‹©æ’åº ç®€å•é€‰æ‹©æ’åºï¼šæ¯ä¸€è¶Ÿåœ¨$n-i(i=1,2,&amp;hellip;,n-1)$ä¸ªæ•°æ®å…ƒç´ ä¸­$R[i],R[i&#43;1],&amp;hellip;,R[n-1]$ä¸­é€‰æ‹©æœ€å°çš„æ•°æ®å…ƒç´ ä½œä¸ºæœ‰åºåºåˆ—ä¸­ç¬¬$i$ä¸ªæ•°æ®å…ƒç´ ã€‚
template&amp;lt;typename T&amp;gt; void innerSort&amp;lt;T&amp;gt;::selectSort(T *data, int length) { assert(length &amp;gt;= 0); int index; //ä»0å¼€å§‹ä¾¿äºindexçš„å–å€¼ï¼Œå› ä¸ºæ•°ç»„ä¸‹æ ‡æ˜¯ä»0å¼€å§‹çš„  for (int i = 0; i &amp;lt; length - 1; &#43;&#43;i) { index = i; for (int j = i &#43; 1; j &amp;lt; length; &#43;&#43;j) { if (data[index] &amp;gt; data[j]) { index = j; } } if (index != i) { std::swap(data[index], data[i]); } } }   æ˜¯ä¸ç¨³å®šçš„æ’åºç®—æ³•ï¼Œä¾‹å¦‚2ï¼Œ2ï¼Œ1ã€‚
  æ—¶é—´å¤æ‚åº¦ä¸º$O(n^2)$ã€‚
  ç©ºé—´å¤æ‚åº¦ä¸º$O(1)$ã€‚
   å †æ’åº å¯ä»¥æŠŠå †çœ‹æˆä¸€æ£µå®Œå…¨äºŒå‰æ ‘ï¼Œæ»¡è¶³ï¼šä»»ä½•ä¸€ä¸ªéå¶å­èŠ‚ç‚¹çš„å€¼éƒ½ä¸å¤§äº(æˆ–ä¸å°äºï¼‰å…¶å·¦å³å­©å­èŠ‚ç‚¹çš„å€¼ï¼Œè‹¥çˆ¶äº²å¤§å­©å­å°ï¼Œåˆ™è¿™æ ·çš„å †å«åšå¤§é¡¶å †ï¼Œè‹¥çˆ¶äº²å°å­©å­å¤§ï¼Œåˆ™è¿™æ ·çš„å †å«åšå°é¡¶å †ã€‚
æ ¹æ®å †çš„å®šä¹‰ï¼Œä»£è¡¨å †çš„è¿™æ£µå®Œå…¨äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹çš„å€¼æ˜¯æœ€å¤§çš„æˆ–è€…æœ€å°çš„ï¼Œå› æ­¤å°†ä¸€ä¸ªæ— åºçš„åºåˆ—è°ƒæ•´ä¸ºä¸€ä¸ªå †ï¼Œå°±å¯ä»¥æ‰¾å‡ºè¿™ä¸ªåºåˆ—çš„æœ€å¤§ï¼ˆæœ€å°ï¼‰å€¼ï¼Œç„¶åå°†æ‰¾å‡ºçš„è¿™ä¸ªå€¼äº¤æ¢åˆ°åºåˆ—çš„æœ€åï¼ˆæˆ–æœ€å‰ï¼‰ï¼Œè¿™æ ·æœ‰åºåºåˆ—å…ƒç´ å¢åŠ 1ä¸ªï¼Œæ— åºåºåˆ—ä¸­å…ƒç´ å‡å°‘1ä¸ªï¼Œå¯¹æ–°çš„æ— åºåºåˆ—é‡å¤è¿™æ ·çš„æ“ä½œå°±å¯ä»¥å®ç°æ’åºã€‚
template&amp;lt;typename T&amp;gt; void innerSort&amp;lt;T&amp;gt;::heapSort(T *data, int length) { assert(length &amp;gt;= 0); //é¦–å…ˆä»(length-2)/2å¼€å§‹è°ƒæ•´ï¼Œè®©ä»–æˆä¸ºå¤§é¡¶å †  //å½“æ•°ç»„ä¸‹æ ‡æ˜¯ä»0å¼€å§‹çš„æ—¶å€™içš„åˆå§‹å€¼å°±ä¸º(length-2)/2ï¼Œä¸‹æ ‡ä¸º1å¼€å§‹æ—¶ä¸º(length-1)/2  for (int i = (length - 2) / 2; i &amp;gt;= 0; --i) { assistHeapSort(data, i, length - 1); } for (int j = length - 1; j &amp;gt;= 1; --j) { std::swap(data[0], data[j]); assistHeapSort(data, 0, j - 1); } } //æ„å»ºå¤§é¡¶å †,å †é¡¶å…ƒç´ data[start] template&amp;lt;typename T&amp;gt; void innerSort&amp;lt;T&amp;gt;::assistHeapSort(T *data, int start, int end) { assert(start &amp;lt;= end &amp;amp;&amp;amp; start &amp;gt;= 0); int parent = start, child = 2 * start &#43; 1; while (child &amp;lt;= end) { //æ³¨æ„æ§åˆ¶æ¡ä»¶æ˜¯child &amp;lt; endï¼Œä¸è¶Šç•Œ  if (child &amp;lt; end &amp;amp;&amp;amp; data[child] &amp;lt; data[child &#43; 1]) { child&#43;&#43;; } if (data[parent] &amp;lt; data[child]) { std::swap(data[parent], data[child]); } parent = child; child = 2 * parent &#43; 1; } }   å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º$O(nlog_2(n))$ã€‚
  æœ€åæƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦ä¹Ÿä¸º$O(nlog_2(n))$ã€‚
  å…¶ç©ºé—´å¤æ‚åº¦ä¸º$O(1)$,ç©ºé—´å¤æ‚åº¦æ˜¯æŒ‡å ç”¨å†…å­˜å¤§å°ï¼Œæ¯æ¬¡è°ƒç”¨å®Œè°ƒæ•´å †çš„çš„å‡½æ•°åï¼Œæ‰€å ç”¨çš„é‚£ä¸€ä¸ªç©ºé—´éƒ½ä¼šè¢«é‡Šæ”¾ï¼Œä¸æƒ³å¿«é€Ÿæ’åºé‚£æ ·æœªæ’å®Œä¹‹å‰æ˜¯ä¸ä¼šé‡Šæ”¾è¾…åŠ©ç©ºé—´çš„ã€‚
  é€‚ç”¨äºè®°å½•æ•°è¾ƒå¤šçš„æƒ…å†µã€‚
  æ˜¯ä¸ç¨³å®šæ’åºæ–¹æ³•ï¼Œä¾‹å¦‚ä½¿ç”¨2,2,1æ„é€ å°é¡¶å †æ—¶ã€‚
   å½’å¹¶æ’åº äºŒè·¯å½’å¹¶æ’åºï¼šå°†ä¸¤ä¸ªæœ‰åºçš„å­åºåˆ—åˆå¹¶æˆä¸€ä¸ªæ–°çš„æœ‰åºå­åºåˆ—ã€‚å½’å¹¶çš„æ€æƒ³ï¼šå°†åºåˆ—çœ‹æˆæ˜¯$n$ä¸ªæœ‰åºå­åºåˆ—ï¼Œæ¯ä¸ªåºåˆ—çš„é•¿åº¦ä¸º$1$,ç„¶åä¸¤ä¸¤å½’å¹¶ï¼Œå¾—åˆ°$âŒˆ\frac{n}{2}âŒ‰$ä¸ªé•¿åº¦ä¸º$2$,çš„æœ‰åºå­åºåˆ—ï¼Œç„¶åä¸¤ä¸¤å½’å¹¶&amp;hellip;ï¼Œå¦‚æ­¤é‡å¤ï¼Œç›´åˆ°å¾—åˆ°ä¸€ä¸ªé•¿åº¦ä¸º $n$ çš„æœ‰åºå­åºåˆ—ã€‚
void mergeSort(int *data, int length) { assert(length &amp;gt;= 0 || data != nullptr); auto *copy = new int[length]; /* for (int i = 0; i &amp;lt; length; &#43;&#43;i) { copy[i] = data[i]; }*/ mergeSort(data, copy, 0, length - 1); delete[] copy; } void mergeSort(int *data, int *copy, int start, int end) { if (start == end) { copy[start] = data[start]; return; } int length = (end - start) / 2; mergeSort(data, copy, start, start &#43; length); mergeSort(data, copy, start &#43; length &#43; 1, end); int i = start, j = start &#43; length &#43; 1, k = start; while (i &amp;lt;= start &#43; length &amp;amp;&amp;amp; j &amp;lt;= end) { if (data[i] &amp;lt; data[j]) copy[k&#43;&#43;] = data[i&#43;&#43;]; else copy[k&#43;&#43;] = data[j&#43;&#43;]; } while (i &amp;lt;= start &#43; length) copy[k&#43;&#43;] = data[i&#43;&#43;]; while (j &amp;lt;= end) copy[k&#43;&#43;] = data[j&#43;&#43;]; for (i = start; i &amp;lt;= end; &#43;&#43;i) { data[i] = copy[i]; } } template&amp;lt;typename T&amp;gt; void innerSort&amp;lt;T&amp;gt;::mergeSort(T *data, int length) { assert(length &amp;gt;= 0); int *assist = new int[length]; memcpy(assist, data, length * sizeof(int)); assistMergeSort(data, assist, 0, length - 1); delete[] assist; } template&amp;lt;typename T&amp;gt; void innerSort&amp;lt;T&amp;gt;::assistMergeSort(T *data, T *assist, int start, int end) { if (start &amp;lt; end) { int mid = start &#43; (end - start) / 2; assistMergeSort(data, assist, start, mid); assistMergeSort(data, assist, mid &#43; 1, end); int i = start, j = mid &#43; 1, k = start; while (i &amp;lt;= mid &amp;amp;&amp;amp; j &amp;lt;= end) { if (data[i] &amp;lt;= data[j]) { assist[k&#43;&#43;] = data[i&#43;&#43;]; } else { assist[k&#43;&#43;] = data[j&#43;&#43;]; } } while (i &amp;lt;= mid) { assist[k&#43;&#43;] = data[i&#43;&#43;]; } while (j &amp;lt;= end) { assist[k&#43;&#43;] = data[j&#43;&#43;]; } for (int l = start; l &amp;lt;= end; &#43;&#43;l) { data[l] = assist[l]; } } }   æ’åºæ—¶é—´ä»£ä»·ä¸ä¾èµ–äºå¾…æ’åºæ•°ç»„çš„åˆå§‹æƒ…å†µã€‚
  åœ¨æœ€å¥½ï¼Œæœ€åï¼Œå¹³å‡æ—¶é—´å¤æ‚åº¦éƒ½ä¸º$O(nlog_2n)$ ã€‚
  ç©ºé—´å¤æ‚åº¦ä¸º$O(n)
  ç¨³å®šçš„æ’åºæ–¹æ³•ã€‚
  åœ¨å¹³å‡æƒ…å†µä¸‹è¿˜æ˜¯å¿«é€Ÿæ’åºæœ€å¿«ï¼ˆå¸¸æ•°å› å­æ›´å°ï¼‰ã€‚
   æ¯”è¾ƒæ’åºçš„æœ€ä¼˜ä¸‹ç•Œ æ¯”è¾ƒæ’åºç®—æ³•å°ç»“ è®¡æ•°æ’åº è®¡æ•°æ’åºæ˜¯ä¸€ç§ç¨³å®šçš„çº¿æ€§æ—¶é—´æ’åºç®—æ³•ã€‚è®¡æ•°æ’åºä½¿ç”¨ä¸€ä¸ªé¢å¤–çš„æ•°ç»„countï¼Œå…¶ä¸­ç¬¬iä¸ªå…ƒç´ æ˜¯å¾…æ’åºæ•°ç»„Aä¸­å€¼ç­‰äºiçš„å…ƒç´ çš„ä¸ªæ•°ã€‚
ç„¶åæ ¹æ®æ•°ç»„countæ¥å°†Aä¸­çš„å…ƒç´ æ’åˆ°æ­£ç¡®çš„ä½ç½®ã€‚å½“è¾“å…¥çš„å…ƒç´ æ˜¯nä¸ª0åˆ°kä¹‹é—´çš„æ•´æ•°æ—¶ï¼Œå®ƒçš„è¿è¡Œæ—¶é—´æ˜¯$Î˜(n &#43; k)$ã€‚
è®¡æ•°æ’åºä¸æ˜¯æ¯”è¾ƒæ’åºï¼Œæ’åºçš„é€Ÿåº¦å¿«äºä»»ä½•æ¯”è¾ƒæ’åºç®—æ³•ã€‚ç”±äºç”¨æ¥è®¡æ•°çš„æ•°ç»„countçš„é•¿åº¦å–å†³äºå¾…æ’åºæ•°ç»„ä¸­æ•°æ®çš„èŒƒå›´ï¼ˆç­‰äºå¾…æ’åºæ•°ç»„çš„æœ€å¤§å€¼ä¸æœ€å°å€¼çš„å·®åŠ ä¸Š1ï¼‰ï¼Œè¿™ä½¿å¾—è®¡æ•°æ’åºå¯¹äºæ•°æ®èŒƒå›´å¾ˆå¤§çš„æ•°ç»„ï¼Œéœ€è¦å¤§é‡å†…å­˜ã€‚
template&amp;lt;typename T&amp;gt; void innerSort&amp;lt;T&amp;gt;::countSort(T *data, int length) { assert(length &amp;gt;= 0); int min = data[0], max = data[0]; int *assistArr = new int[length]{0}; int inc = 0; //å…ˆæ‰¾å‡ºæœ€å¤§å€¼å’Œæœ€å°å€¼  for (int i = 0; i &amp;lt; length; &#43;&#43;i) { assert(data[i] &amp;gt;= 0); if (data[i] &amp;gt; max) { max = data[i]; } if (data[i] &amp;lt; min) { min = data[i]; } } if (min &amp;lt; 0) { inc = abs(min); } for (int i = 0; i &amp;lt; length; &#43;&#43;i) { data[i] &#43;= inc; } int countLength = (max &#43; inc &#43; 1); int *countArr = new int[countLength]{0}; for (int i = 0; i &amp;lt; length; &#43;&#43;i) { countArr[data[i]]&#43;&#43;; } //æ³¨æ„æ˜¯è®¡æ•°æ•°ç»„çš„ä¸Šç•Œé™  for (int j = 1; j &amp;lt; countLength; &#43;&#43;j) { countArr[j] &#43;= countArr[j - 1]; } for (int k = length - 1; k &amp;gt;= 0; --k) { assistArr[--countArr[data[k]]] = data[k]; } for (int i = 0; i &amp;lt; length; &#43;&#43;i) { data[i] = assistArr[i] - inc; } delete[] assistArr; delete[] countArr; } æ¡¶æ’åº æ¡¶æ’åº(Bucket Sort)çš„åŸºæœ¬æ€è·¯æ˜¯ï¼š
  å°†å¾…æ’åºå…ƒç´ åˆ’åˆ†åˆ°ä¸åŒçš„æ¡¶ã€‚å…ˆæ‰«æä¸€éåºåˆ—æ±‚å‡ºæœ€å¤§å€¼$max$å’Œæœ€å°å€¼$min$ï¼Œè®¾æ¡¶çš„ä¸ªæ•°ä¸º$k$ï¼Œåˆ™æŠŠåŒºé—´$[min, max]$å‡åŒ€åˆ’åˆ†æˆ$k$ä¸ªåŒºé—´ï¼Œæ¯ä¸ªåŒºé—´å°±æ˜¯ä¸€ä¸ªæ¡¶ã€‚å°†åºåˆ—ä¸­çš„å…ƒç´ åˆ†é…åˆ°å„è‡ªçš„æ¡¶ã€‚
  å¯¹æ¯ä¸ªæ¡¶å†…çš„å…ƒç´ è¿›è¡Œæ’åºã€‚å¯ä»¥é€‰æ‹©ä»»æ„ä¸€ç§æ’åºç®—æ³•ã€‚
  å°†å„ä¸ªæ¡¶ä¸­çš„å…ƒç´ åˆå¹¶æˆä¸€ä¸ªå¤§çš„æœ‰åºåºåˆ—ã€‚
  å¤æ‚åº¦åˆ†æï¼š
  å‡è®¾æ•°æ®æ˜¯å‡åŒ€åˆ†å¸ƒçš„ï¼Œåˆ™æ¯ä¸ªæ¡¶çš„å…ƒç´ å¹³å‡ä¸ªæ•°ä¸º$\frac{n}{k}$ã€‚
  å‡è®¾é€‰æ‹©ç”¨å¿«é€Ÿæ’åºå¯¹æ¯ä¸ªæ¡¶å†…çš„å…ƒç´ è¿›è¡Œæ’åºï¼Œé‚£ä¹ˆæ¯æ¬¡æ’åºçš„æ—¶é—´å¤æ‚åº¦ä¸º$O(\frac{n}{k}log(\frac{n}{k}))$ã€‚
  $O(n)&#43;O(m)O(\frac{n}{k}log(\frac{n}{k}))=O(n&#43;nlog(\frac{n}{k}))=O(n&#43;nlogn-nlogk)$ä¸ºæ€»çš„æ—¶é—´å¤æ‚åº¦ã€‚å½“$k$æ¥è¿‘äº $n$æ—¶ï¼Œæ¡¶æ’åºçš„æ—¶é—´å¤æ‚åº¦å°±å¯ä»¥è¿‘ä¼¼è®¤ä¸ºæ˜¯$O(n)$, æ­¤æ—¶è¿‘ä¼¼ä¸ºè®¡æ•°æ’åºã€‚å³æ¡¶è¶Šå¤šï¼Œæ—¶é—´æ•ˆç‡å°±è¶Šé«˜ï¼Œè€Œæ¡¶è¶Šå¤šï¼Œç©ºé—´å°±è¶Šå¤§ã€‚
   åŸºæ•°æ’åº å°†æ‰€æœ‰å¾…æ¯”è¾ƒæ•°å€¼ï¼ˆæ­£æ•´æ•°ï¼‰ç»Ÿä¸€ä¸ºåŒæ ·çš„æ•°ä½é•¿åº¦ï¼Œæ•°ä½è¾ƒçŸ­çš„æ•°å‰é¢è¡¥é›¶ã€‚ç„¶åï¼Œä»æœ€ä½ä½å¼€å§‹ï¼Œä¾æ¬¡è¿›è¡Œä¸€æ¬¡æ’åºã€‚è¿™æ ·ä»æœ€ä½ä½æ’åºä¸€ç›´åˆ°æœ€é«˜ä½æ’åºå®Œæˆä»¥å, æ•°åˆ—å°±å˜æˆä¸€ä¸ªæœ‰åºåºåˆ—ã€‚
åŸºæ•°æ’åºæ³•ä¼šä½¿ç”¨åˆ°æ¡¶ï¼Œå…ˆè¿›å…ˆå‡ºçš„é˜Ÿåˆ—ï¼Œé€šè¿‡å°†è¦æ¯”è¾ƒçš„ä½ï¼ˆä¸ªä½ã€åä½ã€ç™¾ä½â€¦ï¼‰ï¼Œå°†è¦æ’åºçš„å…ƒç´ åˆ†é…è‡³$0 \to 9$ ä¸ªæ¡¶ä¸­ï¼Œå€Ÿä»¥è¾¾åˆ°æ’åºçš„ä½œç”¨ï¼Œåœ¨æŸäº›æ—¶å€™ï¼ŒåŸºæ•°æ’åºæ³•çš„æ•ˆç‡é«˜äºå…¶å®ƒçš„æ¯”è¾ƒæ€§æ’åºç®—æ³•ã€‚
void radixSort(int *data, int length) { int max = getMax(data, length); //æ‰¾å‡ºå¾…æ’åºæ•°ç»„ä¸­æœ€å¤§çš„é‚£ä¸ªæ•°  int radix = 10; for (int exp = 1; exp &amp;lt;= max; exp *= 10) { bucketSort(data, length, exp, radix); } } void bucketSort(int *data, int length, int exp, int radix) { auto *count = new int[radix]{0}; auto *result = new int[length]; for (int i = 0; i &amp;lt; length; &#43;&#43;i) { count[(data[i] / exp) % radix]&#43;&#43;; //(data[i] / exp) è·å–å½“å‰ä½çš„æ•°å€¼  } for (int j = 1; j &amp;lt; radix; &#43;&#43;j) { count[j] &#43;= count[j - 1]; } for (int i = length - 1; i &amp;gt;= 0; --i) { result[--count[(data[i] / exp) % radix]] = data[i]; } for (int i = 0; i &amp;lt; length; &#43;&#43;i) { data[i] = result[i]; } delete[] result; delete[] count; }   æ˜¯ç¨³å®šçš„æ’åºæ–¹æ³•ã€‚
  æ—¶é—´å¤æ‚åº¦ï¼šè®¾æ•°ç»„é•¿åº¦ä¸º$n$,åŸºæ•°ä¸º$r$,å…³é”®å­—ä½æ•°ä¸º$d$,åˆ™æ¯è¶Ÿåˆ†é…çš„æ—¶é—´ä¸º$O(n)$ï¼Œæ¯è¶Ÿæ”¶é›†çš„æ—¶é—´å¤æ‚åº¦ä¸º$O(n)$ï¼Œå·¥åº$d$è¶Ÿåˆ†é…ä¸æ”¶é›†ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¸º$O(d(2n))$,å³$O(d \times n)$ã€‚
  ç©ºé—´å¤æ‚åº¦ä¸º$O(rn)$ã€‚
   å¤–æ’åºç®—æ³• æ‰€è°“å¤–æ’åºï¼Œé¡¾åæ€ä¹‰ï¼Œå³æ’åºæ¶‰åŠåˆ°å†…å­˜å¤–é¢çš„æ’åºã€‚å› ä¸ºå½“è¦å¤„ç†çš„æ•°æ®é‡å¾ˆå¤§ï¼Œè€Œä¸èƒ½ä¸€æ¬¡è£…å…¥å†…å­˜æ—¶ï¼Œæ­¤æ—¶åªèƒ½æ”¾åœ¨è¯»å†™è¾ƒæ…¢çš„å¤–å­˜å‚¨å™¨ï¼ˆé€šå¸¸æ˜¯ç¡¬ç›˜ï¼‰ä¸Šã€‚å¤–æ’åºé€šå¸¸é‡‡ç”¨çš„æ˜¯ä¸€ç§æ’åº-å½’å¹¶çš„ç­–ç•¥ã€‚  åœ¨æ’åºé˜¶æ®µï¼Œå…ˆè¯»å…¥èƒ½æ”¾åœ¨å†…å­˜ä¸­çš„æ•°æ®é‡ï¼Œå°†å…¶æ’åºè¾“å‡ºåˆ°ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ï¼Œä¾æ­¤è¿›è¡Œï¼Œå°†å¾…æ’åºæ•°æ®ç»„ç»‡ä¸ºå¤šä¸ªæœ‰åºçš„ä¸´æ—¶æ–‡ä»¶ï¼›
  åœ¨å½’å¹¶é˜¶æ®µå°†è¿™äº›ä¸´æ—¶æ–‡ä»¶ç»„åˆä¸ºä¸€ä¸ªå¤§çš„æœ‰åºæ–‡ä»¶ï¼Œå³æ’åºç»“æœã€‚
  ä¾‹å­1 å‡å®šç°åœ¨æœ‰20ä¸ªæ•°æ®çš„æ–‡ä»¶Aï¼š{5ï¼Œ11ï¼Œ 0ï¼Œ 18ï¼Œ 4ï¼Œ 14ï¼Œ 9ï¼Œ 7 6ï¼Œ 8ï¼Œ 12ï¼Œ 17 ï¼Œ16 ï¼Œ13 ï¼Œ19 ï¼Œ10ï¼Œ 2ï¼Œ 1ï¼Œ 3ï¼Œ 15}ï¼Œä½†å†…å­˜ä¸€æ¬¡åªèƒ½è£…4ä¸ªæ•°æ®ï¼Œæ‰€ä»¥ï¼Œå¯ä»¥æ¯è¶Ÿå…ˆé€‰æ‹©4ä¸ªæ•°æ®è¿›è¡Œæ’åºï¼Œç„¶åå°†æ’å¥½åºçš„5è·¯æ•°æ®è¿›è¡Œå½’å¹¶ï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š
  é¦–å…ˆæŠŠå¤§æ–‡ä»¶$A$ï¼ŒæŒ‰é¡ºåºåˆ†å‰²ä¸º$a_1ï¼Œa_2ï¼Œa_3ï¼Œa_4ï¼Œa_5$ç­‰5ä¸ªå°æ–‡ä»¶ï¼Œæ¯ä¸ªå°æ–‡ä»¶4ä¸ªæ•°æ®ã€‚
  $a_1$æ–‡ä»¶ä¸ºï¼š5,11, 0,18ã€‚
  $a_2$æ–‡ä»¶ä¸ºï¼š4,14,9,7ã€‚
  $a_3$æ–‡ä»¶ä¸ºï¼š6, 8, 12, 17ã€‚
  $a_4$æ–‡ä»¶ä¸ºï¼š16,13, 19,10ã€‚
  $a_5$æ–‡ä»¶ä¸ºï¼š2,1,3,15ç„¶åä¾æ¬¡å¯¹5ä¸ªå°æ–‡ä»¶åˆ†åˆ«è¿›è¡Œæ’åºã€‚
  $a_1$æ–‡ä»¶å®Œæˆæ’åºåï¼š0,5,11,18ã€‚
  $a_2$æ–‡ä»¶å®Œæˆæ’åºåï¼š4,7,9,14ã€‚
  $a_3$æ–‡ä»¶å®Œæˆæ’åºåï¼š6,8,12,17ã€‚
  $a_4$æ–‡ä»¶å®Œæˆæ’åºåï¼š10,13,16,19ã€‚
  $a_5$æ–‡ä»¶å®Œæˆæ’åºåï¼š1,2,3,15ã€‚
  æœ€åè¿›è¡Œ5è·¯å½’å¹¶ï¼Œå®Œæˆæ’åºï¼š0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19ã€‚
   ä¾‹å­2 è¦å¯¹900MBçš„æ•°æ®è¿›è¡Œæ’åºï¼Œä½†æœºå™¨ä¸Šåªæœ‰100MBçš„å¯ç”¨å†…å­˜æ—¶ï¼Œå¤–éƒ¨å½’å¹¶æ’åºæŒ‰å¦‚ä¸‹æ–¹æ³•æ“ä½œï¼š
  è¯»å…¥100MBçš„æ•°æ®è‡³å†…å­˜ä¸­ï¼Œç”¨æŸç§å¸¸è§„æ’åºï¼ˆå¦‚ï¼šå¿«é€Ÿæ’åºã€å †æ’åºã€å½’å¹¶æ’åºç­‰ï¼‰åœ¨å†…å­˜ä¸­å®Œæˆæ’åºã€‚
  å°†æ’åºå®Œæˆçš„æ•°æ®å†™å…¥ç£ç›˜ï¼ˆä¸´æ—¶æ–‡ä»¶ï¼‰ã€‚
  é‡å¤æ­¥éª¤1å’Œæ­¥éª¤2ç›´åˆ°æ‰€æœ‰çš„æ•°æ®éƒ½å­˜å…¥äº†ä¸åŒçš„100MBçš„å—ï¼ˆä¸´æ—¶æ–‡ä»¶ï¼‰ä¸­ã€‚æœ¬ä¾‹ä¸­ï¼Œ900MBæ•°æ®ï¼Œ100MBå†…å­˜ï¼Œæ•…äº§ç”Ÿäº†9ä¸ªä¸´æ—¶æ–‡ä»¶ã€‚
  è¯»å…¥æ¯ä¸ªä¸´æ—¶æ–‡ä»¶ï¼ˆé¡ºä¸²ï¼‰çš„å‰10MB($10=\frac{100}{9&#43;1}$)ï¼Œåœ¨è¿›è¡Œå¤šè·¯å½’å¹¶çš„æ—¶å€™ï¼Œè¿™é‡Œæœ‰9è·¯ï¼Œç„¶åè¾“å‡ºç¼“å†²ç®—ä¸€ä¸ªï¼Œæ‰€ä»¥è¦å°†å†…å­˜èµ„æºåˆ†ç»™10ä¸ªéƒ¨åˆ†)çš„æ•°æ®æ”¾å…¥å†…å­˜ä¸­çš„è¾“å…¥ç¼“å†²åŒºï¼ˆæ€»è®¡90MBï¼‰ï¼Œæœ€åçš„10MBä½œä¸ºè¾“å‡ºç¼“å†²åŒºã€‚ï¼ˆå®è·µä¸­ï¼Œå°†è¾“å…¥ç¼“å†²é€‚å½“è°ƒå°ï¼Œè€Œé€‚å½“å¢å¤§è¾“å‡ºç¼“å†²åŒºèƒ½è·å¾—æ¯”è¾ƒå¥½çš„æ•ˆæœï¼‰
  æ‰§è¡Œ9è·¯å½’å¹¶ç®—æ³•ï¼Œå°†ç»“æœè¾“å‡ºåˆ°è¾“å‡ºç¼“å†²åŒºã€‚ä¸€æ—¦è¾“å‡ºç¼“å†²åŒºæ»¡ï¼Œå°†ç¼“å†²åŒºä¸­çš„æ•°æ®å†™åˆ°ç›®æ ‡æ–‡ä»¶ï¼Œæ¸…ç©ºç¼“å†²åŒºã€‚ä¸€æ—¦9ä¸ªè¾“å…¥ç¼“å†²åŒºçš„ä¸€ä¸ªå˜ç©ºï¼Œå°±ä»è¿™ä¸ªç¼“å†²åŒºå…³è”çš„æ–‡ä»¶ä¸­è¯»å…¥ä¸‹ä¸€ä¸ª10MBæ•°æ®ï¼Œé™¤éè¿™ä¸ªæ–‡ä»¶å·²è¯»å®Œã€‚è¿™æ˜¯å¤–éƒ¨å½’å¹¶æ’åºèƒ½åœ¨ä¸»å­˜å¤–å®Œæˆæ’åºçš„å…³é”®æ­¥éª¤ã€‚å› ä¸ºå½’å¹¶ç®—æ³•å¯¹æ¯ä¸€ä¸ªå¤§å—åªæ˜¯é¡ºåºåœ°åšä¸€è½®è®¿é—®ï¼Œæ¯ä¸ªå¤§å—ä¸ç”¨å®Œå…¨è½½å…¥ä¸»å­˜ã€‚
   ç½®æ¢é€‰æ‹© ä¸ºäº†å¢åŠ æ¯ä¸€ä¸ªæœ‰åºçš„ä¸´æ—¶æ–‡ä»¶çš„é•¿åº¦ï¼Œå¯ä»¥é‡‡ç”¨ç½®æ¢é€‰æ‹©æ’åºâ€”â€”å®ƒå¯ä»¥äº§ç”Ÿå¤§äºå†…å­˜æœ‰åºåºåˆ—ã€‚å…·ä½“æ–¹æ³•æ˜¯åœ¨å†…å­˜ä¸­ä½¿ç”¨ä¸€ä¸ªæœ€å°å †è¿›è¡Œæ’åºï¼Œè®¾è¿™ä¸ªæœ€å°å †çš„å¤§å°ä¸ºMï¼Œç®—æ³•æè¿°å¦‚ä¸‹ï¼š
  åˆå§‹æ—¶å°†è¾“å…¥æ–‡ä»¶è¯»å…¥å†…å­˜ï¼Œå»ºç«‹æœ€å°å †ã€‚
  å°†å †é¡¶å…ƒç´ è¾“å‡ºè‡³è¾“å‡ºç¼“å†²åŒºï¼Œç„¶åè¯»å…¥ä¸‹ä¸€ä¸ªè®°å½•ã€‚
    2.1 è‹¥è¯¥å…ƒç´ çš„å…³é”®ç å€¼ä¸å°äºåˆšè¾“å‡ºçš„å…³é”®ç å€¼ï¼Œå°†å…¶ä½œä¸ºå †é¡¶å…ƒç´ å¹¶è°ƒæ•´å †ï¼Œä½¿ä¹‹æ»¡è¶³å †çš„æ€§è´¨ã€‚
  2.2 è‹¥è¯¥å…ƒç´ çš„å…³é”®ç å€¼å°äºåˆšè¾“å‡ºçš„å…³é”®ç å€¼ï¼Œå°†æ–°å…ƒç´ æ”¾å…¥å †åº•ä½ç½®ï¼Œå°†å †çš„å¤§å°å‡1ã€‚
   é‡å¤ç¬¬2æ­¥ï¼Œç›´è‡³å †å¤§å°å˜ä¸º0ã€‚
  æ­¤æ—¶ä¸€ä¸ªæœ‰åºåºåˆ—å·²ç»äº§ç”Ÿï¼Œæ­¤æ—¶å°†è¾“å…¥ç¼“å†²åŒºä¸­å‰©ä¸‹çš„æ‰€æœ‰å…ƒç´ å»ºç«‹æœ€å°å †ï¼Œå¼€å§‹ç”Ÿæˆä¸‹ä¸€ä¸ªæœ‰åºåºåˆ—ã€‚
   </content>
    </entry>
    
     <entry>
        <title>æµæ°´çº¿è‡ªåŠ¨å‘å¸ƒç»„ä»¶</title>
        <url>https://iihui.github.io/post/ios-release/</url>
        <categories>
          <category>iOS</category>
        </categories>
        <tags>
          <tag>iOS</tag>
        </tags>
        <content type="html"> </content>
    </entry>
    
</search>